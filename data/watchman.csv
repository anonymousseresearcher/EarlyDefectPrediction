parent_hashes,commit_hash,author_name,author_email,author_date,author_date_unix_timestamp,commit_message,la,ld,fileschanged,nf,ns,nd,entropy,ndev,lt,nuc,age,exp,rexp,sexp,classification,fix,contains_bug,fixes
,77c0f51a1bf6f10162452304bf9a51718d4dda4a,Wez Furlong,wez@fb.com,Thu Nov 29 17:18:27 2012 -0800,1354238307,"initial commitSummary:nSee discussion on D642771.nThis is the diff to get it situated in the github repo.nnTest Plan:nto build:nn ./autogen.shn ./configuren makennCC: fugalh, agallagher, scottg, shilinnnDifferential Revision: https://phabricator.fb.com/D643850nnReviewed By: keegancsmithn",3326.0,0.0,".arconfig,CAS_DELIMITER,.gitignore,CAS_DELIMITER,LICENSE,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,argv.c,CAS_DELIMITER,autogen.sh,CAS_DELIMITER,configure.ac,CAS_DELIMITER,hash.c,CAS_DELIMITER,ht.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER",16.0,1.0,1.0,3.3573605141377896,1.0,0.0,0.0,0.0,7.5,0.0,15.0,Feature Addition,False,,
77c0f51a1bf6f10162452304bf9a51718d4dda4a,3581f7a061741b71ba8ccb58d487594c0c0d09d9,Wez Furlong,wez@fb.com,Fri Nov 30 01:56:14 2012 -0800,1354269374,"[watchman] add configuration for arc lintSummary: this makes arc lint do something usefulnnTest Plan: ##arc lint##nnReviewers: nharper, jakubv, keegancsmith, zoelnnReviewed By: nharpernnDifferential Revision: https://phabricator.fb.com/D644270n",97.0,4.0,".arcconfig,CAS_DELIMITER,.arconfig,CAS_DELIMITER,.gitignore,CAS_DELIMITER,arcanist/__phutil_library_init__.php,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanLintEngine.php,CAS_DELIMITER",6.0,2.0,3.0,1.5640147741717232,1.0,3.0,2.0,0.11985725308641974,18.5,2.2238763532580115,2.0,Feature Addition,False,,
3581f7a061741b71ba8ccb58d487594c0c0d09d9,3ef01875f3cc837d8ce74d6e136b0978d4cd3a3d,Wez Furlong,wez@fb.com,Fri Nov 30 10:50:47 2012 -0800,1354301447,"[watchman] add preliminary support for kqueue (OS/X and BSDish systems)Summary:ntaking a stab at making this more portable.nAlso noticed that the .arcconfig wasn't set up properly.nnTest Plan: manual testing still at this stage.nnReviewers: keegancsmith, zoelnnReviewed By: keegancsmithnnCC: fugalhnnDifferential Revision: https://phabricator.fb.com/D644249n",293.0,23.0,".gitignore,CAS_DELIMITER,autogen.sh,CAS_DELIMITER,configure.ac,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER",6.0,1.0,1.0,0.8596455720221159,1.0,200.5,7.0,0.6708584104938272,24.5,1.848162823232144,24.0,Feature Addition,False,True,"[""1f425fc8258c95c95f6e14510d6061097df2f80c"", ""11c96605abc76816a4c7f57513a5b5409b477071"", ""1100a701072fa952275c8e7d44964f815b83c8ce"", ""dc4021aac4f0de662aa80d6a71f2fed70e4f0ab6"", ""3f1e98c4206a6beee86db60d7eac89170e062c44"", ""a7f5ec21f6e090681b7d8eeb22b1be363b1ec77a"", ""d9e7f5e740a7a7972bc8edf04420788f118b9e3e"", ""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""ff8844262b981564912be340eaba7a7170c92201"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""ac15e17c89c22759d223a91d6bd95d96fcf59310"", ""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
3ef01875f3cc837d8ce74d6e136b0978d4cd3a3d,b1a1c1825a4d6c6d808b42810dad3c5b48d2021b,Wez Furlong,wez@fb.com,Fri Nov 30 15:01:08 2012 -0800,1354316468,"[watchman] add arc unit configSummary:nmakes ##arc unit## do something for watchman.nnPull in a tiny unit testing library for C code and use it to implementnsome very simple unit tests that output TAP (Test Anything Protocol).nnYou can run the tests serially with verbose output using ##make check##nnAdd an arcanist unit testing engine that knows how to find the tests andnexecute them in parallel and parse the results.  The output from ##arc unit##nis more concise.nnAlso: fixup the license lint rule to include PHP files in its checks.nnTest Plan: ##arc unit## and ##make check##nnReviewers: nharper, jakubv, keegancsmith, zoelnnReviewed By: keegancsmithnnCC: fugalh, scottgnnDifferential Revision: https://phabricator.fb.com/D644302n",660.0,3.0,".arcconfig,CAS_DELIMITER,.gitignore,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanLintEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,tests/argv.c,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER,thirdparty/tap.h,CAS_DELIMITER",10.0,4.0,5.0,1.7320431523687705,1.0,15.6,9.0,0.2887557870370371,32.5,1.6424899046755528,1.0,Feature Addition,False,True,"[""1f425fc8258c95c95f6e14510d6061097df2f80c"", ""69b79257446ae0afe49928337b857acee306982a"", ""93af7efa47601b0cbde68182e8884e9a11e032e3""]"
b1a1c1825a4d6c6d808b42810dad3c5b48d2021b,b4b76fd7826267e9b6536db5ad9a617519b6a358,Wez Furlong,wez@fb.com,Sun Dec 2 11:46:10 2012 -0800,1354477570,"[watchman] track unit test timing informationSummary: since arc unit reports the timing, we should populate itnnTest Plan:nadd a usleep() into tests/argv.c and observe thatnarc unit reflects the test duration.nnReviewers: jakubv, nharper, keegancsmith, zoelnnDifferential Revision: https://phabricator.fb.com/D645359n",21.0,0.0,"arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER",2.0,2.0,2.0,0.7024665512903903,1.0,248.5,2.0,1.8646064814814816,38.5,1.402229643331554,2.0,Preventative,False,True,"[""1f425fc8258c95c95f6e14510d6061097df2f80c""]"
b4b76fd7826267e9b6536db5ad9a617519b6a358,56053e567b8b4d21c2712e15454688f1bd308293,Wez Furlong,wez@fb.com,Sun Dec 2 11:55:08 2012 -0800,1354478108,"[watchman] redirect the output of the server processSummary:nrather than have it spew over your terminal, stick itnin a log file alongside the control socket.nnTest Plan:n```n./watchman watch /path/to/dirn./watchman trigger /path/to/dir -- ls -alntouch /path/to/dir/filenamen```nobserve that the ls output shows up in /tmp/.watchman.$USER.lognnReviewers: jakubv, keegancsmith, zoelnnDifferential Revision: https://phabricator.fb.com/D645405n",20.0,2.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,203.0,1.0,2.775474537037037,40.0,1.3602987477116442,29.0,None,False,,
56053e567b8b4d21c2712e15454688f1bd308293,3bc515a3a547e12645b0de598d4462be4e61fb9a,Wez Furlong,wez@fb.com,Sun Dec 2 11:57:12 2012 -0800,1354478232,"[watchman] add integration test machinerySummary:nin order to validate the server functionality, we neednto be able to define integration tests that run the server andnmake it do things.  This diff defines an integration test enginenthat uses the arcanist test infrastructure for this purpose,nand adds an example integration test case.nnThese are not included as part of arc unit because they takenlonger to run (especially since we have a minimum 1second delaynin the client at the moment due to the poor EOF detection codenthere).nnTest Plan: `make integration` or `arc unit --engine WatchmanIntegrationEngine`nnReviewers: jakubv, nharper, keegancsmith, zoelnnDifferential Revision: https://phabricator.fb.com/D645447n",262.0,16.0,"Makefile.am,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",8.0,3.0,4.0,2.5647845793984634,1.0,84.5,7.0,0.816138599537037,44.5,1.271827479140769,1.0,Feature Addition,False,True,"[""1f425fc8258c95c95f6e14510d6061097df2f80c""]"
3bc515a3a547e12645b0de598d4462be4e61fb9a,2be9fca534577d7f3a52b9efba03dce242f37200,Wez Furlong,wez@fb.com,Sun Dec 2 12:02:19 2012 -0800,1354478539,"[watchman] jsonify protocolSummary:nfix the protocol handling by adopting json for both the requests andnthe response.nnThis also allows us to remove the dependency on libevent (which is honestly anbit of a cluster... to handle portably), so now all our dependencies are eithernin the base system or are included in our source code.nnThis depends on D645447 for the integration test pieces.nnWe always return a JSON object response that includes our version number.nErrors will always have an error object field that holds the text of thenerror.  The rest of the commands are still transitional when it comes to theirnresponse format, but I'll be updating the README as I review/revise each ofnthose.nnI've pulled in version 2.4 of the Jansson JSON library, which is compatibly MITnlicensed.  Doc on it can be found here: http://www.digip.org/jansson/doc/2.4/nnTest Plan: `make integration`nnReviewers: jakubv, keegancsmith, zoelnnCC: pieter, fugalh, security-diffs@listsnnDifferential Revision: https://phabricator.fb.com/D645534n",4939.0,178.0,".gitignore,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,thirdparty/jansson/dump.c,CAS_DELIMITER,thirdparty/jansson/error.c,CAS_DELIMITER,thirdparty/jansson/hashtable.c,CAS_DELIMITER,thirdparty/jansson/hashtable.h,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_config.h.in,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/load.c,CAS_DELIMITER,thirdparty/jansson/memory.c,CAS_DELIMITER,thirdparty/jansson/pack_unpack.c,CAS_DELIMITER,thirdparty/jansson/strbuffer.c,CAS_DELIMITER,thirdparty/jansson/strbuffer.h,CAS_DELIMITER,thirdparty/jansson/strconv.c,CAS_DELIMITER,thirdparty/jansson/utf.c,CAS_DELIMITER,thirdparty/jansson/utf.h,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",25.0,4.0,4.0,3.59555855008118,1.0,53.52,19.0,0.23296296296296296,61.0,1.3039451203906895,37.0,None,False,True,"[""1f425fc8258c95c95f6e14510d6061097df2f80c"", ""5dad22fd6b93a30ae199e234c1f039c995e379ce"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""db6cbcdb75d5953d1ab290c9ca2e2db50420d9a6"", ""e37ae3e7fccd04c9e6175949da18f3116ffe2315"", ""c3fcd80f94edfce439f5c55235e471954684a3b5"", ""28a70a81e70ea5919938958ce48112eafe24154c""]"
2be9fca534577d7f3a52b9efba03dce242f37200,06afdd24141befe1c2ad90a1e19ae12bbce3d36c,Wez Furlong,wez@fb.com,Sun Dec 2 12:25:28 2012 -0800,1354479928,"[watchman] adopt json arguments for watchman commandsSummary:nbuild on D645534 and use the structured data we parsenfrom the json requests directly in the argument handling ofnthe watchman command dispatcher.nnThis allows us to remove some code for argv manipulationnbut also paves the way for using a more structured representationnfor some of the command parameters.nnTest Plan: `make integration`nnReviewers: jakubv, keegancsmith, zoel, weznnReviewed By: weznnCC: pieter, scottgnnDifferential Revision: https://phabricator.fb.com/D645596n",160.0,185.0,"Makefile.am,CAS_DELIMITER,argv.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,tests/argv.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.4646782789810782,1.0,235.4,12.0,0.9473333333333336,76.0,13.667008359066305,41.0,None,False,True,"[""1f425fc8258c95c95f6e14510d6061097df2f80c"", ""5dad22fd6b93a30ae199e234c1f039c995e379ce"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""48e018df8cf1088337ced07b94b57a762a985160""]"
06afdd24141befe1c2ad90a1e19ae12bbce3d36c,1f425fc8258c95c95f6e14510d6061097df2f80c,Wez Furlong,wez@fb.com,Sun Dec 2 12:35:51 2012 -0800,1354480551,"[watchman] use -Werror, fix all warningsSummary:ndepends on D645597.  Enable more pedantic warnings,nand because I've seen this bite OSS projects in the ass whennsomeone uses a different gcc version, add a configure argumentn--enable-lenient to relax the warnings.nnRefactor the tap library build and make it an actual librarynin anticipation of adding more tests; will save us from rebuildingnthe object file multiple times.nnTest Plan: `make integration`nnReviewers: jakubv, keegancsmith, zoelnnReviewed By: keegancsmithnnCC: fugalh, scottgnnDifferential Revision: https://phabricator.fb.com/D645610n",35.0,27.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,hash.c,CAS_DELIMITER,ht.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/argv.c,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",10.0,3.0,3.0,2.9954996904906586,1.0,338.7,26.0,1.0570844907407406,83.5,18.268934141135983,49.0,Corrective,True,,
1f425fc8258c95c95f6e14510d6061097df2f80c,15c08710d016db356139adafb87e82fec50d3d73,Wez Furlong,wez@fb.com,Sun Dec 2 12:47:29 2012 -0800,1354481249,"[watchman] allow using improved clockspec and handles for 'since'Summary:nSee text added to README.markdown for more details,nallows querying for relative changes using a less-prone-to-racesnclock specifier and an even more convenient named cursor implementednin terms of clock specifier.nnDepends on D645610 and all its dependents.nnTest Plan:nI should write an integration test, but manually:nn```nwatchman watch ~/watchmannwatchman since ~/watchman n:woot '*.c'n```nnshould produce a list of all the C sources.  Then:nn```nwatchman since ~/watchman n:woot '*.c'n```nnshould not show any C sources.  Then:nn```ntouch hash.cnwatchman since ~/watchman n:woot '*.c'n```nnshould show just hash.cnnExample output that shows the clock data that we return too:nn```n{nversion: 1.0,nclock: c:32075:5,nfiles: [n{nname: hash.c,nexists: truen}n]n}n```nnReviewers: jakubv, pieter, keegancsmith, zoel, weznnReviewed By: weznnCC: dschleimer, fugalh, security-diffs@lists, scottgnnDifferential Revision: https://phabricator.fb.com/D645665n",196.0,35.0,".arcconfig,CAS_DELIMITER,.gitignore,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",10.0,3.0,3.0,2.108057688847269,1.0,227.1,28.0,0.4903634259259258,93.5,1.2693408027643278,55.0,None,False,True,"[""11c96605abc76816a4c7f57513a5b5409b477071"", ""ca6f8e4172947fd752c5d261d3d21800ae168e28"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""93b3506ac657604f5fa059bda7e8b31e4b370a27"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
15c08710d016db356139adafb87e82fec50d3d73,e3e02c3a6a505377ea30fbdd106766a4d957e2ae,Wez Furlong,wez@fb.com,Sun Dec 2 13:39:50 2012 -0800,1354484390,"[watchman] kqueue: set CLOEXEC for kqueue descriptorsSummary:nmake sure we mark our event descriptors as CLOEXECnso that we don't leak them to child processes that we spawn.nnTest Plan: arc unitnnReviewers: keegancsmith, zoelnnReviewed By: keegancsmithnnDifferential Revision: https://phabricator.fb.com/D645419n",14.0,2.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",3.0,3.0,3.0,1.2987949406953985,1.0,365.0,10.0,0.03635416666666667,100.0,17.809933142311362,6.0,None,False,True,"[""11c96605abc76816a4c7f57513a5b5409b477071"", ""88833e1807af13ccb1ec4e1512267a5878f2e03a""]"
e3e02c3a6a505377ea30fbdd106766a4d957e2ae,554227d3b3bf6685d9f4f1f8e87ef4cd51a1e7cf,Wez Furlong,wez@fb.com,Mon Dec 3 10:09:51 2012 -0800,1354558191,"[watchman] add command line options for socket and log file namesSummary:nit simplifies the test harness bits if we make thesena bit more deliberately set.  I also want to add an option fornstarting just the daemon portion without it going into thenbackground.nnTest Plan: `arc unit` and manually try invoking with bad arguments.nnReviewers: keegancsmith, jakubv, zoel, pieternnReviewed By: keegancsmithnnCC: fugalhnnDifferential Revision: https://phabricator.fb.com/D645778n",305.0,27.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",6.0,2.0,2.0,1.5939750629540033,1.0,123.5,24.0,0.7439718364197532,104.5,1.4740394283659464,61.0,Feature Addition,False,True,"[""73255a8c2d177c3102dd8c380e33148a655ad1b3"", ""52cfdd5693772cac12c7c2826250c9524ea0a918"", ""93cfb242f9b80ff55aadee6ee680f030a2329405"", ""e17048b834e56e47ed08329318a5d5917426faa5"", ""2382de47ee73bc46714c77909709a0a38f1c077a""]"
554227d3b3bf6685d9f4f1f8e87ef4cd51a1e7cf,11c96605abc76816a4c7f57513a5b5409b477071,Wez Furlong,wez@fb.com,Mon Dec 3 13:33:41 2012 -0800,1354570421,"[watchman] fixup kqueue handling to resolve racy testSummary:nWe had an intermittent test failure on OSX.nIn digging into this I discovered that we were not properlynsetting CLOEXEC and this put our listener fd into non-blockingnmode, making it sit on a CPU (whoops!).nnResolved racy behavior by batching kqueue events together andnby allowing a bit more time in the test case.nnWas also able to bring things down to a single kqueue instancenper root by using a bit trick to distinguish between dirs andnfiles.nnTest Plan:n`arc unit` several times, results should be passingnconsistently and within the green performance range.nnReviewers: keegancsmith, zoel, jakubvnnReviewed By: keegancsmithnnDifferential Revision: https://phabricator.fb.com/D645834n",87.0,71.0,"root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,0.3587959760045377,1.0,451.66666666666674,16.0,0.7110030864197531,109.0,1.6584183152928051,63.0,Corrective,True,True,"[""1100a701072fa952275c8e7d44964f815b83c8ce"", ""d9e7f5e740a7a7972bc8edf04420788f118b9e3e"", ""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
11c96605abc76816a4c7f57513a5b5409b477071,94dc8325736285171f0e3856e779473efd888349,Wez Furlong,wez@fb.com,Tue Dec 4 20:59:32 2012 -0800,1354683572,"[watchman] add unilateral server sending capabilitySummary:nI'll use this in integration tests to match stuff against loggedninformation (this avoids sync/flush issues with reading log files),nbut this also paves the way for the planned hybrid trigger/sincencapability.nnTest Plan: `arc unit`nnReviewers: keegancsmithnnReviewed By: keegancsmithnnDifferential Revision: https://phabricator.fb.com/D648246n",501.0,113.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,ht.c,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",12.0,2.0,2.0,2.5450146624082546,1.0,283.4166666666667,43.0,1.4839062500000002,116.5,1.1701822343074728,73.0,Feature Addition,False,True,"[""73255a8c2d177c3102dd8c380e33148a655ad1b3"", ""52cfdd5693772cac12c7c2826250c9524ea0a918"", ""5dad22fd6b93a30ae199e234c1f039c995e379ce"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""04f0251b6d088bbae1cf4215b97ea7e7a751fb7a"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""417bb51ee1289249767ba82e123b395bf4244c9f"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""c947b27c0df6cd55edc27023579de29972ccbef1"", ""1f223e362a470f146f9f360695377bd9d8ecc39e"", ""cc868a69e1f596b2b67916e6c19f893fdd63dfdb""]"
94dc8325736285171f0e3856e779473efd888349,f1fbbea22a89766e0fd781b81aa3cb199dc5e812,Wez Furlong,wez@fb.com,Wed Dec 5 10:35:56 2012 -0800,1354732556,"[watchman] add integration test for the trigger commandSummary:nadd a test for the trigger command, which is usednto spawn a process and invoke it when files that match a patternnare observed to change.nnThis builds on the debug connection from the prior diff tonget its stuff done, and introduces a couple of nice helpersnfunctions that reduce flaky results without too many arbitrarynpauses.nnTest Plan:n`arc unit`.nNote that there is a race in basic.php that can trigger ifnwe get multiple notifies about the file that we touch; thesencan cause the cursor to return an additional file at the pointnwhere we expect it to usually return none.nnReviewers: keegancsmith, dsereni, zoel, pieternnReviewed By: zoelnnDifferential Revision: https://phabricator.fb.com/D648760n",236.0,68.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,tests/integration/trig.sh,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",8.0,3.0,3.0,2.295854163598944,1.0,268.625,29.0,0.8816232638888888,126.5,1.3918014111907475,10.0,Feature Addition,False,True,"[""73255a8c2d177c3102dd8c380e33148a655ad1b3"", ""436b0a55142fe8a8d1daf35eccc95e5ed2bdc738"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""a12f73271d2b0fd82eddafae97d4119a53a5015a""]"
f1fbbea22a89766e0fd781b81aa3cb199dc5e812,91a92d79a46b74c33a8b3d0f04e74d283709ca1a,Wez Furlong,wez@fb.com,Wed Dec 5 11:05:53 2012 -0800,1354734353,update the readme,30.0,9.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,131.0,2.0,2.9294444444444445,131.0,1.3413616537075668,77.0,None,False,,
91a92d79a46b74c33a8b3d0f04e74d283709ca1a,1c7eaae870846612a54cfcd525f809f2a8671734,Wez Furlong,wez@fb.com,Wed Dec 5 23:49:18 2012 -0800,1354780158,"Add arc package workflow to generate an rpmWhile doing this, I discovered that we didn't have large enoughnbuffer sizes for realpath(); rpmbuild turns on stack protectionnand when this is enabled `arc unit` didn't work.nnAddress this by adding a safe way to call realpath().n",215.0,13.0,".gitignore,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/workflow/package.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",10.0,2.0,4.0,1.9983348292710856,1.0,277.7,54.0,1.396275462962963,136.5,1.1213008923624923,84.0,Feature Addition,False,True,"[""52cfdd5693772cac12c7c2826250c9524ea0a918"", ""93cfb242f9b80ff55aadee6ee680f030a2329405"", ""d93a2062af881aef5b398257f4145a2ea0376488"", ""cc5fd53e4fc018f6e2a08e5fc10412ed784b7bf9""]"
1c7eaae870846612a54cfcd525f809f2a8671734,d4d39cb130022eeca20dadcecc61e6bd4c6d7c17,Wez Furlong,wez@fb.com,Thu Dec 6 14:01:14 2012 -0800,1354831274,avoid leaving defunct zombie children hanging,14.0,0.0,"listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.3712323266408756,1.0,654.5,19.0,0.5916203703703704,142.5,2.267704828233821,86.0,None,False,,
d4d39cb130022eeca20dadcecc61e6bd4c6d7c17,4ff930f9c6753d5a740d22c4f586be27ec22caf0,Wez Furlong,wez@fb.com,Thu Dec 6 14:13:34 2012 -0800,1354832014,update readme,12.0,2.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,152.0,3.0,1.130335648148148,144.0,1.8846929685340104,87.0,None,False,,
4ff930f9c6753d5a740d22c4f586be27ec22caf0,a6c76a2495a2fe672e07ff665143a8930ecd4672,Wez Furlong,wez@fb.com,Fri Dec 7 08:44:05 2012 -0800,1354898645,"Add concept of a settle delayThe settle delay is used in two places:nn * We'll delay triggers by the settle delay time, measured fromn   the last observed file change time.n * We'll force clients that are reading changes via a namedn   cursor to wait for the settle delay time to pass beforen   returning their results.nnIf file changes are detected while waiting for the settle delaynto pass, we'll reset and wait for the settle delay time after thisnlatest change.nnThis may mean that we never trigger or satisfy the change conditionnif the location is always being updated... we'll have to see if thatnposes a problem in practice.nnThese changes appear to have smoothed out the race in the testCursornunit test.nnYou may set the settle time via the --settle option.  It is specifiednin milliseconds.  One does not simply sleep for less than 1 ms:nhttp://wezfurlong.org/blog/2011/may/short-sleeps-on-solaris/n",203.0,38.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",6.0,2.0,2.0,1.7342230329759576,1.0,490.33333333333326,46.0,1.3604861111111113,147.5,1.3170403195631042,92.0,Feature Addition,False,True,"[""dc4021aac4f0de662aa80d6a71f2fed70e4f0ab6"", ""ca6f8e4172947fd752c5d261d3d21800ae168e28"", ""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""d55ef2f2f7c50040a4d5e239d1d214cacbd90f27"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""e17048b834e56e47ed08329318a5d5917426faa5""]"
a6c76a2495a2fe672e07ff665143a8930ecd4672,1100a701072fa952275c8e7d44964f815b83c8ce,Wez Furlong,wez@fb.com,Fri Dec 7 08:51:24 2012 -0800,1354899084,fixup kqueue build for settle time changes,3.0,3.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1074.0,10.0,0.0050810185185185186,151.0,197.81093394077442,93.0,Corrective,True,True,"[""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
1100a701072fa952275c8e7d44964f815b83c8ce,56e039a00556899acdf52a40e1abb59e2f819458,Wez Furlong,wez@fb.com,Fri Dec 7 16:53:35 2012 -0800,1354928015,valgrind integration for testsRunning `WATCHMAN_VALGRIND=1 arc unit` will run watchman under valgrindnand generate test results for memory and descriptor leaks.n,212.0,34.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",4.0,2.0,2.0,0.8384230720912389,1.0,354.25,30.0,0.9622482638888892,153.5,1.9505264388165031,95.0,Preventative,False,True,"[""73255a8c2d177c3102dd8c380e33148a655ad1b3""]"
56e039a00556899acdf52a40e1abb59e2f819458,c6c357107ac464ae8f308a763fd8492b4fc1bd8d,Wez Furlong,wez@fb.com,Sat Dec 8 15:04:20 2012 -0800,1355007860,"Buffer json writes, collect valgrind memory errors",128.0,51.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,2.0488264134873067,1.0,415.4,43.0,1.5579583333333331,158.0,1.35120415924521,99.0,None,False,,
c6c357107ac464ae8f308a763fd8492b4fc1bd8d,2acc36111b149f859ec8a3b48a780177b919b304,Wez Furlong,wez@fb.com,Sun Dec 9 12:32:22 2012 -0800,1355085142,clean up unused parameter annotation,10.0,7.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.402081402756032,1.0,817.6666666666665,37.0,1.314128086419753,162.0,1.5665766862907606,102.0,Perfective,False,,
2acc36111b149f859ec8a3b48a780177b919b304,73255a8c2d177c3102dd8c380e33148a655ad1b3,Wez Furlong,wez@fb.com,Tue Dec 11 23:32:03 2012 -0800,1355297523,"adjust how we collect match resultsThis avoids a massive rehash workload in the case where we run find onnour www repo (many, many files).nnFix build on ubuntu 12.04 LTS.nnFix leak with sliced strings.n",94.0,50.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",8.0,3.0,3.0,2.2450250200392508,1.0,442.625,73.0,4.282919560185185,167.5,1.0874129443146356,107.0,Corrective,True,True,"[""ca6f8e4172947fd752c5d261d3d21800ae168e28"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""5aea055f642863fb7e093f26309a83f558a67438""]"
73255a8c2d177c3102dd8c380e33148a655ad1b3,9a3edf11971324f7323a495b795521629a2353a4,Wez Furlong,wez@fb.com,Tue Dec 11 23:54:45 2012 -0800,1355298885,remove string interning codeThis just made things slower (lots of hash table overhead)n,0.0,129.0,"root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.18070577975666907,1.0,607.3333333333334,32.0,0.01576388888888889,173.0,39.766519823788535,110.0,None,False,,
9a3edf11971324f7323a495b795521629a2353a4,dc4021aac4f0de662aa80d6a71f2fed70e4f0ab6,Wez Furlong,wez@fb.com,Wed Dec 12 14:36:59 2012 -0800,1355351819,Add integration test for renaming dirs and filesThis caught a bug with tracking the files correctly.n,132.0,18.0,"root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",2.0,2.0,2.0,0.9895875212220556,1.0,580.0,21.0,0.6205439814814815,175.5,2.218982958834141,12.0,Corrective,True,True,"[""a7f5ec21f6e090681b7d8eeb22b1be363b1ec77a"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed""]"
dc4021aac4f0de662aa80d6a71f2fed70e4f0ab6,7ba3e5b586dc8f954e28a174fc2bbac659092e57,Wez Furlong,wez@fb.com,Fri Dec 14 13:11:58 2012 -0800,1355519518,"add test for renames, and deletes + recreatesFound that I wasn't consuming inotify events properly, leading tonflaky test results.nnBelt-and-suspenders this a bit more in the test harness.  Thisnmakes the trigger test case apparently more flaky, as we observenmore inotify events now.  Might have to make the settle timenvariable on a per watch basis to event this out.n",189.0,170.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",4.0,3.0,3.0,1.6959863231079093,1.0,363.5,29.0,3.8899160879629626,178.5,1.207546610681088,14.0,Feature Addition,False,True,"[""a0dc9bc45ba07db4e275aa4c67814e66f66ed86e"", ""a7f5ec21f6e090681b7d8eeb22b1be363b1ec77a"", ""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""735391ef01ee86c6c22b9605306eee6af4796e6d"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""a3924e56684310d32cd11fc98f14965f7c720cc8"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""f26c51de940c3457ce072cf571a947098976093c"", ""a12f73271d2b0fd82eddafae97d4119a53a5015a""]"
7ba3e5b586dc8f954e28a174fc2bbac659092e57,f7fb701c24ab47909b2bf7ccdae078fedf6d98fc,Wez Furlong,wez@fb.com,Fri Dec 14 13:38:05 2012 -0800,1355521085,only hiphop allows $this as a lexical variable.,14.0,14.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,206.0,6.0,0.018136574074074083,181.0,56.1372048500319,33.0,None,False,,
f7fb701c24ab47909b2bf7ccdae078fedf6d98fc,ffc1ea72a59dfb526acd280679471e816d4bdf90,Wez Furlong,wez@fb.com,Tue Dec 18 14:21:33 2012 -0800,1355869293,suppress valgrind warnings when running on valgrind,57.0,39.0,"configure.ac,CAS_DELIMITER,hash.c,CAS_DELIMITER",2.0,1.0,1.0,0.14609425012013633,1.0,147.5,9.0,14.339565972222221,182.5,1.057098783825773,114.0,None,False,,
ffc1ea72a59dfb526acd280679471e816d4bdf90,b0778c8f63f3c5dbb9a2d49db6f5b94c8e7e2d5e,Wez Furlong,wez@fb.com,Tue Dec 18 14:22:56 2012 -0800,1355869376,"Limit trigger process concurrency to 1Move the child-waiting into a dedicated thread so that:nn * We are not limited to async-signal-safe functions in the handlern * Do not have to attempt to lock a root from the wrong context ifn   we get EINTR'dnnThis makes it much simpler; when a process is done, we want tonre-evaluate whether any files have changed since it ran, if so,nthen we check the set of matches and see if we should spawn itnagain.nnThis change means that we don't fork bomb ourselves in the facenof a large number of file updates, while ensuring that we donactually spawn the process and don't miss updates.n",103.0,14.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.2300961434783115,1.0,840.3333333333335,47.0,5.756952160493827,185.0,1.100909165816038,117.0,None,False,True,"[""24f6182b9148e8e44b7a317998eebf5b89260275"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""017cabb2efa0c8b3877cedb83910f0bcf013f594""]"
b0778c8f63f3c5dbb9a2d49db6f5b94c8e7e2d5e,98c2f11cafa212f67e2d54596c3b7fb5e68bf6c2,Wez Furlong,wez@fb.com,Tue Dec 18 14:28:20 2012 -0800,1355869700,some compilers are more pedantic than others.return 0 so that the compiler doesn't moan.n,1.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,962.0,16.0,0.00375,187.0,267.6666666666667,118.0,None,False,,
98c2f11cafa212f67e2d54596c3b7fb5e68bf6c2,9ee4ad8015bab480bb3083ff3452ee4d593002ab,Wez Furlong,wez@fb.com,Fri Dec 21 09:56:55 2012 -0800,1356112615,"triggers: limit arg size and provide json inputRespect the system ARG_MAX limit for command line length when wengenerate an invocation to a trigger command.nnAlso provide the file list as a JSON array on its stdin.nnThis means that consuming stdin will be the most reliable and completeninformation available, as we will stop adding args to the argv if wenwould go over the limit on argument length.nnWe can't *simply* split our command invocations across two or morenspawns because we can't retain our matched file list in any sanenway across those invocations; files may be changing at any moment,nor even be changed by the process we're spawning.n",156.0,33.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/trigjson,CAS_DELIMITER,watchman.h,CAS_DELIMITER",6.0,2.0,2.0,1.9805342084176776,1.0,490.0,63.0,4.1234220679012346,190.5,1.1058965512773866,122.0,None,False,True,"[""52cfdd5693772cac12c7c2826250c9524ea0a918"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""a12f73271d2b0fd82eddafae97d4119a53a5015a""]"
9ee4ad8015bab480bb3083ff3452ee4d593002ab,7ad37ddc1e98cff52d2bcb4e9a7474a8e9a19e85,Wez Furlong,wez@fb.com,Sat Dec 22 00:08:29 2012 -0800,1356163709,name triggersAdjust the trigger command so that you can now name triggers.nThis allows triggers to be replaced by name.nnAdd a command to show the list of triggers for a given root.n,177.0,13.0,"README.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.8621193961975893,1.0,588.0,61.0,3.555719907407408,196.0,1.060409644078962,126.0,Feature Addition,False,True,"[""5dad22fd6b93a30ae199e234c1f039c995e379ce"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""a12f73271d2b0fd82eddafae97d4119a53a5015a"", ""b30fcb387455c0d6f311dfbd17c9234d3a5db0e1""]"
7ad37ddc1e98cff52d2bcb4e9a7474a8e9a19e85,f4bbf1261d47f9ca7bcc9b6bf36829a6bf4801b4,Wez Furlong,wez@fb.com,Sat Dec 22 13:56:36 2012 -0800,1356213396,save watches and triggers across process restartsWe serialize the watches and triggers as they are amended.nWe load them while initializing the listener.nnThis will allow us to monitor watchman with gimli (future feature!)nand have gimli restart any extant watchman when we deploy a watchmannupdate across the dev server tiers.nnAlso mix in some file descriptor limit sanity checking for OSX.n,413.0,39.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,state.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",8.0,2.0,2.0,2.0865399008966907,1.0,458.125,93.0,3.9716811342592586,202.5,1.038497885534614,133.0,Feature Addition,False,True,"[""52cfdd5693772cac12c7c2826250c9524ea0a918"", ""93cfb242f9b80ff55aadee6ee680f030a2329405"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""48e018df8cf1088337ced07b94b57a762a985160"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""2318fc0dfce6fe3dde7a7b93a2f5b7b5a4c851c3"", ""44b2df0a5287f8105f6e7e4970436b210ef39779"", ""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78""]"
f4bbf1261d47f9ca7bcc9b6bf36829a6bf4801b4,130be5b893640c70d937e6f9cc5137bc8fefaaa4,Wez Furlong,wez@fb.com,Sat Dec 22 22:06:40 2012 +0000,1356214000,"make it compile, run and pass arc unit on illumosThe tests sometimes do not pass.  This will need some investigation,nbut this is a pretty decent start.n",176.0,41.0,".gitignore,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,opt.c,CAS_DELIMITER,root.c,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",9.0,3.0,4.0,1.3267817398972592,1.0,449.0,75.0,9.333257458847738,211.0,1.0312364714124298,139.0,Preventative,False,True,"[""d9e7f5e740a7a7972bc8edf04420788f118b9e3e"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""1f223e362a470f146f9f360695377bd9d8ecc39e"", ""ac15e17c89c22759d223a91d6bd95d96fcf59310""]"
130be5b893640c70d937e6f9cc5137bc8fefaaa4,5511db2d42ea39321c501a541e6fce18d503e4fb,Wez Furlong,wez@fb.com,Sat Dec 22 21:11:13 2012 -0800,1356239473,remove bit about persisting triggers; we have that now,0.0,1.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,223.0,7.0,0.2948263888888889,216.0,4.391826639971733,140.0,None,False,,
5511db2d42ea39321c501a541e6fce18d503e4fb,04e5b1177015c3221a4d0c03195e1272adcd62c1,Wez Furlong,wez@fb.com,Sun Dec 23 10:40:20 2012 -0800,1356288020,big doc update,250.0,28.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,222.0,8.0,0.5618865740740739,217.0,2.7797186231898987,141.0,Non Functional,False,,
04e5b1177015c3221a4d0c03195e1272adcd62c1,b56f60bdb0c07009df6657d45ef5023ac2e384aa,Wez Furlong,wez@fb.com,Sun Dec 23 16:37:50 2012 -0800,1356309470,Confirmed that the sysctl.conf changes work,2.0,3.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,444.0,9.0,0.2482638888888889,218.0,5.027972027972028,142.0,None,False,,
b56f60bdb0c07009df6657d45ef5023ac2e384aa,0f26ad312e754a7fc9f23a4a120c900a3c988be9,Wez Furlong,wez@fb.com,Sun Dec 23 17:11:27 2012 -0800,1356311487,include more data from our last lstat in the file resultsPass on the most commonly used fields from the stat structnto save the client from having to go stat the data.  Notenthat this is racy; the data may have changed between the timenthat watchman observed it and the client reads watchmans observation.n,17.0,0.0,"listener.c,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",2.0,2.0,2.0,0.9774178175281716,1.0,598.5,24.0,1.4228530092592593,219.5,1.6161106985111269,18.0,None,False,,
0f26ad312e754a7fc9f23a4a120c900a3c988be9,932ff92dc0a61071111eebeaecfab1344054771b,Wez Furlong,wez@fb.com,Sun Dec 23 19:49:37 2012 -0800,1356320977,Add support for spawning the service via gimli monitorThis assumes that both the gimli `monitor` and the `watchman`nbinary are both in the PATH.nnWe'll use this to auto-restart watchmen when we hypershell deploynrpm updates.n,48.0,3.0,"configure.ac,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,1.3481653535038731,1.0,600.0,63.0,1.2399074074074077,222.5,1.4201693864559752,147.0,Feature Addition,False,,
932ff92dc0a61071111eebeaecfab1344054771b,52cfdd5693772cac12c7c2826250c9524ea0a918,Wez Furlong,wez@fb.com,Wed Jan 2 17:43:43 2013 -0800,1357177423,Allow putting the files somewhere other than /tmpThis avoids issues with tmpwatch moving things out from under us.nFixup argument parsing in arc package.n,75.0,25.0,"arcanist/workflow/package.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,main.c,CAS_DELIMITER",3.0,2.0,2.0,1.2177968115985955,1.0,172.33333333333337,24.0,15.857087191358024,226.0,1.027872153694994,149.0,Corrective,True,True,"[""93cfb242f9b80ff55aadee6ee680f030a2329405""]"
52cfdd5693772cac12c7c2826250c9524ea0a918,0adef1799471483147a27167cda197cbceeb005c,Wez Furlong,wez@fb.com,Wed Jan 2 18:01:56 2013 -0800,1357178516,doc update for --enable-statedir,10.0,0.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,443.0,10.0,10.058402777777776,228.0,1.0994193633018274,150.0,Non Functional,False,,
0adef1799471483147a27167cda197cbceeb005c,93cfb242f9b80ff55aadee6ee680f030a2329405,Wez Furlong,wez@fb.com,Thu Jan 3 00:04:12 2013 -0800,1357200252,Deeper integration with gimliAlso fix an fd leak of the dead descriptors from the watchman clientninto the server in the case where we spawn the server.n,120.0,12.0,".gitignore,CAS_DELIMITER,arcanist/workflow/package.php,CAS_DELIMITER,autogen.sh,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",6.0,2.0,2.0,2.137625805737436,1.0,281.0,58.0,9.340873842592591,231.5,1.0421811157333307,155.0,Corrective,True,True,"[""2ede2ba2f730da9a7d526e2085021d79bb6f1212"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
93cfb242f9b80ff55aadee6ee680f030a2329405,e9aa59a959058655a07c48f7333a4b7e7d2b3cfb,Wez Furlong,wez@fb.com,Sat Jan 5 12:33:07 2013 -0800,1357417987,Now compiles on FreeBSD and OpenBSD,33.0,10.0,"README.markdown,CAS_DELIMITER,autogen.sh,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",4.0,1.0,1.0,1.3706548974224109,1.0,783.0,58.0,5.127173032407407,236.5,1.1816350383280163,159.0,None,False,True,"[""1ac53b7bec4b8382dfdc63c4fb0854f36779b9d7"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
e9aa59a959058655a07c48f7333a4b7e7d2b3cfb,7f6ee0ca80e55ceab94fe185a2b83056e3a9f1b2,Wez Furlong,wez@fb.com,Mon Jan 7 11:17:22 2013 -0800,1357586242,"Add a lint makefile rule we can use with vim :makePer the comments in configure.ac, we don't want to force this onnpeople that are just downloading and installing it so we make thisna conditional in the makefile.n",19.0,1.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,1.0,1.0,0.8812908992306927,1.0,88.5,21.0,10.178449074074074,239.5,1.0560291758111842,161.0,Feature Addition,False,,
7f6ee0ca80e55ceab94fe185a2b83056e3a9f1b2,92a0d960fa8ddcb0946bea5db895dce01f0d0eb0,Wez Furlong,wez@fb.com,Mon Jan 7 11:23:09 2013 -0800,1357586589,bump version number in preparation for a later release,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,117.0,13.0,0.004016203703703704,241.0,249.99135446685875,162.0,None,False,,
92a0d960fa8ddcb0946bea5db895dce01f0d0eb0,5037c525e41b149f3dbb6ffd34e3d50570990ce0,Wez Furlong,wez@fb.com,Mon Jan 7 11:28:34 2013 -0800,1357586914,quiet some splint notices about these fcntl() calls,17.0,17.0,"watchman.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,500.0,22.0,14.652048611111107,242.0,1.068249841816773,163.0,None,False,,
5037c525e41b149f3dbb6ffd34e3d50570990ce0,11f6f3aa9261a3d903714dd23d4c3c9d956b8c58,Wez Furlong,wez@fb.com,Mon Jan 7 16:41:18 2013 -0800,1357605678,Make a better effort at reporting the right lstat() dataTheoretically possible to report on stale stat informationnprior to this change.n,16.0,11.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.3809465857053901,1.0,1344.5,46.0,2.1723495370370367,243.5,1.3452483070578771,165.0,Perfective,False,True,"[""fe5c74354bb93365715f4844a1210ed745be9ce2""]"
11f6f3aa9261a3d903714dd23d4c3c9d956b8c58,c7fb071e7c85b310372d0843ff188bc224f2e00f,Wez Furlong,wez@fb.com,Mon Jan 7 20:03:20 2013 -0800,1357617800,"adjust license linter for the new yearCondense the header down to just two lines and rephrase in a way thatnwill avoid future source changes just because the year changed, exceptnfor opt.c which is runtime visible.  Close enough.n",142.0,344.0,"arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanLicenseLinter.php,CAS_DELIMITER,arcanist/lib/WatchmanLintEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,arcanist/workflow/package.php,CAS_DELIMITER,argv.c,CAS_DELIMITER,hash.c,CAS_DELIMITER,ht.c,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,root.c,CAS_DELIMITER,state.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/argv.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER",24.0,3.0,6.0,4.338079115439123,1.0,268.0833333333333,165.0,21.180681905864198,256.5,1.0062263924976669,178.0,Feature Addition,False,,
c7fb071e7c85b310372d0843ff188bc224f2e00f,a1cce2963c6e492ac8ebc41593c7743ad785da6f,Wez Furlong,wez@fb.com,Wed Jan 9 19:27:38 2013 -0800,1357788458,doc update for contributors,47.0,11.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,454.0,12.0,4.287858796296296,269.0,1.2332166350402596,179.0,Non Functional,False,,
a1cce2963c6e492ac8ebc41593c7743ad785da6f,883bab6740f40509239a259a3725c435b316d4a3,Wez Furlong,wez@fb.com,Wed Jan 9 22:28:21 2013 -0800,1357799301,"add new field so that you can easily identify new filesAlso flesh out the fields we report for files, and even document them.n",153.0,35.0,"README.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,2.043707456679598,1.0,745.2,97.0,1.705664351851852,272.0,2.78428330547472,183.0,Feature Addition,False,True,"[""ca6f8e4172947fd752c5d261d3d21800ae168e28"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5""]"
883bab6740f40509239a259a3725c435b316d4a3,d952dcf69a0d2d1b81190f6ca24222ef993e1034,Wez Furlong,wez@fb.com,Sat Jan 12 18:00:55 2013 -0800,1358042455,`arc lint` can fail if you have changes,1.0,1.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,78.0,10.0,5.2802430555555535,275.0,1.1893852213768568,184.0,Corrective,True,,
d952dcf69a0d2d1b81190f6ca24222ef993e1034,793ada4d6d703d0d7fb926e92ae3b7c73c2143b7,Wez Furlong,wez@fb.com,Sat Jan 12 18:01:33 2013 -0800,1358042493,Allow setting the release number in the rpm build,9.0,1.0,"arcanist/workflow/package.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,153.0,4.0,4.9154282407407415,276.0,1.2034410739051502,46.0,None,False,,
793ada4d6d703d0d7fb926e92ae3b7c73c2143b7,68186fb9509fe8560103c08ec638494c5e62a5d2,Wez Furlong,wez@fb.com,Sat Jan 12 18:49:22 2013 -0800,1358045362,"include dirs in the changed file listI realized that we could track and report on dirs if we simplyntreat all filesystem entries as nodes.  We still maintain a treenof watchman_dir structs, but now we also include IS_DIR entriesnin the file list and they show up like everything else.nnAlso flesh out some test cases and bump in preparation for 1.2.n",37.0,9.0,"README.markdown,CAS_DELIMITER,configure.ac,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.5797668881268685,1.0,563.4,90.0,3.3403171296296286,279.0,1.139326784717894,188.0,Preventative,False,True,"[""3f1e98c4206a6beee86db60d7eac89170e062c44"", ""fe5c74354bb93365715f4844a1210ed745be9ce2""]"
68186fb9509fe8560103c08ec638494c5e62a5d2,d93a2062af881aef5b398257f4145a2ea0376488,Wez Furlong,wez@fb.com,Fri Jan 18 18:41:19 2013 -0800,1358563279,Fix default log level to not be verboseAdd log-level option to get more verbosityn,8.0,1.0,"log.c,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.224394445405986,1.0,291.6666666666667,46.0,9.293499228395063,283.0,1.0576469143642415,191.0,Corrective,True,True,"[""cc868a69e1f596b2b67916e6c19f893fdd63dfdb""]"
d93a2062af881aef5b398257f4145a2ea0376488,a99a29dd78b167bdd26c1a33af4f0910a93b86b5,Wez Furlong,wez@fb.com,Fri Jan 18 19:47:13 2013 -0800,1358567233,"inotify: fix issue where we'd add pending for the wrong itemWe'd always add pending notifications on the parent instead ofnthe node itself, causing spurious change notifications at thenwrong level, and sometimes missing notifications on children.n",128.0,11.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",4.0,3.0,3.0,1.5294335277674769,1.0,553.25,62.0,8.51449074074074,286.5,1.0503889604437902,24.0,None,False,True,"[""3f1e98c4206a6beee86db60d7eac89170e062c44"", ""d6f643fec93f2162874d8a077dd61350fc665d06""]"
a99a29dd78b167bdd26c1a33af4f0910a93b86b5,3f1e98c4206a6beee86db60d7eac89170e062c44,Wez Furlong,wez@fb.com,Fri Jan 18 20:27:36 2013 -0800,1358569656,Fixup crawling of children on OSX and SolarisMost recent test cases found an issue with child directory crawling.nFix it!n,24.0,7.0,"root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",2.0,2.0,2.0,0.8238116333123173,1.0,885.0,41.0,0.028043981481481482,289.5,27.743706149401568,25.0,Corrective,True,True,"[""a7f5ec21f6e090681b7d8eeb22b1be363b1ec77a"", ""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
3f1e98c4206a6beee86db60d7eac89170e062c44,a0dc9bc45ba07db4e275aa4c67814e66f66ed86e,Wez Furlong,wez@fb.com,Fri Jan 18 20:43:56 2013 -0800,1358570636,fix debug level,2.0,2.0,"configure.ac,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,852.5,44.0,3.045451388888889,291.5,1.164332428704682,195.0,Corrective,True,,
a0dc9bc45ba07db4e275aa4c67814e66f66ed86e,6a1d00fa0bda42620dad48ff4b32329e9ff811e4,Wez Furlong,wez@fb.com,Wed Jan 23 01:14:07 2013 -0800,1358932447,Add friendly note about CLA,12.0,0.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,535.0,15.0,10.2671875,293.0,1.0973976563688936,196.0,Feature Addition,False,,
6a1d00fa0bda42620dad48ff4b32329e9ff811e4,a7f5ec21f6e090681b7d8eeb22b1be363b1ec77a,Wez Furlong,wez@fb.com,Wed Jan 23 16:37:35 2013 -0800,1358987855,"Make sure we re-crawl dirs if they were deleted and brought backThis seems to only affect Linux, and may require a follow-onnfixup for other platforms, but seems pretty safe as-is.n",87.0,9.0,"configure.ac,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",3.0,2.0,2.0,0.9321086416154925,1.0,634.6666666666666,60.0,4.832704475308642,295.0,1.1265342408765384,26.0,Corrective,True,True,"[""fe5c74354bb93365715f4844a1210ed745be9ce2"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed""]"
a7f5ec21f6e090681b7d8eeb22b1be363b1ec77a,a2bab7b8c516408fefc0e1f1ae2ee1d9c64856a2,Wez Furlong,wez@fb.com,Thu Jan 31 08:09:45 2013 -0800,1359648585,"ignore VCS control dirsOur huge repos can cause a large amount of extra work for ourselvesnby keeping us busy looking at their control data.  This hard-codesn(for now) ignores for those dirs so that we can start up and processnmatches faster.nnWill be making the ignores configurable via the `watch` command inna follow-on commit, but want to get this deployed to our dev tiernfirst.n",51.0,0.0,"root.c,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.315486119336424,1.0,698.3333333333335,58.0,6.736250000000001,298.0,1.103670810263922,200.0,None,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""d79324aa8222d81731d4d894f026939e896e17db""]"
a2bab7b8c516408fefc0e1f1ae2ee1d9c64856a2,ed35ec9453c11e57de36fe0bc733c56eba798abd,Wez Furlong,wez@fb.com,Thu Jan 31 08:14:54 2013 -0800,1359648894,Handle client disconnects more gracefullyI've seen a couple of cases where we spin on a hung-up unix socket.nThis should improve things.n,9.0,4.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1144.0,26.0,21.40732638888889,300.0,1.0467129795582055,201.0,None,False,,
ed35ec9453c11e57de36fe0bc733c56eba798abd,fa8223f05290d687bc129a780fd720c99af604f8,Wez Furlong,wez@fb.com,Thu Jan 31 08:17:30 2013 -0800,1359649050,set version in readiness for tagging,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,117.0,17.0,7.652719907407408,301.0,1.1306724944985973,202.0,None,False,,
fa8223f05290d687bc129a780fd720c99af604f8,4ffd7bad24d775c1424335999be60cf50e621e2e,Wez Furlong,wez@fb.com,Sat Feb 2 21:37:56 2013 -0800,1359869876,add a no-pretty output option for the cli client,4.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,354.0,17.0,15.122650462962966,302.0,1.0661259745736444,203.0,Feature Addition,False,,
4ffd7bad24d775c1424335999be60cf50e621e2e,5dad22fd6b93a30ae199e234c1f039c995e379ce,Wez Furlong,wez@fb.com,Sat Feb 2 21:38:41 2013 -0800,1359869921,"Add pcre filename matchingThis allows some degree of optimization over repeated singlenpattern matching if you combine a set of patterns into annalternation, but we would still benefit from an alternativenmatch strategy that walked our tree by path prefix rather thannwalking by change time order.n",171.0,11.0,"README.markdown,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.7209283485037783,1.0,517.4,104.0,5.747162037037038,305.0,1.060478899225458,207.0,Corrective,True,True,"[""ca6f8e4172947fd752c5d261d3d21800ae168e28"", ""0d8323c6ee36476a9e0470014c2dcdeacbb27691"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5""]"
5dad22fd6b93a30ae199e234c1f039c995e379ce,ca6f8e4172947fd752c5d261d3d21800ae168e28,Wez Furlong,wez@fb.com,Sun Feb 3 00:46:24 2013 -0800,1359881184,"Add -S suffix match switchThis creates and indexes file by filename suffix.nWhen issuing a find or since that would walk the entire set of files,nif the rules consist solely of suffix rules, we'll just walk thensuffix index instead.n",277.0,49.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.4776611426566464,1.0,764.4,111.0,5.855953703703704,310.0,2.6256707455333914,211.0,Corrective,True,True,"[""0d8323c6ee36476a9e0470014c2dcdeacbb27691"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""93af7efa47601b0cbde68182e8884e9a11e032e3"", ""188a7f2efb350bd68f1f488fe1c3153018c4980d"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
ca6f8e4172947fd752c5d261d3d21800ae168e28,872e4d708215c1cebc991a5ebebafc5b98c5c37e,Wez Furlong,wez@fb.com,Sun Feb 3 13:24:48 2013 -0800,1359926688,"the profiler revealed a few things to improve- When searching for lines in our read buffer, we only need searchn  newly added data.  This is important if you're repeatedly searchingn  across a buffer that grows to 13MB in size(!)nn- When creating json objects, don't check object keys for UTF-8n  correctness, as our keys are all ASCII literals.nn- When populating string values in json, don't check them for UTF-8n  correctness either.nn- Increase our default dir hash size to avoid rebuckets for our commonn  case.n",34.0,35.0,"json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",3.0,1.0,1.0,0.5060804686550571,1.0,1052.0,65.0,9.258858024691358,314.0,1.0367065145339327,214.0,Feature Addition,False,True,"[""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5""]"
872e4d708215c1cebc991a5ebebafc5b98c5c37e,5d529159d690756ae6788c58c07af8afc473b6ea,Wez Furlong,wez@fb.com,Sun Feb 3 13:53:42 2013 -0800,1359928422,Resolve path to gimli monitorThis avoids conflicts with other tools named monitor that may benin the path of the user.n,12.0,3.0,"configure.ac,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.5665095065529053,1.0,247.0,37.0,0.6773553240740741,316.5,2.107531420721532,216.0,None,False,,
5d529159d690756ae6788c58c07af8afc473b6ea,e80187705b34f4a94010e950e27fc94b7b14a50f,Wez Furlong,wez@fb.com,Fri Feb 8 14:19:11 2013 -0800,1360361951,Don't leak two pipes per closed client,2.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1359.0,30.0,5.037766203703704,318.0,1.1985006766024222,217.0,None,False,,
e80187705b34f4a94010e950e27fc94b7b14a50f,a2da65aed126410bc7e74943a5f3f7ccd70ecace,Wez Furlong,wez@fb.com,Fri Feb 8 15:28:14 2013 -0800,1360366094,instrument shutdown for easier leak detectionVerified with valgrindn,4.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1361.0,31.0,0.04795138888888889,319.0,21.854453294713974,218.0,None,False,,
a2da65aed126410bc7e74943a5f3f7ccd70ecace,bc09143974f183b86f466319aeb78f67d283c339,Wez Furlong,wez@fb.com,Sun Feb 10 09:38:24 2013 -0800,1360517904,Update tick value on each since queryThis avoids returning the same set of several thousand files onnthe first watch and successive update when doing a clean buildnwhen no files change between the two passes.n,8.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1365.0,32.0,1.7570601851851853,320.0,1.5691324682168502,219.0,Perfective,False,,
bc09143974f183b86f466319aeb78f67d283c339,22efb6229401a4ad4018a19682e741124ca42ee3,Wez Furlong,wez@fb.com,Sun Feb 10 09:45:34 2013 -0800,1360518334,"Be more aggressive about closing descriptorsBump up the valgrind fd leak check and close out thenbasic descriptors, as well as the listener fd.n",18.0,12.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,listener.c,CAS_DELIMITER",2.0,2.0,2.0,0.35335933502142136,1.0,850.5,48.0,11.293582175925925,321.5,1.044277810999809,220.0,None,False,,
22efb6229401a4ad4018a19682e741124ca42ee3,d9e7f5e740a7a7972bc8edf04420788f118b9e3e,Wez Furlong,wez@fb.com,Sun Feb 10 09:52:26 2013 -0800,1360518746,"set the watch threads to be detachedTrying to eliminate the possible-leaks that valgrind finds withnTLS.  Failed, but this is marginally nicer resource wise.n",13.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1634.0,34.0,6.852523148148147,323.0,1.145931648588483,221.0,Corrective,True,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
d9e7f5e740a7a7972bc8edf04420788f118b9e3e,adeb3e55e9e2565200e2fd9d811ef3db0db81319,Wez Furlong,wez@fb.com,Sun Feb 10 09:55:45 2013 -0800,1360518945,"First pass at new query engineThis is far enough along that it can be played with.nThere are no tests for it yet, and it currently lacksnexpressions for comparing modification times (most usefulnif you're not using the 'since' generator) or comparingninteger properties of the file.nnI think this is good enough to stick in 1.5 under a betanlabel.  This needs to get integrated into triggers andnwe'll use this as the basis of subscription support also,nand then re-implement 'since' and 'find' in terms of thisnnew engine.n",2117.0,29.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,query/base.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/init.c,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,query/pcre.c,CAS_DELIMITER,query/suffix.c,CAS_DELIMITER,query/type.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",16.0,2.0,2.0,3.5853324259087938,1.0,194.3125,118.0,3.611234085648148,331.5,1.0235683306299004,228.0,Feature Addition,False,True,"[""0d8323c6ee36476a9e0470014c2dcdeacbb27691"", ""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5"", ""93b3506ac657604f5fa059bda7e8b31e4b370a27"", ""25842aebc5fe915bb6e7706dd418baae0103c108"", ""8e4fb537c0b43e408fe689d3dfa893a0ac63eb08"", ""99e6b5f21f23716b44214c867e6e29f5b72717fb"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""552cc42fefbe8a50bfabd679ffdf98da1bb25828"", ""93af7efa47601b0cbde68182e8884e9a11e032e3"", ""fc67541ffba6e70b1fc21409c4fd84aaa930aa0b"", ""fab7d82671616fb0f79fa56db14904a1cfd1f526"", ""ac0cc91e753c8e5b29b02eeb841c923c186d7e08"", ""b666def45588a49394d82d99828f5eea3816b57b"", ""9ed19959ecaf5babf804629bca406d0ae2bce539"", ""b8b71aea60e8ab555052680b6754736d4def23be"", ""f815a2679417d425bf7611b021ea8df0ea826068"", ""95510bf92299413c2d68c16327d6c92ebd10fe7d"", ""9d6ff623a4aca4bd30342da2512c1cf099727bcf"", ""a8f616587f8f134491f7f565e5581e60db577d83""]"
adeb3e55e9e2565200e2fd9d811ef3db0db81319,433736106b7c5742ca152087958b0ce180e777d5,Wez Furlong,wez@fb.com,Sun Feb 10 10:23:19 2013 -0800,1360520599,Bump version to 1.5,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,146.0,20.0,6.8539004629629625,340.0,1.1459023231229852,229.0,None,False,,
433736106b7c5742ca152087958b0ce180e777d5,0d8323c6ee36476a9e0470014c2dcdeacbb27691,Wez Furlong,wez@fb.com,Sun Feb 10 10:29:55 2013 -0800,1360520995,Fixup for pedantic errors found by 'arc package'Need to get in the habit of trying packaging before tagging.nAlso add the pcre switch to arc package.n,13.0,5.0,"arcanist/workflow/package.php,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER",3.0,3.0,3.0,1.3921472236645345,1.0,639.0,41.0,9.577939814814814,342.0,1.034830972839897,9.0,Corrective,True,True,"[""b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5""]"
0d8323c6ee36476a9e0470014c2dcdeacbb27691,b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5,Wez Furlong,wez@fb.com,Sun Feb 10 18:07:11 2013 -0800,1360548431,"Refactor and remove -S from legacy rule syntaxIf you want suffixes, you need to use the new `query` command instead.nMove commands out of listener.c and into their own homes.nnMove legacy rule functions into rules.cn",955.0,943.0,"Makefile.am,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/log.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",14.0,4.0,4.0,2.479277932291416,1.0,191.92857142857144,97.0,0.647437996031746,350.5,2.823138969446897,236.0,Corrective,True,True,"[""93b3506ac657604f5fa059bda7e8b31e4b370a27"", ""00a97adc764637821b295bb408c78ed21acdc6d3"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""339485da12ec2f7da1fd6ec8fa7714438418d82b"", ""0da22350fe731ecac11edbbc01cf2d2a2d531b44"", ""9f2fce0df71032e96cd9a6de0df3812280831120"", ""e37ae3e7fccd04c9e6175949da18f3116ffe2315""]"
b7bb167d99ef9e7ed83bf3e189be8efc7f97cce5,1ac53b7bec4b8382dfdc63c4fb0854f36779b9d7,Wez Furlong,wez@fb.com,Tue Feb 12 10:52:24 2013 -0800,1360695144,Fix rlimit adjustment on OSXI think I broke this when I was tweaking it for the other BSDs.n,5.0,3.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,674.0,37.0,1.6980671296296297,358.0,1.5889048686892095,237.0,Corrective,True,True,"[""44b2df0a5287f8105f6e7e4970436b210ef39779""]"
1ac53b7bec4b8382dfdc63c4fb0854f36779b9d7,56d785efc271e02f024d95d731821c69e1b91345,Wez Furlong,wez@fb.com,Tue Feb 12 18:50:51 2013 -0800,1360723851,Add test case for a notification issue on OSX,44.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",2.0,2.0,2.0,0.2623112196143366,1.0,265.5,28.0,13.495590277777774,359.5,1.0385559334193095,31.0,Feature Addition,False,,
56d785efc271e02f024d95d731821c69e1b91345,fe5c74354bb93365715f4844a1210ed745be9ce2,Wez Furlong,wez@fb.com,Wed Feb 13 01:08:18 2013 -0800,1360746498,Fixup some edge cases for notification on OSXThis fixes the BSDish test case added in the previous commit.n,107.0,63.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.5225593745369408,1.0,1094.5,67.0,2.4642303240740744,361.5,1.2911315585180159,239.0,Corrective,True,True,"[""735391ef01ee86c6c22b9605306eee6af4796e6d"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""04f0251b6d088bbae1cf4215b97ea7e7a751fb7a"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""88833e1807af13ccb1ec4e1512267a5878f2e03a"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""5891e35bda87bc9738d1d9d9f5d01febe71297a9""]"
fe5c74354bb93365715f4844a1210ed745be9ce2,735391ef01ee86c6c22b9605306eee6af4796e6d,Wez Furlong,wez@fb.com,Wed Feb 13 13:29:59 2013 -0800,1360790999,"improve handling in the face of IN_Q_OVERFLOWMake our buffer larger and resort to the same kind of recursivencrawl that we use for BSDish systems; there's no need to aggressivenmark everything as definitely deleted.nnTested this by setting `sudo sysctl fs.inotify.max_queued_events=1`nand running `arc unit`.  We get mostly passes, with some of thennotification ordering tests getting the wrong results (we can'tnguarantee sane ordering if there was an overflow) but otherwisenthings look ok.n",5.0,9.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1693.0,36.0,0.5150578703703703,363.0,2.9415294038336217,240.0,Corrective,True,,
735391ef01ee86c6c22b9605306eee6af4796e6d,436b0a55142fe8a8d1daf35eccc95e5ed2bdc738,Wez Furlong,wez@fb.com,Wed Feb 13 13:39:38 2013 -0800,1360791578,Fix stack smash in w_log()Detected this via a really long path that was generated by a roguenscript.n,45.0,3.0,"Makefile.am,CAS_DELIMITER,log.c,CAS_DELIMITER,tests/log.c,CAS_DELIMITER",3.0,2.0,2.0,1.0104072215944042,1.0,41.0,18.0,9.534899691358024,365.0,1.141753059502124,32.0,Corrective,True,True,"[""c947b27c0df6cd55edc27023579de29972ccbef1""]"
436b0a55142fe8a8d1daf35eccc95e5ed2bdc738,10c0eb9db385dfd7a158bcb99d760ae6011d5188,Wez Furlong,wez@fb.com,Wed Feb 13 13:56:55 2013 -0800,1360792615,"Improve --no-pretty; don't parse and re-printThis is especially useful when the response is large.nDon't bother parsing and re-printing, just pass thru.n",20.0,1.0,"README.markdown,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.4537163391869448,1.0,608.5,38.0,3.167476851851852,367.5,1.2367815251945773,244.0,None,False,True,"[""1945489c03639cb5e25b8f7720fb270acb7d36a5""]"
10c0eb9db385dfd7a158bcb99d760ae6011d5188,fe9b3b9473396549a123af3082be7d0adc8da9c3,Wez Furlong,wez@fb.com,Wed Feb 13 15:20:42 2013 -0800,1360797642,"Add subscribe & unsubscribe facilitiesSummary:nThis adds subscription support to watchman.nnSubscriptions are scoped to a given client connection, and furthernscoped to a watched root and a client-specified subscription name.nnSubscriptions may be explicitly cancelled via the unsubscribe commandnand are implicitly cancelled when the client disconnects.nnSubscriptions are built on top of the new query API that is includednin watchman 1.5 that provides more filtering of the returned data,nas well as specifying the returned fields:nnhttps://github.com/facebook/watchman#command-query-beta-starting-in-v15nhttps://github.com/facebook/watchman#file-queriesnn(but note that this diff fixes a refcnt issue; don't use the query commandnin volume with 1.5!)nnWhen a subscription is activated on a connection, watchman will unilaterallynsend `subscription` data packets to the client as matching changes arendetected.  The initial subscription request can be scoped to a given `since`nvalue (or leave it unspecified) and will send a subscription packet immediatelynfollowing the subscription request if any files were matched.nnThis frees clients from having to schedule a recurring `since` poll against thenservice.nnTest Plan:n`arc unit` and `WATCHMAN_VALGRIND=1 arc unit` to prove functionalitynand that there are no leaks.nnThe test case is rather anemic... move fast etc. etc.nnReviewers: mroch, pieter, lifeihuang, weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D707379n",626.0,89.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",14.0,5.0,5.0,3.0333375109657372,1.0,379.28571428571433,174.0,1.5124851190476192,375.5,2.67370128777224,251.0,Feature Addition,False,True,"[""93b3506ac657604f5fa059bda7e8b31e4b370a27"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""f4afd43c5a2e4bdb7352215a7a54935edfc2989a"", ""872ba96d1b88c121afc15da4c3ba100a9a63ad94"", ""e2c9a65614f1b95c75f4a90e6717a81e3524d875"", ""9f2fce0df71032e96cd9a6de0df3812280831120"", ""f815a2679417d425bf7611b021ea8df0ea826068"", ""95510bf92299413c2d68c16327d6c92ebd10fe7d"", ""09999d207ec28f45cb7243b8d68e46f7d92f25be""]"
fe9b3b9473396549a123af3082be7d0adc8da9c3,e83f9a57b3a784c372aebe93c282f6e8ec781bc8,Wez Furlong,wez@fb.com,Wed Feb 13 15:15:22 2013 -0800,1360797322,"Add clientmode for some commandsIn some cases we don't want to start the service but don't want toncode alternate logic using `find` or other shell or system functions.nnThis commit adds a `--no-spawn` option that changes the CLI behaviornso that it will try to communicate with a running watchman service,nbut if it is not running will fall back to a set of client modencommands and execute those.nnAt this point in time we only have the new `query` command available;nit works by crawling the requested root and then executing the querynover it.  It will only have sane results for the `path` generator.n",146.0,47.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,clientmode.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",8.0,1.0,1.0,2.1219913885249486,1.0,560.0,169.0,0.004032118055555556,386.5,-64.36509330395525,259.0,Feature Addition,False,True,"[""48e018df8cf1088337ced07b94b57a762a985160"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""32e5f3df8a6e66cdff7c7bc964dd30911ae2ea17""]"
e83f9a57b3a784c372aebe93c282f6e8ec781bc8,93b3506ac657604f5fa059bda7e8b31e4b370a27,Wez Furlong,wez@fb.com,Thu Feb 14 18:05:59 2013 -0800,1360893959,Add `since` query termAllows you to refine your queries by change time when you're usingnpath and suffix generators.n,209.0,19.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/init.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",10.0,3.0,3.0,1.4093545544832415,1.0,312.8,120.0,1.6157881944444443,395.5,1.213190071870214,264.0,Corrective,True,True,"[""1945489c03639cb5e25b8f7720fb270acb7d36a5"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
93b3506ac657604f5fa059bda7e8b31e4b370a27,3be56248eacdaea5607c7200613ee87ed9b1fc42,Wez Furlong,wez@fb.com,Fri Feb 15 10:27:44 2013 -0800,1360952864,TODONE!,0.0,2.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,723.0,41.0,0.6817708333333333,401.0,2.466768525592056,265.0,None,False,,
3be56248eacdaea5607c7200613ee87ed9b1fc42,f08d3c98bf50a6b5914b3c76be7d1227394f425b,Wez Furlong,wez@fb.com,Fri Feb 15 13:10:34 2013 -0800,1360962634,simplify inotify processing caseThis removes an explicit mark_deleted call that I believe to benthe source of a race condition that could cause us to believenthat the files are gone.nnThis should be safe to remove because we have the `maybe_deleted`nGC style check now inside the crawler routine.n,42.0,21.0,"root.c,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER",2.0,2.0,2.0,0.9778956822310352,1.0,1044.0,58.0,2.3385127314814813,402.5,1.3682295961988102,34.0,None,False,True,"[""2399d745c7c0c2c1c925fb211c9e0a46198fd269""]"
f08d3c98bf50a6b5914b3c76be7d1227394f425b,fd4709c0d142dcf8e389842341b5786ef599bf08,Wez Furlong,wez@fb.com,Fri Feb 15 13:25:35 2013 -0800,1360963535,"Auto-enable pcre if found, bump to 1.6Preparation for the 1.6 deployn",18.0,15.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,146.0,21.0,5.126574074074074,404.0,1.19506204056568,267.0,None,False,,
fd4709c0d142dcf8e389842341b5786ef599bf08,1945489c03639cb5e25b8f7720fb270acb7d36a5,Wez Furlong,wez@fb.com,Fri Feb 15 13:37:30 2013 -0800,1360964250,Fixup no-pretty output case`arc package` found these with the pedantic build flags we use for rpm.nDon't ignore the fwrite return value; make a best effort to outputnthings correctly.  Stress tested by forcing the nitems parameternto 1 to verify that the loop works and terminates correctly.nnFixup initialization to appease gcc in query/since.cn,19.0,4.0,"main.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER",2.0,2.0,2.0,0.4262286569981449,1.0,284.5,23.0,1.3727951388888888,405.5,1.4409044126429302,16.0,Corrective,True,,
1945489c03639cb5e25b8f7720fb270acb7d36a5,293d3f144ba5b93091acd73b9e363595a945f619,Wez Furlong,wez@fb.com,Tue Mar 12 11:10:12 2013 -0700,1363111812,"Be more proactive at detecting and healing inconsistenciesSummary: Add a should_recrawl flag that we set when we detectninconsistencies.  At the moment this is limited to errornconditions around inotify usage; when we detect those we setnthe flag.  At defined safe points we check this flag andnqueue up a full tree recrawl to make sure we're in a goodnstate.nnThese safe points are at the bottom of the inotify loopnand inside the stat thread loop.nnTest Plan: `arc unit` shows that we didn't totally break it,nbut the thing we're trying to fix is a very hard to repronrace condition.n",43.0,14.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.2974722489192897,1.0,1146.5,76.0,25.27217013888889,407.5,1.0299930126762318,270.0,None,False,True,"[""ff8844262b981564912be340eaba7a7170c92201"", ""2399d745c7c0c2c1c925fb211c9e0a46198fd269"", ""4f89e886828ef0da6a0f8e9b7b7f8eea46fcaf7e"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""a12f73271d2b0fd82eddafae97d4119a53a5015a""]"
293d3f144ba5b93091acd73b9e363595a945f619,da29d6b150cf34b17e763ece3370484e6c5d23fd,Wez Furlong,wez@fb.com,Tue Mar 12 12:44:38 2013 -0700,1363117478,Bump version to 1.7Also ship the readme with the rpmn,11.0,2.0,"Makefile.am,CAS_DELIMITER,arcanist/workflow/package.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER",3.0,2.0,2.0,1.3346791410515946,1.0,141.0,45.0,26.90565200617284,410.0,1.0230571997450184,272.0,None,False,,
da29d6b150cf34b17e763ece3370484e6c5d23fd,a990cb907d3063dc5b703e0fc7209af5272a4ead,Wez Furlong,wez@fb.com,Tue Mar 12 15:13:32 2013 -0700,1363126412,Add trigger-del command,66.0,0.0,"README.markdown,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",5.0,3.0,3.0,1.4763346328262006,1.0,390.6,74.0,34.309453703703696,414.0,1.016355868133456,275.0,Feature Addition,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""0528fa57dd07c4370f0d35d4519ac1ae3a29b1ab""]"
a990cb907d3063dc5b703e0fc7209af5272a4ead,ff8844262b981564912be340eaba7a7170c92201,Wez Furlong,wez@fb.com,Wed Mar 13 14:40:37 2013 -0700,1363210837,Fixup compile on OSX,5.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1756.0,41.0,1.1461226851851851,417.0,1.87250694269124,276.0,Corrective,True,,
ff8844262b981564912be340eaba7a7170c92201,8ed7802fcdb875ff2da002d47e0293353d143065,Wez Furlong,wez@fb.com,Sat Mar 16 12:33:53 2013 -0700,1363462433,Tweak test runnerMakes it easier to run a specific set of tests.nRemoves a race condition from the trigger test case.n,55.0,10.0,"arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",5.0,2.0,2.0,2.1448749758748664,1.0,173.0,48.0,39.79138194444445,420.0,1.0076692062015635,37.0,Preventative,False,True,"[""96c63551b001f462914423c550fc59047819b691""]"
8ed7802fcdb875ff2da002d47e0293353d143065,2399d745c7c0c2c1c925fb211c9e0a46198fd269,Wez Furlong,wez@fb.com,Sat Mar 16 12:48:23 2013 -0700,1363463303,"Fixup opendir() path stringWell, this was embarrasing.  Turned out that we could pass a slicednstring to opendir.  This meant that if we got notified about a pathnfoo/bar and then decided to look at dirname(foo/bar) we'd thinknwe were calling opendir(foo) but were actually invokingnopendir(foo/bar).nnThis meant that we could prune out all the entries of foo that wendidn't see in foo/bar, which meant that they'd show up deleted.nWhoops!nnAlso be a little more conservative when we get notified about deletesnand moves of watched firs; schedule a crawl of their parents.nnAnd finally: explicitly stopping watches can result in race conditions,nso we simply NOP in stop_watching_dir(); Linux will notify us whennthe watch descriptor is invalidated.n",49.0,22.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1759.0,42.0,2.922060185185185,423.0,1.342224299509637,277.0,Corrective,True,True,"[""a3924e56684310d32cd11fc98f14965f7c720cc8"", ""88833e1807af13ccb1ec4e1512267a5878f2e03a"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
2399d745c7c0c2c1c925fb211c9e0a46198fd269,75e574d2a6c6491b7e114ba5fe8e6af85fb6326d,Wez Furlong,wez@fb.com,Sat Mar 16 13:06:06 2013 -0700,1363464366,bump for 1.8,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,149.0,23.0,4.014907407407407,424.0,1.2490717465003114,278.0,None,False,,
75e574d2a6c6491b7e114ba5fe8e6af85fb6326d,fa6e0a25e05dacf8321f02b15198b50655fbdaa7,Wez Furlong,wez@fb.com,Sun Mar 17 09:54:23 2013 -0700,1363539263,break tests into their own filesMakes it easier to run any individual testn,431.0,386.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,tests/integration/basic.php,CAS_DELIMITER,tests/integration/bsdish.php,CAS_DELIMITER,tests/integration/cursor.php,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER",13.0,3.0,3.0,2.6246620451039293,1.0,122.46153846153848,73.0,0.9482959401709402,431.0,1.0938947614971302,46.0,Preventative,False,True,"[""a3924e56684310d32cd11fc98f14965f7c720cc8"", ""d6f643fec93f2162874d8a077dd61350fc665d06"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""a0ada2889841b6248302be61e77e2c35b1516be6""]"
fa6e0a25e05dacf8321f02b15198b50655fbdaa7,00911e4e3cda9f0a973d518e257e7b428fff2314,Wez Furlong,wez@fb.com,Wed Mar 20 08:26:33 2013 -0700,1363793193,"Add support for stopping watchesIt seems that a common conflict resolution strategy is to simplyndelete a watched tree and clone it again.  This can cause thingsnto go awry, so we needed to handle it better.nnThis diff makes it possible to list and delete watches, and tonautomatically delete watches when the watched directory is removed.nnTo support this change, roots are now reference counted.nI also had to adjust the test harness code to better collect datanfrom valgrind and prove that we don't leak.n",579.0,80.0,"README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/rmroot.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",15.0,4.0,4.0,2.516201261058837,1.0,355.33333333333326,192.0,17.0750987654321,445.0,1.0306143412257809,285.0,Feature Addition,False,True,"[""a3924e56684310d32cd11fc98f14965f7c720cc8"", ""4f89e886828ef0da6a0f8e9b7b7f8eea46fcaf7e"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""48e018df8cf1088337ced07b94b57a762a985160"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""dce442df7e879efdd42cece146c4cbf5e8011419"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
00911e4e3cda9f0a973d518e257e7b428fff2314,a3924e56684310d32cd11fc98f14965f7c720cc8,Wez Furlong,wez@fb.com,Wed Mar 20 09:21:04 2013 -0700,1363796464,fixup osx and solaris portsNote that rmroot.php sometimes fails on solaris due to timing nuances.n,68.0,18.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,query/match.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER",6.0,4.0,4.0,2.2028339396417187,1.0,433.5,63.0,7.333591820987656,455.5,5.4233282419470905,51.0,Corrective,True,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""e457bc8f6734bd5b23bce1648959ac039b9586d9"", ""478b6abcbec12a411d1ce0acfdcfbe2917529941"", ""718d41f7e044dbf59609f9edf5cc50e68c42132b""]"
a3924e56684310d32cd11fc98f14965f7c720cc8,e455de3610c7dd2fe147ba739144c7149ea8f12b,Wez Furlong,wez@fb.com,Wed Mar 20 09:25:38 2013 -0700,1363796738,"the future is now, update the readme",0.0,2.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1007.0,25.0,0.04103009259259259,459.0,25.372355430183358,287.0,None,False,,
e455de3610c7dd2fe147ba739144c7149ea8f12b,a17de0d470b9f157b25865bedffd2df1930cc769,Wez Furlong,wez@fb.com,Wed Mar 20 18:52:16 2013 -0700,1363830736,"Introduce periodic pollingWe keep running into an issue where we don't always see both sidesnof move or fast create/delete operations for a given file, resultingnin it showing up as exists:false.nnThis is the first step at avoiding this class of issue; once thenfilesystem has settled, instead of sleeping until the next notifcation,nwe'll set an upper bound on the sleep and then when we wake up we'llnspeculatively recrawl the tree.nnI'm going to follow up with a couple of diffs that make this delaynmore configurable, and potentially combine the crawl with the firstnnotification post-settle, although I want to be careful about schedulingnmultiple full-tree crawls throughout a busy period.n",13.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,2062.0,45.0,0.39666666666666667,460.0,3.5210084033613445,288.0,Feature Addition,False,True,"[""04f0251b6d088bbae1cf4215b97ea7e7a751fb7a"", ""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
a17de0d470b9f157b25865bedffd2df1930cc769,315689aa1c4cf9833047273469aa028c8cbb26ae,Wez Furlong,wez@fb.com,Wed Mar 20 20:17:39 2013 -0700,1363835859,"Add a system-wide configuration fileThis is a json file that is read before command line argumentsnare parsed.  This has two important implications:nn- We can't pass the path to the config file via the arg parsern- command line args override options from the config filennChange how we pass options to the service when running via gimli;nrather than materializing options and forcing them into the argvnarray, we only pass them on if they were present in the originatingnargv array.  This allows us to default parameters to the confignfile without killing the gimli monitor processes.n",109.0,27.0,"configure.ac,CAS_DELIMITER,main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,1.0,1.0,1.6115799392963999,1.0,690.8,136.0,22.01145833333333,463.0,1.0573123159720836,293.0,Feature Addition,False,True,"[""04f0251b6d088bbae1cf4215b97ea7e7a751fb7a"", ""d55ef2f2f7c50040a4d5e239d1d214cacbd90f27"", ""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
315689aa1c4cf9833047273469aa028c8cbb26ae,04f0251b6d088bbae1cf4215b97ea7e7a751fb7a,Wez Furlong,wez@fb.com,Thu Mar 21 14:09:49 2013 -0700,1363900189,"Fix recursive crawl caseAnother installment in well-that's-embarrassing: the recursivendirectly crawler was only running in cases where a given itemnwas newly created or deleted.  That meant thatn2399d745c7c0c2c1c925fb211c9e0a46198fd269 was only partiallyneffective.nnIn running this down I've decided to default the period crawlnto 0, and to make a 0 value turn it off; I'd seen that thisnwas causing some high CPU utilization quite frequently duento the size of our tree.n",19.0,14.0,"main.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.32984607020714635,1.0,1272.5,71.0,0.7445601851851852,466.5,2.0073060780351315,295.0,Corrective,True,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
04f0251b6d088bbae1cf4215b97ea7e7a751fb7a,888e6a798ee6ca2b25a69aaa45d4cc011373fd5b,Wez Furlong,wez@fb.com,Thu Mar 21 14:23:17 2013 -0700,1363900997,Bump for 1.9 release,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,164.0,25.0,0.753912037037037,468.0,2.3264146888145167,296.0,None,False,,
888e6a798ee6ca2b25a69aaa45d4cc011373fd5b,4f89e886828ef0da6a0f8e9b7b7f8eea46fcaf7e,Wez Furlong,wez@fb.com,Fri Apr 26 16:34:36 2013 -0700,1367019276,"fix nasty wd -> name state issueSummary:nIn the case of moves, it was possible for our mapping of watch descriptor => path name to become out of date.nnThis diff addresses this issue by invalidating the source of a move before we pass it in for processing in the stat thread.nnTest Plan:nreplace the local watchman binary with the older version; runn`arc unit` to repro the failure.nThen make with this version and the test passes.nnReviewers: sid0nnReviewed By: sid0nnCC: aricennDifferential Revision: https://phabricator.fb.com/D790536nnTask ID: 2336595, 2334495n",123.0,4.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/moremoves.php,CAS_DELIMITER",3.0,3.0,3.0,1.1347650245893266,1.0,829.0,66.0,24.4798225308642,470.0,1.0180050056341192,52.0,Corrective,True,True,"[""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
4f89e886828ef0da6a0f8e9b7b7f8eea46fcaf7e,3aa3fe41907d53ff7968135990c81bd549d4fbec,Wez Furlong,wez@fb.com,Fri Apr 26 16:40:34 2013 -0700,1367019634,Don't print stray error about a missing /etc/watchman.json,4.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,474.0,25.0,36.1046875,472.0,1.0276972346042326,298.0,None,False,,
3aa3fe41907d53ff7968135990c81bd549d4fbec,df6aa4fd0a8d4c49dec63e0f828569405499faa1,Wez Furlong,wez@fb.com,Fri Apr 26 16:47:17 2013 -0700,1367020037,Add a version command,21.0,0.0,"Makefile.am,CAS_DELIMITER,cmds/version.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",4.0,2.0,2.0,0.8180959929710641,1.0,234.0,68.0,28.745549768518515,474.5,1.0178055014753613,301.0,Feature Addition,False,,
df6aa4fd0a8d4c49dec63e0f828569405499faa1,b8d7d84d68427d4a46e4031cd7bd71089682ce5a,Wez Furlong,wez@fb.com,Fri Apr 26 17:04:36 2013 -0700,1367021076,"Implement the empty and exists terms from the READMEWhoops, forgot to add these initially.n",91.0,1.0,"Makefile.am,CAS_DELIMITER,query/empty.c,CAS_DELIMITER,query/init.c,CAS_DELIMITER,tests/integration/empty.php,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,3.0,3.0,1.3542849393637133,1.0,63.6,26.0,28.3686875,479.0,34.26980219520398,303.0,Feature Addition,False,True,"[""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
b8d7d84d68427d4a46e4031cd7bd71089682ce5a,8eba533383975bd77dc2ae80623b1a66d4d5cba4,Wez Furlong,wez@fb.com,Fri Apr 26 18:05:33 2013 -0700,1367024733,Add clock commandThis provides a fast way to obtain the current clock value.nThis is useful primarily in situations where you don't wantnto retrieve the entire tree in a since query based on a 0nclock value when you're first starting up.n,65.0,0.0,"README.markdown,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",5.0,3.0,3.0,1.7277300261849118,1.0,381.4,79.0,14.974368055555553,484.0,1.0160458581535026,306.0,Feature Addition,False,True,"[""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
8eba533383975bd77dc2ae80623b1a66d4d5cba4,082c17e0d932fd6a8a437e6388616d19e08fdf6d,Wez Furlong,wez@fb.com,Fri Apr 26 18:19:14 2013 -0700,1367025554,"Handle sysctl limit constraints betterWe had a situation in a test suite where we exceededn`/proc/sys/fs/inotify/max_user_instances`.  Watchman would blindlynassume that it had a working watch but where it was not actuallynplumbed.nnThis makes the error condition get logged to the log, and the watchncommand will return unable to resolve root, which is generic butngood enough for now.n",31.0,12.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,2134.0,49.0,0.07266203703703704,487.0,14.762344695762982,307.0,Perfective,False,True,"[""48e018df8cf1088337ced07b94b57a762a985160"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
082c17e0d932fd6a8a437e6388616d19e08fdf6d,25842aebc5fe915bb6e7706dd418baae0103c108,Wez Furlong,wez@fb.com,Fri Apr 26 18:26:18 2013 -0700,1367025978,"Fix an issue with some classes of expression parse errorsWhen an invalid term is used in a list, we would blindly trynto delref it, and crash the watchman service.n",37.0,1.0,"query/base.c,CAS_DELIMITER,tests/integration/invalidexpr.php,CAS_DELIMITER",2.0,2.0,2.0,0.4854607607459134,1.0,80.0,1.0,37.65644097222222,488.5,1.0132779409601889,55.0,Corrective,True,True,"[""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
25842aebc5fe915bb6e7706dd418baae0103c108,919e4091bb65c75c483b97e349ff35aef26796c4,Wez Furlong,wez@fb.com,Fri Apr 26 18:35:10 2013 -0700,1367026510,Do a better job at the empty/exists unit test,31.0,0.0,"tests/integration/empty.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,35.0,1.0,0.06289351851851853,490.0,16.899889584100112,56.0,Perfective,False,,
919e4091bb65c75c483b97e349ff35aef26796c4,cc5fd53e4fc018f6e2a08e5fc10412ed784b7bf9,Wez Furlong,wez@fb.com,Fri Apr 26 18:41:25 2013 -0700,1367026885,bump for 2.0 releaseThere's not particularly special about 2.0; it just happens to follown1.9.nnAdjust package.php to compensate for an hhvm heredoc bug.n,3.0,3.0,"arcanist/workflow/package.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,1.0,169.5,33.0,40.71351273148149,491.5,1.0171907367180848,308.0,Corrective,True,,
cc5fd53e4fc018f6e2a08e5fc10412ed784b7bf9,413bcfca460fea260ed3c36514be2839b818a1e9,Wez Furlong,wez@fb.com,Sat May 4 12:14:05 2013 -0700,1367694845,"Linux: use IN_EXCL_UNLINKThis flag tells the kernel to only give us notifications onnchildren of watched dirs that have not been unlinked.nnWe can't include <linux/inotify.h> without breaking userspace, so wendefine it ourselves if we don't see it in the namespace.n",9.0,1.0,"watchman.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,590.0,39.0,44.664189814814826,493.0,1.022389301230945,309.0,None,False,,
413bcfca460fea260ed3c36514be2839b818a1e9,583fcda1f08179a8ad10f4cda0b5f2df6dbe4b48,Wez Furlong,wez@fb.com,Sat May 4 12:43:54 2013 -0700,1367696634,"Don't issue spurious recrawl for movesSummary: 4f89e886828ef0d introduced this issue; when a dir is movednwe receive IN_MOVE_SELF but because we deleted our mapping we fallninto the something fishy code path.nnSince there isn't any actionable information for us in IN_MOVE_SELFn(we have no way to know what path it is referring to),nwe can ignore it and NOT consider it fishy.  We either have or willnreceive a notification about its destination.n",60.0,1.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER",3.0,3.0,3.0,0.5541015302865538,1.0,855.6666666666665,69.0,5.202307098765432,495.0,1.0852342274084217,57.0,None,False,True,"[""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
583fcda1f08179a8ad10f4cda0b5f2df6dbe4b48,cd3ae04b78cc5a75cb22582e6961c166afce6324,Wez Furlong,wez@fb.com,Sat May 4 12:49:05 2013 -0700,1367696945,"Revise VCS ignore behaviorSummary:nIt turns out that we don't really want to completely ignorenthe VCS control dirs because it makes it difficult to detect thenboundaries between nested repos and difficult to detect when a rebasenoperation is in progress.  This diff changes our ignore behaviornso that we'll track the VCS control dir and its immediate contents,nbut we don't recurse into child dirs.nnWhen it comes to triggers, we may need to add some special knowledgenof the .hg/wlock or the .git/index.lock file mechanics to avoid startingnthe trigger.  I don't really want to do that; need to do somenexperiments to see if we need to go that far.nnTest Plan: `arc unit`nnReviewers: sid0nnReviewed By: sid0nnCC: vkatichnnDifferential Revision: https://phabricator.fb.com/D791827nnTask ID: 2334371n",27.0,19.0,"root.c,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER",2.0,2.0,2.0,0.9945386816500112,1.0,1087.5,52.0,46.577957175925924,497.5,139.912119757315,58.0,None,False,,
cd3ae04b78cc5a75cb22582e6961c166afce6324,8e4fb537c0b43e408fe689d3dfa893a0ac63eb08,Wez Furlong,wez@fb.com,Sat May 4 21:03:06 2013 -0700,1367726586,Fix use-after-free in expr parsing in the error case,2.0,1.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,308.0,2.0,80.19611111111111,499.0,1.012469432571543,21.0,Corrective,True,,
8e4fb537c0b43e408fe689d3dfa893a0ac63eb08,00a97adc764637821b295bb408c78ed21acdc6d3,Wez Furlong,wez@fb.com,Sat May 4 21:18:14 2013 -0700,1367727494,"Fix possible leak in the case of bogus inputValgrind still claims there is a leak when I run the empty test,nbut it looks like a false positive :-/n",1.0,1.0,"cmds/query.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,69.0,3.0,45.5358912037037,500.0,1.0219606989907484,19.0,Corrective,True,,
00a97adc764637821b295bb408c78ed21acdc6d3,d55ef2f2f7c50040a4d5e239d1d214cacbd90f27,Wez Furlong,wez@fb.com,Sat May 4 23:23:34 2013 -0700,1367735014,Fix millisecond -> microsecond conversionWhoopsn,3.0,3.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,2152.0,52.0,0.44061342592592606,501.0,3.2695631616275707,312.0,Corrective,True,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
d55ef2f2f7c50040a4d5e239d1d214cacbd90f27,1994208fdc847e7461d0fad978072f6a8539eb59,Siddharth Agarwal,sid0@fb.com,Sun May 5 11:04:05 2013 -0700,1367777045,"Implement subsecond timestampsSummary:nImplement subsecond timestamp support for watchman.nnFor each timestamp (e.g. mtime), implement the following fields:n- mtime, which stays the samen- mtime_ms, which returns the time in millisecondsn- mtime_us, which returns the time in microsecondsn- mtime_ns, which returns the time in nanoseconds (most accurate)n- mtime_f, which returns the time as a 64-bit floating point number.nnTest Plan: arc unitnnReviewers: weznnReviewed By: weznnCC: vkatichnnDifferential Revision: https://phabricator.fb.com/D798574nnTask ID: 2348207n",115.0,12.0,"query/fieldlist.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/fields.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,3.0,3.0,1.5769957316635297,2.0,727.75,94.0,21.275593171296297,1.5,0.7588793396076307,1.0,None,False,True,"[""88833e1807af13ccb1ec4e1512267a5878f2e03a"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
1994208fdc847e7461d0fad978072f6a8539eb59,541782639fd8cc34f5fe3661847f6bdada76b209,Wez Furlong,wez@fb.com,Sun May 5 12:30:27 2013 -0700,1367782227,more aggressively detect removed root dirsSummary:nTry to remove the watch as soon as we detect that the rootnhas gone away.  This avoids waiting for a crawl of all of the childrenn(removes are run from the leaves up to the roots) and should reducensome strangeness when folks do `rm -rf www ; clone-www ; arc build`nnTest Plan: `arc unit --everything`nnReviewers: sid0nnReviewed By: sid0nnCC: aricennDifferential Revision: https://phabricator.fb.com/D800626nnTask ID: 2356578n,21.0,4.0,"root.c,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER",2.0,2.0,2.0,0.904381457724494,2.0,1098.5,55.0,24.584178240740734,502.5,9.346718736772075,59.0,None,False,,
541782639fd8cc34f5fe3661847f6bdada76b209,cfcd175ca32d750a1b56e797d6212ebbc7745302,Wez Furlong,wez@fb.com,Mon May 6 16:58:23 2013 -0700,1367884703,"use cookie files for view synchronizationSummary:nSo that we can be sure to have observed changes that took placenat or before now we generate a cookie file somewhere in the tree.nOnce we've observed it via inotify, we know that we're current.nnPick dir under .git, .hg or .svn as a first choice so that we avoidnshowing up in the working copy state.nnTest Plan:n`arc unit --everything` and `WATCHMAN_VALGRIND=1 arc unit --everything`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://phabricator.fb.com/D800567nnTask ID: 2348274n",373.0,83.0,"README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER,tests/integration/invalidexpr.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",17.0,5.0,5.0,2.939968563672681,2.0,377.7058823529412,225.0,29.15841230936819,512.0,1.0104126173950967,320.0,None,False,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""f4afd43c5a2e4bdb7352215a7a54935edfc2989a"", ""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371""]"
cfcd175ca32d750a1b56e797d6212ebbc7745302,4776199e9a8e325b22ff05dcc2acaf66c72029fa,Wez Furlong,wez@fb.com,Mon May 6 17:44:49 2013 -0700,1367887489,Bump in preparation for the 2.1 release,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,164.0,27.0,9.960694444444442,521.0,1.1003946065786354,321.0,None,False,,
4776199e9a8e325b22ff05dcc2acaf66c72029fa,d614166505b65e8671303296eee5db3301be6112,Wez Furlong,wez@fb.com,Mon May 6 17:47:02 2013 -0700,1367887622,"defer triggers until VCS operations settleSummary:navoid running trigger scripts until the VCS has settled.nIt is possible, even likely, for the VCS to pause in the middle ofnlarge dirstate operations for long enough that we'll perceive thatnthe filesystem has settled enough for us to start running triggers.nnThis adds a simple check for the existence of lock files that the VCSnsoftware creates while it is manipulating the repo.nnIf they exist we'll just return without doing any work.  We'll noticenwhen they get deleted and carry out the trigger check at that time.nnTest Plan:n`arc unit --everything`, then manually tested by rebasingnaround in a big repo with the log statements set to error level;nObserved the `deferring triggers until VCS operations complete` messagenwhile the rebase or checkout operations were in-flight, then observednthe trigger script execute once they were done.nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://phabricator.fb.com/D800656nnTask ID: 2334371n",44.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2269.0,56.0,0.033784722222222216,522.0,30.59917780061665,322.0,None,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
d614166505b65e8671303296eee5db3301be6112,c5977145fdb6101630dfb831940905feeba902ae,Wez Furlong,wez@fb.com,Mon May 6 19:23:16 2013 -0700,1367893396,Avoid running slightly warm until triggers are runFork off a child to persuade the kernel that it is ok to blocknin waitpid.n,19.0,3.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.976020648236615,2.0,1534.0,104.0,0.08372106481481481,523.5,8.955622013203694,324.0,None,False,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9""]"
c5977145fdb6101630dfb831940905feeba902ae,27b73ede28958ba6718934af237865997aca00e7,Wez Furlong,wez@fb.com,Mon May 6 19:24:49 2013 -0700,1367893489,Fix typo in readme,1.0,1.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1045.0,28.0,0.10168981481481484,525.0,10.83382654222627,325.0,Corrective,True,,
27b73ede28958ba6718934af237865997aca00e7,c2b0b99532c540e3dedff07cec9ed7ac2f9ab4a2,Wez Furlong,wez@fb.com,Mon May 6 21:21:15 2013 -0700,1367900475,"Don't use cookies when in client modeWe don't have a live inotify instance so they're useless, also,nclient mode processes may not have write permissions.n",4.0,0.0,"cmds/query.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,75.0,5.0,0.1825462962962963,526.0,6.478062389043876,24.0,None,False,,
c2b0b99532c540e3dedff07cec9ed7ac2f9ab4a2,a62773133f9c939b8c1f65b74b4f41725ce9aa1a,Wez Furlong,wez@fb.com,Mon May 6 21:24:43 2013 -0700,1367900683,Bump for 2.2Need that client mode fix for sync_timeout :-/n,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,164.0,28.0,0.15270833333333333,527.0,7.548431105047749,326.0,Corrective,True,,
a62773133f9c939b8c1f65b74b4f41725ce9aa1a,d6f643fec93f2162874d8a077dd61350fc665d06,Wez Furlong,wez@fb.com,Tue May 7 08:41:18 2013 -0700,1367941278,"fixup cursor test case for OSXUse our less racy assertFileListUsingSince to validate its behavior.nI have mixed feelings about this because of its timing sensitivity.nnAlso: we were not noticing that 'one' had changed because we eitherndidn't decide that we needed to lstat it again, or because the touchncall didn't have a visible effect (all happens in the same second).n",24.0,35.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/cursor.php,CAS_DELIMITER",3.0,3.0,3.0,0.7789009754356513,2.0,877.6666666666665,75.0,17.386080246913586,529.0,1.7911611169438766,63.0,Corrective,True,,
d6f643fec93f2162874d8a077dd61350fc665d06,409d697ec4b454851b55912c4d25045fb605fa96,Wez Furlong,wez@fb.com,Tue May 7 23:17:07 2013 -0700,1367993827,Eliminate VCS/watchman dirTurns out that maintaining this dir with the proper permissionsnis a PITA.  Let's just put our cookies in the VCS control dir directly.nOur naming is such that we should not have any conflicts with the VCS.n,2.0,19.0,"root.c,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER",2.0,2.0,2.0,0.4537163391869448,2.0,1180.5,62.0,0.9356076388888888,531.5,2.0892958859691397,64.0,None,False,,
409d697ec4b454851b55912c4d25045fb605fa96,4131eea437edb34c8699402773d57b9267d11766,Wez Furlong,wez@fb.com,Wed May 8 00:28:37 2013 -0700,1367998117,trim trailing slashes from paths in path generators,23.0,6.0,"query/parse.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.1676516844843352,2.0,425.0,55.0,1.3126620370370372,534.0,1.4655509901775794,330.0,None,False,True,"[""9d6ff623a4aca4bd30342da2512c1cf099727bcf""]"
4131eea437edb34c8699402773d57b9267d11766,0df6518027bd7f0b0d8bdbed4e8178953305efbd,Wez Furlong,wez@fb.com,Thu May 9 16:33:46 2013 -0700,1368142426,"remove stat thread from linux portSummary:nThis replaces the stat thread with inline FS operations on theninotify thread.  This is a result of realizing that the mutex we use tonlock the root effectively serializes this effort anyway.  (An earlierndesign was looking at using rwlocks, but it was realized that the volumenof clients would typically be very small).nnThis diff refactors the inotify processing so that it can be carried outnin some clearer steps:nn * wait for up to settle period for inotify eventsn * if none are received, process triggersn * otherwise, consume the inotify data from the kerneln * enqueue the workn * (we might consider looping here if we want to be aggressive)n * dispatch the queued work; stat and update the treennI like how the resulting code looks, and feel happy that this avoidsna potential race condition from the old model with the processing beingndone more incrementally, punctuated by releasing and re-acquiring locks.nnBonus: can eliminate some condition variable signalingnnThere are a couple of things that will manifest differently:nn * we don't literally check the settle timeout before running triggers, so we may spuriously trigger too soonn * this disables the unused recrawl coden * the initial crawl of the tree will now block all queries until it completes (previously we'd unlock periodically).  Since this is a tree traversal, this won't be unbounded, but malicious code that creates an infinitely deep tree can make us hurt more than we used to.nnI want to make equivalent changes for the other platforms, but this diff is big enough at the moment.nnTest Plan: `arc unit --everything`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://phabricator.fb.com/D805979n",216.0,137.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.1859393994860577,2.0,1469.5,103.0,1.6950694444444443,536.5,1.438201863539756,332.0,None,False,True,"[""2037e68e05ac7a4a9592e8a53895190016402ab9"", ""417bb51ee1289249767ba82e123b395bf4244c9f"", ""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed""]"
0df6518027bd7f0b0d8bdbed4e8178953305efbd,2037e68e05ac7a4a9592e8a53895190016402ab9,Wez Furlong,wez@fb.com,Thu May 9 19:15:53 2013 -0700,1368152153,"Refactor the removal of the stat thread and port itThis completely removes the stat thread and adjusts the BSD and Solarisnports to use the same model as 0df6518027bdnnIn doing this, we can refactor the main notify thread loop so that therenis just one very clear set of steps for handling incoming events.nnThis diff also fixes the directory traversal flags on the solaris portnso that we don't needlessly crawl directories in response to cookiesnbeing created/deleted in sync-to-now.n",123.0,264.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.1461774263247798,2.0,1260.6666666666667,153.0,1.0733449074074073,539.0,1.3220888512648128,335.0,Corrective,True,True,"[""417bb51ee1289249767ba82e123b395bf4244c9f""]"
2037e68e05ac7a4a9592e8a53895190016402ab9,eef61729ac25d63b7ae9a30035e9cc3bb720e5c6,Wez Furlong,wez@fb.com,Thu May 9 20:01:33 2013 -0700,1368154893,Bump for 2.3,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,164.0,29.0,2.94224537037037,541.0,1.339876480075528,336.0,None,False,,
eef61729ac25d63b7ae9a30035e9cc3bb720e5c6,c68b4136e4cf2a21d50c4d5ab9e78da7e46c3e9b,Wez Furlong,wez@fb.com,Thu May 9 21:17:54 2013 -0700,1368159474,Raise the default sync_timeout to 1 minuteThis is really my preferred default timeout.nI'm seeing some queries timeout in some early startup scenarios in ournbuild; I believe this is related to the amount of effort required tondispatch triggers from the initial startup with a large number of files;nit takes us just over the edge of the low timeout that we had.n,2.0,2.0,"configure.ac,CAS_DELIMITER,query/parse.c,CAS_DELIMITER",2.0,2.0,2.0,1.0,2.0,248.5,35.0,0.9602893518518518,542.5,10.690593601354788,25.0,Feature Addition,False,,
c68b4136e4cf2a21d50c4d5ab9e78da7e46c3e9b,d30ab014c5b501e37b06c8e9dfecead5aaa8f9f0,Wez Furlong,wez@fb.com,Fri May 10 15:12:05 2013 -0700,1368223925,tweak docs very slightly,4.0,4.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1045.0,29.0,3.8244907407407407,544.0,1.2614727208899756,338.0,Non Functional,False,,
d30ab014c5b501e37b06c8e9dfecead5aaa8f9f0,be58ee274a480e5bc08a4d59134d95c4cdaa5b1e,Wez Furlong,wez@fb.com,Fri May 10 15:12:49 2013 -0700,1368223969,move IN_Q_OVERFLOW error message inside schedule_recrawlThis avoids spamming the logs when we get a run of these eventsn,8.0,12.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2246.0,62.0,0.8312037037037037,545.0,2.203074523783001,339.0,None,False,True,"[""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed"", ""a12f73271d2b0fd82eddafae97d4119a53a5015a""]"
be58ee274a480e5bc08a4d59134d95c4cdaa5b1e,76f6d5f17e68ad01d8c7a8901e5070191a177cd6,Wez Furlong,wez@fb.com,Fri May 10 16:45:36 2013 -0700,1368229536,"Improve handling of the root-went-away casesAdd explicit handling for these on BSD and Solaris and avoidnraces in the test cases that are sensitive to it.nnRelated: if we decide to recrawl, drain any pending entries andnjust crawl again from the root.  This is to avoid the risk thatnwe'll waste time looking for that stuff multiple times and thenntrigger more queue overflow events.n",60.0,19.0,"root.c,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER,tests/integration/rmroot.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.7646478210728436,2.0,607.4,114.0,21.75850462962963,548.0,4.115127489560809,341.0,Feature Addition,False,,
76f6d5f17e68ad01d8c7a8901e5070191a177cd6,0f20bdcea6b52ea01eba8236ed42a6731eab2a68,Wez Furlong,wez@fb.com,Fri May 10 20:04:55 2013 -0700,1368241495,Be more aggressive at consuming notificationsThe goal is to avoid hitting an inotify queue overflow innreasonably common scenarios.nnThis causes us to consume notifications while they are availablenor until we have >= 16k to process.nnWe'll batch these up but uniq them in the pending list.nnThis centralizes the batching code (stealing it from the BSD port)nand avoids some alloc/free/realloc cycles.nnMove the BSD and Solaris event buffers to be heap allocated andnstored in the tail end of the root struct just like we do for Linux.n,103.0,79.0,"ht.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER",4.0,1.0,1.0,0.9506565309873044,2.0,862.0,117.0,61.54892361111111,552.5,1.0071081716854682,345.0,None,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
0f20bdcea6b52ea01eba8236ed42a6731eab2a68,643ea434e42248608bc06f6da52374abbd492161,Siddharth Agarwal,sid0@fb.com,Fri May 10 23:31:21 2013 -0700,1368253881,Add a command to get the socket nameSummary:nThis is super useful for clients.nnI picked the name to be consistent with the --sockname UI parameter.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D808829n,58.0,20.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/version.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,tests/integration/info.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",9.0,4.0,4.0,2.4201394020825675,2.0,278.22222222222223,171.0,7.2034529320987675,8.0,1.0330724821449742,6.0,Feature Addition,False,,
643ea434e42248608bc06f6da52374abbd492161,24f6182b9148e8e44b7a317998eebf5b89260275,Wez Furlong,wez@fb.com,Sat May 11 01:06:34 2013 -0700,1368259594,Some stress testing fixesNeed to reset the size of the hash table when we empty it...nnAlso bump up the sleep interval for the reaper thread tontake some load off the CPU.n,2.0,1.0,"ht.c,CAS_DELIMITER,listener.c,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,2.0,581.5,55.0,0.1378009259259259,555.5,5.201083524906647,347.0,Corrective,True,,
24f6182b9148e8e44b7a317998eebf5b89260275,417bb51ee1289249767ba82e123b395bf4244c9f,Wez Furlong,wez@fb.com,Sat May 11 01:50:42 2013 -0700,1368262242,"Fix use-after-free with triggered processesI think this bubbled up with the increase sleep period in thenreaper.  Most of this diff is adding instrumentation to helpntrack down the problem; W_LOG_FATAL is equivalent to W_LOG_ERRnbut will print a stack trace if the system supports it (turns outnthat Linux, OSX and Solaris all provide the backtrace() function)nand then abort.nnThe referencing problem was that the running child process shouldnhave been addref'd and delref'd at the appropriate points, sondo that.nnAlso noticed that we should have locked the root around dispatchingntriggers and subscriptions, so do that too.n",62.0,12.0,"configure.ac,CAS_DELIMITER,log.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,1.0,1.0,1.7716635823223892,2.0,685.8,161.0,1.7906018518518525,559.0,1.2835318256808954,352.0,Corrective,True,True,"[""33578dee4d6c38f0e38e695d8c1c5cd316d11b97""]"
417bb51ee1289249767ba82e123b395bf4244c9f,9bf903219fecc4a052bbb40674fa7a8074bd3b69,Wez Furlong,wez@fb.com,Sat May 11 02:09:41 2013 -0700,1368263381,Reap children on shutdownThe reaper thread exits when the listener is torn down.nThis may be before child processes have completed; if thatnhappens then we'll never delref the roots that we addref'dnwhen we spawned the children.nnEnsure that we reap children in our shutdown phasen,16.0,15.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.869137580612638,2.0,1517.5,117.0,0.02850694444444445,562.5,21.17723946303898,354.0,Feature Addition,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
9bf903219fecc4a052bbb40674fa7a8074bd3b69,8a92c886c9643e6accdd8785149e3ff0bf1a3f04,Wez Furlong,wez@fb.com,Sat May 11 02:30:48 2013 -0700,1368264648,"BSD: remove file watching code; only watch dirsI've been toying with this for a bit; I don't like that kqueuenrequires one fd per watched item, but since it can notify onnchanges in dirs, we don't have to watch the files.nnSo: don't do that.  Remove the file watching code and simplify.nPasses the test suite.n",17.0,91.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.3809465857053901,2.0,1463.0,116.0,0.021255787037037042,564.5,46.85779330858022,356.0,None,False,,
8a92c886c9643e6accdd8785149e3ff0bf1a3f04,88833e1807af13ccb1ec4e1512267a5878f2e03a,Wez Furlong,wez@fb.com,Sat May 11 13:00:41 2013 -0700,1368302441,"Some portability fixups * All the BSDs support O_CLOEXEC so use that for our watchesn * Ensure that we allocate/free the string for portfsn * 64-bit OpenBSD has a 32+64 bit integer size in its timespec,n   resulting in garbage padding so we can't use memcmp to comparen   timespecsn",35.0,6.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.3776463213737004,2.0,1485.0,120.0,0.44475115740740745,566.5,2.668102867518761,358.0,Corrective,True,True,"[""5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed""]"
88833e1807af13ccb1ec4e1512267a5878f2e03a,4bc4b6651506bac8e4b5064bcfd7e311d18db2ea,Wez Furlong,wez@fb.com,Sat May 11 14:47:59 2013 -0700,1368308879,Eliminate the reaper threadInstead we just mask off SIGCHLD to prevent it from landing innthe notify threads.  We unmask it in the listener and do annon-blocking reap on each pass through the listener.nnOur poll() call in the listener is interrupted by SIGCHLD.n,40.0,44.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.0578588636816562,2.0,1212.3333333333333,172.0,0.2203202160493827,569.0,8.214474892874122,361.0,None,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b""]"
4bc4b6651506bac8e4b5064bcfd7e311d18db2ea,c85afe0cb86000ce6eaca7d9f39998b022249a5e,Wez Furlong,wez@fb.com,Sat May 11 15:01:13 2013 -0700,1368309673,Fall back to getpwuid() if $USER is not set,20.0,4.0,"README.markdown,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.9737837298712216,2.0,722.3333333333335,108.0,0.5491280864197531,572.0,1.7416849137776875,364.0,None,False,,
c85afe0cb86000ce6eaca7d9f39998b022249a5e,75907744367fb785127cae88e299be8b0d147baa,Wez Furlong,wez@fb.com,Sat May 11 15:34:29 2013 -0700,1368311669,Add buildinfo to version outputPopulate this with the git hash during packagingn,16.0,1.0,"arcanist/workflow/package.php,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER",3.0,3.0,3.0,1.5485652260309184,2.0,123.66666666666669,41.0,5.370366512345679,575.0,1.064557252918042,365.0,Feature Addition,False,True,"[""301d171dabf17eff60350d378967d88f39fd69c8""]"
75907744367fb785127cae88e299be8b0d147baa,74cfb4cb7c1961f9c98c019cd34bb6aa8bece66f,Wez Furlong,wez@fb.com,Sat May 11 18:32:10 2013 -0700,1368322330,JSON: allow pre-sizing the array tableThis avoids realloc when we build large arrays in some responses.n,10.0,4.0,"listener.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER",4.0,3.0,3.0,1.4838317068446891,2.0,536.0,59.0,76.7096556712963,578.5,2.6468017470330047,23.0,None,False,,
74cfb4cb7c1961f9c98c019cd34bb6aa8bece66f,d1fcad0b775803583e83b184a1e467a4022ff8f7,Wez Furlong,wez@fb.com,Sun May 12 21:23:36 2013 -0700,1368419016,Prep for 2.4,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,173.0,33.0,1.2424421296296295,581.0,1.804866461102779,367.0,None,False,,
d1fcad0b775803583e83b184a1e467a4022ff8f7,879ffd26a8a146dc94a3c522b6ab0d1713efba2a,Wez Furlong,wez@fb.com,Sun May 12 23:12:51 2013 -0700,1368425571,"Bring back the reaper threadI've seen waitpid(WNOHANG) block on the listener, leading to watchdognkill (and no service while blocked).nnI'm somewhat nonplussed that WNOHANG can hang, which leads me to suspectnsome subtle unix detail that is not obvious from the various manpages.nnReinstate the reaper thread to handle this in a safer context.n",27.0,4.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,738.0,55.0,1.1949189814814816,582.0,1.8368768221927327,368.0,None,False,,
879ffd26a8a146dc94a3c522b6ab0d1713efba2a,d48f4a0706e52eef83b9c9264ebc3f78324c7d08,Wez Furlong,wez@fb.com,Sun May 12 23:15:40 2013 -0700,1368425740,prep for 2.4.1,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,173.0,34.0,0.07782407407407407,583.0,13.849494348602025,369.0,None,False,,
d48f4a0706e52eef83b9c9264ebc3f78324c7d08,18d08ac5cc6a05371400f6c059c87b582cf156e1,Wez Furlong,wez@fb.com,Tue May 14 14:51:18 2013 -0700,1368568278,"Allow resolving to roots that have been unlinkedDon't make the realpath error a blocker for removing stale entries.nnThese should happen any more (sincen76f6d5f17e68ad01d8c7a8901e5070191a177cd6) but just in case we endnup with roots in our list that don't exist on the filesystem, allownremoving them even if they don't exist any more.n",17.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2256.0,70.0,3.0023032407407406,584.0,1.3330776140231844,370.0,None,False,True,"[""48e018df8cf1088337ced07b94b57a762a985160""]"
18d08ac5cc6a05371400f6c059c87b582cf156e1,25132d76492ea9e0c2d2d41e59b8466e0bc8ed2d,Wez Furlong,wez@fb.com,Wed May 15 15:10:45 2013 -0500,1368648645,clarify the legacy pattern syntax a bit better,3.0,3.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1046.0,31.0,3.923287037037037,585.0,1.254888309358885,371.0,Perfective,False,,
25132d76492ea9e0c2d2d41e59b8466e0bc8ed2d,0e6fc7b6677be672415c7ded769868621592a261,Wez Furlong,wez@fb.com,Thu May 16 22:47:30 2013 -0500,1368762450,"fix expression leakWhoops, turned out that I hadn't filled in the actual destructorncode for expression terms when the last ref is deleted.n",4.0,0.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,333.0,6.0,6.978888888888887,586.0,1.1432892851456775,27.0,Corrective,True,,
0e6fc7b6677be672415c7ded769868621592a261,ec71a98d7afd82600babd22b087f0ff76ef6a542,Wez Furlong,wez@fb.com,Wed May 15 15:05:42 2013 -0500,1368648342,re-implement find + since on the query engineOne step closer to removing the old rules engine; next is thentrigger command.n,222.0,28.0,"cmds/find.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,4.0,4.0,1.5267738260581436,2.0,133.8,21.0,16.86548148148148,589.0,1.0511916692029692,372.0,None,False,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""d1b25d5c9ff93226092b97e7bb80b5e71ea4f287""]"
ec71a98d7afd82600babd22b087f0ff76ef6a542,c7ed890cb5fb04648a8437b5b420c518b8f19ec8,Wez Furlong,wez@fb.com,Thu May 16 23:48:32 2013 -0500,1368766112,Restructure the README to make it flow a bit betterAlso revise the legacy patterns syntax section to explain how thenquery term is constructed.n,348.0,283.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1046.0,32.0,1.359571759259259,592.0,1.7355257221177012,373.0,Perfective,False,,
c7ed890cb5fb04648a8437b5b420c518b8f19ec8,586e775538a399eab3adfd1cf02dcaf0b7b655de,Wez Furlong,wez@fb.com,Sat May 18 09:30:04 2013 -0700,1368894604,add .watchmanconfigAllow setting root specific options in a json file named .watchmanconfignin the root of the root.nnUse this to specify the settle period rather than via the command line.nThis makes it much simpler to establish watches from multiple clientsnwithout forcing them to invoke watchman with the same settle parameter.n,217.0,31.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,cfg.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",8.0,1.0,1.0,2.1162431664411074,2.0,703.125,268.0,11.274856770833333,596.5,1.0640356921153082,381.0,Feature Addition,False,,
586e775538a399eab3adfd1cf02dcaf0b7b655de,99e6b5f21f23716b44214c867e6e29f5b72717fb,Wez Furlong,wez@fb.com,Sat May 18 10:30:52 2013 -0700,1368898252,"Fixup dtor for `name` expression, and fix `iname`Long overdue unit test for the name expression.  Catches a faultnwhen destroying name terms if you're using a name map and fixesncase insensitive name comparisons.n",67.0,3.0,"query/name.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/name.php,CAS_DELIMITER",3.0,3.0,3.0,0.6182119084973084,2.0,167.33333333333334,13.0,34.773406635802466,602.0,1.0098284590629245,69.0,Corrective,True,True,"[""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
99e6b5f21f23716b44214c867e6e29f5b72717fb,1479122178de18945562c903fe31d129550fcacc,Wez Furlong,wez@fb.com,Sat May 18 12:06:09 2013 -0700,1368903969,"Enable code coverage collection using callgrindThis uses callgrind (part of valgrind) and dwarfdump to collectncode coverage information.  This feeds into the arcanist unit testnresults, but is also stashed in a data file and can be summarizednin a brutally utilitarian way using `arc cov`.  This shows the linesnof files that are not covered.n",518.0,5.0,".gitignore,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/cov/CallgrindFile.php,CAS_DELIMITER,arcanist/lib/cov/DwarfLineInfo.php,CAS_DELIMITER,arcanist/workflow/cover.php,CAS_DELIMITER",7.0,2.0,5.0,1.9009919763247536,2.0,77.85714285714286,42.0,47.95747354497354,607.0,1.0038157984711131,74.0,Preventative,False,,
1479122178de18945562c903fe31d129550fcacc,d7c9e702e83dbd6a00190f3dd1a69eda9dc678c6,Wez Furlong,wez@fb.com,Sat May 18 12:33:33 2013 -0700,1368905613,add more coverage for the `name` expression,41.0,0.0,"tests/integration/name.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,61.0,1.0,0.08519675925925926,611.0,12.737535660915634,70.0,Feature Addition,False,,
d7c9e702e83dbd6a00190f3dd1a69eda9dc678c6,7f55486bd0bfa9fef740f2ef8a63a650dd15abac,Wez Furlong,wez@fb.com,Sat May 18 17:24:51 2013 -0700,1368923091,add `arc cov --summary`Prints a nicer tabulation of coverage results.n,17.0,0.0,"arcanist/workflow/cover.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,102.0,1.0,0.22131944444444449,612.0,5.518355820520866,75.0,Feature Addition,False,,
7f55486bd0bfa9fef740f2ef8a63a650dd15abac,1352ced0c8aa679b71751d3d84147f59146d102d,Wez Furlong,wez@fb.com,Sat May 18 17:50:54 2013 -0700,1368924654,add tests for more query terms,164.0,0.0,"tests/integration/since-term.php,CAS_DELIMITER,tests/integration/suffix.php,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER",3.0,1.0,1.0,1.5130987450454128,1.0,0.0,0.0,0.0,614.0,0.0,73.0,Feature Addition,False,True,"[""064ff9f8ec3bcda53e5650cf927f306dce8fa8aa"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83"", ""083d410db82b567824b78b21587c457c9679d636""]"
1352ced0c8aa679b71751d3d84147f59146d102d,cfc5ee565717e18794c7527db6ba9881f5b9dd40,Wez Furlong,wez@fb.com,Sat May 18 20:54:49 2013 -0700,1368935689,add a way to run the test suite via the CLIThis adds some coverage of the client side code in the CLIn(in the sense that we're exercising the client side; this doesn'tncontribute to the --coverage data at this time)n,135.0,0.0,"arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",8.0,2.0,3.0,1.7071170667296716,2.0,135.875,63.0,23.061239872685185,619.5,1.7539643945431895,76.0,Feature Addition,False,,
cfc5ee565717e18794c7527db6ba9881f5b9dd40,8544705a8a751405f2235ba535b180c44b7ee6dd,Wez Furlong,wez@fb.com,Sat May 18 22:06:18 2013 -0700,1368939978,test giant PCREs with a lot of alternationsre-arrange the error message so that the human readable portionnappears earlier in the message.n,46.0,3.0,"query/pcre.c,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER",3.0,2.0,2.0,0.6488040389684693,2.0,49.0,3.0,33.613692129629634,625.0,1.010145547235912,78.0,Preventative,False,True,"[""58880469e46bd31113014b051da6f0c5be625884"", ""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173"", ""e03959b147f1550bb15e0a2a0e6223d98fb84ac6""]"
8544705a8a751405f2235ba535b180c44b7ee6dd,58880469e46bd31113014b051da6f0c5be625884,Wez Furlong,wez@fb.com,Sun May 19 11:39:50 2013 -0700,1368988790,Different PCRE libraries report this differentlySo fix up the test to allow multiple different failure cases.n,13.0,6.0,"tests/integration/bigpcre.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,43.0,1.0,0.5649537037037037,627.0,2.7700565434729167,79.0,Corrective,True,True,"[""e03959b147f1550bb15e0a2a0e6223d98fb84ac6""]"
58880469e46bd31113014b051da6f0c5be625884,48e018df8cf1088337ced07b94b57a762a985160,Wez Furlong,wez@fb.com,Mon May 20 17:00:13 2013 -0700,1369094413,Expose error message in the case that we fail to watch a rootSpent some time chasing down an issue on a system where inotify_init()nwas failing this morning.  Exposing the reason in the error messagenwould have saved some time.n,46.0,19.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/invalidroot.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,1.6956304519728544,2.0,928.5,182.0,1.734453125,629.5,1.2522408900499975,386.0,Corrective,True,True,"[""a63bc86c79e60160854d268b4e2b6d7f68b32d5b"", ""8d2cb06f73c8353407e9e722d306dc7887f3f173""]"
48e018df8cf1088337ced07b94b57a762a985160,909dc32887166365154422d46ddc8a9f2e99ffcb,Wez Furlong,wez@fb.com,Mon May 20 17:02:12 2013 -0700,1369094532,"If we decide to recrawl, force a re-watch of the tree",35.0,20.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2303.0,73.0,0.001377314814814815,632.0,727.0504201680674,387.0,None,False,True,"[""18ce53b611e7858931e6c4f9532f95f0af71744c"", ""e60964c549444592adc12c90ef6f4c370068f7c1""]"
909dc32887166365154422d46ddc8a9f2e99ffcb,6550b9f6ebe2c2d28d76d1a81b979ee420fc52b6,Wez Furlong,wez@fb.com,Mon May 20 17:47:10 2013 -0700,1369097230,"BSER: a binary serialization formatSummary:nAdd a binary serialization format.  This inserts fairly cleanly into our handling:nn * Format can represent all JSON types implemented in our libraryn * Strings are no longer spec'd as being UTF-8; they're binaryn * The CLI defaults to bser for client<->server communication and JSON for outputn * CLI options to select output and server encoding formatsn * The server responds in the same format as the request it receivednnThe binary format describes its own length which allows clients to know ahead ofntime how much memory they'll need and avoid realloc.  Each data item is a copynof its binary representation on the server, except for integer types which arenencoded using the smallest possible representation for the value at hand.  Thisnallows for a degree of compression compared to textual JSON and is much simplernto decode than translating string representations of numbers back and forth.nnIntegers are presented in host byte order since communication is always local;nit makes no sense to byteswap from LE to BE and back again.nnFurther compression is realized by changing the JSON library API tondefine template objects with properties that are known at the start ofnarray processing; this allows the property names to be factored out ofnthe object value stream and allows saving approximately 50% of the spacenvs. compact JSON.nnA python `bser` extension is included that supports `dumps` and `loads`;nyou can exercise the extension using:nn```ncd python/bsern./setup.py buildnPYTHONPATH=build/lib.linux-x86_64-2.6 ./tests.pyn```nnReviewers: sid0nnReviewed By: sid0nnCC: security-diffs@lists, bryanonnDifferential Revision: https://phabricator.fb.com/D809287nnTask ID: 2339174n",2221.0,101.0,".gitignore,CAS_DELIMITER,BSER.markdown,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,bser.c,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,python/bser/bser.c,CAS_DELIMITER,python/bser/setup.py,CAS_DELIMITER,python/bser/tests.py,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,thirdparty/jansson/hashtable.c,CAS_DELIMITER,thirdparty/jansson/hashtable.h,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/pack_unpack.c,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",23.0,6.0,6.0,2.8883073077073638,2.0,234.95652173913044,224.0,38.55512429549115,644.0,1.0644694713383962,395.0,None,False,True,"[""ec00509ebf7d1735bb3692c1a3bfa95736f44a74"", ""2689ce99f168c66b751ebef2d15b7ff6d0e616d4"", ""2ce2b58264e11c8224f8d7e6d69fb6c804eebde6"", ""32e5f3df8a6e66cdff7c7bc964dd30911ae2ea17"", ""1f223e362a470f146f9f360695377bd9d8ecc39e"", ""93af7efa47601b0cbde68182e8884e9a11e032e3"", ""d130c9e25cc949f77150e06ecc629a39fb7243d2"", ""f606a2a3fee971ce79bd73461cd46400cb55dd1d"", ""f57da7a3be4641ed4496dff60fef30d8ec9ac102""]"
6550b9f6ebe2c2d28d76d1a81b979ee420fc52b6,88e2f3f670bc62db16d982d25af03a54b41d1351,Wez Furlong,wez@fb.com,Mon May 20 19:28:49 2013 -0700,1369103329,"Turn off non-blocking in BSER readerThe JSON reader handles this reasonably (we bubble back up to the poll)nbut the logic in the bser handler is a little bit more brittle atnthe moment.  Just turn on blocking to make it work correctly untilnI can make a second pass over it.nnThis manifested as an intermittent failure on OSX, presumably duento differences in how bufs are managed in the kernel making it morenlikely that we'd EAGAIN; would pass reliably on Linux.n",3.0,0.0,"json.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,495.0,5.0,0.07059027777777778,656.0,15.166256763403835,396.0,Corrective,True,,
88e2f3f670bc62db16d982d25af03a54b41d1351,ec00509ebf7d1735bb3692c1a3bfa95736f44a74,Wez Furlong,wez@fb.com,Tue May 21 00:00:45 2013 -0700,1369119645,clean up bser module for pythonIntegrate python build more fully with the overal build/test code.nFixup some integer size issues and raise errors when integers arentoo large for python to handle.nnAllow arc unit to exercise python unit test.n,117.0,21.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,python/bser/bser.c,CAS_DELIMITER,python/bser/setup.py,CAS_DELIMITER,python/bser/tests.py,CAS_DELIMITER",6.0,3.0,3.0,1.8433871672807407,2.0,189.3333333333333,72.0,1.5547453703703702,659.5,2.038295934281117,5.0,Corrective,True,True,"[""74aff4684a0e5151e90e3ef27ef442a31e062219""]"
ec00509ebf7d1735bb3692c1a3bfa95736f44a74,2e5e5acb83ecc6413e04b61edb65ce5eeff7a5f4,Wez Furlong,wez@fb.com,Wed May 22 11:14:40 2013 -0700,1369246480,prep for 2.5,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,184.0,36.0,1.4679976851851853,663.0,1.6811999842314818,399.0,None,False,,
2e5e5acb83ecc6413e04b61edb65ce5eeff7a5f4,c24ae6d28699f836e2ddd3171a0411ee5b7b4202,Wez Furlong,wez@fb.com,Wed May 22 11:27:58 2013 -0700,1369247278,Force service restart on upgradeThe move to bser by default means that we need to force serversnto update to the new bits to avoid having the CLI hang (oldnservers don't speak BSER)n,11.0,0.0,"arcanist/workflow/package.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,179.0,9.0,10.828807870370367,664.0,1.092346268580144,86.0,Feature Addition,False,True,"[""265afae7247503b60140923a66d32645468854b4""]"
c24ae6d28699f836e2ddd3171a0411ee5b7b4202,8a2baf07e3c1a480c72795780950ecb921874c2b,Wez Furlong,wez@fb.com,Thu May 23 14:18:24 2013 -0700,1369343904,An exception to our Apache LicenseThe file python/bser/bser.c is made available under a 3-clause BSDnlicense to facilitate linkage with some other projects.n,32.0,2.0,"arcanist/lib/WatchmanLicenseLinter.php,CAS_DELIMITER,python/bser/bser.c,CAS_DELIMITER",2.0,2.0,2.0,0.4305518670104394,2.0,399.5,3.0,69.15719328703703,665.5,1.007299041034091,6.0,None,False,,
8a2baf07e3c1a480c72795780950ecb921874c2b,a63bc86c79e60160854d268b4e2b6d7f68b32d5b,Wez Furlong,wez@fb.com,Thu May 30 17:05:28 2013 -0700,1369958728,Fixup compile on 32-bit systems,143.0,132.0,"cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,ht.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,query/pcre.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,query/type.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER",16.0,3.0,3.0,2.9223736069338107,2.0,383.5625,220.0,33.33308232060186,674.5,1.0074326609014534,405.0,Corrective,True,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
a63bc86c79e60160854d268b4e2b6d7f68b32d5b,2611f4bd55f43e224565bf43330c2874fc1f441d,Wez Furlong,wez@fb.com,Thu May 30 22:10:09 2013 -0700,1369977009,Experimenting with travis-ciThis may or may not result in a successful build on the travis CIninfrastructure.n,39.0,0.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,1.4531471720102591,1.0,0.0,0.0,0.0,684.0,0.0,1.0,None,False,True,"[""4aa03f7ca22b56e79c708b752b6ce263a4934123""]"
2611f4bd55f43e224565bf43330c2874fc1f441d,6e89d75f1a27e4c11201d1ab49271287e6fab5f0,Wez Furlong,wez@fb.com,Thu May 30 22:15:49 2013 -0700,1369977349,add default-relative-commit for arcThis avoids having arc prompt for it during the CI run :-/n,1.0,0.0,".arcconfig,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,8.0,3.0,179.3530092592593,686.0,1.0055755964403947,407.0,Feature Addition,False,,
6e89d75f1a27e4c11201d1ab49271287e6fab5f0,4aa03f7ca22b56e79c708b752b6ce263a4934123,Wez Furlong,wez@fb.com,Thu May 30 22:33:05 2013 -0700,1369978385,I suspect an inotify resource limit issue on the travis hostSo bump up the settings and cat the log on build failure.n,16.0,2.0,"travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,1.0,1.0,0.9640787648082292,1.0,14.5,2.0,0.015925925925925927,687.5,48.093023255813954,3.0,Corrective,True,True,"[""e82c41f60e7c0a5d97477fa5cc09392f877293b0"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
4aa03f7ca22b56e79c708b752b6ce263a4934123,3a62f3958ef86390f60e8b0d85ff71dff24fb3f4,Wez Furlong,wez@fb.com,Thu May 30 22:37:29 2013 -0700,1369978649,sysctl seems to be restricted in travis-ciMake these soft errors; really want to see the logs to determinenthe issue.n,9.0,8.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,28.0,2.0,0.0030555555555555557,689.0,328.27272727272725,4.0,None,False,True,"[""75e55532151b141e5b7761c5b0163eb5a370fc1a"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
3a62f3958ef86390f60e8b0d85ff71dff24fb3f4,e82c41f60e7c0a5d97477fa5cc09392f877293b0,Wez Furlong,wez@fb.com,Thu May 30 22:57:03 2013 -0700,1369979823,more travis-ci debugging:-/n,2.0,2.0,"travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,1.0,22.0,5.0,0.01511574074074074,690.5,54.336324811967295,6.0,Corrective,True,,
e82c41f60e7c0a5d97477fa5cc09392f877293b0,75e55532151b141e5b7761c5b0163eb5a370fc1a,Wez Furlong,wez@fb.com,Thu May 30 23:07:57 2013 -0700,1369980477,even more travis-ci debuggingWish this weren't so noisyn,9.0,3.0,"travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,1.0,22.0,7.0,0.0075694444444444455,692.5,100.08256880733944,8.0,Corrective,True,,
75e55532151b141e5b7761c5b0163eb5a370fc1a,39d1ab25f592b1040173a4a5e9b842f0dcc75ee9,Wez Furlong,wez@fb.com,Thu May 30 23:12:24 2013 -0700,1369980744,travis-ci build seems like a simfs/inotify issueLooks like we have a /dev/shm mount that we can use for tempfilesn,5.0,6.0,"travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,1.0,1.0,0.8453509366224365,1.0,25.0,9.0,0.003090277777777777,694.5,243.6966292134832,10.0,None,False,,
39d1ab25f592b1040173a4a5e9b842f0dcc75ee9,fd6fdafefde451c06a26f8a0d3be475f133df916,Wez Furlong,wez@fb.com,Thu May 30 23:42:33 2013 -0700,1369982553,"travis-ci: AFAICT, this is somehow OpenVZ specificSo skip these two tests if we're in travis and on linux :-/n",7.0,6.0,"tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/rmroot.php,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,1.4572659136233872,2.0,48.0,9.0,30.636246141975302,697.0,1.01191000568232,11.0,None,False,,
fd6fdafefde451c06a26f8a0d3be475f133df916,2a4f77d2039e1f94b8e0c1f24fe3c0267c520064,Wez Furlong,wez@fb.com,Thu May 30 23:48:01 2013 -0700,1369982881,and one more to persuade travis-ci to be happier,3.0,0.0,"tests/integration/remove.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,62.0,3.0,20.29334490740741,699.0,1.0492772386495528,84.0,None,False,,
2a4f77d2039e1f94b8e0c1f24fe3c0267c520064,2cb1dacf77248c35cf7f7328e27c7a55adae6ebe,Wez Furlong,wez@fb.com,Thu May 30 23:57:57 2013 -0700,1369983477,Add travis-CI build status button to readme,2.0,0.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1135.0,34.0,12.60269675925926,700.0,1.0793480966099809,408.0,Feature Addition,False,,
2cb1dacf77248c35cf7f7328e27c7a55adae6ebe,064ff9f8ec3bcda53e5650cf927f306dce8fa8aa,Wez Furlong,wez@fb.com,Fri May 31 00:14:24 2013 -0700,1369984464,"Fixup flaky testctime query should be based off the last known ctime, not thenlast known mtime.n",2.0,2.0,"tests/integration/since-term.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,77.0,1.0,12.266319444444445,701.0,1.081524046763099,85.0,Corrective,True,,
064ff9f8ec3bcda53e5650cf927f306dce8fa8aa,09c084e011139958e94f89bc27acc0351566f7df,Wez Furlong,wez@fb.com,Fri May 31 00:31:11 2013 -0700,1369985471,"travis-ci: add more combinations to matrixWant to enable stack protector build and a valgrind run, as wellnas enable the python module and test it.nnI'm kinda guessing about the env configuration so this may breaknthe build...n",20.0,1.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,0.7228578977329688,2.0,18.0,13.0,0.0621412037037037,703.0,8.375131066929898,13.0,None,False,,
09c084e011139958e94f89bc27acc0351566f7df,90c3258d02f22981607ea4d9f1b97b610129e69d,Wez Furlong,wez@fb.com,Fri May 31 00:41:45 2013 -0700,1369986105,actually enable python in the matrixtry harder to get valgrind installedn,2.0,2.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,1.5,2.0,24.33333333333333,16.0,0.007337962962962963,706.0,84.28075709779179,15.0,None,False,,
90c3258d02f22981607ea4d9f1b97b610129e69d,b433819adf9faf1f1d80dd1408df0f3ae44a3eb7,Wez Furlong,wez@fb.com,Fri May 31 00:55:49 2013 -0700,1369986949,"travis-ci: remove bogus compiler line, expose valgrind log",2.0,2.0,".travis.yml,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,2.0,21.0,11.0,0.009768518518518518,708.5,77.77725118483413,16.0,None,False,,
b433819adf9faf1f1d80dd1408df0f3ae44a3eb7,e17048b834e56e47ed08329318a5d5917426faa5,Wez Furlong,wez@fb.com,Fri May 31 01:18:05 2013 -0700,1369988285,"improve -h and --helpFixup alignment of options, add note about settle being deprecatednfor the option in .watchmanconfign",13.0,3.0,"main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.2475562489182657,2.0,462.33333333333326,93.0,6.989456018518517,711.0,1.0795017358545442,414.0,Corrective,True,True,"[""2382de47ee73bc46714c77909709a0a38f1c077a""]"
e17048b834e56e47ed08329318a5d5917426faa5,2382de47ee73bc46714c77909709a0a38f1c077a,Wez Furlong,wez@fb.com,Fri May 31 01:48:21 2013 -0700,1369990101,make --help output go to stdoutPreserve sending usage() to stderr when you use it wrong though.n,12.0,12.0,"main.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.8166890883150209,2.0,465.66666666666674,96.0,0.02101851851851852,714.0,30.07488986784141,417.0,Corrective,True,,
2382de47ee73bc46714c77909709a0a38f1c077a,943ae3ce239371cd33eaa1033f580aca787ef1b9,Ricky Elrod,ricky@elrod.me,Fri May 31 05:07:50 2013 -0400,1369991270,Add a --version flag that prints PACKAGE_VERSION.This is useful for help2man to add the version at the top of thengenerated manpage.n,7.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,465.0,32.0,0.013530092592592592,0.0,0.0,0.0,Feature Addition,False,,
2382de47ee73bc46714c77909709a0a38f1c077a,eb333acb2531f8629d21305284d9ebccad6ced6a,Dan Scott,dan@coffeecode.net,Fri May 31 11:18:00 2013 -0400,1370013480,Address README typosA quick read of the README turned up two minor typos in the well-writtenndocumentation.nnSigned-off-by: Dan Scott <dan@coffeecode.net>n,2.0,2.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1137.0,35.0,0.34725694444444444,0.0,0.0,0.0,Feature Addition,False,,
2382de47ee73bc46714c77909709a0a38f1c077a,8d2cb06f73c8353407e9e722d306dc7887f3f173,Wez Furlong,wez@fb.com,Fri May 31 08:57:26 2013 -0700,1370015846,avoid flakiness in valgrind modeThe travis-ci environment seems prone to failing the valgrindntests because the auto-unwatch-on-deletion stuff seems unreliablenin the openvz VM in use there.nnAdd a tear-down handler in our tests that auto-unwatches watchesnestablished using the new watch() method.  This explicitly tellsnwatchman to release its resources; the hope is that this happensnsoon enough that the service can fully shut down its threads bynthe time that we halt it and that valgrind runs clean.n,45.0,27.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER,tests/integration/bsdish.php,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER,tests/integration/cursor.php,CAS_DELIMITER,tests/integration/empty.php,CAS_DELIMITER,tests/integration/fields.php,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER,tests/integration/invalidexpr.php,CAS_DELIMITER,tests/integration/invalidroot.php,CAS_DELIMITER,tests/integration/moremoves.php,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/name.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER,tests/integration/rmroot.php,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/suffix.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER",25.0,2.0,2.0,4.210777084415066,2.0,66.68,76.0,22.291403703703704,728.0,1.0090331570643412,109.0,Corrective,True,True,"[""a12f73271d2b0fd82eddafae97d4119a53a5015a"", ""aa3607f7c8817b1e0adfea6cf8296dbcfa9db6c6"", ""083d410db82b567824b78b21587c457c9679d636""]"
8d2cb06f73c8353407e9e722d306dc7887f3f173,2689ce99f168c66b751ebef2d15b7ff6d0e616d4,Wez Furlong,wez@fb.com,Fri May 31 09:31:48 2013 -0700,1370017908,fixup name leak when root is unlinkedTidy up the disconnection case error handling to avoid usingnjunk in jerr.text as a log message.n,5.0,1.0,"json.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.6500224216483541,2.0,1406.0,81.0,5.635179398148147,741.5,1.0915990078669051,419.0,Corrective,True,,
2689ce99f168c66b751ebef2d15b7ff6d0e616d4,573f8b7e765e21dc8ad01204828383b97de2577d,Wez Furlong,wez@fb.com,Fri May 31 09:41:34 2013 -0700,1370018494,deal with another rare leak spotted by valgrindI believe this is the response to shutdown-server that we nevernsend (because we shutdown the server).  In normal operation wenwill have sent the responses before the client is deleted.n,8.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,785.0,60.0,0.6917361111111111,743.0,2.4456379881537997,420.0,None,False,,
573f8b7e765e21dc8ad01204828383b97de2577d eb333acb2531f8629d21305284d9ebccad6ced6a,083742557dbf881a239d1635aa4d82afc64261df,Wez Furlong,wez@netevil.org,Fri May 31 09:51:44 2013 -0700,1370019104,Merge pull request #4 from dbs/readme_typosAddress README typos,,,,,,,,,,,,,,,Merge,False,,
083742557dbf881a239d1635aa4d82afc64261df 943ae3ce239371cd33eaa1033f580aca787ef1b9,e806e5fd9ffab18819e10c8dd0cb3d3e61c313b4,Wez Furlong,wez@netevil.org,Fri May 31 10:02:15 2013 -0700,1370019735,Merge pull request #3 from CodeBlock/add-version-flagAdd a --version flag that prints PACKAGE_VERSION.,,,,,,,,,,,,,,,Merge,False,,
e806e5fd9ffab18819e10c8dd0cb3d3e61c313b4,47d55035d9f3b0529ad36dde058bf6ee0d624508,Wez Furlong,wez@fb.com,Fri May 31 10:08:05 2013 -0700,1370020085,allow -v as an alias for --version,1.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,472.0,33.0,0.33350694444444445,744.0,3.9984383133784487,421.0,None,False,,
47d55035d9f3b0529ad36dde058bf6ee0d624508,10ffb15086ece43f013653d65daa51e238b34c75,Wez Furlong,wez@fb.com,Fri May 31 13:48:55 2013 -0700,1370033335,travis-ci: attempt to use OSX,5.0,0.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,0.7219280948873623,2.0,28.5,12.0,0.5417592592592593,745.5,2.392775062678957,17.0,None,False,True,"[""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
10ffb15086ece43f013653d65daa51e238b34c75,360bca66d9a4a36e55a093486e4ba35638677546,Wez Furlong,wez@fb.com,Fri May 31 14:02:31 2013 -0700,1370034151,travis-ci: remove objective-cIt just generates a bogus additional gcc rown,0.0,1.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,27.0,5.0,0.009444444444444445,747.0,106.88235294117644,423.0,None,False,,
360bca66d9a4a36e55a093486e4ba35638677546,fecfb258b0b354b69094cc2ef1ccc47604d83688,Wez Furlong,wez@fb.com,Sat Jun 1 15:57:12 2013 -0700,1370127432,Improve docs,50.0,2.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1137.0,36.0,1.318888888888889,748.0,1.7582139848357201,424.0,Non Functional,False,,
fecfb258b0b354b69094cc2ef1ccc47604d83688,57e83b2e5ff2f24a3a61be43209ce4f4a6e4ffc9,Sebastian Freundt,freundt@ga-group.nl,Thu Jun 6 12:48:15 2013 +0000,1370522895,Allow out of tree buildsThis changeset fixes an issue with the thirdparty jansson's include paths.nFor out of tree builds both the source tree and the build tree have to benincluded.n,1.0,1.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,131.0,25.0,16.241319444444443,0.0,0.0,0.0,Corrective,True,,
57e83b2e5ff2f24a3a61be43209ce4f4a6e4ffc9,d3355915fef66cd60682cd6270bb638f194ab1aa,Wez Furlong,wez@fb.com,Sat Jun 8 22:44:26 2013 -0700,1370756666,Fix dependencies so that `make -j` worksAlso bump ready for a 2.6 tag.n,3.0,3.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,2.0,157.5,64.0,5.970538194444447,749.5,1.2266685043333985,426.0,Corrective,True,,
d3355915fef66cd60682cd6270bb638f194ab1aa,feea79d36a5b2d1cc542f703af35100a2497542d,Wez Furlong,wez@fb.com,Mon Jun 24 17:27:48 2013 -0700,1372120068,"move socket unlink into the listener codeDo this just in time.  We're seeing some machines where thensocket has vanished and I suspect a race condition.  When runningnunder gimli, gimli will serialize this via the pidfile.n",1.0,2.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,2.0,632.5,95.0,24.314565972222233,751.5,1.0308379239815244,428.0,None,False,,
feea79d36a5b2d1cc542f703af35100a2497542d,3344b1dca29614374193cf1bb8bdfbef96fd6ad0,Wez Furlong,wez@fb.com,Tue Jun 25 00:37:32 2013 -0700,1372145852,prep for 2.6.1,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,184.0,39.0,16.078541666666666,753.0,1.062194695310779,429.0,None,False,,
3344b1dca29614374193cf1bb8bdfbef96fd6ad0,6afe9f67146d1922ce684ea3b33c050529d5e623,Siddharth Agarwal,sid0@fb.com,Tue Jun 25 14:21:17 2013 -0700,1372195277,Add basic Mercurial support to the watchman repoSummary: Add an hgignore and arc support.nnTest Plan: Check `arc which` in both hg and git.nnReviewers: weznnReviewed By: weznnCC: fugalhnnDifferential Revision: https://phabricator.fb.com/D863836nn--HG--nextra : amend_source : e2d5d22aaa50bd8ab18338007061b71f9cc1543bn,35.0,0.0,".arcconfig,CAS_DELIMITER,.gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER",3.0,1.0,1.0,0.3731399901212818,2.0,13.0,15.0,20.509162808641968,14.0,1.0238203577954053,9.0,Feature Addition,False,,
6afe9f67146d1922ce684ea3b33c050529d5e623,301d171dabf17eff60350d378967d88f39fd69c8,Siddharth Agarwal,sid0@fb.com,Wed Jun 26 15:24:33 2013 -0700,1372285473,Fix buildinfo generationSummary: Add the VCS and use the canonical revision.nnTest Plan: arc package in both hg and git reposnnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D865662nn--HG--nextra : rebase_source : caae0ded5ec3b258f02687861a571d1a8ceb8c1fnextra : amend_source : 52a087b6dfe7a52630a6578bd9f548bc74c14d6bn,2.0,1.0,"arcanist/workflow/package.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,190.0,10.0,35.16429398148148,16.0,1.028437937657063,1.0,Corrective,True,,
301d171dabf17eff60350d378967d88f39fd69c8,d2e1ae3056fd5de30df7f929262fbdbf275dade9,Siddharth Agarwal,sid0@fb.com,Tue Jun 25 23:16:40 2013 -0700,1372227400,"Add the notion of fresh instances to query and sinceSummary:nConsider the following sequence of events:n- Watchman is tracking a file Fn- A client queries for the current status, gets back Fn- F gets deletedn- The watchman process gets restartedn- A client queries for the current statusnnSince F never existed at any point after watchman was restarted, the client won't ever get to know that F was missing. This is a problem.nnTo fix this, add the notion of fresh instances to watchman. For a relative clock value, a fresh instance is whenever the clock value indicates that it was returned from a different watchman. For a named cursor, a fresh instance is whenever the cursor is seennfor the first time.nnEvery query and since now returns a boolean called is_fresh_instance. Whenever this is set to true, the result set contains all files (that match the predicate if specified) and that exist. Non-existent files are not returned.nnIn addition, for advanced users, an input argument called empty_on_fresh_instance is available. If this is set, then for fresh instances watchman will return an empty list instead.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D865561nnTask ID: 2396485nn--HG--nextra : rebase_source : 662da2732aee395494a3ff8090bc52f4f60f5356nextra : amend_source : 6060316cbc092ae7cebec67fb627cfbb1f8ba942n",129.0,10.0,"README.markdown,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/cursor.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",11.0,4.0,4.0,2.7529518628807783,2.0,378.45454545454544,234.0,26.27487373737374,22.0,1.010015199529368,14.0,Feature Addition,False,,
d2e1ae3056fd5de30df7f929262fbdbf275dade9,e03959b147f1550bb15e0a2a0e6223d98fb84ac6,Wez Furlong,wez@fb.com,Mon Jul 1 19:39:57 2013 -0700,1372732797,"Fixup compilation and tests on SolarisWhen we removed the 64-bit compilation hammer we started to failnsome of our tests because we're running them them with a 64-bit PHPnbut a 32-bit watchman.nnSo, force it back on to 64-bit when building on Solaris (why wouldn'tnyou want that anyway?).nnAlso adjust the pcre test to allow for the regex to be parsednsuccessfully.n",23.0,14.0,"configure.ac,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER",2.0,2.0,2.0,0.9090221560878148,2.0,117.0,44.0,18.647847222222214,754.5,1.0988837306450585,110.0,Corrective,True,,
e03959b147f1550bb15e0a2a0e6223d98fb84ac6,c6dbda20726d58f578bbca290c6a739c4e76d751,Siddharth Agarwal,sid0@fb.com,Mon Jul 1 16:43:59 2013 -0700,1372722239,Update directory mtimes when a file inside changesSummary: Reviewed over the shoulder by @wez.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D871378nn--HG--nextra : rebase_source : 2fd79ec883a0773fd20350a92f5976f20c46b959nextra : amend_source : 9cac0fc8abc401dc51cd8c346fb9ea66fb5cb36an,32.0,0.0,"root.c,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER",2.0,2.0,2.0,0.6962122601251458,2.0,1173.5,78.0,31.312060185185185,28.5,1.0239585199990136,4.0,None,False,,
c6dbda20726d58f578bbca290c6a739c4e76d751,01628384c5f93687a55a70ad4eed5bd8521f2ac5,Siddharth Agarwal,sid0@fb.com,Tue Jul 2 21:31:51 2013 -0700,1372825911,"Remove atime from fields trackedSummary: We don't get notified on access (too expensive), so remove atime from the list of fields tracked. It's misleading at best, dangerous at worst.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D873778nn--HG--nextra : amend_source : a730972b29b6553fa2ab2481498431130d7f3383n",8.0,23.0,"README.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/fields.php,CAS_DELIMITER",6.0,3.0,3.0,2.550857811547588,2.0,839.6666666666665,193.0,14.615071373456793,32.5,1.052119574938131,5.0,None,False,,
01628384c5f93687a55a70ad4eed5bd8521f2ac5,060344e6283cab119e1ed63721249047fdcb0488,Siddharth Agarwal,sid0@fb.com,Tue Jul 2 21:35:02 2013 -0700,1372826102,"Fix watchman readme for ctimeSummary: ctime is actually inode change time, not creation time.nnTest Plan: just a doc changennReviewers: weznnDifferential Revision: https://phabricator.fb.com/D873784nn--HG--nextra : rebase_source : 6d563a3fa796e46cd017f5294393741758097a9dn",1.0,1.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1187.0,39.0,0.002210648148148148,36.0,453.35602094240835,19.0,Corrective,True,,
060344e6283cab119e1ed63721249047fdcb0488,166b5a51a7ee8d27dd866aa70c09184ed298a43d,Siddharth Agarwal,sid0@fb.com,Tue Jul 23 15:32:15 2013 -0700,1374618735,Add a couple of useful functions to string.cSummary: These functions are going to be useful in an upcoming diff.nnTest Plan: This code is currently unused.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D897913nnTask ID: 2646666nn--HG--nextra : amend_source : fd9173eca9f531c12148063b0d580d31fd9a834dn,42.0,0.0,"string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.2761954276479391,2.0,508.0,70.0,46.9433912037037,37.5,1.0128773731441707,21.0,Feature Addition,False,,
166b5a51a7ee8d27dd866aa70c09184ed298a43d,16649583e9b39e2168ba0b6b044974a3a5fafae5,Siddharth Agarwal,sid0@fb.com,Tue Jul 23 17:15:17 2013 -0700,1374624917,"Return cookies from other watches or watchmenSummary:nFor certain uses of watchman it is important for its view of the file system to be as consistent as possible. So instead of hiding all cookie files altogether, show cookie filesncreated by other watchman processes or by other watches for the same process.nnTest Plan: `arc unit --everything`. Also ran `tests/integration/othercookies.php` against master and saw that it failed.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D898053nnTask ID: 2646666nn--HG--nextra : rebase_source : 68d2ae494ea6d81dd265d47dbebf488cf04e5057nextra : amend_source : df532925ce0bd6ca5d442780448e46288c8a9655n",81.0,52.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/othercookies.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,3.0,3.0,1.784449815732508,2.0,776.2,173.0,17.362495370370368,41.0,1.012260188816779,24.0,None,False,True,"[""229211681884a07f7b6e51c5a74b5a43cd93a8b9"", ""5f7e4509eba4f9ff999c1a4103b12e0b13c6d1c7"", ""d79324aa8222d81731d4d894f026939e896e17db""]"
16649583e9b39e2168ba0b6b044974a3a5fafae5,229211681884a07f7b6e51c5a74b5a43cd93a8b9,Siddharth Agarwal,sid0@fb.com,Thu Jul 25 17:44:09 2013 -0700,1374799449,Fix getting Watchman's pidTravis doesn't seem very happy with just looking at the pid from proc_get_status.n,17.0,5.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",4.0,3.0,3.0,1.3795588554446871,2.0,355.0,98.0,43.92771412037037,45.5,1.1309256509312076,26.0,Corrective,True,True,"[""605362f88e3e83ded3ab202160200407a0f09505""]"
229211681884a07f7b6e51c5a74b5a43cd93a8b9,a0cd9d2d871579868fc62750cf9cc827e78a9873,Siddharth Agarwal,sid0@fb.com,Wed Jul 24 21:28:19 2013 -0700,1374726499,"Add an environment variable to point to alternate global configsSummary: Add a way to specify a config location at runtime: an environment variable called `WATCHMAN_CONFIG_FILE`. This is useful both to isolate the test suite and to write tests that need certain global options to be set.nnTest Plan: `arc unit --everything`, though the real test for it will come in an uncoming diff.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D900221nnTask ID: 2647765nn--HG--nextra : rebase_source : f7aa8474becefd97c0f6522ae3b88ab32dbd52e6nextra : amend_source : c8a287f7327fd1d4e78ed7f8b0349d5eb0d24db6n",13.0,5.0,"cfg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,130.0,1.0,67.49878472222223,48.0,1.01481508154725,27.0,Feature Addition,False,,
a0cd9d2d871579868fc62750cf9cc827e78a9873,bf5fb0d739e704affd6ab48ab5e07a7265765f68,Siddharth Agarwal,sid0@fb.com,Wed Jul 24 20:25:33 2013 -0700,1374722733,Add support for tests needing separate global configsSummary:nAn upcoming diff will include a test that will need a separate global config. Add support for that.nnThis includes:n- Making `WatchmanInstance` a real object and not a singleton.n- Turning the static field in `WatchmanQueryFuture` into a parameter.nnTest Plan: `arc unit --everything` -- the real test will come in an upcoming diff though.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D900217nnTask ID: 2647765nn--HG--nextra : rebase_source : f1c8906f460a35ea8552a1d40ad6fdece65d50e1nextra : amend_source : 887e111cb9e3e7a5ac98df4172e51a70d3cf0168n,55.0,41.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/info.php,CAS_DELIMITER,tests/integration/othercookies.php,CAS_DELIMITER",7.0,2.0,2.0,2.1815367364583045,2.0,159.42857142857142,63.0,44.861635251322745,52.0,0.8447399242970134,9.0,Feature Addition,False,True,"[""f26c51de940c3457ce072cf571a947098976093c"", ""605362f88e3e83ded3ab202160200407a0f09505""]"
bf5fb0d739e704affd6ab48ab5e07a7265765f68,57a92eef19218ac28565ea252def4041461c9edc,Siddharth Agarwal,sid0@fb.com,Tue Jul 23 22:12:10 2013 -0700,1374642730,"Add a global config option to restrict root creationSummary:nWe've found in practice that it's too easy for relatively careless clients to unintentionally open nested watches. To fix this, add an optional configuration option called `root_restrict_files` thatnrestricts watch roots to directories in which certain files are present.nnTest Plan: `arc unit --everything`.nnReviewers: weznnDifferential Revision: https://phabricator.fb.com/D898432nnTask ID: 2647765nn--HG--nextra : rebase_source : 92274a5c1512f3c25407d4cbddb4aa3519c248b9nextra : amend_source : f0b0d0c4d6fd76f767fe531189c0707e5d679f85n",118.0,3.0,"cfg.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/rootrestrict.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,1.2818015413008617,2.0,787.75,141.0,-0.139302662037037,57.5,-0.3614974163723764,30.0,Feature Addition,False,True,"[""aa3607f7c8817b1e0adfea6cf8296dbcfa9db6c6""]"
57a92eef19218ac28565ea252def4041461c9edc,7008f01fd49c6108371ddccf561f187f009c3716,Siddharth Agarwal,sid0@fb.com,Fri Jul 26 12:58:43 2013 -0700,1374868723,"arc package: add option to specify config fileSummary: We'd like to specify a config file for deployments -- add an option for that.nnTest Plan:nBuilt an RPM with a custom config file containing values for `root_restrict_files`, and installed it locally. Saw that the config file was installed in `/etc/watchman.json`. Created an emptyndirectory called `foo` and ran `watchman watch $PWD/foo`. Saw that watchman refused to watch it, claiming that none of the files in `root_restrict_files` were present.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D902566nnTask ID: 2647765nn--HG--nextra : rebase_source : 10f332fa3d8cf124e43a9f4b48f80a37a8dff6a0nextra : amend_source : dbf038d98c981e0d5d08bedffc49399164f34cden",18.0,3.0,"arcanist/workflow/package.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,191.0,11.0,29.89872685185185,60.0,1.0334462402012967,8.0,None,False,,
7008f01fd49c6108371ddccf561f187f009c3716,984c5993537b650ff29751270ebba1be5b3147a1,Siddharth Agarwal,sid0@fb.com,Fri Jul 26 21:32:50 2013 -0700,1374899570,Fix leak reported by valgrind,3.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2379.0,80.0,2.972685185185185,61.0,1.3363961999688525,31.0,Corrective,True,,
984c5993537b650ff29751270ebba1be5b3147a1,5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed,Siddharth Agarwal,sid0@fb.com,Sat Jul 27 22:34:13 2013 -0700,1374989653,"Handle some nasty TOCTOU bugsSummary:nThere are some circumstances under which watchman can miss events. The prime suspect is TOCTOU bugs. This attempts to fix some of them.nn- On Linux: We've found that our internal map sometimes preserves stale watch descriptors. To fix this, call `inotify_add_watch` unconditionally and see if the descriptor is stale. If itnis, schedule a recrawl.n- On Linux: add a state called `dir_pending_ignored`. This is set in the `wd_to_dir` map when we know that a directory doesn't exist, yet might not have processed all the inotify events leading up to it going away.n- On Linux: Call `opendir` after calling `inotify_add_watch`. This means we hopefully won't miss events that happen between the two.n- On BSD: Double check that we're dealing with the same directory across `opendir` and `open`.n- On Solaris: Use `fstat(2)` on the directory's file descriptor instead of `lstat(2)`.nnTest Plan: `arc unit --everything`, `WATCHMAN_VALGRIND=1 arc unit --everything`, and the Mercurial test suite with `-j32` and checking the logs to see that nothing strange happened.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D903726nn--HG--nextra : rebase_source : 13dcff85c8302d875c370b4afb4c02e0f8d7c847nextra : amend_source : 3993c428d1c5b7714f385c8e1b9ef01c07f4844fn",120.0,53.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2382.0,81.0,1.0426273148148149,62.0,1.959115482388464,32.0,Corrective,True,True,"[""a12f73271d2b0fd82eddafae97d4119a53a5015a"", ""84b30e448afec84f9bdd706fff977b598692e1bc""]"
5c21fc0b3b8854c71c5a7a5151f21fcff9eba5ed,26072e9c5ef96793a19f96f8d241bad01f4a44da,Siddharth Agarwal,sid0@fb.com,Sun Jul 28 13:12:43 2013 -0700,1375042363,"Remove the do_close parameter from stop_watching_dirSummary:nDepends on D903726.nn`do_close` is unused.nnTest Plan: Inspecting the code, and running `arc unit --everything`.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D903833nn--HG--nextra : rebase_source : d86bf0cd313ee7419357a730ada67b81bd93f40bnextra : amend_source : e79e8fe63e8e5ec34cabc6f79fae4f219a024bd4n",5.0,6.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2449.0,82.0,0.6100694444444444,63.0,2.6391576550939098,33.0,None,False,True,"[""18ce53b611e7858931e6c4f9532f95f0af71744c""]"
26072e9c5ef96793a19f96f8d241bad01f4a44da,45d45c00a9ec22b8b4592398fc017d93b05cf842,Siddharth Agarwal,sid0@fb.com,Sun Jul 28 13:41:08 2013 -0700,1375044068,"When opening directories, don't follow symlinksSummary:nDepends on D903726.nnThere has been at least one instance of a bug where watchman has decided to traverse a symlink. It is likely that this is a TOCTOU bug between checking that it's a symlink and actuallynopening the directory. To deal with that, use a combination of `open` with `O_NOFOLLOW` and `fdopendir`.nnAlso fix up the handling for when the target is indeed a symlink.nnTest Plan: `arc unit --everything` and the Mercurial test suite with `-j32`. This is a relatively obscure race, so it's hard to write a test specifically for this.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D903841nn--HG--nextra : rebase_source : fc83622e4806ac8a87751c695b3d45f63f6f06canextra : amend_source : 89a8390452bc207bfc9d92d2c1c8211fd8eaf357n",27.0,7.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2448.0,83.0,0.019733796296296298,64.0,51.67448680351906,34.0,None,False,,
45d45c00a9ec22b8b4592398fc017d93b05cf842,5bacc70365ab44b0dfc63e2fc8fe584f828959e7,Siddharth Agarwal,sid0@fb.com,Sun Jul 28 19:37:30 2013 -0700,1375065450,Update readme for recent changesSummary: Also add a note about how clock ids are recommended for advanced users.nnTest Plan: Read the readme.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D903941nn--HG--nextra : rebase_source : 5abd23513fa67114be97ab0b16883c39a1ba3aa5nextra : amend_source : 3da291c215dba6fa2a9220eb6f828ec8e6fd289an,25.0,5.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,1187.0,40.0,25.91837962962963,65.0,1.0385826588810672,35.0,None,False,,
5bacc70365ab44b0dfc63e2fc8fe584f828959e7,e97d510a3c119e7871cb81fb0fd5223f44e67ce1,Siddharth Agarwal,sid0@fb.com,Wed Jul 31 12:59:00 2013 -0700,1375300740,prep for 2.8,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,190.0,42.0,29.7215625,66.0,1.033645606619773,36.0,None,False,,
e97d510a3c119e7871cb81fb0fd5223f44e67ce1,5f7e4509eba4f9ff999c1a4103b12e0b13c6d1c7,Siddharth Agarwal,sid0@fb.com,Wed Jul 31 15:53:23 2013 -0700,1375311203,Fix query cookies not being inside VCS directoriesSummary: Stupid mistake.nnTest Plan: `arc unit --everything` with the added testnnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D909339nn--HG--nextra : rebase_source : 2dd54aa2d7745b39a1692faafbf32c04dbaa1fban,12.0,5.0,"root.c,CAS_DELIMITER,tests/integration/othercookies.php,CAS_DELIMITER",2.0,2.0,2.0,0.6722948170756379,2.0,1251.5,86.0,4.951417824074074,67.5,1.2122065748299848,11.0,Corrective,True,,
5f7e4509eba4f9ff999c1a4103b12e0b13c6d1c7,19c7e8d7cefb3bd997da82a2d4032a34b3c74182,Siddharth Agarwal,sid0@fb.com,Wed Jul 31 16:04:41 2013 -0700,1375311881,prep for 2.8.1,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,190.0,43.0,0.12894675925925925,69.0,8.755138676958984,38.0,None,False,,
19c7e8d7cefb3bd997da82a2d4032a34b3c74182,f26c51de940c3457ce072cf571a947098976093c,Wez Furlong,wez@fb.com,Thu Aug 1 19:35:20 2013 -0700,1375410920,"fix osx build + testSummary:nOSX doesn't have fdopendir so do a poor-mans approximation.nnFixup use of $this in a lexical closure; this isn't broadly supportednin PHP, certainly not in the version deployed on my mac.nnFixup kqueue watching :-(nnTest Plan: `arc unit --everything` on OSXnnReviewers: sid0, dsereninnReviewed By: dsereninnDifferential Revision: https://phabricator.fb.com/D912074nnBlame Revision: rWAT5c21fc0b3b8854c71c5a7a5151f21fcff9eba5edn",12.0,2.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,2.0,2.0,0.9402859586706308,2.0,1395.0,106.0,4.5596296296296295,756.5,1.1176026503565613,431.0,Corrective,True,,
f26c51de940c3457ce072cf571a947098976093c,05c378fb072ee25c58440602c1406eb4fc267344,Wez Furlong,wez@fb.com,Thu Aug 1 19:43:45 2013 -0700,1375411425,bump version number for 2.8.2,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,190.0,44.0,1.1521296296296295,758.0,1.8679578879691392,432.0,None,False,,
05c378fb072ee25c58440602c1406eb4fc267344,e457bc8f6734bd5b23bce1648959ac039b9586d9,Wez Furlong,wez@fb.com,Fri Aug 9 08:44:31 2013 -0700,1376063071,fixup compilation on solarisNeed CI for this :-/n,1.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2478.0,86.0,7.548043981481483,759.0,1.132484654627533,433.0,Corrective,True,,
e457bc8f6734bd5b23bce1648959ac039b9586d9,7bb1e06127086f7a2d9ed1136a85f317532776d3,Wez Furlong,wez@fb.com,Fri Aug 9 08:48:13 2013 -0700,1376063293,fixup py-tests rule on systems without python,2.0,0.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,131.0,27.0,61.41929398148147,760.0,1.0162815287375575,434.0,Corrective,True,,
7bb1e06127086f7a2d9ed1136a85f317532776d3,92a7098d64039b9e5465eeb50ae25ce06fd3d36d,Siddharth Agarwal,sid0@fb.com,Sat Aug 3 10:42:51 2013 -0700,1375551771,"separate clockspec parsing from evaluationSummary:nThe semantics of clockspec parsing are currently unclear. Passing in the root is optional, and it might or might not lock the root. Upcoming patches will make evaluation evenntrickier. To fix this:nn- split it up into parsing and evaluation steps. Parsing is done independent of any root, and evaluation is only done while the root is locked.n- insert calls to the appropriate function in each appropriate place.n- make a few assumptions explicit via the struct definition, e.g. that timestamps cannot be fresh instances.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D913912nnTask ID: 2689998nn--HG--nextra : rebase_source : 967303fa8ae4d8eb1db75a400711789665d188fanextra : amend_source : 801ce4e48f89f44f846605ea6532caaed8638728n",247.0,131.0,"cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,root.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",11.0,4.0,4.0,2.6942249675469108,2.0,539.6363636363636,260.0,42.22975063131313,75.0,1.0062607619551398,44.0,None,False,True,"[""9d9ca7bc3567253a2517f806c0163f8c800100b0""]"
92a7098d64039b9e5465eeb50ae25ce06fd3d36d,62036e62f33732e0c46d2db879305412436903b2,Siddharth Agarwal,sid0@fb.com,Mon Aug 5 15:54:41 2013 -0700,1375743281,"always set new to true for fresh instancesSummary:nAlso, always return `new` even when it's false.nnDepends on D913912.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D915984nn--HG--nextra : rebase_source : 982b2f1ca8ebecba13769003e8ac945ccddb72e1nextra : amend_source : f984e7a659a92ec067505e2162bb8a73b6dd0ff1n",23.0,24.0,"README.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,tests/integration/cursor.php,CAS_DELIMITER",6.0,3.0,3.0,2.345180556110504,2.0,510.66666666666674,125.0,20.356471836419754,83.5,1.056897032733718,13.0,Feature Addition,False,,
62036e62f33732e0c46d2db879305412436903b2,7e873ac83d6409e0ea193f031bb645b80e523d41,Siddharth Agarwal,sid0@fb.com,Mon Aug 5 23:43:30 2013 -0700,1375771410,remove dead run_rules functionSummary: This code is no longer used.nnTest Plan: built and `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D915989nn--HG--nextra : rebase_source : 67692d66da1a3adbbab26bf5f08504f747feaa93nextra : amend_source : 4020d6589c7cd47bb54246d3c3d195716ca01f14n,0.0,45.0,"rules.c,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",2.0,1.0,1.0,0.4327501587887541,2.0,221.0,13.0,1.4338425925925926,87.5,2.71013823395796,49.0,None,False,,
7e873ac83d6409e0ea193f031bb645b80e523d41,aca8a11fc263c93c25ea6afc2582e92683991c87,Siddharth Agarwal,sid0@fb.com,Sat Aug 3 13:46:15 2013 -0700,1375562775,"for queries, assume a fresh instance if 'since' is not passedSummary:nThis is the only sensible thing to do.nnFix checks for `time_generator` and friends, and drop checks for `query->since_spec` practically everywhere since it no longer makes sense.nnDepends on D915984.nnDepends on D915989.nnTest Plan: `arc unit --everything` with the added test.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D913916nnTask ID: 2689998nn--HG--nextra : rebase_source : c72e8582216150715b1f093eca8744751e906b8dnextra : amend_source : 8e6d782321682220c8392985ce5f88d50954b776n",44.0,36.0,"README.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,tests/integration/empty.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",8.0,3.0,3.0,2.6083379178595263,2.0,458.625,149.0,11.797105034722225,92.5,0.8602364460411912,53.0,None,False,,
aca8a11fc263c93c25ea6afc2582e92683991c87,6f701c82c916896e17f0f0f59e0741bfff209fbd,Siddharth Agarwal,sid0@fb.com,Fri Aug 2 23:27:28 2013 -0700,1375511248,"add watchman start time and unique root number to clockspecSummary:nThe tuple (watchman start time, pid, unique root id) should uniquely identify a particular clockspec. This guards againstnn- pid reusen- adding a watch, removing it, then adding it againnnTest Plan: `arc unit --everything` with the added test, plus the full Mercurial test suitennReviewers: weznnDifferential Revision: https://phabricator.fb.com/D913920nnTask ID: 2689998nn--HG--nextra : rebase_source : 6c3dd71a723a203b5ffb5d5082c348d407e3d91an",139.0,39.0,"cmds/find.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,root.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER,tests/integration/fields.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",15.0,4.0,4.0,2.3990563564782708,2.0,393.46666666666664,293.0,16.003041666666665,104.0,1.0061454172530704,59.0,Feature Addition,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
6f701c82c916896e17f0f0f59e0741bfff209fbd,4bc1806774ff87a3a1784dc00fa614d8eb8d7a41,Siddharth Agarwal,sid0@fb.com,Tue Aug 6 11:08:02 2013 -0700,1375812482,unconditionally set is_fresh_instance on query resultSummary: This doesn't affect anything but is nice to make clear.nnTest Plan: No effect on code.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D916374nn--HG--nextra : rebase_source : eee39c83d6de0143036560e847f7bc45c9687dd2nextra : amend_source : 7c41fcd1fc0e5b8a7edc9a9a1078859d9257a836n,2.0,3.0,"query/eval.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,383.0,10.0,3.48650462962963,112.0,1.2868202128577784,14.0,None,False,,
4bc1806774ff87a3a1784dc00fa614d8eb8d7a41,eaea7a729d81abfcb1d3bc855c2e00342a68d55d,Siddharth Agarwal,sid0@fb.com,Fri Aug 9 17:05:30 2013 -0700,1376093130,add a sensible error message for when the root couldn't be resolvedSummary: This could have saved us a bunch of debugging time recently.nnTest Plan: `watchman find /` printed a better error message.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D922516nn--HG--nextra : amend_source : a33ce31b260b92fea34efc4383237a80b95c743dn,5.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2479.0,89.0,6.73474537037037,113.0,1.1484837131927093,60.0,Feature Addition,False,,
eaea7a729d81abfcb1d3bc855c2e00342a68d55d,895b910b6a06b5d1ba58b5b935275b9623bc021a,Siddharth Agarwal,sid0@fb.com,Tue Aug 6 13:38:50 2013 -0700,1375821530,send is_fresh_instance for subscribe eventsSummary: `subscribe` events should receive `is_fresh_instance` notifications.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D916732nn--HG--nextra : rebase_source : b564095fc72b246a177b5a243a877294df51c876nextra : amend_source : 9f3a838e3f011779f7c52b01b23815526592913dn,14.0,1.0,"cmds/subscribe.c,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER",2.0,2.0,2.0,0.35335933502142136,2.0,140.5,10.0,35.393321759259265,114.5,1.1462916653969426,19.0,None,False,True,"[""c2673dcbafb276e5fae0264fa13bc7ae88622fc7"", ""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
895b910b6a06b5d1ba58b5b935275b9623bc021a,3ca41517b11a371e308f21f9a6b91cb0920b75ab,Siddharth Agarwal,sid0@fb.com,Wed Aug 7 11:12:47 2013 -0700,1375899167,"set timeout to 0 for watchman find queriesSummary: We were using a 10-second timeout for watchman find queries. There's been no reason to do that ever since we got cookie files.nnTest Plan: `arc unit --everything` on Linux. @wez, want to test it out on the other OSes we support?nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D918249nn--HG--nextra : rebase_source : 7e6149a7a009a84b5627ba77ab5cef0df0829b39nextra : amend_source : 31ea2f5f1c021f5e9ca883dd557249012dd3d779n",10.0,11.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,322.0,22.0,5.6510069444444415,116.0,1.17695961265507,9.0,None,False,,
3ca41517b11a371e308f21f9a6b91cb0920b75ab,12dd7ad2f7717a119701f99803c77ef269ceaedc,Siddharth Agarwal,sid0@fb.com,Fri Aug 9 22:38:07 2013 -0700,1376113087,"check that we're removing the right root from watched_rootsSummary:nThere was a race where:nn1. `watch-del` is called on a root, which causes it to be removed from `watched_roots`n2. `watch` is called immediately afterwards on the same root, which causes it to benre-added to `watched_roots`.n3. The notify thread for the first root completes, after which the *new* root getsnremoved from the `watched_roots` list.nnFix this by checking before deleting.nnTest Plan:nAdded a `usleep(100000);` call right before the removal inn`root.c:run_notify_thread`, and a `usleep(200000);` right after the second `watch` inn`tests/integration/since.php:testReaddWatchFreshInstance`. This was enough to make thenbug trigger reliably while running the test. With the fix it doesn't.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D922818nn--HG--nextra : rebase_source : 33ad24440d9b244f809ceddd746d6773352caa15nextra : amend_source : f218a450281b17eba03ac3788c3f35e51a902621n",17.0,8.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2484.0,90.0,0.2309837962962963,117.0,5.329308012226287,61.0,None,False,,
12dd7ad2f7717a119701f99803c77ef269ceaedc,53a6a97350355d4aa3f8eee1db67bd8d6d868886,Siddharth Agarwal,sid0@fb.com,Sat Aug 10 15:07:22 2013 -0700,1376172442,"switch triggers to using clockspecsSummary:nCurrently triggers initialize `w_query_since` objects directly. Unfortunatelynthat won't work if the root number changes on recrawl, as is planned. Switch to usingn`w_clockspec` objects. The dynamic creation makes me sad though.nnTest Plan: `arc unit --everything` and also with `WATCHMAN_VALGRIND=1`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D922912nn--HG--nextra : rebase_source : 54559f876268c5576a02a163d3f8ddce763e1655nextra : amend_source : cd520234b314e9ad92583eb46d710f1e759fe4fbn",35.0,21.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,1.6343941728106877,2.0,1106.0,229.0,5.9112760416666665,119.5,1.088850758200993,65.0,None,False,,
53a6a97350355d4aa3f8eee1db67bd8d6d868886,f4afd43c5a2e4bdb7352215a7a54935edfc2989a,Siddharth Agarwal,sid0@fb.com,Sun Aug 11 11:38:22 2013 -0700,1376246302,"fix reported valgrind leakIf a subscription generated 0 results, we'd leak the file_list object.nn--HG--nextra : rebase_source : b95dd337a5685c9106363ffc8732a431d31554f9n",5.0,4.0,"cmds/subscribe.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,238.0,8.0,4.916342592592593,122.0,1.2034032375015302,11.0,Corrective,True,,
f4afd43c5a2e4bdb7352215a7a54935edfc2989a,60ac71682bb0516b20b169a64e9a5df1380c95f3,Siddharth Agarwal,sid0@fb.com,Sat Aug 10 20:14:12 2013 -0700,1376190852,"improve isolation of tests that depend on loggingSummary:nSeveral tests use log output, but none of them reset it. This can lead to somentests influencing others. Design resetting log data into the API that tests use.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D922988nnTask ID: 2718659nn--HG--nextra : rebase_source : 2abc8f84f20fcf658260bf2d32fa0f91dbf7427fnextra : amend_source : f2e482f0ade8c40530b38c7e18441823c61246d5n",24.0,7.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",4.0,2.0,2.0,1.7396322957287065,2.0,255.0,63.0,27.20754918981481,124.5,1.0359755639577135,21.0,Preventative,False,True,"[""a12f73271d2b0fd82eddafae97d4119a53a5015a""]"
60ac71682bb0516b20b169a64e9a5df1380c95f3,c2673dcbafb276e5fae0264fa13bc7ae88622fc7,Wez Furlong,wez@fb.com,Sun Aug 11 20:05:01 2013 -0700,1376276701,Fixup test for solaris,7.0,1.0,"tests/integration/subscribe.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,56.0,4.0,5.268182870370372,761.0,1.18981877140679,111.0,Corrective,True,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
c2673dcbafb276e5fae0264fa13bc7ae88622fc7,44ee78fb18549c01e3097ff4341868f1f652b901,Siddharth Agarwal,sid0@fb.com,Thu Aug 8 01:04:22 2013 -0700,1375949062,"separate w_root_new and w_root_delref into init and teardown stepsSummary:nUpcoming patches will require us to pave over a part of the state for recrawls.nSeparate initialization and destruction into parts that we will initialize at recrawl,nand parts that we won't. Use a boolean variable called `initialized` as a sentinel beyondnwhich everything is paved over.nnTest Plan: `arc unit --everything`. Will be tested for real in upcoming patches.nnReviewers: weznnDifferential Revision: https://phabricator.fb.com/D922983nnTask ID: 2718659nn--HG--nextra : rebase_source : 77245f546a379772abe0d4fe0cbf8808bea4dfb4n",149.0,106.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.7937335585230194,2.0,1614.0,156.0,-2.5854166666666667,127.5,0.7099113618049959,67.0,Feature Addition,False,True,"[""381a5da3fb09633bc8552d7e7734d194d5f33e64"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
44ee78fb18549c01e3097ff4341868f1f652b901,4c066968a82c7955e8c3cb1bca97561cdd365801,Siddharth Agarwal,sid0@fb.com,Thu Aug 8 09:39:28 2013 -0700,1375979968,reinitialize most state when recrawlingSummary:nWe've found that recrawling doesn't currently clean up enough state.nReinitialize most of the internal state of the root.nnTest Plan:n`arc unit --everything` and the full Mercurial test suite with `-j16` -- realntests will come in upcoming patches though.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D922987nnTask ID: 2718659nn--HG--nextra : rebase_source : 11fd3539f272b9db18627da28901f566f56e02a4nextra : amend_source : ae9a6a80d4f6d5be5c6c46843841f22d0743b63en,34.0,36.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2550.0,93.0,0.3577083333333333,129.0,3.7955736750145603,68.0,Feature Addition,False,,
4c066968a82c7955e8c3cb1bca97561cdd365801,a12f73271d2b0fd82eddafae97d4119a53a5015a,Siddharth Agarwal,sid0@fb.com,Thu Aug 8 14:58:23 2013 -0700,1375999103,"add a debug-recrawl command and some testsSummary:nAdd a way to test recrawls, which were fixed up in D922987. Add tests for query,nsubscribe and trigger.nnTest Plan:n`arc unit --everything` both with and without `WATCHMAN_VALGRIND=1` with thenadded tests.nnReviewers: weznnDifferential Revision: https://phabricator.fb.com/D922990nnTask ID: 2718659nn--HG--nextra : rebase_source : a09646a5253739e6acac787493ce8b1505f1dc94nextra : amend_source : df53f2ed8eee59d509b6936c198f1d098fd8d6edn",165.0,52.0,"Makefile.am,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",9.0,3.0,3.0,2.192339408478997,2.0,527.5555555555555,291.0,0.4346836419753087,134.0,-0.6113467478149115,73.0,Corrective,True,True,"[""b30fcb387455c0d6f311dfbd17c9234d3a5db0e1"", ""919f52942df9e049552c82a3e98ed1924018a9a6""]"
a12f73271d2b0fd82eddafae97d4119a53a5015a,4aa5ab8c393174fa3feb531572e91dd599823fbe,Siddharth Agarwal,sid0@fb.com,Thu Aug 8 00:12:22 2013 -0700,1375945942,"on Linux, only process cookies if they arrived via inotifySummary:nThis is explained in the doc.nnThis is still broken on other platforms, but this diff doesn't make things worse.nnTest Plan: `arc unit --everything` + hg test suite with `-j16`.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D923205nn--HG--nextra : rebase_source : ecc207668a8e1f1ac8255629dc0b25f4eb5d733enextra : amend_source : 9c2279a8ab4ad3f754dfdf321aa605d61a4f21e1n",98.0,1.0,"docs/cookies.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,2.0,2.0,0.6136190195993708,2.0,1276.5,95.0,-0.3076446759259259,139.5,-0.31262579710690164,74.0,None,False,,
4aa5ab8c393174fa3feb531572e91dd599823fbe,18ce53b611e7858931e6c4f9532f95f0af71744c,Wez Furlong,wez@fb.com,Mon Aug 12 17:47:17 2013 -0700,1376354837,Fixup non-linux compileWe only use this function on linux and -Werror makes it a fatal buildnerror to have an unused function in heren,2.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2566.0,96.0,4.732581018518519,762.0,1.2113011897920003,435.0,Corrective,True,,
18ce53b611e7858931e6c4f9532f95f0af71744c,017cabb2efa0c8b3877cedb83910f0bcf013f594,Wez Furlong,wez@fb.com,Wed Aug 14 16:42:00 2013 -0700,1376523720,"Fixup race condition around triggers + recrawlNoticeable on OSX; we didn't consider all the triggers as beingneligible after the recrawl, so check the root number and makensure they run.n",19.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2564.0,97.0,1.9546643518518518,763.0,1.5115967859405623,436.0,Corrective,True,,
017cabb2efa0c8b3877cedb83910f0bcf013f594,33578dee4d6c38f0e38e695d8c1c5cd316d11b97,Martin Geisler,martin@geisler.net,Mon Sep 2 22:46:35 2013 +0200,1378154795,"Fix printf format character for 32-bit machinesOn my 32-bit machine, I got this error while compiling:nn  root.c: In function 'try_read_inotify':n  root.c:1809:9: error: format '%lu' expects argument of type 'longnunsigned int', but argument 4 has type 'unsigned int'n[-Werror=format]nnChanging the length modifier from 'l' to 'z' fixed this. C99 definesnthe 'z' length modifier as the platform-independent modifier fornsize_t arguments.n",1.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2579.0,98.0,18.87818287037037,0.0,0.0,0.0,Corrective,True,,
33578dee4d6c38f0e38e695d8c1c5cd316d11b97,e60964c549444592adc12c90ef6f4c370068f7c1,Martin Geisler,martin@geisler.net,Mon Sep 2 22:50:51 2013 +0200,1378155051,Fix casts from values to pointersThe casts produced this error while compiling on my 32-bit Debiannsystem:nn  root.c: In function 'invalidate_watch_descriptors':n  root.c:655:34: error: cast to pointer from integer of different sizen[-Werror=int-to-pointer-cast]n  root.c: In function 'w_root_resolve_dir_by_wd':n  root.c:910:10: error: cast to pointer from integer of different sizen[-Werror=int-to-pointer-cast]nnThe ht_val_ptr function was used to do the correct casts.n,2.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,2579.0,99.0,0.002962962962962963,1.0,338.5,1.0,Corrective,True,,
e60964c549444592adc12c90ef6f4c370068f7c1,e945ce21d9737a02ac7828720af141e6f24067e3,Martin Geisler,martin@geisler.net,Mon Sep 2 22:52:40 2013 +0200,1378155160,Completely ignore is_pcre when PCRE isn't availableI did not have the PCRE headers so HAVE_PCRE_H was false. Thatnresulted in this error while compiling:nn  rules.c: In function 'parse_watch_params':n  rules.c:207:7: error: variable 'is_pcre' set but not usedn[-Werror=unused-but-set-variable]nnThe ifdef's now completely remove the is_pcre variable when PCRE isn'tnavailable.n,4.0,0.0,"rules.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,324.0,7.0,22.948125,2.0,1.0435765449246943,2.0,None,False,,
e945ce21d9737a02ac7828720af141e6f24067e3,265afae7247503b60140923a66d32645468854b4,Siddharth Agarwal,sid0@fb.com,Sat Oct 12 20:24:50 2013 -0700,1381634690,"[specfile] fix postinstall and preuninstall scriptsSummary:nIf watchman wasn't already running, the postinstall and preuninstall scriptsnwould fail.nnTest Plan: No obvious way to test this.nnReviewers: weznnDifferential Revision: https://phabricator.fb.com/D1009042nnTask ID: 2825133nn--HG--nextra : amend_source : 1a94bd3f150c728eed524b23c5ab2679ab6ff4c8n",2.0,2.0,"arcanist/workflow/package.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,206.0,12.0,78.30980324074073,141.0,1.0127697932904491,12.0,Corrective,True,,
265afae7247503b60140923a66d32645468854b4,08433cff44478b51e89529d1f5f82040ae9b3ae1,Siddharth Agarwal,sid0@fb.com,Fri Oct 18 11:11:26 2013 -0700,1382119886,prep for 2.9.1,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,190.0,45.0,77.64422453703703,142.0,1.0128792579997108,75.0,None,False,,
08433cff44478b51e89529d1f5f82040ae9b3ae1,c7ba99bc5a7bcb8dd41dd24e224d2ac021385571,Wez Furlong,wez@fb.com,Mon Oct 28 10:10:00 2013 -0700,1382980200,ignore newer automake test-driver script,1.0,0.0,".gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,31.0,12.0,124.82549768518518,764.0,1.0080111837608854,437.0,Feature Addition,False,,
c7ba99bc5a7bcb8dd41dd24e224d2ac021385571,947f74c6c5c5f88e9f6934d6156590ea181ce8c8,Wez Furlong,wez@fb.com,Mon Oct 28 11:02:46 2013 -0700,1382983366,ignore more automake junk,3.0,0.0,".gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,32.0,13.0,0.03664351851851852,765.0,28.289955780164245,438.0,None,False,,
947f74c6c5c5f88e9f6934d6156590ea181ce8c8,9bee3b915593cfe47633626cc703a32a3b554119,Hans Fugal,hans@fb.com,Mon Oct 28 11:05:42 2013 -0700,1382983542,"tests/integration/modified.phpSummary: A failing (on OSX) test case as evidence that the current OSX implementation doesn't notice file changes.nnTest Plan:nunit testnnHere is the full unit test suite output (`make integration`) - this new test is not the only one failing on OSX. They all also failed before this test, except that this test seems to trigger a failure in the trigger test that isn't there before (some kind of teardown necessary?). Pun intended.nn  arc unit --everythingn  /Users/fugalh/src/phab/arcanist/bin/arcn  [2013-10-26 19:34:42] ERROR 8: Undefined index: files at [/Users/fugalh/src/watchman/tests/integration/pcre.php:19]n#0 pcreTestCase::testPCRE()n#1 call_user_func_array(Array of size 2 starting with: { 0 => Object pcreTestCase }, Array ) called at [/Users/fugalh/src/phab/arcanist/src/unit/engine/phutil/ArcanistPhutilTestCase.php:445]n#2 ArcanistPhutilTestCase::run() called at [/Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php:68]n#3 WatchmanIntegrationEngine::runIntegrationTests() called at [/Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php:10]n#4 WatchmanIntegrationEngine::run() called at [/Users/fugalh/src/phab/arcanist/src/workflow/ArcanistUnitWorkflow.php:173]n#5 ArcanistUnitWorkflow::run() called at [/Users/fugalh/src/phab/arcanist/scripts/arcanist.php:318]n  [2013-10-26 19:34:42] ERROR 8: Undefined index: files at [/Users/fugalh/src/watchman/tests/integration/pcre.php:19]n#0 pcreTestCase::testPCRE()n#1 call_user_func_array(Array of size 2 starting with: { 0 => Object pcreTestCase }, Array ) called at [/Users/fugalh/src/phab/arcanist/src/unit/engine/phutil/ArcanistPhutilTestCase.php:445]n#2 ArcanistPhutilTestCase::run() called at [/Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php:73]n#3 WatchmanIntegrationEngine::runIntegrationTests() called at [/Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php:10]n#4 WatchmanIntegrationEngine::run() called at [/Users/fugalh/src/phab/arcanist/src/workflow/ArcanistUnitWorkflow.php:173]n#5 ArcanistUnitWorkflow::run() called at [/Users/fugalh/src/phab/arcanist/scripts/arcanist.php:318]n  [2013-10-26 19:34:43] ERROR 8: Undefined index: files at [/Users/fugalh/src/watchman/tests/integration/pcre.php:19]n#0 pcreTestCase::testPCRE()n#1 call_user_func_array(Array of size 2 starting with: { 0 => Object pcreTestCase }, Array ) called at [/Users/fugalh/src/phab/arcanist/src/unit/engine/phutil/ArcanistPhutilTestCase.php:445]n#2 ArcanistPhutilTestCase::run() called at [/Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php:73]n#3 WatchmanIntegrationEngine::runIntegrationTests() called at [/Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php:10]n#4 WatchmanIntegrationEngine::run() called at [/Users/fugalh/src/phab/arcanist/src/workflow/ArcanistUnitWorkflow.php:173]n#5 ArcanistUnitWorkflow::run() called at [/Users/fugalh/src/phab/arcanist/scripts/arcanist.php:318]n PASS   <1msu00e2u0098u0085  argv.tn PASS1msu00e2u0098u0085  bser.tn PASS   <1msu00e2u0098u0085  log.tn FAIL  testBigPCREn  Assertion failed at line 48 in bigpcre.php: got useful message: failed to parse query: unknown expression term 'pcre'n  Expected: truenActual: falsen FAIL  testBigPCRE [CLI: bser/json]n  Assertion failed at line 48 in bigpcre.php: got useful message: failed to parse query: unknown expression term 'pcre'n  Expected: truenActual: falsen FAIL  testBigPCRE [CLI: json/json]n  Assertion failed at line 48 in bigpcre.php: got useful message: failed to parse query: unknown expression term 'pcre'n  Expected: truenActual: falsen PASS7msu00e2u0098u0085  testBSDishTopLeveln PASS   34msu00e2u0098u0085  testBSDishTopLevel [CLI: bser/json]n PASS   35msu00e2u0098u0085  testBSDishTopLevel [CLI: json/json]n PASS2msu00e2u0098u0085  testClockn PASS   12msu00e2u0098u0085  testClock [CLI: bser/json]n PASS   13msu00e2u0098u0085  testClock [CLI: json/json]n PASS8msu00e2u0098u0085  testCursorn PASS   74ms   testCursor [CLI: bser/json]n PASS   73ms   testCursor [CLI: json/json]n PASS5msu00e2u0098u0085  testEmptyn PASS   33msu00e2u0098u0085  testEmpty [CLI: bser/json]n PASS   34msu00e2u0098u0085  testEmpty [CLI: json/json]n PASS4msu00e2u0098u0085  testFieldsn PASS   21msu00e2u0098u0085  testFields [CLI: bser/json]n PASS   22msu00e2u0098u0085  testFields [CLI: json/json]n PASS   10msu00e2u0098u0085  testFindn PASS   26msu00e2u0098u0085  testFind [CLI: bser/json]n PASS   25msu00e2u0098u0085  testFind [CLI: json/json]n PASS   16msu00e2u0098u0085  testFishyn PASS3msu00e2u0098u0085  testIgnoreGitn PASS9msu00e2u0098u0085  testIgnoreGit [CLI: bser/json]n PASS9msu00e2u0098u0085  testIgnoreGit [CLI: json/json]n PASS   <1msu00e2u0098u0085  testSockNamen PASS6msu00e2u0098u0085  testSockName [CLI: bser/json]n PASS6msu00e2u0098u0085  testSockName [CLI: json/json]n PASS3msu00e2u0098u0085  testInvalidSyncTimeoutn PASS1msu00e2u0098u0085  testInvalidExprTermn PASS   19msu00e2u0098u0085  testInvalidSyncTimeout [CLI: bser/json]n PASS   13msu00e2u0098u0085  testInvalidExprTerm [CLI: bser/json]n PASS   13msu00e2u0098u0085  testInvalidExprTerm [CLI: json/json]n PASS   19msu00e2u0098u0085  testInvalidSyncTimeout [CLI: json/json]n PASS   <1msu00e2u0098u0085  testInvalidRootn PASS6msu00e2u0098u0085  testInvalidRoot [CLI: bser/json]n PASS6msu00e2u0098u0085  testInvalidRoot [CLI: json/json]n FAIL  testModifyn  Assertion failed at line 27 in modified.phpn  Expected vs Actual Output Diffn  --- Old Valuen  +++ New Valuen  @@ -1,5 +1 @@n  -Arrayn  -(n  -[0] => foo/111n  -)n  -n  +nullnn PASS   40msu00e2u0098u0085  testEvenMoreMovesn PASS   27msu00e2u0098u0085  testMoreMovesn PASS   44msu00e2u0098u0085  testMoreMoves [CLI: bser/json]n PASS   57ms   testEvenMoreMoves [CLI: bser/json]n PASS   57ms   testEvenMoreMoves [CLI: json/json]n PASS   44msu00e2u0098u0085  testMoreMoves [CLI: json/json]n PASS9msu00e2u0098u0085  testMoveReAddn PASS   83ms   testMoveReAdd [CLI: bser/json]n PASS   82ms   testMoveReAdd [CLI: json/json]n PASS7msu00e2u0098u0085  testNameExprn PASS   79ms   testNameExpr [CLI: bser/json]n PASS   82ms   testNameExpr [CLI: json/json]n PASS5msu00e2u0098u0085  testOtherCookiesn PASS   11msu00e2u0098u0085  testOtherCookies [CLI: bser/json]n PASS   10msu00e2u0098u0085  testOtherCookies [CLI: json/json]n FAIL  testPCREn  Assertion failed at line 19 in pcre.phpn  Expected: foo.cnActual: nulln FAIL  testPCRE [CLI: bser/json]n  Assertion failed at line 19 in pcre.phpn  Expected: foo.cnActual: nulln FAIL  testPCRE [CLI: json/json]n  Assertion failed at line 19 in pcre.phpn  Expected: foo.cnActual: nulln PASS   20msu00e2u0098u0085  testRemoven PASS   43msu00e2u0098u0085  testRemove [CLI: bser/json]n PASS   41msu00e2u0098u0085  testRemove [CLI: json/json]n PASS4msu00e2u0098u0085  testRemoveRootn PASS   10msu00e2u0098u0085  testRemoveRoot [CLI: bser/json]n PASS9msu00e2u0098u0085  testRemoveRoot [CLI: json/json]n PASS   20msu00e2u0098u0085  testRootRestrictn PASS   62ms   testRootRestrict [CLI: bser/json]n PASS   61ms   testRootRestrict [CLI: json/json]n PASS8msu00e2u0098u0085  testSinceExprn PASS   64ms   testSinceExpr [CLI: bser/json]n PASS   64ms   testSinceExpr [CLI: json/json]n PASS6msu00e2u0098u0085  testSinceIssue2n PASS4msu00e2u0098u0085  testRecrawlFreshInstancen PASS8msu00e2u0098u0085  testSinceFreshInstancen PASS5msu00e2u0098u0085  testReaddWatchFreshInstancen PASS6msu00e2u0098u0085  testSinceIssue1n PASS   64ms   testSinceFreshInstance [CLI: bser/json]n PASS   23msu00e2u0098u0085  testSinceIssue1 [CLI: bser/json]n PASS   27msu00e2u0098u0085  testRecrawlFreshInstance [CLI: bser/json]n PASS   33msu00e2u0098u0085  testReaddWatchFreshInstance [CLI: bser/json]n PASS   59ms   testSinceIssue2 [CLI: bser/json]n PASS   28msu00e2u0098u0085  testRecrawlFreshInstance [CLI: json/json]n PASS   57ms   testSinceIssue2 [CLI: json/json]n PASS   64ms   testSinceFreshInstance [CLI: json/json]n PASS   34msu00e2u0098u0085  testReaddWatchFreshInstance [CLI: json/json]n PASS   22msu00e2u0098u0085  testSinceIssue1 [CLI: json/json]n PASS  210ms   testSubscriben PASS6msu00e2u0098u0085  testSuffixExprn PASS   23msu00e2u0098u0085  testSuffixExpr [CLI: bser/json]n PASS   20msu00e2u0098u0085  testSuffixExpr [CLI: json/json]n FAIL  testTriggern  EXCEPTION (Exception): expected a log response, got {version:2.8.2,clock:c:1382816076:60845:86:4,since:c:1382816076:60845:82:1,is_fresh_instance:true,files:[bar.txt,foo.c],subscription:test,root:/private/var/folders/j1/y_xh789x5mj2dgc_k76mtl_r47sbp0/T/2646poi2hjlwcgc0}nn  #0 /Users/fugalh/src/watchman/arcanist/lib/WatchmanTestCase.php(126): WatchmanInstance->waitForLog('/posix_spawnp/', 60)n  #1 /Users/fugalh/src/watchman/arcanist/lib/WatchmanTestCase.php(130): WatchmanTestCase->waitForLog('/posix_spawnp/', 60)n  #2 /Users/fugalh/src/watchman/tests/integration/trigger.php(86): WatchmanTestCase->assertWaitForLog('/posix_spawnp/', 60)n  #3 [internal function]: triggerTestCase->testTrigger()n  #4 /Users/fugalh/src/phab/arcanist/src/unit/engine/phutil/ArcanistPhutilTestCase.php(445): call_user_func_array(Array, Array)n  #5 /Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php(68): ArcanistPhutilTestCase->run()n  #6 /Users/fugalh/src/watchman/arcanist/lib/WatchmanIntegrationEngine.php(10): WatchmanIntegrationEngine->runIntegrationTests()n  #7 /Users/fugalh/src/phab/arcanist/src/workflow/ArcanistUnitWorkflow.php(173): WatchmanIntegrationEngine->run()n  #8 /Users/fugalh/src/phab/arcanist/scripts/arcanist.php(318): ArcanistUnitWorkflow->run()n  #9 {main}n PASS   1.0s   testTwoDeepn PASS   1.1s   testTwoDeep [CLI: bser/json]n PASS   1.0s   testTwoDeep [CLI: json/json]n PASS4msu00e2u0098u0085  testTypeExprn PASS   33msu00e2u0098u0085  testTypeExpr [CLI: bser/json]n PASS   31msu00e2u0098u0085  testTypeExpr [CLI: json/json]n  make: *** [integration] Error 2nnReviewers: wez, sid0nnCC: net-systems@nnDifferential Revision: https://phabricator.fb.com/D1029383n",31.0,0.0,"tests/integration/modified.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,Preventative,False,,
9bee3b915593cfe47633626cc703a32a3b554119,9671e95dafcd64ee43c2297134579838e3ebd733,Wez Furlong,wez@fb.com,Mon Oct 28 11:08:37 2013 -0700,1382983717,"kqueue: go back to watching individual filesYes, this means that we'll open more file descriptors, but it is thenonly way to get reliable notifications per-file.nnWe should look at adding fsevents support for osx to see how/if thisnhelps the situation.n",73.0,22.0,"root.c,CAS_DELIMITER,tests/integration/modified.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,0.5390826461112549,3.0,1110.6666666666667,167.0,45.576601080246924,767.0,1.0143664424383525,440.0,None,False,True,"[""fff4d0767b582c3f05ff027f21f938d42a1c61ac""]"
9671e95dafcd64ee43c2297134579838e3ebd733,e0762edf330608b646c29199593ee246fff596ae,Wez Furlong,wez@fb.com,Tue Oct 29 19:06:55 2013 -0700,1383098815,"[watchman] use fsevents on osxSummary:nfseventsd uses some low level OS magic to subscribe to filesystemnchanges without needing to hold an open descriptor for everything.nnThis diff makes us use it on OS/X.  For the most part, this diffnis pretty clear.  There are two things that are worth calling out:nn* Discovered that we should have put the root number into the cookie filenamen  to avoid the potential for cookie filename collisions when we recrawl and rewindn  the tick counternn* We run fsevents in a thread of its own so that we can filter out ignored items andn  test to see if events are available (there is no native poll functionality that I cann  find).  This is begging to be refactored and we'll take care of that in a later diff.nnTest Plan: `make integration` passesnnReviewers: sid0, fugalhnnReviewed By: fugalhnnCC: roywnnDifferential Revision: https://phabricator.fb.com/D1031495n",406.0,20.0,"README.markdown,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,2.0,2.0,0.9396206013297886,3.0,837.4285714285713,345.0,59.569375,772.0,1.0057772073795122,445.0,None,False,True,"[""f325fbc819f6111867f268a03dcc912d90b05595""]"
e0762edf330608b646c29199593ee246fff596ae,56fcdbac15bd6cda1790c13aa9b05bf9fa3cd237,Wez Furlong,wez@fb.com,Wed Dec 4 09:06:47 2013 -0800,1386176807,"make ignore_vcs and ignore_dirs configurableAddresses https://github.com/facebook/watchman/issues/12nnThis makes the previously hard-coded list of VCS dirs configurablenvia .watchmanconfig, and introduces a new option to ignore specificndirs in the tree.nnThis is done as exact matches, not regexps; you need to staticallyndescribe which portions should be ignored.n",196.0,42.0,"README.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,1.1544445827230776,3.0,1238.75,219.0,73.48072048611111,777.5,1.0123447808036774,448.0,Feature Addition,False,True,"[""d79324aa8222d81731d4d894f026939e896e17db"", ""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78""]"
56fcdbac15bd6cda1790c13aa9b05bf9fa3cd237,bb521211b5e7657b74b7360cef0ecf4f0281e694,Wez Furlong,wez@fb.com,Thu Dec 5 11:07:09 2013 -0800,1386270429,bump version number to 2.9.3,3.0,2.0,"README.markdown,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,1.0,1.0,0.9709505944546686,3.0,714.0,92.0,18.896041666666672,780.5,1.4746602898882264,450.0,None,False,,
bb521211b5e7657b74b7360cef0ecf4f0281e694,7fba47cc44d15d2cb4769fee8dab9ddbc4ad7d40,Nicolas Kaiser,nikai@nikai.net,Mon Dec 2 22:05:00 2013 +0100,1386018300,fix typos in README.markdownAddresses https://github.com/facebook/watchman/pull/16n,5.0,5.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,1236.0,46.0,-2.9181597222222213,0.0,0.0,0.0,Corrective,True,,
7fba47cc44d15d2cb4769fee8dab9ddbc4ad7d40,a108fb22554c5920d42d3bc627f4384e5ba90b1f,Wez Furlong,wez@fb.com,Tue Jan 7 17:05:07 2014 -0800,1389143107,"fix leak```n840 (360 direct, 480 indirect) bytes in 15 blocks are definitely lost in loss record 55 of 55n  /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so   callocn   ht.c:22   w_ht_newnroot.c:325   root_resolven   root.c:2801   w_root_resolvenlistener.c:410   resolve_root_or_errnwatch.c:86   cmd_watchnlistener.c:509   dispatch_commandnlistener.c:566   client_threadn  pthread_create.c:308   start_threadn```n",1.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,3051.0,103.0,34.332175925925924,782.0,1.0291271954960726,451.0,Corrective,True,,
a108fb22554c5920d42d3bc627f4384e5ba90b1f,5aea055f642863fb7e093f26309a83f558a67438,Pascal Borreli,pascal@borreli.com,Tue Jan 7 23:32:24 2014 +0000,1389137544,Fixed typosResolves https://github.com/facebook/watchman/pull/18nnapplied using `hub am https://github.com/facebook/watchman/pull/18`n,4.0,4.0,"BSER.markdown,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,hash.c,CAS_DELIMITER",4.0,2.0,2.0,2.0,3.0,528.25,79.0,195.6770659722223,1.5,0.7518502984721764,2.0,Corrective,True,,
5aea055f642863fb7e093f26309a83f558a67438,9d44030f49cff641dbd8c5dff522d64b7469a3ce,Wez Furlong,wez@fb.com,Thu Jan 23 11:08:28 2014 -0800,1390504108,Check that we have dirs in path generatorAddresses https://github.com/facebook/watchman/issues/22n,26.0,0.0,"query/eval.c,CAS_DELIMITER,tests/integration/pathgen.php,CAS_DELIMITER",2.0,2.0,2.0,0.7062740891876007,2.0,191.0,11.0,85.0209837962963,783.5,1.005880901133748,116.0,Feature Addition,False,,
9d44030f49cff641dbd8c5dff522d64b7469a3ce,dce442df7e879efdd42cece146c4cbf5e8011419,David Turner,dturner@twitter.com,Wed Jan 22 16:57:43 2014 -0500,1390427863,Fix error message for watch-delRefs https://github.com/facebook/watchman/pull/23n,1.0,1.0,"cmds/watch.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,100.0,3.0,270.8695601851852,0.0,0.0,0.0,Corrective,True,,
dce442df7e879efdd42cece146c4cbf5e8011419,552cc42fefbe8a50bfabd679ffdf98da1bb25828,David Turner,dturner@twitter.com,Thu Jan 23 11:29:25 2014 -0500,1390494565,Handle single suffixes as well as arraysRefs https://github.com/facebook/watchman/pull/23n,71.0,16.0,"README.markdown,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/suffixgenerator.php,CAS_DELIMITER",3.0,3.0,3.0,1.1720200698799517,4.0,580.0,61.0,62.842635030864194,2.0,1.0247591279355242,0.0,Corrective,True,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941"", ""ac0cc91e753c8e5b29b02eeb841c923c186d7e08"", ""95510bf92299413c2d68c16327d6c92ebd10fe7d"", ""b085c2184941401bd1bd9e395d7acfdc73c2713f""]"
552cc42fefbe8a50bfabd679ffdf98da1bb25828,a2d0994c4bb7a7ee99d74abfbcc3fd292859a96e,David Turner,dturner@twitter.com,Thu Jan 23 11:29:48 2014 -0500,1390494588,Improve the documentationRefs https://github.com/facebook/watchman/pull/23n,18.0,8.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,1237.0,49.0,0.0002662037037037037,4.0,3757.5217391304345,1.0,Non Functional,False,,
a2d0994c4bb7a7ee99d74abfbcc3fd292859a96e,9c3ca8b154562957871913a4311bed55a2a07a44,Wez Furlong,wez@fb.com,Wed Feb 26 15:48:50 2014 -0800,1393458530,fix leak with suffix generator,9.0,0.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,511.0,14.0,34.30515046296296,785.0,1.0291501417864246,41.0,Corrective,True,True,"[""95510bf92299413c2d68c16327d6c92ebd10fe7d""]"
9c3ca8b154562957871913a4311bed55a2a07a44,7556d9e47eaa7e99dc5670c51ed6538e415ad935,Wez Furlong,wez@fb.com,Wed Feb 26 16:50:09 2014 -0800,1393462209,age out deleted file and dir nodesSummary:nThis will check for deleted nodes in two cases:nn- Prior to yielding after settlingn- Immediately after waking up (or timing out) waiting for notificationsnnThe age-out check needs to walk the entire file list; we can onlynremove nodes that are marked as deleted and these can be interleavednbetween old and unchanged file nodes.nnTest Plan: `arc unit --everything`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://phabricator.fb.com/D1193022nnTask ID: 2665658n,323.0,22.0,"README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",9.0,4.0,4.0,1.9302011577158784,4.0,731.2222222222223,381.0,108.44247427983541,790.0,1.0049311457600347,457.0,None,False,True,"[""ab7be81e1be19a8a589bdaf0ff1b4e9bbe336b04"", ""a0ada2889841b6248302be61e77e2c35b1516be6"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""919f52942df9e049552c82a3e98ed1924018a9a6""]"
7556d9e47eaa7e99dc5670c51ed6538e415ad935,83eff8154264d9330423a7068aeb9b6c53a97f79,Siddharth Agarwal,sid0@fb.com,Wed Feb 26 21:45:15 2014 -0800,1393479915,[package] refer to %{buildroot} instead of $root/ROOTSummary:nThe build root can be overridden outside of the spec file. We should always use `%{buildroot}` instead.nnAlso bump the package version up to 2.9.5.nnTest Plan: `arc package --statedir /var/facebook/watchman` used to fail. Now it works.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D1193812nnTask ID: 3811660n,4.0,4.0,"arcanist/workflow/package.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,4.0,199.5,62.0,68.65122106481482,143.5,1.0072886350326251,76.0,None,False,,
83eff8154264d9330423a7068aeb9b6c53a97f79,1cbdc0e6481d41523526d7b0ceb306b7dcf25040,Siddharth Agarwal,sid0@fb.com,Mon Mar 3 21:27:36 2014 -0800,1393910856,[travis] attempt to work around arc unit breaking when a tag is cloned,4.0,0.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,26.0,6.0,276.35075231481477,145.0,1.0036185897509728,77.0,None,False,,
1cbdc0e6481d41523526d7b0ceb306b7dcf25040,b5ac8d8d02f1c27ab6190a7aa28c8fe392c26cce,Siddharth Agarwal,sid0@fb.com,Mon Mar 10 10:31:03 2014 -0700,1394472663,move build instructions to top of readme,11.0,12.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,1266.0,51.0,11.695069444444444,146.0,1.0855061190316433,78.0,None,False,,
b5ac8d8d02f1c27ab6190a7aa28c8fe392c26cce,9342be3b924357094fc7a0bbc59ad2d47b4f2a02,Siddharth Agarwal,sid0@fb.com,Mon Mar 10 15:03:49 2014 -0700,1394489029,add assertions to make tests pass with upstream arcanist changes,10.0,10.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,333.0,25.0,11.88449074074074,147.0,1.0841432773027404,14.0,Feature Addition,False,,
9342be3b924357094fc7a0bbc59ad2d47b4f2a02,587dafcbd3be7fe86a4163abdef45267892ab298,Siddharth Agarwal,sid0@fb.com,Mon Mar 24 21:38:39 2014 -0700,1395722319,add some docs about case-folding,71.0,3.0,"README.markdown,CAS_DELIMITER,docs/casefolding.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.5340042729285396,4.0,632.5,52.0,7.2318055555555585,148.5,1.069139027060247,1.0,Feature Addition,False,,
587dafcbd3be7fe86a4163abdef45267892ab298,cb8db83a2a40075f7092d57718c9b1b643aaf4c7,Reuben Hawkins,reuben.hawkins@adometry.com,Wed Mar 5 15:52:32 2014 -0600,1394056352,"configure.ac: use silent rules if availableUsing silent rules gives a cleaner output from the build.  This makes itntrivially easy to spot warnings.  The original, verbose, output can stillnbe seen by doing one of these...nn$ ./configure --disable-silent-rules && makenn...or...nn$ ./configure && make V=1nn...otherwise the build output looks like this...nn$ ./configure && maken  CC   thirdparty/libtap_a-tap.on  AR   libtap.an  CC   watchman-argv.on  CC   watchman-opt.on  CC   watchman-cfg.on  CC   watchman-log.on  CC   watchman-json.on  CC   watchman-bser.on  CC   watchman-hash.on  CC   watchman-ht.on",1.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,193.0,50.0,6.671724537037037,0.0,0.0,0.0,None,False,,
cb8db83a2a40075f7092d57718c9b1b643aaf4c7,190b547a022831ddd235cae7b00f5acc7c09bc1e,Reuben Hawkins,reuben.hawkins@adometry.com,Wed Mar 5 15:56:34 2014 -0600,1394056594,"configure.ac: output extra build config summery to consoleIt's sometimes useful, and always harmless, to output some extra confignsummery at the end of the configure script.  It'll save some debugging timenif your eye catches the -O2 in the CFLAGS before you set out to debug.nWhen that happened, you'd reconfigure with CFLAGS=-g and continue.nnThe output looks like this...nn...nconfig.status: creating Makefilenconfig.status: creating thirdparty/jansson/jansson_config.hnconfig.status: creating config.hnconfig.status: config.h is unchangednconfig.status: executing depfiles commandsnnYour build configuration:nnCPPFLAGS =  -D_REENTRANT -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCEnCFLAGS = -g -O2 -I/usr/local/Cellar/pcre/8.33/include -Wall -Wextra -Wdeclaration-after-statement -g -gdwarf-2 -fno-omit-frame-pointernLDFLAGS =nprefix: /usr/localnversion: 2.9.5nn$n",12.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,194.0,51.0,0.0028009259259259268,1.0,358.0247933884297,1.0,None,False,,
190b547a022831ddd235cae7b00f5acc7c09bc1e,88c84d6597227d71bfca3136e4567fa08048af2c,Wez Furlong,wez@fb.com,Sun Mar 30 19:28:14 2014 -0700,1396232894,"Dance around issue #11Until we get enough tuits to fix up streaming BSER in the watchman CLI,nhead off problem reports with using --persistent mode by encouragenpeople to use --server-encoding=json in our documentationnnAddresses https://github.com/facebook/watchman/issues/31nRefs https://github.com/facebook/watchman/issues/11n",4.0,3.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,1268.0,53.0,5.90943287037037,795.0,1.1692209763501935,458.0,Corrective,True,,
88c84d6597227d71bfca3136e4567fa08048af2c,aeba3e70ed8bdbc4d8a0f6153fe1c7b880b4a903,chantra,chantra@fb.com,Wed Apr 2 10:20:36 2014 -0700,1396459236,"update pre/post script to only kill process named watchman, not .*watchman.*Summary:npkill -9 watchman would kill any processes that has watchman in it named.nwhen using alien to convert the rpm created by `arc package`, scripts callednfb-watchman.prerm and fb-watchman.postinst are ran and would kill themselvesnpreventing the install to succeednnTest Plan:n$ pgrep watchmann22989nu00e2u0094u008cu00e2u0094u0080[09:55:07]u00e2u0094u0080u00e2u0094u0080[chantra]u00e2u0094u0080u00e2u0094u0080[dev421]:~/fbcode $nu00e2u0094u0094u00e2u0094u0080u00e2u0094u0080(master) >>n$ pkill -9 -x watchman || /bin/truenu00e2u0094u008cu00e2u0094u0080[09:55:10]u00e2u0094u0080u00e2u0094u0080[chantra]u00e2u0094u0080u00e2u0094u0080[dev421]:~/fbcode $nu00e2u0094u0094u00e2u0094u0080u00e2u0094u0080(master) >>n$ pgrep watchmannu00e2u0094u008cu00e2u0094u0080[09:55:12]u00e2u0094u0080u00e2u0094u0080[chantra]u00e2u0094u0080u00e2u0094u0080[dev421]:~/fbcode $nu00e2u0094u0094u00e2u0094u0080u00e2u0094u0080[Exit 1] (master) >>n$ pgrep watchmann28386n...n...n$ pgrep watchmann28386nu00e2u0094u008cu00e2u0094u0080[09:59:13]u00e2u0094u0080u00e2u0094u0080[chantra]u00e2u0094u0080u00e2u0094u0080[dev421]:~/fbcode $nu00e2u0094u0094u00e2u0094u0080u00e2u0094u0080(master) >>n$ pkill -x watchman || /bin/truenu00e2u0094u008cu00e2u0094u0080[09:59:19]u00e2u0094u0080u00e2u0094u0080[chantra]u00e2u0094u0080u00e2u0094u0080[dev421]:~/fbcode $nu00e2u0094u0094u00e2u0094u0080u00e2u0094u0080(master) >>n$ pgrep watchmannu00e2u0094u008cu00e2u0094u0080[09:59:21]u00e2u0094u0080u00e2u0094u0080[chantra]u00e2u0094u0080u00e2u0094u0080[dev421]:~/fbcode $nu00e2u0094u0094u00e2u0094u0080u00e2u0094u0080[Exit 1] (master) >>nnReviewers: weznnReviewed By: weznnCC: royw, sid0nnDifferential Revision: https://phabricator.fb.com/D1254095nnTask ID: 4049275n",2.0,2.0,"arcanist/workflow/package.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,206.0,14.0,34.48288194444444,0.0,0.0,0.0,None,False,,
aeba3e70ed8bdbc4d8a0f6153fe1c7b880b4a903,9ae00f5359cf22457be2168bd908c638f420479d,Siddharth Agarwal,sid0@fb.com,Wed Apr 2 20:06:25 2014 -0700,1396494385,rename stop to terminate to disambiguate from suspend,7.0,7.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,509.0,28.0,85.14862268518519,150.0,1.0117441711734696,15.0,None,False,True,"[""91d3727c437d3ff87948b11db46097a9904cd656""]"
9ae00f5359cf22457be2168bd908c638f420479d,91d3727c437d3ff87948b11db46097a9904cd656,Siddharth Agarwal,sid0@fb.com,Wed Apr 2 20:07:07 2014 -0700,1396494427,fix typo,1.0,1.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,509.0,29.0,0.0004861111111111112,151.0,2058.1428571428573,16.0,Corrective,True,,
91d3727c437d3ff87948b11db46097a9904cd656,22a0b62cbe5580c84e5d41c01fd783675333013f,Siddharth Agarwal,sid0@fb.com,Mon Apr 7 11:08:49 2014 -0700,1396894129,[tests] add support for stopping the process to the test harnessSummary: This lets us add tests that require Watchman to read a series of events at once.nnTest Plan: `arc unit --everything` on Linux and Mac.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D1256312n,97.0,3.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/moremoves.php,CAS_DELIMITER",4.0,2.0,2.0,1.114205596633386,4.0,239.5,63.0,145.79387152777778,153.5,1.06308885884103,26.0,Feature Addition,False,True,"[""1f223e362a470f146f9f360695377bd9d8ecc39e""]"
22a0b62cbe5580c84e5d41c01fd783675333013f,872b1e5674bfdf8aa1e4ceddbaa9e141b24fd9ec,Siddharth Agarwal,sid0@fb.com,Mon Apr 7 12:48:08 2014 -0700,1396900088,don't suspend watchman during testEvenMoreMovesLooks like this broke Travis.n,2.0,2.0,"tests/integration/moremoves.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,62.0,3.0,0.06896990740740741,156.0,15.499077026346702,27.0,Preventative,False,,
872b1e5674bfdf8aa1e4ceddbaa9e141b24fd9ec,2727d9a1e47a4a2229c65cbb2f0c7656cbd96270,Siddharth Agarwal,sid0@fb.com,Wed Apr 9 11:35:23 2014 -0700,1397068523,prep for 2.9.6,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,206.0,52.0,34.86028935185185,157.0,1.028685935159826,80.0,None,False,,
2727d9a1e47a4a2229c65cbb2f0c7656cbd96270,71fff82c2ced47cc9a6913d5f15d03bdd4e627e6,Wez Furlong,wez@fb.com,Sun Apr 20 09:46:53 2014 -0700,1398012413,"Sanity check that root is absoluteAlso disallow watching the root of the filesystem.nBoth of these checks prevent accidentally watching the wrong location;nrelative paths are interpreted by the watchman server, and its pwd isnset to `/` when it starts up.nnAddresses https://github.com/facebook/watchman/issues/33n",35.0,1.0,"root.c,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER",2.0,2.0,2.0,0.9798687566511528,4.0,1604.5,105.0,26.33219907407407,796.5,1.0189881596517432,118.0,Corrective,True,True,"[""aa3607f7c8817b1e0adfea6cf8296dbcfa9db6c6""]"
71fff82c2ced47cc9a6913d5f15d03bdd4e627e6,773accf4dff92e57cfd75bdb1c5ecd4fabee9afe,Wez Furlong,wez@fb.com,Sun Apr 20 10:23:10 2014 -0700,1398014590,"avoid misaligned pointer access in python bser moduleAddresses https://github.com/facebook/watchman/issues/26nnI don't have a sparc handy to test this on, but this passes our tests,nso I'm calling this good enough.n",50.0,24.0,"python/bser/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,736.0,3.0,331.8366435185185,798.0,1.003013530963298,7.0,Feature Addition,False,,
773accf4dff92e57cfd75bdb1c5ecd4fabee9afe,32b9528d78bffcb1f4dfce66ee2debe119a31491,Wez Furlong,wez@fb.com,Sun Apr 20 10:37:52 2014 -0700,1398015472,"default CLI to json-compact server encodingAvoid using BSER in the CLI because we have some issues with it fornpersistent connections.nnAddresses https://github.com/facebook/watchman/issues/11nnLonger term, I'd like to default BSER on again, but I'll do that oncenwe're running with libphenom.nnNote that 88c84d6597227d71bfca3136e4567fa08048af2c works around this byndocumentation.  We'll keep those docs in place for a couple of releasesnbefore taking them out to allow folks some time to upgrade to the newernfixed version.n",1.0,2.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,470.0,35.0,299.71532407407415,799.0,1.0033364994035234,460.0,Feature Addition,False,,
32b9528d78bffcb1f4dfce66ee2debe119a31491,3193404b74dab6b86d8a51d02e9d7125abcda0b5,Wez Furlong,wez@fb.com,Sun Apr 20 10:51:32 2014 -0700,1398016292,Add command list to -h outputAddresses https://github.com/facebook/watchman/issues/15n,16.0,4.0,"listener.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.3366664819166876,4.0,637.0,153.0,143.2652662037037,801.0,1.0079835279815412,463.0,Feature Addition,False,,
3193404b74dab6b86d8a51d02e9d7125abcda0b5,1bc482c3ffabde41b5a8ac2b6ed9615a961f5209,Wez Furlong,wez@fb.com,Sun Apr 20 10:53:36 2014 -0700,1398016416,Add note about no Windows supportReferences https://github.com/facebook/watchman/issues/19n,3.0,0.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,1269.0,54.0,20.642615740740734,803.0,1.0484434730830343,464.0,Feature Addition,False,,
1bc482c3ffabde41b5a8ac2b6ed9615a961f5209,8736ecff640550b9f906612ea17622193073c7c5,Wez Furlong,wez@fb.com,Sun Apr 20 11:42:14 2014 -0700,1398019334,"remove deprecated settle CLI optionThis hasn't done anything for a while, was just present to preservenCLI compatibility.nnRemoving it.n",0.0,9.0,"README.markdown,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.3516441151533922,4.0,833.6666666666665,162.0,0.03789351851851852,805.0,18.049754464344357,467.0,None,False,,
8736ecff640550b9f906612ea17622193073c7c5,2ce2b58264e11c8224f8d7e6d69fb6c804eebde6,Wez Furlong,wez@fb.com,Sun Apr 20 15:59:38 2014 -0700,1398034778,Fixup other bser.c for misaligned accessReferences https://github.com/facebook/watchman/issues/26nnOverlooked this earlier; apply same changes as for the pythonnextension implementation.n,53.0,24.0,"bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,610.0,1.0,334.92532407407407,807.0,1.0029857401878004,468.0,Corrective,True,,
2ce2b58264e11c8224f8d7e6d69fb6c804eebde6,ac36bfcd5cc14ed42ce1e80606afc7e40650693f,Wez Furlong,wez@fb.com,Fri Apr 25 23:32:48 2014 -0700,1398493968,improve trigger configurability and flexibilityReferences https://github.com/facebook/watchman/issues/21nnThis turned out to be a fairly large diff:nn* Removed legacy rules engine; all matches are now run via then  query frameworkn* Refactored and moved most trigger code out of root.cn* Added expanded trigger command that allows control over a numbern  of aspects of the trigger command execution.  Full details aren  in the readmen* Retained prior trigger command syntax and implemented it in termsn  of the new trigger commandn,1621.0,860.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,argv.c,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,envp.c,CAS_DELIMITER,ht.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,root.c,CAS_DELIMITER,rules.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/capture.sh,CAS_DELIMITER,tests/integration/trig.sh,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-max-files.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",28.0,5.0,5.0,3.6588040617793967,4.0,347.92857142857144,502.0,151.9717286706349,821.5,1.0009030847008382,482.0,None,False,True,"[""b30fcb387455c0d6f311dfbd17c9234d3a5db0e1"", ""43cd8050f4d1362a12a2a222735b73262f631543"", ""3f1df807e765038e9541650356d21c83a253d8df"", ""2318fc0dfce6fe3dde7a7b93a2f5b7b5a4c851c3"", ""5d35a96a1677dbc33354d1609ae4e1d07d54adeb"", ""82e91478cd414829b95ce111b2077a816a3545f1"", ""d2e57c97c32cec8f5149b89a855723d7d97ddfe6""]"
ac36bfcd5cc14ed42ce1e80606afc7e40650693f,73ccf85bd291d1f81e822a8b43f01f73997acc9d,Wez Furlong,wez@fb.com,Sun Apr 27 23:40:55 2014 -0700,1398667255,Test some error cases in trigger registration,138.0,7.0,"cmds/trigger.c,CAS_DELIMITER,tests/integration/trigger-error.php,CAS_DELIMITER",2.0,2.0,2.0,0.5411393986630264,4.0,174.0,5.0,1.002818287037037,836.5,1.498594816691385,125.0,Preventative,False,True,"[""0528fa57dd07c4370f0d35d4519ac1ae3a29b1ab"", ""82e91478cd414829b95ce111b2077a816a3545f1""]"
73ccf85bd291d1f81e822a8b43f01f73997acc9d,b30fcb387455c0d6f311dfbd17c9234d3a5db0e1,Wez Furlong,wez@fb.com,Sun Apr 27 23:52:22 2014 -0700,1398667942,Report failure to register triggers in tests better,23.0,18.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-max-files.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",5.0,2.0,2.0,2.0804393476725207,4.0,172.0,45.0,2.0135879629629634,840.0,1.2267925092255163,129.0,Corrective,True,,
b30fcb387455c0d6f311dfbd17c9234d3a5db0e1,1cae4583ed2e6d8656c816d0e54a4a1fde9d96ef,Wez Furlong,wez@fb.com,Mon Apr 28 00:06:31 2014 -0700,1398668791,Trying harder to trap a Travis error in tests,6.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,listener.c,CAS_DELIMITER",2.0,2.0,2.0,0.5916727785823275,4.0,686.5,103.0,3.780949074074073,843.5,51.94951319077982,483.0,Preventative,False,,
1cae4583ed2e6d8656c816d0e54a4a1fde9d96ef,7a6a8cf2b866a8a382fe3ac8e99bc1ef368f9bf8,Wez Furlong,wez@fb.com,Mon Apr 28 00:16:36 2014 -0700,1398669396,fix leak in legacy trigger parse error case,2.0,0.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,522.0,16.0,2.0304166666666665,845.0,1.4925097475887543,44.0,Corrective,True,,
7a6a8cf2b866a8a382fe3ac8e99bc1ef368f9bf8,aa3607f7c8817b1e0adfea6cf8296dbcfa9db6c6,Wez Furlong,wez@fb.com,Mon Apr 28 00:32:54 2014 -0700,1398670374,built-in watch assertion in testsPass false as the second parameter to skip the success assertion;nuseful when testing failure conditions.n,8.0,6.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER,tests/integration/invalidroot.php,CAS_DELIMITER,tests/integration/rootrestrict.php,CAS_DELIMITER",4.0,2.0,2.0,1.9241743523004409,4.0,143.75,34.0,154.34524305555556,847.5,14.678869573844324,132.0,Corrective,True,,
aa3607f7c8817b1e0adfea6cf8296dbcfa9db6c6,5dc62da6ef674af922e1a972f0c2e908733d6d4a,Wez Furlong,wez@fb.com,Mon Apr 28 00:39:03 2014 -0700,1398670743,improve trigger registration error message in test,4.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,472.0,31.0,0.004270833333333333,850.0,235.14634146341461,96.0,Preventative,False,,
5dc62da6ef674af922e1a972f0c2e908733d6d4a,c28454289fd828c3a6b9094348310ae33066c6fa,Wez Furlong,wez@fb.com,Mon Apr 28 00:42:11 2014 -0700,1398670931,Handle disconnects better in test watch assertion,6.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,475.0,32.0,0.0021759259259259253,851.0,460.5744680851063,97.0,Perfective,False,,
c28454289fd828c3a6b9094348310ae33066c6fa,24844cb9ccb48212dc7cac7d899e26450e176a60,Wez Furlong,wez@fb.com,Mon Apr 28 00:55:36 2014 -0700,1398671736,debug log client disconnects,2.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,909.0,75.0,0.03408564814814815,852.0,30.337860780984716,484.0,Corrective,True,,
24844cb9ccb48212dc7cac7d899e26450e176a60,09e9082eae2f6a15da322092f2a47208940b37a8,Wez Furlong,wez@fb.com,Mon Apr 28 01:11:30 2014 -0700,1398672690,Improve instrumentation around fwrite() in test,22.0,1.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,597.0,32.0,2.0685416666666665,853.0,1.4834323698257632,98.0,Preventative,False,,
09e9082eae2f6a15da322092f2a47208940b37a8,efcc057ae88b75b14d7c912129c99d5b4b885737,Wez Furlong,wez@fb.com,Mon Apr 28 08:04:17 2014 -0700,1398697457,Enable --trace for running unit tests,2.0,1.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,4.0,317.0,42.0,166.29210069444446,854.5,2.7457598489902235,18.0,Preventative,False,,
efcc057ae88b75b14d7c912129c99d5b4b885737,31a15d6668068857103dec6f10445c75403cb5a3,Wez Furlong,wez@fb.com,Mon Apr 28 08:14:06 2014 -0700,1398698046,avoid fatal on test tear down if watchman pipe breaks,6.0,2.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,619.0,34.0,0.00681712962962963,856.0,147.6893039049236,100.0,Preventative,False,,
31a15d6668068857103dec6f10445c75403cb5a3,dc9e629c10afa11ad9528d15a234792752652c86,Wez Furlong,wez@fb.com,Mon Apr 28 08:27:40 2014 -0700,1398698860,add spacing to watchman log around test begin/end,20.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,listener.c,CAS_DELIMITER",2.0,2.0,2.0,0.4537163391869448,4.0,695.5,109.0,0.31859375,857.5,3.3314777148690515,485.0,Feature Addition,False,,
dc9e629c10afa11ad9528d15a234792752652c86,32e5f3df8a6e66cdff7c7bc964dd30911ae2ea17,Wez Furlong,wez@fb.com,Mon Apr 28 08:42:42 2014 -0700,1398699762,"add --no-local CLI flagTo be used on conjunction with --no-spawn; we're seeing some testsnfail with errors like unknown command watch which are because thenserver process isn't responding and we're trying to watch in clientnmode.nnFor the purposes of our tests, we just want to fail in these cases.n",9.0,2.0,"arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,2.0,2.0,0.8453509366224365,4.0,271.0,40.0,142.69361689814815,859.5,1.0035537299641826,486.0,Corrective,True,,
32e5f3df8a6e66cdff7c7bc964dd30911ae2ea17,c66fb2ae101b5e78d33c7a5c4b02fafc566629ce,Wez Furlong,wez@fb.com,Mon Apr 28 08:49:23 2014 -0700,1398700163,log willRunTests/didRunTests to watchman log too,32.0,14.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,499.0,34.0,0.015081018518518518,861.0,67.30851880276286,103.0,Preventative,False,,
c66fb2ae101b5e78d33c7a5c4b02fafc566629ce,c947b27c0df6cd55edc27023579de29972ccbef1,Wez Furlong,wez@fb.com,Mon Apr 28 09:22:23 2014 -0700,1398702143,"fix valgrind warningFor the bigpcre test we generate a line that won't fit in the stacknbuffer.  We were using the return value from vsnprintf to size thenwrite, but this is the non-truncated length.nnMeasure the string again and ensure that it has a trailing newlinen",6.0,2.0,"log.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,61.0,8.0,352.3136689814815,862.0,1.0028383797963074,487.0,Corrective,True,,
c947b27c0df6cd55edc27023579de29972ccbef1,aa901594e9901defb44e5b4a5a09715f95d5ce60,Wez Furlong,wez@fb.com,Mon Apr 28 09:23:55 2014 -0700,1398702235,Aggregate log files from multiple test instancesThis explains why tracking down the error on travis is so difficult:nwe run multiple watchman processes and were clobbering the log filenwith the most recent one.nnHopefully we'll see a more complete pictur for the next travis run.n,25.0,3.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER",2.0,1.0,1.0,0.9402859586706308,4.0,372.0,47.0,138.79450810185185,863.5,11.314525024436461,105.0,Preventative,False,True,"[""605362f88e3e83ded3ab202160200407a0f09505""]"
aa901594e9901defb44e5b4a5a09715f95d5ce60,3debf0f6556724d42853ddcb381e84dbc56cdbea,Wez Furlong,wez@fb.com,Mon Apr 28 10:19:05 2014 -0700,1398705545,"don't truncate log file entries if we have roomWhen we add a newline, if we have room, append it rather thannreplacing the last character in the buffer.n",7.0,1.0,"log.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,65.0,9.0,0.039375,865.0,26.396825396825395,488.0,Feature Addition,False,,
3debf0f6556724d42853ddcb381e84dbc56cdbea,605362f88e3e83ded3ab202160200407a0f09505,Wez Furlong,wez@fb.com,Mon Apr 28 10:19:47 2014 -0700,1398705587,"capture config, fail faster in testCopy the config file into the log so we can see how the instancenwas configured.nnPing the instance to get its pid before starting a test; if dead,nstop running tests.  This should cause us to fail fast and to highlightnfailures easier: we have a lot of log data to crawl through.n",31.0,7.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER",2.0,1.0,1.0,0.9980008838722996,4.0,383.0,49.0,0.03879629629629629,866.5,20.331742243436754,107.0,Corrective,True,True,"[""4e67e444609746a4b928208f9894427d0a73df35""]"
605362f88e3e83ded3ab202160200407a0f09505,4963aec8006ad736abc5e289ab385064f8f8e230,Wez Furlong,wez@fb.com,Mon Apr 28 11:29:31 2014 -0700,1398709771,capture watchman requests in test when --trace'ing,11.0,0.0,"arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",2.0,1.0,1.0,0.9940302114769564,4.0,298.0,39.0,0.11352430555555555,868.5,7.518287081922951,109.0,Preventative,False,,
4963aec8006ad736abc5e289ab385064f8f8e230,4e67e444609746a4b928208f9894427d0a73df35,Wez Furlong,wez@fb.com,Mon Apr 28 11:53:03 2014 -0700,1398711183,fix dead test resultNeeds to be in an arrayn,1.0,1.0,"arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,139.0,14.0,0.06476851851851853,870.0,16.43959971408149,110.0,Corrective,True,,
4e67e444609746a4b928208f9894427d0a73df35,4512a3f155d74627ede3c861f30c3d29a54d7eb4,Wez Furlong,wez@fb.com,Mon Apr 28 11:55:07 2014 -0700,1398711307,Print environment for travis runs,2.0,0.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,16.0,10.0,0.16030092592592593,871.0,7.23826714801444,19.0,None,False,,
4512a3f155d74627ede3c861f30c3d29a54d7eb4,43cd8050f4d1362a12a2a222735b73262f631543,Wez Furlong,wez@fb.com,Mon Apr 28 11:58:36 2014 -0700,1398711516,"Allow making a 0 length slice from the end of a stringThe travis failures are because there is an env var set to the emptynstring.  This causes our environment builder to hit this assert:nn1398709910: tid=1530218240 illegal string slice start=15 len=0 but str->len=15n1398709910: tid=1530218240 Fatal error detected at:n1398709910: tid=1530218240 ./watchman() [0x40529a]n1398709910: tid=1530218240 ./watchman() [0x413721]n1398709910: tid=1530218240 ./watchman() [0x4036aa]n1398709910: tid=1530218240 ./watchman() [0x4097c4]n1398709910: tid=1530218240 ./watchman() [0x409a7d]n1398709910: tid=1530218240 ./watchman() [0x40e8c0]n1398709910: tid=1530218240 ./watchman() [0x40ea2e]n1398709910: tid=1530218240 /lib/x86_64-linux-gnu/libpthread.so.0(+0x7e9a) [0x7f995c55fe9a]n1398709910: tid=1530218240 /lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7f995c04c3fd]nAbortednnSo, allow a zero length slice and check that we see this is in the env.n",7.0,2.0,"arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER",3.0,3.0,3.0,1.5304930567574826,4.0,211.66666666666663,32.0,1.0086998456790124,873.0,87.72882153151932,133.0,Corrective,True,,
43cd8050f4d1362a12a2a222735b73262f631543,e59444102cba23cb8b90e39f676abd952d227733,Wez Furlong,wez@fb.com,Mon Apr 28 13:24:18 2014 -0700,1398716658,suppress valgrind complaint when shutting downValgrind sometimes moans about the request being alive when we runncmd_shutdown; release it.n,2.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,911.0,77.0,0.2059953703703704,875.0,5.854478031239465,490.0,None,False,,
e59444102cba23cb8b90e39f676abd952d227733,3f1df807e765038e9541650356d21c83a253d8df,Wez Furlong,wez@fb.com,Mon Apr 28 13:25:15 2014 -0700,1398716715,"Wait separately for the env file to show upWe sometimes see test failures, so ensure that it is present prior tonexamining it.n",9.0,1.0,"tests/integration/trigger-chdir.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,40.0,3.0,0.06017361111111112,876.0,17.618580496249283,134.0,Corrective,True,,
3f1df807e765038e9541650356d21c83a253d8df,3b5230703932dedbe65e11a682b59a2afdfed674,Wez Furlong,wez@fb.com,Mon Apr 28 13:44:22 2014 -0700,1398717862,avoid flakiness in trigger test under valgrindalso try to improve diagnosticsn,9.0,1.0,"tests/integration/trigger.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,188.0,15.0,0.5777777777777777,877.0,2.730769230769231,135.0,Preventative,False,,
3b5230703932dedbe65e11a682b59a2afdfed674,0535c133c3588b39694a74ffd33c041ec8716a55,Wez Furlong,wez@fb.com,Mon Apr 28 13:48:24 2014 -0700,1398718104,"disable --trace and env dumping on travisFound the root cause, don't need so much output nown",1.0,3.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,18.0,11.0,0.07866898148148148,878.0,13.711490363395615,20.0,None,False,,
0535c133c3588b39694a74ffd33c041ec8716a55,46839d4d9555b0644ce2a228fae1bde864481a29,Wez Furlong,wez@fb.com,Mon Apr 28 14:00:50 2014 -0700,1398718850,tidy up valgrind xml parsing in the test harness,24.0,8.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,651.0,37.0,0.15350694444444446,879.0,7.5143632662293625,112.0,Preventative,False,,
46839d4d9555b0644ce2a228fae1bde864481a29,2318fc0dfce6fe3dde7a7b93a2f5b7b5a4c851c3,Wez Furlong,wez@fb.com,Mon Apr 28 14:25:12 2014 -0700,1398720312,"travis + valgrind thinks we leak some tempfilesThese feel like false positives to me, but let's eliminate the lack ofnCLOEXEC as a source of problems.n",26.0,4.0,"configure.ac,CAS_DELIMITER,spawn.c,CAS_DELIMITER,state.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,1.2366407419411674,4.0,369.75,130.0,120.89567129629627,881.5,1.1441817127290608,494.0,Corrective,True,,
2318fc0dfce6fe3dde7a7b93a2f5b7b5a4c851c3,7084b05529f7762ad82d08e79f34378abbd4ce67,Wez Furlong,wez@fb.com,Mon Apr 28 15:18:17 2014 -0700,1398723497,"Disable fd leak checkingLooks like some versions of valgrind have flaky support for this,nshowing descriptors from the intermediate child created bynposix_spawn as leaking descriptors overall, even though theynare CLOEXEC.n",9.0,2.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,667.0,38.0,0.05378472222222222,884.0,19.59264041316979,113.0,Feature Addition,False,,
7084b05529f7762ad82d08e79f34378abbd4ce67,08b92b328f71864ad5da0ec6dd34f1af7cd790d2,Wez Furlong,wez@fb.com,Tue Apr 29 17:13:54 2014 -0700,1398816834,trying to quash some flakiness in the legacy trigger test,57.0,48.0,"tests/integration/trigger.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,196.0,16.0,1.1455092592592593,885.0,1.8729741745140043,136.0,Preventative,False,,
08b92b328f71864ad5da0ec6dd34f1af7cd790d2,1070bda40f809bf1d423400ca9203819c6b9b9ab,Wez Furlong,wez@fb.com,Tue Apr 29 18:52:03 2014 -0700,1398822723,suppress warnings for file to avoid spew on a race condition,1.0,1.0,"tests/integration/trigger.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,205.0,17.0,0.06815972222222222,886.0,15.67142129393785,137.0,None,False,,
1070bda40f809bf1d423400ca9203819c6b9b9ab,fc2d4fedf6fdfa86268cc493049f6585b7e29862,Wez Furlong,wez@fb.com,Tue Apr 29 18:58:32 2014 -0700,1398823112,"Ignore definite leaks on TravisI'm not able to reproduce the leaks that travis highlights, and theynappear to be nonsensical anyway, so downgrade them the SKIPs so thatnthey don't flag the build as bad.n",8.0,2.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,674.0,39.0,1.1529513888888892,887.0,1.8673392561361242,114.0,None,False,,
fc2d4fedf6fdfa86268cc493049f6585b7e29862,1f223e362a470f146f9f360695377bd9d8ecc39e,Wez Furlong,wez@fb.com,Sat May 10 18:08:02 2014 -0700,1399770482,Illumos build/test fixupMake a pass through to improve the status of our build/test on Illumosnsystems.n,30.0,8.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,state.c,CAS_DELIMITER",6.0,2.0,2.0,2.1717734874019783,4.0,889.1666666666665,290.0,67.76740354938272,890.5,1.0241337833514583,499.0,Corrective,True,,
1f223e362a470f146f9f360695377bd9d8ecc39e,04a5a01711f8e7e3ac2c21dc62f084031fe43e52,Wez Furlong,wez@fb.com,Sat May 10 17:00:01 2014 -0700,1399766401,arc feature should start at origin/master,1.0,0.0,".arcconfig,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,10.0,5.0,319.1102314814815,894.0,1.0031337133734557,500.0,None,False,,
04a5a01711f8e7e3ac2c21dc62f084031fe43e52,1b1f680a0791ad86ffac3f9aa9a5bab47d5b259c,Wez Furlong,wez@fb.com,Sun May 11 08:59:00 2014 -0700,1399823940,"refactor command registration and dispatchThis is a step towards some enhancements I'm planning for the watchmannCLI process.nnSwitch the registration from a central list of commands (and a separatenlist for the client mode command set) to declaring the registrationndetails alongside the command function with some flags to indicatenwhether it is permitted in client or daemon mode.nnThis can later be extended to include a CLI-side command preprocessorncallback that can do things like `realpath`ing the root dir on thenclient side before sending a watch command.nnWe could also extend this to include a usage summary to be displayednwhen `watchman -h` is invoked.nnAs part of this refactor, I took out the function call that initializednthe query expression term hash, so I applied the same principle to thatnsubsystem.n",142.0,204.0,"Makefile.am,CAS_DELIMITER,clientmode.c,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/log.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/base.c,CAS_DELIMITER,query/empty.c,CAS_DELIMITER,query/init.c,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/pcre.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,query/suffix.c,CAS_DELIMITER,query/type.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",24.0,3.0,3.0,3.9235684255058776,4.0,172.58333333333337,283.0,209.8439539930556,906.5,1.0033195783877529,506.0,Feature Addition,False,,
1b1f680a0791ad86ffac3f9aa9a5bab47d5b259c,8d7c6263a1ea3b3711be75dcdcd33641edc8ae57,Wez Furlong,wez@fb.com,Sun May 11 09:10:21 2014 -0700,1399824621,Move command registration funcs out of listener.cJust a straightforward move of this code to a home of its own.n,85.0,77.0,"Makefile.am,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,listener.c,CAS_DELIMITER",3.0,2.0,2.0,1.0466572427184315,4.0,352.33333333333326,111.0,0.00525462962962963,920.0,106.72687224669605,508.0,None,False,True,"[""b606dfb2ba861d732ed39ed4f57b02ea3a069002""]"
8d7c6263a1ea3b3711be75dcdcd33641edc8ae57,b8832cc2bdc101677838c302f78b78a947a4295b,Wez Furlong,wez@fb.com,Sun May 11 10:42:57 2014 -0700,1399830177,"preprocess commands in the CLIAdds a per-command callback that is invoked by the CLI prior to sendingna command to the server.nnFor commands that accept the root dir as the second parameter, we wirenup a callback that executes `realpath` on the root prior to sending thencommand.  This makes it more convenient to use the CLI, as you may nownspecify relative paths for the root.nnThis does not apply or have meaning to clients that are directlynaccessing the socket, because they are bypassing the CLI.nnReferences https://github.com/facebook/watchman/issues/33n",157.0,40.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/log.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",16.0,4.0,4.0,2.745617760636525,4.0,242.4375,306.0,2.52484302662037,929.5,1.0631354008223852,512.0,Feature Addition,False,True,"[""2dbfa19e924c32cbdc11e97037ea421e5252303e"", ""4f55e10128375292aa36065c09e8872fc4f66088"", ""3866fb3dd15c87ff4f8c14a2d0f168820906ea75""]"
b8832cc2bdc101677838c302f78b78a947a4295b,2dbfa19e924c32cbdc11e97037ea421e5252303e,Wez Furlong,wez@fb.com,Sun May 11 11:00:14 2014 -0700,1399831214,try harder to reset cwd between testsabsroot.php is failing on travis but passing everywhere else :-/n,14.0,20.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER",2.0,2.0,2.0,0.3227569588973983,4.0,284.0,40.0,0.012002314814814816,938.5,63.48794599807135,139.0,Corrective,True,,
2dbfa19e924c32cbdc11e97037ea421e5252303e,3254a52eec73c47ba9287722f4804c1c00c1efb9,Wez Furlong,wez@fb.com,Sun May 11 11:12:31 2014 -0700,1399831951,more travis instrumentation,4.0,2.0,"tests/integration/absroot.php,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,4.0,34.0,13.0,172.4499594907407,940.5,59.61746055072129,21.0,None,False,,
3254a52eec73c47ba9287722f4804c1c00c1efb9,b1fbac09dd42ded0e772587ee9571a7808bb9b9d,Wez Furlong,wez@fb.com,Sun May 11 11:17:10 2014 -0700,1399832230,poke around in /tmp on travis,1.0,1.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,35.0,10.0,0.003229166666666666,942.0,310.67741935483866,22.0,None,False,,
b1fbac09dd42ded0e772587ee9571a7808bb9b9d,6db607ff5bccb730cee96b822de28cdfba5b6360,Wez Furlong,wez@fb.com,Sun May 11 11:26:13 2014 -0700,1399832773,more sanity checks around cwd in travis/test,7.0,0.0,"arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER",2.0,2.0,2.0,0.5916727785823275,4.0,59.5,10.0,6.503611111111113,943.5,1.0769085025402756,141.0,Preventative,False,,
6db607ff5bccb730cee96b822de28cdfba5b6360,909b59a6ef3418cb387365a0d7a836b7bcd665ab,Wez Furlong,wez@fb.com,Sun May 11 14:02:28 2014 -0700,1399842148,travis: also run make installGives us an opportunity to catch broken installation rulesn,5.0,1.0,"travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,1.0,1.0,0.6500224216483541,4.0,25.5,23.0,6.562280092592593,945.5,5.393813393100927,24.0,None,False,True,"[""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
909b59a6ef3418cb387365a0d7a836b7bcd665ab,69b79257446ae0afe49928337b857acee306982a,Wez Furlong,wez@fb.com,Sun May 11 14:04:41 2014 -0700,1399842281,fix compilation warnings in test code,10.0,10.0,"thirdparty/tap.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,439.0,4.0,504.9569560185185,947.0,1.0019803668175695,30.0,Corrective,True,,
69b79257446ae0afe49928337b857acee306982a,48988beb0e55b2b3461f5b6b081afdb568cdb517,Wez Furlong,wez@fb.com,Mon May 12 11:03:09 2014 -0700,1399917789,"add illegal_fstype global configurationSummary:nEvery so often we have to troubleshoot what looks like hung, stallednor timed-out watchman processes.  These are typically caused by someonenwatching an NFS mounted dir.   In the past, we tried to gate the software thatnwas setting up the watches to prevent it from launching on NFS, but that gatingnisn't 100% foolproof.nnThis diff adds a pair of configuration options that can specify a set ofnblacklisted filesystem type names and the site specific advice on what tondo if the dir they plan to watch is on the blacklist.nnMore details are in the READMEnnTest Plan:n`make integration`.  Also manually attempted a watch in my VMsn(those mount my laptop via NFS) to confirm that they detect the filesystem typennames.nnReviewers: sid0nnReviewed By: sid0nnCC: donguo, lifeihuang, joelbnnDifferential Revision: https://phabricator.fb.com/D1323424n",222.0,2.0,"Makefile.am,CAS_DELIMITER,README.markdown,CAS_DELIMITER,configure.ac,CAS_DELIMITER,fstype.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/fstype.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",8.0,2.0,2.0,2.267556806177024,4.0,738.375,345.0,4.492893518518518,951.5,1.1526140927485524,519.0,Feature Addition,False,True,"[""ad90b24bcfe3b6e817e1fe4617a0670fa282056e"", ""1bb9d3d047b69872f727be27e270c5748ed67d62""]"
48988beb0e55b2b3461f5b6b081afdb568cdb517,d1716c6fd3af4fe4051cbaaa8b7f2ff5f80a1a66,Wez Furlong,wez@fb.com,Mon May 12 22:03:08 2014 -0700,1399957388,some jekyll markup in preparation for some docs updates,17.0,0.0,"docs/casefolding.markdown,CAS_DELIMITER,docs/cookies.markdown,CAS_DELIMITER",2.0,1.0,1.0,0.9975025463691152,4.0,74.5,2.0,163.46362847222218,956.5,1.0117299343971289,1.0,Non Functional,False,,
d1716c6fd3af4fe4051cbaaa8b7f2ff5f80a1a66,4edb76b1e40754474185fed4edec712e534eb805,Wez Furlong,wez@fb.com,Mon May 12 22:07:40 2014 -0700,1399957660,more dashes in the markdown,4.0,4.0,"docs/casefolding.markdown,CAS_DELIMITER,docs/cookies.markdown,CAS_DELIMITER",2.0,1.0,1.0,1.0,4.0,83.0,4.0,0.003148148148148148,958.5,239.23529411764702,3.0,None,False,,
4edb76b1e40754474185fed4edec712e534eb805,67ae3c1455f301cc07c7439acd2da78649ee7183,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 10:51:48 2014 -0700,1400003508,Add full permalink to casefolding.html,1.0,1.0,"docs/casefolding.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,74.0,3.0,0.5306481481481482,0.0,0.0,0.0,Feature Addition,False,,
67ae3c1455f301cc07c7439acd2da78649ee7183,a40a6a859e08bae8debddedda9184e73f0d32d20,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 10:52:04 2014 -0700,1400003524,Add full permalink to cookies.html,1.0,1.0,"docs/cookies.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,92.0,3.0,0.5308333333333334,1.0,2.8838304552590266,1.0,Feature Addition,False,,
a40a6a859e08bae8debddedda9184e73f0d32d20,c2abbcdc4974a6a47d380189158338b2288e67fa,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:00:39 2014 -0700,1400004039,Create index.markdown,78.0,0.0,"docs/index.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,2.0,0.0,2.0,Feature Addition,False,,
c2abbcdc4974a6a47d380189158338b2288e67fa,ccc584ceeeeab0cdffc8dcac76a5a090cb1cf6f4,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:14:03 2014 -0700,1400004843,Create navigation.json,5.0,0.0,"docs/navigation.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,3.0,0.0,3.0,Feature Addition,False,,
ccc584ceeeeab0cdffc8dcac76a5a090cb1cf6f4,397840631c880b3027a8892473b537ae6abac1bd,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:32:01 2014 -0700,1400005921,Remove double title from casefolding.markdown,0.0,2.0,"docs/casefolding.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,74.0,4.0,0.02792824074074074,4.0,36.80605055946954,4.0,None,False,,
397840631c880b3027a8892473b537ae6abac1bd,e02998c68a7db0fd328e6bf278c56878e0553b6d,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:32:17 2014 -0700,1400005937,Remove double title from cookies.markdown,0.0,2.0,"docs/cookies.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,92.0,4.0,0.02792824074074074,5.0,36.80605055946954,5.0,None,False,,
e02998c68a7db0fd328e6bf278c56878e0553b6d,197dc7bec21b7cf64d7ce0ebc19ac2104fd637ef,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:33:34 2014 -0700,1400006014,Remove redundant information from index.markdown,0.0,6.0,"docs/index.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,78.0,1.0,0.022858796296296297,6.0,44.746835443037966,6.0,None,False,,
197dc7bec21b7cf64d7ce0ebc19ac2104fd637ef,e6488114eadd0db7ae1a3f3b34b27f23b5fd4672,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:47:09 2014 -0700,1400006829,Create support.md,11.0,0.0,"docs/support.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,7.0,0.0,7.0,Feature Addition,False,,
e6488114eadd0db7ae1a3f3b34b27f23b5fd4672,eac55835a775bd0d952585861b42e84f8e814b21,Christopher Chedeau,vjeuxx@gmail.com,Tue May 13 11:52:33 2014 -0700,1400007153,Fix the permalink of support.,1.0,1.0,"docs/support.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,11.0,1.0,0.00375,8.0,267.6666666666667,8.0,Corrective,True,,
eac55835a775bd0d952585861b42e84f8e814b21,90f78ada7a48f639cbbccc5492ab25ea251bc84d,Wez Furlong,wez@fb.com,Wed May 14 13:02:11 2014 -0700,1400097731,"Break apart the README into smaller chunksThis makes it easier to pull the info together in more digestiblenchunks.nnThis doesn't remove the README, will revise that in a follow-on commit.n",1701.0,177.0,".gitignore,CAS_DELIMITER,BSER.markdown,CAS_DELIMITER,docs/BSER.markdown,CAS_DELIMITER,docs/casefolding.markdown,CAS_DELIMITER,docs/cli-options.markdown,CAS_DELIMITER,docs/clockspec.markdown,CAS_DELIMITER,docs/cmd.clock.markdown,CAS_DELIMITER,docs/cmd.find.markdown,CAS_DELIMITER,docs/cmd.get-sockname.markdown,CAS_DELIMITER,docs/cmd.log-level.markdown,CAS_DELIMITER,docs/cmd.log.markdown,CAS_DELIMITER,docs/cmd.query.markdown,CAS_DELIMITER,docs/cmd.shutdown-server.markdown,CAS_DELIMITER,docs/cmd.since.markdown,CAS_DELIMITER,docs/cmd.subscribe.markdown,CAS_DELIMITER,docs/cmd.trigger-del.markdown,CAS_DELIMITER,docs/cmd.trigger-list.markdown,CAS_DELIMITER,docs/cmd.trigger.markdown,CAS_DELIMITER,docs/cmd.unsubscribe.markdown,CAS_DELIMITER,docs/cmd.watch-del.markdown,CAS_DELIMITER,docs/cmd.watch-list.markdown,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER,docs/commands.markdown,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,docs/contributing.markdown,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,docs/index.markdown,CAS_DELIMITER,docs/install.markdown,CAS_DELIMITER,docs/navigation.json,CAS_DELIMITER,docs/sidebar.json,CAS_DELIMITER,docs/simple-query.md,CAS_DELIMITER,docs/socket-interface.markdown,CAS_DELIMITER,docs/support.markdown,CAS_DELIMITER,docs/support.md,CAS_DELIMITER",34.0,2.0,2.0,4.402102301389498,5.0,9.235294117647056,26.0,9.68189848856209,976.5,1.0031219448206936,35.0,None,False,,
90f78ada7a48f639cbbccc5492ab25ea251bc84d,8fad25c8dade63f92061520d6c8bec4e67794847,Wez Furlong,wez@fb.com,Fri May 16 12:48:25 2014 -0700,1400269705,some wordsmithing and doc work,196.0,139.0,"docs/cmd.trigger.markdown,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,docs/contributing.markdown,CAS_DELIMITER,docs/index.markdown,CAS_DELIMITER,docs/install.markdown,CAS_DELIMITER,docs/socket-interface.markdown,CAS_DELIMITER",6.0,1.0,1.0,1.3748795958353206,5.0,96.66666666666669,8.0,1.9904398148148148,996.5,1.2051472897065836,41.0,Non Functional,False,,
8fad25c8dade63f92061520d6c8bec4e67794847,6ea4ed8343728f41c17cbb6a58da321dbe458fa9,Wez Furlong,wez@fb.com,Fri May 16 13:11:03 2014 -0700,1400271063,"refactor python bser module to pywatchman.bser, add pywatchman.clientSummary:nThis draws from our hgwatchman client code to provide a simplenwatchman client API for python code.nnThis changes the makefile so that we install our watchman python modulenduring `make install`.  It also wires up a rudimentary test of thenclient that talks to one of the instances set up bynWatchmanIntegrationEngine.nnTest Plan: `./configure --with-python ; make integration`nnReviewers: sid0, achaonnReviewed By: sid0nnSubscribers: mosheznnDifferential Revision: https://phabricator.fb.com/D1323720n",1061.0,887.0,".gitignore,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanLicenseLinter.php,CAS_DELIMITER,python/bser/bser.c,CAS_DELIMITER,python/bser/setup.py,CAS_DELIMITER,python/bser/tests.py,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",12.0,4.0,7.0,2.111195291791188,5.0,107.25,87.0,94.52308641975307,1005.5,1.0596356288026472,25.0,Feature Addition,False,True,"[""26e02f8428d0b149db8c48007e0cf3808560add1""]"
6ea4ed8343728f41c17cbb6a58da321dbe458fa9,9ee109da162f2b5a7f8ba76a38c4026565d8c560,Greg Hurrell,glh@fb.com,Thu May 8 12:00:50 2014 -0700,1399575650,"Add ruby-watchman gemThis is code I wrote for a side project[0], extracted and wrapped into angem for easy consumption.nn[0]: https://github.com/wincent/Command-T/commit/4b2837e8c1312be334e64bn",1286.0,0.0,"ruby/ruby-watchman/.gitignore,CAS_DELIMITER,ruby/ruby-watchman/.rspec,CAS_DELIMITER,ruby/ruby-watchman/.travis.yml,CAS_DELIMITER,ruby/ruby-watchman/Gemfile,CAS_DELIMITER,ruby/ruby-watchman/LICENSE.txt,CAS_DELIMITER,ruby/ruby-watchman/README.md,CAS_DELIMITER,ruby/ruby-watchman/Rakefile,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/depend,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/extconf.rb,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/watchman.c,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/watchman.h,CAS_DELIMITER,ruby/ruby-watchman/lib/ruby-watchman.rb,CAS_DELIMITER,ruby/ruby-watchman/lib/ruby-watchman/version.rb,CAS_DELIMITER,ruby/ruby-watchman/ruby-watchman.gemspec,CAS_DELIMITER,ruby/ruby-watchman/spec/ruby_watchman_spec.rb,CAS_DELIMITER,ruby/ruby-watchman/spec/spec_helper.rb,CAS_DELIMITER",16.0,1.0,5.0,2.133332030113876,1.0,0.0,0.0,0.0,7.5,0.0,15.0,Feature Addition,False,True,"[""a5e983407bb0847a09cebf1a94b48780058c0a5e"", ""b3eb41e0237c53bfad45e2f76d9e585b07f5771f"", ""d924624677e9662216f79cf5e456ddeafc79005e"", ""8118a56c3f65786735922f3f6ad2e1fb88269f70""]"
9ee109da162f2b5a7f8ba76a38c4026565d8c560,5b0aa521ae10dd17dddcbc4982efb712f6d933f2,Greg Hurrell,glh@fb.com,Mon May 12 16:46:20 2014 -0700,1399938380,"Address feedback from @wez, Travis- update Travis set-up to hopefully run Ruby tests (alas, I can't known  it will work until I push it)n- update query description in README to be more precisen- use long-form license header, hopefully appeasing the Travis lintern- wrap some long lines that the linter was complaining aboutn- restore fcntl flags on exiting the `RubyWatchman_query` method, alson  ensure xmalloc call frees memory when an exception is raised; thisn  required an overall of the error handling in that methodn- guard against overflow when peeking at PDU sizen",148.0,38.0,".travis.yml,CAS_DELIMITER,ruby/ruby-watchman/.travis.yml,CAS_DELIMITER,ruby/ruby-watchman/README.md,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/watchman.c,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/watchman.h,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",6.0,3.0,4.0,1.2219319859289266,6.0,129.33333333333334,25.0,13.784261188271605,18.5,1.012739267980435,19.0,Feature Addition,False,True,"[""c2e169ef786bb3f434134c49081dd89956820afe""]"
5b0aa521ae10dd17dddcbc4982efb712f6d933f2,ed9c64242d5dc4143a4cce475f12f944af9adbe8,Greg Hurrell,glh@fb.com,Mon May 12 16:59:30 2014 -0700,1399939170,Ensure bundle is installed before trying to run testsTry to keep Travis happy.n,1.0,1.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,25.0,15.0,0.00914351851851852,22.0,110.36708860759495,1.0,Preventative,False,,
ed9c64242d5dc4143a4cce475f12f944af9adbe8,6cda8183e9408289d3697f49a05503fa48c2de93,Greg Hurrell,glh@fb.com,Wed May 14 07:47:02 2014 -0700,1400078822,"Make another attempt to appease TravisThe Travis WebLint (http://lint.travis-ci.org/) complains if you passnmore than one language value, so it takes the first and ignores thenothers.nnWe were relying on this to install PHP, but I think it means othernsettings in `.travis.yml` are ignored; the linter reports:nn  specified compiler, but setting is not relevant for phpn  specified python, but setting is not relevant for phpnnSo, make PHP the only language (so that it still gets installed) and tryninstalling Ruby and Bundler by other means. I'm leaving the othernsettings in because there are apparently plans for Travis to eventuallynsupport multiple languages within a single project:nnhttps://groups.google.com/forum/#!topic/travis-ci/3pzCgvxWZAon",3.0,5.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9544340029249648,6.0,35.0,20.0,2.18238425925926,23.5,1.4221539026625538,2.0,None,False,,
6cda8183e9408289d3697f49a05503fa48c2de93,c93b7710794d4fc6bd5fda6b0d8cb9efa6e28431,Greg Hurrell,glh@fb.com,Wed May 14 08:14:50 2014 -0700,1400080490,Make sure Rubygems is availableTrying to keep Travis happy:nnhttps://travis-ci.org/facebook/watchman/jobs/25163002n,1.0,1.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,35.0,13.0,0.019305555555555555,25.0,52.79856115107914,3.0,None,False,,
c93b7710794d4fc6bd5fda6b0d8cb9efa6e28431,3c2669f740bf3073bcf40d6aa68b9203bd6cafa7,Wez Furlong,wez@fb.com,Fri May 16 13:34:27 2014 -0700,1400272467,Tweak license linter for the ruby bindings,1.0,1.0,"arcanist/lib/WatchmanLicenseLinter.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,92.0,3.0,0.01625,1012.0,62.53846153846153,121.0,None,False,,
3c2669f740bf3073bcf40d6aa68b9203bd6cafa7,bea1e852105f1eb7a2b3354e85e28c3275450a07,Wez Furlong,wez@fb.com,Fri May 16 13:50:48 2014 -0700,1400273448,Add `$` prefix to all bash examples to make it clearer that it is bash,16.0,12.0,"docs/cmd.clock.markdown,CAS_DELIMITER,docs/cmd.find.markdown,CAS_DELIMITER,docs/cmd.log-level.markdown,CAS_DELIMITER,docs/cmd.log.markdown,CAS_DELIMITER,docs/cmd.query.markdown,CAS_DELIMITER,docs/cmd.shutdown-server.markdown,CAS_DELIMITER,docs/cmd.since.markdown,CAS_DELIMITER,docs/cmd.subscribe.markdown,CAS_DELIMITER,docs/cmd.trigger-del.markdown,CAS_DELIMITER,docs/cmd.trigger-list.markdown,CAS_DELIMITER,docs/cmd.watch-del.markdown,CAS_DELIMITER,docs/cmd.watch-list.markdown,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER",13.0,1.0,1.0,3.6644977792004623,5.0,38.384615384615394,13.0,2.033761574074074,1019.0,1.120282375569614,54.0,Corrective,True,,
bea1e852105f1eb7a2b3354e85e28c3275450a07,55d8609cbb544a921331ea34a02d66aa5127bdac,Wez Furlong,wez@fb.com,Fri May 16 14:05:25 2014 -0700,1400274325,Wait on the actual condition under test to avoid flaky test,13.0,7.0,"tests/integration/subscribe.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,74.0,6.0,280.96321759259257,1026.0,1.0035591847522547,143.0,Preventative,False,,
55d8609cbb544a921331ea34a02d66aa5127bdac,99c193a6616a8f7d2f5f9dca824d64e7d903a60b,Wez Furlong,wez@fb.com,Fri May 16 14:10:58 2014 -0700,1400274658,raise the settle timeout to reduce flakyness in this test,4.0,0.0,"tests/integration/trigger-max-files.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,65.0,2.0,18.59625,1027.0,1.0537742824494185,144.0,Preventative,False,,
99c193a6616a8f7d2f5f9dca824d64e7d903a60b,799c909df493ca6c3cd197969783b4db990e55a3,Wez Furlong,wez@fb.com,Fri May 16 14:51:33 2014 -0700,1400277093,more trigger-test relayed timing adjustments,23.0,5.0,"tests/integration/trigger-max-files.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",2.0,1.0,1.0,0.996316519558962,4.0,137.0,21.0,8.43058449074074,1028.5,18.770927035082195,146.0,Preventative,False,,
799c909df493ca6c3cd197969783b4db990e55a3,c6ce7a9b1a6b82ccf8560bd41933819880a5f5b3,Wez Furlong,wez@fb.com,Fri May 16 14:58:40 2014 -0700,1400277520,tweak for the javascript markdown renderer,10.0,13.0,"docs/cmd.query.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,133.0,2.0,0.04712962962962963,1030.0,22.21807465618861,55.0,None,False,,
c6ce7a9b1a6b82ccf8560bd41933819880a5f5b3,770e385436e602cf4bbaa03ed558f0d6fe97e23b,Wez Furlong,wez@fb.com,Fri May 16 16:50:11 2014 -0700,1400284211,raise settle timeout for more travis placation,11.0,1.0,"tests/integration/trigger.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,216.0,19.0,0.08238425925925925,1031.0,13.138241078954765,147.0,None,False,,
770e385436e602cf4bbaa03ed558f0d6fe97e23b,6c5997c89716ba3e34d2b58e7ada7653667ce5e7,Wez Furlong,wez@fb.com,Fri May 16 17:16:55 2014 -0700,1400285815,"When adding a trigger, bump the tick countIn the case where you add a trigger but don't change any files,nwe were quietly sitting on the total list of files until the nextnobserved file change.nnThis makes trigger work a little more like subscribe (which sends younyour initial results when you subscribe), and makes it easier whennyou're setting up triggers: you won't need to register the trigger andnthen run the build command anyway.nnAlso: our docs say that it works like this, but it hasn't for a while.n",3.0,0.0,"cmds/trigger.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,354.0,8.0,5.273587962962963,1032.0,1.1896242192266668,56.0,Feature Addition,False,,
6c5997c89716ba3e34d2b58e7ada7653667ce5e7,5ba5c4adae92a76c5b88c27b629fcf393686e066,Wez Furlong,wez@fb.com,Sat May 17 10:03:39 2014 -0700,1400346219,more wordsmithingRemove unplumbed recrawl option.nnAllow version and get-sockname to run in client-mode.n,233.0,74.0,"cmds/info.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,docs/cli-options.markdown,CAS_DELIMITER,docs/cmd.get-sockname.markdown,CAS_DELIMITER,docs/cmd.query.markdown,CAS_DELIMITER,docs/cmd.version.markdown,CAS_DELIMITER,docs/commands.markdown,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,docs/install.markdown,CAS_DELIMITER,docs/sidebar.json,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",12.0,3.0,3.0,2.025687659393825,5.0,166.0,189.0,2.9944280478395062,1038.5,1.0622679773588115,526.0,None,False,,
5ba5c4adae92a76c5b88c27b629fcf393686e066,89ac8d9a2c707333231308bef72f02d396da6eb6,Wez Furlong,wez@fb.com,Sat May 17 10:27:05 2014 -0700,1400347625,Point folks at the website,5.0,1437.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,1455.0,58.0,4.9749537037037035,1045.0,1.2010068956532258,527.0,None,False,,
89ac8d9a2c707333231308bef72f02d396da6eb6,9a42f6be9ab7aeff60c13d953ef5e04b9ea44a77,Wez Furlong,wez@fb.com,Sat May 17 14:07:47 2014 -0700,1400360867,Plumb ruby build bits into configure/make/arc,53.0,6.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,configure.ac,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",4.0,3.0,3.0,1.7351476970181363,6.0,136.5,125.0,1.7822714120370369,1047.5,1.5070467984316396,26.0,None,False,,
9a42f6be9ab7aeff60c13d953ef5e04b9ea44a77,e3c9d74ee199a94c90bb9083324866df55fc4ce6,Wez Furlong,wez@fb.com,Sat May 17 18:17:16 2014 -0700,1400375836,"read minimum length when determining pdu lengthin cases where the session is long lived (eg: subscriptions), readingntoo much without buffering could lead to skipping over multiple smallnresponses.n",4.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,118.0,1.0,1.2126504629629629,1050.0,1.8246399358613383,15.0,None,False,,
e3c9d74ee199a94c90bb9083324866df55fc4ce6,86b74f2f04f9a020f7ef31b5e9788fa69080b589,Wez Furlong,wez@fb.com,Sun May 18 08:52:23 2014 -0700,1400428343,tidy up the shutdown-server commandWe were previously killing ourselves immediately in the commandndispatcher.  Now we'll signal that we should stop and get tornndown a little more gracefully.nnThis has the side effect that we will send a response to thenshutdown-server command and not trigger some error spew in the CLI.n,30.0,24.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.3809465857053901,5.0,656.5,122.0,3.9368634259259263,1051.5,1.1357230846624824,531.0,None,False,,
86b74f2f04f9a020f7ef31b5e9788fa69080b589,383538a4f6d0fe8cb1185adc63bb92f0691dcaf3,Wez Furlong,wez@fb.com,Sun May 18 09:00:55 2014 -0700,1400428855,"whoops, don't leak fstype in the success cases:-(n",2.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,2981.0,109.0,5.915115740740743,1053.0,1.169058399502217,532.0,None,False,,
383538a4f6d0fe8cb1185adc63bb92f0691dcaf3,41fa5eb900c4cb5b0da23012da66e8ac9a036aae,Wez Furlong,wez@fb.com,Sun May 18 10:02:00 2014 -0700,1400432520,"When setting the same trigger definition twice, don't replace itThis avoids the possibility of a feedback loop in cases where yournbuild machinery registers a trigger to run itself, and that triggerndispatches immediately to run the build machinery and registersnthe trigger for itself.n",47.0,22.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,docs/cmd.trigger.markdown,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-max-files.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",7.0,4.0,4.0,1.8928880344851973,5.0,225.7142857142857,79.0,7.762805886243386,1057.0,1.065058334548002,151.0,None,False,,
41fa5eb900c4cb5b0da23012da66e8ac9a036aae,2affdc3dd56ea42c017f43384eb4cfe727fa9c28,Wez Furlong,wez@fb.com,Sun May 18 12:55:04 2014 -0700,1400442904,Use SVG for travis build status image,2.0,2.0,"README.markdown,CAS_DELIMITER,docs/install.markdown,CAS_DELIMITER",2.0,2.0,2.0,1.0,5.0,88.5,62.0,1.1109027777777776,1061.5,1.678447457851422,65.0,None,False,,
2affdc3dd56ea42c017f43384eb4cfe727fa9c28,bec3f0ddd16153d27d549724e3cff9027bfa3543,Wez Furlong,wez@fb.com,Sun May 18 22:20:28 2014 -0700,1400476828,"Tidy up waiting for clients on shut downSignal client threads to wake up out of any pending poll(), and wait fornthem all to go away on shutdown.n",35.0,6.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,850.0,83.0,0.5611689814814815,1063.0,2.7819944312674023,534.0,None,False,,
bec3f0ddd16153d27d549724e3cff9027bfa3543,d79324aa8222d81731d4d894f026939e896e17db,Wez Furlong,wez@fb.com,Sun May 18 22:21:34 2014 -0700,1400476894,"perform stronger validation on ignore_vcs setting during watchRather than passively moan about a problem to the log file,ncause a watch attempt to fail if the ignore_vcs setting is bad.n",72.0,19.0,"root.c,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER",2.0,2.0,2.0,0.7793498372920852,4.0,1527.5,116.0,83.03313657407408,1064.5,1.9022801898133783,152.0,Corrective,True,,
d79324aa8222d81731d4d894f026939e896e17db,c17279154f44f62795034e75b6a44f0ab52c8066,Wez Furlong,wez@fb.com,Tue May 20 14:14:24 2014 -0700,1400620464,fix non-DESTDIR install caseAddresses https://github.com/facebook/watchman/issues/39n,1.0,1.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,164.0,35.0,3.0045949074074074,1066.0,1.3328235688393932,536.0,Corrective,True,,
c17279154f44f62795034e75b6a44f0ab52c8066,a5e983407bb0847a09cebf1a94b48780058c0a5e,Greg Hurrell,glh@fb.com,Fri May 23 09:02:54 2014 -0700,1400860974,"Fix installation paths in gemspecThere is no need to explicitly add ext to the require_paths; RubyGemsnwill automatically copy the built bundle over to the lib duringninstallation:nnhttp://guides.rubygems.org/specification-reference/#require_pathsnnUse ruby-watchman as a prefix in the extension configuration to ensurenthat it gets installed in a subdirectory of lib; thus we can continue tonuse a ruby-watchman/ext as a require target and not have to come upnwith something globally unique.nnBumped the version number so that I could test this independently with:nn  bundle exec rake # compiles, testsn  bundle exec rake build # makes new gemn  sudo gem install ./ruby-watchman-0.0.2.gem # installsn  irb -rrubygems -rruby-watchman # test using example from READMEn",3.0,3.0,"ruby/ruby-watchman/ext/ruby-watchman/extconf.rb,CAS_DELIMITER,ruby/ruby-watchman/lib/ruby-watchman/version.rb,CAS_DELIMITER,ruby/ruby-watchman/ruby-watchman.gemspec,CAS_DELIMITER",3.0,1.0,3.0,1.584962500721156,1.0,20.33333333333333,3.0,14.876435185185185,27.0,1.0410791364667586,22.0,Corrective,True,,
a5e983407bb0847a09cebf1a94b48780058c0a5e,5161cb6eeca4405bcaea820f377cd6d2f51ce1f4,Wez Furlong,wez@fb.com,Mon May 26 18:54:03 2014 -0700,1401155643,"Support for case insensitive watchesSummary:nThis adds support for case insensitive but case preservingnfilesystems, such as HFS+ on MacOS.  At this time, we only have thisnsupport on MacOS.nnThe level of support implemented by this diff is:nn* ASCII case folding; our string routines use `tolower` when we want ton  perform case folding for case insensitive comparisons.  Some of ourn  query terms use pcre and fnmatch and request case insensitiven  comparisons.  We rely on whatever their implementation does under then  covers.   We may need to make a second pass over these and hint ton  pcre that the string is UTF-8 on MacOS.  As a TODO, we should also addn  a configure time option to use ICU case folding.nn* Expression terms that match names will default to the case insensitiven  mode of operation when the root is on a case insensitive filesystem.nn* The `path` generator does NOT support case insensitive matching.nn* We don't support watching across filesystem boundaries, so we dodgen  that bullet.nnHow it works:nnWe add a second files hash to watchman_dir.  This second hash is keyednby the case folded version of the filename, and its purpose is to tracknthe canonical currently live version of the file, independent of itsncase.nnThe regular files hash will hold the prior versions of the file (eg: ifn'a' is renamed to 'A', the files hash should hold a deleted 'a' file andnan existing 'A' file).  In this scenario, lc_files will point to thatnsame existing 'A' file.nnIf 'A' is then renamed back to 'a', we have a cheap way to resolve whatnit was renamed from (simply look it up in lc_files) and mark that onendeleted, before we revive the old 'a' file.  This is important to us,nbecause our model is to treat kernel notifications of file changes asnhints that we need to look at the filesystem, and this saves us fromnwalking all the entries in the dir or the hash to figure things out.nnFor pathological rapid case changing (eg: 'aaa', 'aaA', 'aAA', 'AAA',n'Aaa' and so on), we assume that the kernel will notify us about each ofnthese changes, even if we observe the file system visible change beforenreceiving the corresponding notification.  Since we will always observenthe filesystem after a notification, we should be guaranteed to end upnobserving the final representation and with all prior case versionsnmarked as deleted.nnWhen querying for changes, the existing time index can be used as-is.nWhen using name based generators, we'll need to revise them to walk thenlc_files hash rather than the files hash.nnFor tracking case changes in dirs, similar to tracking files, we treatnthe old case of the dir as an older incarnation of the dir.  When itnchanges case, we model that as a delete of the old case and ancreate/change in the tree for the new case.nnWe don't currently build a case insensitive directory tree.  Thenonly thing that would benefit from that would be the `path` generator.nWe need to review what the path generator should do when it comesnto case insensitivity: should it just walk the currentnfilesystem-canonical dir tree?  Are there valid use cases for usingnthe path generator on a historical version of the tree?  Does itnmake sense to allow the generator syntax to select the mode ofnoperation?nnTest Plan: `make integration`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://phabricator.fb.com/D1256270n",317.0,48.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,query/pcre.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER,tests/integration/case.php,CAS_DELIMITER,tests/integration/name.php,CAS_DELIMITER,tests/integration/pathgen.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",23.0,6.0,6.0,3.3283041765156316,6.0,326.4347826086956,416.0,73.96332830112722,1078.0,1.0134081058713136,541.0,None,False,,
5161cb6eeca4405bcaea820f377cd6d2f51ce1f4,b1e0c5f21a8c18072990b71e4e8f319b0f524b00,Siddharth Agarwal,sid0@fb.com,Sat Jun 7 15:16:39 2014 -0700,1402179399,travis: try supporting OS X,4.0,0.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,33.0,9.0,24.312233796296297,158.0,1.0411315557582512,81.0,None,False,,
b1e0c5f21a8c18072990b71e4e8f319b0f524b00,92bb01cbd0f141d16d8777fa61a89d06beac3b9d,Siddharth Agarwal,sid0@fb.com,Sat Jun 7 15:32:30 2014 -0700,1402180350,update composer before install,3.0,0.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,37.0,10.0,0.011006944444444444,159.0,91.85173501577287,82.0,None,False,,
92bb01cbd0f141d16d8777fa61a89d06beac3b9d,367f571cc605facdca2a3a987f10cc60726d5f4b,Siddharth Agarwal,sid0@fb.com,Sat Jun 7 15:40:09 2014 -0700,1402180809,ruby: disable tests,2.0,1.0,"arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,191.0,18.0,21.06414351851852,160.0,1.0474740403815066,19.0,None,False,True,"[""b3eb41e0237c53bfad45e2f76d9e585b07f5771f""]"
367f571cc605facdca2a3a987f10cc60726d5f4b,1bfbd57045f5264c291dac7d4ec159151f59893a,Siddharth Agarwal,sid0@fb.com,Sat Jun 7 16:02:40 2014 -0700,1402182160,travis: has no idea what it is doing,,,,,,,,,,,,,,,None,False,,
1bfbd57045f5264c291dac7d4ec159151f59893a,9d97387c0b9795295d8f1c9449e59447b58305cf,Ryan,ryan.y.rhee@gmail.com,Wed Jul 2 09:23:15 2014 -0700,1404318195,Fix spelling error of 'OS X',1.0,1.0,"docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,154.0,4.0,44.85290509259259,0.0,0.0,0.0,Corrective,True,,
9d97387c0b9795295d8f1c9449e59447b58305cf,4016c5c9dcf22365834a13b617ec974772608620,Wez Furlong,wez@fb.com,Wed Jul 9 13:37:53 2014 -0700,1404938273,make clean before running in travis,1.0,0.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,22.0,17.0,52.979236111111106,1090.0,1.0188753193402549,27.0,Perfective,False,,
4016c5c9dcf22365834a13b617ec974772608620,8ff5d80c9c557f4e48f63ec5e69bfc2f1a4d9bde,Wez Furlong,wez@fb.com,Wed Jul 9 16:53:45 2014 -0700,1404950025,"Handle ENOENT when getting canonical case of a pathIf we try to get the canonical name for a file that has been deletednsince the last observation, just return the input path.nnThis was found by running the hgwatchman test suite.n",4.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3150.0,112.0,43.91645833333333,1091.0,1.022770506501454,542.0,Preventative,False,,
8ff5d80c9c557f4e48f63ec5e69bfc2f1a4d9bde,b9e68994f3fce739f7c62bf1d48a6d5150f0639c,Wez Furlong,wez@fb.com,Tue Jul 15 12:06:51 2014 -0700,1405451211,Also handle ENOTDIR when canonicalizing paths,1.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3154.0,113.0,5.800763888888889,1092.0,1.1723910883384612,543.0,None,False,,
b9e68994f3fce739f7c62bf1d48a6d5150f0639c,68d14bc9812fcd292070eb631f2781b90dd7b92f,Wez Furlong,wez@fb.com,Tue Jul 15 12:08:17 2014 -0700,1405451297,"age-out cursors when aging out file nodesSummary:nCursors that have a tick value lower than the last gc ageneffectively have a 0 value, so we can safely remove them fromnthe cursor hash.nnThis supports a use case where tooling generates a unique cursor name onnstartup and re-uses it for a while.nnThis works best when the rate at which the tool starts up isnrelatively low (a handful of times a day at most).nnTest Plan: `make integration`nnReviewers: sid0nnReviewed By: sid0nnSubscribers: jimpnnDifferential Revision: https://phabricator.fb.com/D1413547n",55.0,1.0,"cmds/debug.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER",3.0,3.0,3.0,1.287054028118727,6.0,1099.0,119.0,67.94094907407408,1094.0,1.0118823969229642,159.0,None,False,True,"[""919f52942df9e049552c82a3e98ed1924018a9a6""]"
68d14bc9812fcd292070eb631f2781b90dd7b92f,b3eb41e0237c53bfad45e2f76d9e585b07f5771f,Greg Hurrell,glh@fb.com,Thu Jul 10 22:25:58 2014 -0700,1405056358,"Re-enable Ruby tests, pegging to RSpec 3.0These started failing when RSpec 3.0 came out, so adapt the specs tonmake the tests pass under RSpec 3.0, and peg the dependency to thatnrevision so that we don't have to fix this again in the future.nnNote that we have to run `bundle install` manually because Travis willnonly do it for us automatically if it detects a Gemfile in the rootnlevel of the repo:nnhttp://docs.travis-ci.com/user/languages/ruby/nnSample failure:nnhttps://travis-ci.org/facebook/watchman/jobs/29939087nnAdditionally, ensure we never try a `bundle exec` without firstnconfirming that the `bundle` is present:nnhttps://travis-ci.org/facebook/watchman/jobs/29939419nnFixes: https://github.com/facebook/watchman/issues/41n",12.0,10.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,ruby/ruby-watchman/ruby-watchman.gemspec,CAS_DELIMITER,ruby/ruby-watchman/spec/ruby_watchman_spec.rb,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",5.0,4.0,5.0,2.1403611636984854,6.0,164.0,72.0,50.84121064814815,31.0,1.0095646098664142,4.0,Corrective,True,,
b3eb41e0237c53bfad45e2f76d9e585b07f5771f,9c3d79171652916176ad6aade23d5ed11304b55f,Wez Furlong,wez@fb.com,Wed Jul 16 00:07:58 2014 -0700,1405494478,"revise travis build so that we can run osx and linuxThis also pulls in hgwatchman so that we can run its test suite.nI've disabled this for the moment because it takes a while on osxnand errors out :-/nnWe need to resolve that, but in the meantime, there's no reason not tonproceed with the build fixed up.nnAlso note: this turns off valgrind on travis builds too; we can revisitnand enable in a follow-on diffn",61.0,19.0,".gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",7.0,2.0,2.0,2.1217148742411136,6.0,78.85714285714286,158.0,78.71697089947091,1099.0,1.004056757846714,29.0,Preventative,False,True,"[""c2e169ef786bb3f434134c49081dd89956820afe"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
9c3d79171652916176ad6aade23d5ed11304b55f,78935539ba244e77fb4562365bb12776d950ab97,Wez Furlong,wez@fb.com,Wed Jul 16 14:26:24 2014 -0700,1405545984,"clarify the behavior of --no-save-stateSummary: The language was confusing, hopefully this makes more sensennTest Plan: eyesnnReviewers: royw, sid0nnReviewed By: sid0nnSubscribers: fsilvannDifferential Revision: https://phabricator.fb.com/D1436644n",11.0,6.0,"docs/cmd.watch-del.markdown,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER",2.0,1.0,1.0,0.8739810481273578,6.0,41.0,5.0,55.91942708333333,1103.5,1.012664118863884,69.0,None,False,,
78935539ba244e77fb4562365bb12776d950ab97,35466dc6e8cca28b0eedcdc4c67474fee806c3e8,Wez Furlong,wez@fb.com,Wed Jul 16 14:32:19 2014 -0700,1405546339,"Re-enable the ruby build+test on travisI accidentally pushed https://github.com/facebook/watchman/pull/45 aheadnof the travis build fixup, so this should get us actually buildingnagain.n",1.0,1.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,48.0,19.0,0.6002430555555556,1105.0,2.6659917857349456,30.0,Preventative,False,,
35466dc6e8cca28b0eedcdc4c67474fee806c3e8,e3442401583fd6bfc5a2e25f52b84a613090b56c,Wez Furlong,wez@fb.com,Fri Aug 8 11:05:23 2014 -0700,1407521123,"more gracefully handle overlapping ignore optionsSummary:nhttps://github.com/facebook/buck/issues/170#issuecomment-51489110 refersnto issues watching .svn dirs and requests a way to ignore those.nnhttps://github.com/facebook/buck/issues/170#issuecomment-51469085ndemonstrates that someone got bitten by queries stopping working whennthey were experimenting with ignores.nnWhile I don't think ignoring .git or .hg makes a big difference in thengrand scheme (the default ignore_vcs works very well on our large repos,nand noticing VCS activity is an important part of filesystem settlendetection for triggers), it sounds like doing so for .svn is more of annissue.nnWhat this diff does:nnif a dir is listed in both `ignore_dirs` and `ignore_vcs`, we'll takenthe `ignore_dirs` placement as definitive, and elide that dir from theneffective value of `ignore_vcs`.nnThis means that it will no longer be candidate location for the cookiendir and that queries will continue to work just fine.nnAddresses https://github.com/facebook/watchman/issues/17nnTest Plan: `make integration`nnReviewers: fsilva, jimp, sid0nnReviewed By: sid0nnDifferential Revision: https://phabricator.fb.com/D1484322n",33.0,2.0,"docs/configuration.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER",3.0,3.0,3.0,1.4831261215117912,6.0,1133.0,125.0,62.84320601851852,1107.0,1.0088973481627037,160.0,None,False,True,"[""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78""]"
e3442401583fd6bfc5a2e25f52b84a613090b56c,76d2f05463776a0a79d625a6109d3dc3aa7c52da,Wez Furlong,wez@fb.com,Sat Aug 9 19:18:01 2014 -0700,1407637081,Fix bashisms in configure.acAddresses https://github.com/facebook/watchman/issues/48n,3.0,3.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,221.0,61.0,24.79864583333333,1109.0,1.0403247825192068,551.0,Corrective,True,,
76d2f05463776a0a79d625a6109d3dc3aa7c52da,98cee62e523d322aca2a0ae5f8c35813e64baa0c,Siddharth Agarwal,sid0@fb.com,Sat Aug 9 23:11:21 2014 -0700,1407651081,"don't recrawl if a stale watch descriptor is foundSummary: I believe this is the correct fix.nnTest Plan:n`make integration`, and hgwatchman's test suite -- made sure we never recrawled. Also ran `hg update .~10000` in a large repo -- we'd just about always recrawl without this change. With this change we never recrawled.nnFinally, as a sanity check, compared the output of `find -type f` and a watchman query for all files right after the update. Saw that except files in `.hg` there were no discrepancies.nnReviewers: weznnReviewed By: weznnSubscribers: dreissnnDifferential Revision: https://phabricator.fb.com/D1488238n",11.0,8.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3171.0,116.0,1.5041435185185186,161.0,1.6648301759029842,83.0,None,False,,
98cee62e523d322aca2a0ae5f8c35813e64baa0c,ad1d9e5394f3c35998615aad3e040f5a34315b00,Siddharth Agarwal,sid0@fb.com,Sat Aug 9 23:17:58 2014 -0700,1407651478,clarify stale watch descriptor comment a bit,3.0,3.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3174.0,117.0,0.004594907407407408,162.0,218.63224181360198,84.0,None,False,,
ad1d9e5394f3c35998615aad3e040f5a34315b00,c2e169ef786bb3f434134c49081dd89956820afe,Wez Furlong,wez@fb.com,Sun Aug 10 09:19:29 2014 -0700,1407687569,"Attempt to fix ruby build problems on Travis OSXLooks like the default ruby build segfaults for us, so try installingnone from brew.nnFix up void* vs. char* pointer arithmetic issuen",2.0,2.0,"ruby/ruby-watchman/ext/ruby-watchman/watchman.c,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,1.0,6.0,375.0,18.0,57.53634259259261,1110.5,1.0099198567224263,31.0,Corrective,True,,
c2e169ef786bb3f434134c49081dd89956820afe,ad90b24bcfe3b6e817e1fe4617a0670fa282056e,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 10:45:40 2014 +0200,1407660340,"Use statvfs on NetBSD.One field name in struct statvfs is different than one Solaris; adapt.nFixes build on NetBSD, since statfs support was removed.n",5.0,1.0,"fstype.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,73.0,1.0,89.6128587962963,0.0,0.0,0.0,Corrective,True,True,"[""1bb9d3d047b69872f727be27e270c5748ed67d62""]"
ad90b24bcfe3b6e817e1fe4617a0670fa282056e,fff4d0767b582c3f05ff027f21f938d42a1c61ac,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 10:52:28 2014 +0200,1407660748,Add cast.Fixesnroot.c:1987:36: error: initialization makes pointer from integer without a cast [-Werror]nwith gcc-4.8.3 on NetBSD.n,1.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3174.0,118.0,0.10729166666666666,1.0,10.320388349514564,1.0,Corrective,True,,
fff4d0767b582c3f05ff027f21f938d42a1c61ac,93af7efa47601b0cbde68182e8884e9a11e032e3,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 10:53:12 2014 +0200,1407660792,Add casts.Fixesnerror: array subscript has type u00e2u0080u0098charu00e2u0080u0099nwith gcc-4.8.3 on NetBSD.nnSee the CAVEATS section innhttp://netbsd.gw.com/cgi-bin/man-cgi?ctype+3+NetBSD-currentnfor an explanation what the problem with type 'char' is.n,9.0,9.0,"query/suffix.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER",4.0,4.0,4.0,1.4466166676282082,6.0,279.0,26.0,175.7062326388889,3.5,1.0050262567426185,2.0,Corrective,True,,
93af7efa47601b0cbde68182e8884e9a11e032e3,a711504feca8ed794194b401dd8673293d433ede,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 18:39:15 2014 +0200,1407688755,"Cast udata to void *.Another method to get rid of the warning, suggested by Wez Furlong.n",2.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3174.0,119.0,0.3241550925925926,6.0,4.084943049951797,3.0,None,False,,
a711504feca8ed794194b401dd8673293d433ede,4ee53a5c8397694028e47d64a805a6dcac41d074,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 18:40:27 2014 +0200,1407688827,Use uint8_t instead of unsigned char to keep line length down.Suggested by Wez Furlong.n,1.0,1.0,"string.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,466.0,19.0,0.32447916666666665,7.0,4.081861958266453,4.0,None,False,,
4ee53a5c8397694028e47d64a805a6dcac41d074,168e8a9104ace25fd5225fcde5e4725c828c9636,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 19:45:53 2014 +0200,1407692753,Do not use statvfs on OS X.The statvfs interface there does not provide the wanted information.n,1.0,1.0,"fstype.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,77.0,2.0,0.37515046296296295,8.0,3.6655971369512232,5.0,None,False,,
168e8a9104ace25fd5225fcde5e4725c828c9636,77fda2831fa28394fb368b3044462e820023f7d3,Thomas Klausner,wiz@NetBSD.org,Sun Aug 10 19:57:03 2014 +0200,1407693423,Consistently use uint8_t in casts.Requested by Wez Furlong.n,8.0,8.0,"query/suffix.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER",4.0,4.0,4.0,1.5487949406953985,6.0,279.0,31.0,0.2965538194444444,10.5,2.762124244034778,1.0,None,False,,
77fda2831fa28394fb368b3044462e820023f7d3,245b5872011454e6ba72959eab337c990c94e661,Wez Furlong,wez@fb.com,Mon Aug 11 12:56:53 2014 -0700,1407787013,"Add get-config commandSummary:nthe Buck folks would like to be able to detect whether thenbuck-out dir is correctly listed in the ignore_dirs list in then.watchmanconfig file.nnThis diff adds a mechanism for querying watchman to get thenconfiguration that is in use for a watch.nnTest Plan:n`make integration`.  Also tested manually; the output from thosentests is reproduced in the documentation.nnReviewers: fsilva, sid0nnReviewed By: sid0nnSubscribers: jimp, dreissnnDifferential Revision: https://phabricator.fb.com/D1488644n",103.0,1.0,"cmds/info.c,CAS_DELIMITER,docs/cmd.get-config.markdown,CAS_DELIMITER,tests/integration/info.php,CAS_DELIMITER",3.0,3.0,3.0,1.5328747182497136,5.0,20.33333333333333,8.0,156.26957561728398,1113.0,1.0084521313808137,161.0,Feature Addition,False,,
245b5872011454e6ba72959eab337c990c94e661,fe4b11b8d676c7e038286fd2fdf51538968c1e2b,Wez Furlong,wez@fb.com,Sat Aug 9 19:08:04 2014 -0700,1407636484,"Improve reporting on recrawlsSummary:nAdds a `warning` field to the response struct.  If present, it conveysna warning that should be reported back to the user.nnWe currently only set this warning state if a recrawl is triggered.  Thenwarning output links to new documentation about what a recrawl is and how tonavoid it.nnWe maintain a recrawl counter but don't expose this in a structured way to thenclient.  Not sure how big a deal this really is; given @sid0's recent change tonheal for non IN_Q_OVERFLOW conditions, this should only trigger when theninotify resources are not tuned properly and thus this should be pretty much anbinary condition.nnTest Plan:n`make integration`; tests that trigger recrawls assert that we setnthe warning info.nnThe warning field looks like this:nn```nRecrawled this watch 1 times, most recently because:n/private/var/tmp/bwx0ydi87bscgkc0: debug-recrawlnTo resolve, please review the information onnhttps://facebook.github.io/watchman/troubleshooting.html#recrawln```nnReviewers: fsilva, sid0nnReviewed By: sid0nnSubscribers: sid0, jimp, dreissnnDifferential Revision: https://phabricator.fb.com/D1488381n",130.0,0.0,"cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,docs/socket-interface.markdown,CAS_DELIMITER,docs/troubleshooting.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",11.0,4.0,4.0,2.4175460718275525,6.0,512.2727272727273,351.0,91.75439288720541,1120.0,1.0036872381688802,555.0,None,False,True,"[""0d937157563363563a79c34d6261579973537158"", ""9f2fce0df71032e96cd9a6de0df3812280831120""]"
fe4b11b8d676c7e038286fd2fdf51538968c1e2b,9bc8191d7aa76c9596132466174afc25b1c849a1,Wez Furlong,wez@fb.com,Sun Aug 10 11:57:19 2014 -0700,1407697039,"Poison ourselves when the kernel cannot watch a dirSummary:nif the kernel resources are exceeded when watching a dir wenowe it to our clients to report that this has happened rather thannmisleading them about the state of the tree; if we can't watch a dirnthen we can't see inside it or reason about changes therein.nnThis diff adds support for setting the process into a poisoned statenwhen the kernel fails to watch a dir due to system limits (ENOENT isnexcluded from this case as we can simply look at the filesystem againnto recover).nnWhen in a poisoned state, all commands to the server will fail, unlessnthe command is marked as being immune to the poison staten(`shutdown-server` is the only one that is immune).nnDepends on D1488381nnTest Plan:ntested manually because I don't want to poison the testnharness and I'm slightly too lazy to spawn a new instance just to poisonnit:nn```n$ PATH=$PWD:$PATH ./watchman watch .n{nversion: 2.9.9,nwatch: /net/192.168.0.1/Users/wez/fb/watchmann}n$ PATH=$PWD:$PATH ./watchman watch-listn{nversion: 2.9.9,nroots: [n/net/192.168.0.1/Users/wez/fb/watchmann]n}n$ PATH=$PWD:$PATH ./watchman debug-poison $PWDn{nversion: 2.9.9,npoison: A non-recoverable condition has triggered.  Watchman needs your help!nThe triggering condition was at timestamp=1407697279: debug-poison(/net/192.168.0.1/Users/wez/fb/watchman) -> Cannot allocate memorynAll requests will continue to fail with this message until you resolventhe underlying problem.  You will find more information on fixing this atnhttps://facebook.github.io/watchman/troubleshooting.html#poison-debug-poisonnn}n$ PATH=$PWD:$PATH ./watchman watch-listn{nversion: 2.9.9,nerror: A non-recoverable condition has triggered.  Watchman needs your help!nThe triggering condition was at timestamp=1407697279: debug-poison(/net/192.168.0.1/Users/wez/fb/watchman) -> Cannot allocate memorynAll requests will continue to fail with this message until you resolventhe underlying problem.  You will find more information on fixing this atnhttps://facebook.github.io/watchman/troubleshooting.html#poison-debug-poisonnn}n$ PATH=$PWD:$PATH ./watchman shutdown-servern{nversion: 2.9.9,nshutdown-server: truen}n```nnReviewers: fsilva, sid0nnReviewed By: sid0nnSubscribers: jimp, dreissnnDifferential Revision: https://phabricator.fb.com/D1488396n",126.0,2.0,"cmds/debug.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,docs/troubleshooting.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",7.0,3.0,3.0,2.0335097955134307,6.0,748.2857142857142,312.0,17.22119543650794,1129.0,1.0127120861349177,559.0,None,False,True,"[""0d937157563363563a79c34d6261579973537158"", ""84b30e448afec84f9bdd706fff977b598692e1bc"", ""4f55e10128375292aa36065c09e8872fc4f66088"", ""a8fe2ef4a9bc6c5d3bb9612ece11cc8a23cfa27f"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
9bc8191d7aa76c9596132466174afc25b1c849a1,a3338e76dd3b78b9bb2c1a5d2132e800355477c6,Wez Furlong,wez@fb.com,Mon Aug 11 17:32:13 2014 -0700,1407803533,Add troubleshooting section to the sidebarOtherwise the website generator doesn't know it should generate thisnfile.n,2.0,1.0,"docs/sidebar.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,7.0,2.0,86.31150462962962,1133.0,1.0115859409969865,75.0,Feature Addition,False,,
a3338e76dd3b78b9bb2c1a5d2132e800355477c6,20dbfd48ffc5b41c506b12b79ce9c4d00e54d31d,Wez Furlong,wez@fb.com,Tue Aug 12 09:59:08 2014 -0700,1407862748,Remove OS X file descriptor limit adviceIt doesn't apply now that we're on fseventsnnAddresses https://github.com/facebook/watchman/issues/52n,0.0,21.0,"docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,154.0,5.0,41.02491898148149,1134.0,1.0243754290033191,76.0,Feature Addition,False,,
20dbfd48ffc5b41c506b12b79ce9c4d00e54d31d,0d937157563363563a79c34d6261579973537158,Siddharth Agarwal,sid0@fb.com,Tue Aug 19 10:41:25 2014 -0700,1408470085,fix up links to point to the right spotSummary: The links currently 404 and redirect to `https://code.facebook.com`. Doh.nnTest Plan: InspectionnnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D1505678n,3.0,3.0,"docs/troubleshooting.markdown,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",3.0,2.0,2.0,1.584962500721156,6.0,1411.0,210.0,8.947291666666667,164.0,1.068301239512267,86.0,Corrective,True,,
0d937157563363563a79c34d6261579973537158,2a528373c54f4ca585dcbd8f10c066d8ec8dab2d,Wez Furlong,wez@fb.com,Wed Aug 20 15:40:40 2014 -0700,1408574440,Don't enter poison state if the dir does not allow accessAddresses https://github.com/facebook/buck/issues/183n,1.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3229.0,123.0,1.2078125,1135.0,1.8279430789133249,560.0,Feature Addition,False,,
2a528373c54f4ca585dcbd8f10c066d8ec8dab2d,9b2081d292d32c11b0bb963713c97ed91e0e6f9d,Siddharth Agarwal,sid0@fb.com,Wed Aug 20 20:28:59 2014 -0700,1408591739,"switch to a whitelist of poison-worthy errorsSummary: There are other errnos possible here, like `ENOTDIR` or `ENOFOLLOWSYMLINK`. It's better to switch to a whitelist of errors we know we can't recover from.nnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://phabricator.fb.com/D1510893n",6.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3228.0,124.0,0.20021990740740744,166.0,5.994508353083992,87.0,None,False,True,"[""84b30e448afec84f9bdd706fff977b598692e1bc"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
9b2081d292d32c11b0bb963713c97ed91e0e6f9d,d924624677e9662216f79cf5e456ddeafc79005e,Greg Hurrell,greg@hurrell.net,Wed Aug 20 22:45:53 2014 -0700,1408599953,"Fix (spurious) test failure on big-endian architecturesOur example includes a int_64_t value (the PDU's length prefix), whichnis endian-sensitive and so needs to be asserted using native endianness.nnOriginally reported as a bug on the upstream project where I initiallynprototyped the Watchman protocol Ruby implementation. References:nn  https://github.com/wincent/Command-T/issues/101n  https://bugzilla.redhat.com/show_bug.cgi?id=1130079n",31.0,14.0,"ruby/ruby-watchman/spec/ruby_watchman_spec.rb,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,397.0,2.0,41.01383101851852,34.0,1.0243820188255148,25.0,Corrective,True,,
d924624677e9662216f79cf5e456ddeafc79005e,f96c72588548a78d54d192b757d96bd48c4905f8,Siddharth Agarwal,sid0@fb.com,Tue Sep 23 17:04:58 2014 -0700,1411517098,"[root] add a return after handling ENOENT etcSummary: Not a big deal, but something @dreiss spottednnTest Plan: `arc unit --everything`nnReviewers: weznnReviewed By: weznnSubscribers: dreissnnDifferential Revision: https://phabricator.fb.com/D1573416n",1.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,3230.0,125.0,33.85832175925926,167.0,1.0295348365790318,88.0,Feature Addition,False,,
f96c72588548a78d54d192b757d96bd48c4905f8,e10c13cbfebd0da980ea85c88e65a37bf8dd417a,Wez Furlong,wez@fb.com,Fri Oct 31 20:14:18 2014 -0700,1414811658,perform reviews on our public phabricator instance,1.0,1.0,".arcconfig,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,11.0,6.0,174.13491898148152,1136.0,1.005742673588095,561.0,None,False,,
e10c13cbfebd0da980ea85c88e65a37bf8dd417a,4038a6a5887a396abd73705eeb6297177f51fdad,Wez Furlong,wez@fb.com,Sun Nov 2 08:39:11 2014 -0800,1414946351,"break out watchers in their own dirsSummary:nAs we've been threatening to do for quite some time, break up root.c a bit.nnThis is a relatively straightforward refactoring; breaks out the OS specificnwatching interface code to source modules under the watcher dir.nnI had to fix up a couple of build issues on FreeBSD where it got brokennby some NetBSD changes, and also to pass gmake through to the portionsnof the test harness that assumed make.nnTest Plan:nbuild and make integration on OS X, Linux, FreeBSD andnIllumos.nnOn FreeBSD, because I have a huge uid, I have to run like this:nn`MAKE=gmake gmake ARFLAGS=cruD integration`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D28167n",1660.0,1100.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,fstype.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/fstype.php,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",12.0,4.0,4.0,2.342591786836348,6.0,419.5,317.0,108.67064043209876,1142.5,1.0019116751815742,566.0,None,False,True,"[""84b30e448afec84f9bdd706fff977b598692e1bc"", ""3b6229987b5852bf33105a9f0c5383f5b8f3c112"", ""ac15e17c89c22759d223a91d6bd95d96fcf59310"", ""b931559d254b9a6f75dcad4a4a382941b136f932"", ""381a5da3fb09633bc8552d7e7734d194d5f33e64"", ""25651887a26f9d04e71b1bb799857abbbd25e7b1"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""1b2c278937019db8809a8424884520a563937cfa"", ""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
4038a6a5887a396abd73705eeb6297177f51fdad,e6367a5d7c90b933ef3f8f0385ee73f01f27447f,Wez Furlong,wez@fb.com,Sun Nov 2 08:56:18 2014 -0800,1414947378,"watchman: use launchd to spawn serviceSummary:nwe've seen a couple of cases where our mach connection to thenFSEvents service winds up in a broken state.  The theory is that thisnis somehow related to the user logging out or from different securityncontexts.nnThis diff hopes to avoid the issue by tying the user watchman processnto the GUI session of the user.nnHow it works: instead of daemonizing when we fail to connect to thenserver socket, we construct a plist containing the invocation optionsnand place it in the user LaunchAgents directory, then request thatnlaunchd load that plist.nnWe're asking launchd to manage the listening socket for us to handlenthe case where the user issues a `watchman shutdown-server` command.nWe do it this way because the process termination leaves the servicenin a waiting state from the perspective of launchd; when in thisnstate, an attempt to load the plist again fails with an EAGAIN status.nBy having launchd listen on the unix socket for us, it knows when tontrigger the watchman process and pass the descriptor over to it.nnOnce watchman has been successfully spawned via launchd for a user,nsubsequent logins will load the plist at login time and cause launchdnto listen on the watchman unix socket, spawning watchman on demand.nnIf the user only ever logs in to their system using the GUI, what windsnup happening is that watchman will get shutdown when they log out ofnthe GUI and respawned on their next watchman query/request in theirnnext GUI login.nnIf the user logs in without a GUI running (eg: via ssh) and spawnsnwatchman, it will fall back to old fashioned daemonize to run thenserver.  It will remain running even after the ssh session terminates.nnIf the user subsequently logs back in on the GUI, launchd will replacenthe unix socket with its own, effectively orphaning the non-GUI server.nIt would be great to have a way to detect when this happens.  Aside fromnstranding the process, it doesn't harm the user experience withnwatchman; they'll have a launchd spawned process that operates correctlynand that will get shut down when they log out.nnTest Plan:n`make integration` still passes (it uses --foreground explicitly anyway).nnIn a GUI session:nn`./watchman watch-list` writes out the plist and registers it with launchd.n`launchctl list | grep watchman` shows that it is registeredn`ps -ef | grep watchman` shows a running watchman process with thenlog, socket and state paths set explicitly (per the plist file)nnLogging out of the GUI, logging in via SSH:nn`pgrep watchman` shows no processes (it got shutdown on logout)nnLogging back in to GUI:nn`launchctl list | grep watchman` shows that it is registeredn`pgrep watchman` shows no processes (nothing has triggered it to spawn yet)n`./watchman watch-list` spawns watchman and returns the watch listn`./watchman get-pid` and note itnnLogging in via SSH while GUI is running:nn`./watchman get-pid` shows the same pid as above; watchman continues to respondnas per normal.nnLogging out of the GUI, then in the SSH session:nn`pgrep watchman` shows no processesn`./watchman watch-list` tries to spawn watchman via launchd, reports an error (on stderr)nand falls back to daemonize, then responds with the watch list from its non-launchd invocation.nn`ps -ef | grep watchman` shows a `watchman watch-list` with `init` as the parent.nnLogging back in on a GUI:nn`ps -ef | grep watchman` shows the `watchman watch-list` with `init` as the parent.n`./watchman watch-list` spawns a new watchman server via launchd, responds with expected results.n`ps -ef | grep watchman` shows both the launchd spawned instance and the init-parented server.nnLogging out of the GUI, then in the SSH session:nn`ps -ef | grep watchman` shows only the init-parented servern`./watchman watch-list` spawns a new init-parented server (because launchd orphaned the original unix socket)n`ps -ef | grep watchman` shows two init-parented serversnnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D28161n",242.0,31.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.9999128895013564,6.0,689.0,129.0,37.49027777777777,1149.5,1.0133378483199404,568.0,None,False,,
e6367a5d7c90b933ef3f8f0385ee73f01f27447f,c7b72b6885058e931f1a6e59688d30fbbca71137,Niclas Rosenvik,youremailsarecrap@gmail.com,Fri Aug 22 16:59:59 2014 +0200,1408719599,NetBSD before 6.99 uses BSD-style subsecond timespec.,5.0,1.0,"watchman.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,836.0,82.0,-72.06888888888889,0.0,0.0,0.0,None,False,,
c7b72b6885058e931f1a6e59688d30fbbca71137,80af743a042c7d64e8181675111daa2e6b5295d9,Niclas Rosenvik,youremailsarecrap@gmail.com,Sat Aug 23 13:15:00 2014 +0200,1408792500,Use configure to set if we are to use statvfs to get the fstype.,10.0,3.0,"configure.ac,CAS_DELIMITER,fstype.c,CAS_DELIMITER",2.0,1.0,1.0,0.9957274520849256,6.0,149.0,66.0,-28.926111111111112,1.5,1.0287463234078111,2.0,None,False,,
80af743a042c7d64e8181675111daa2e6b5295d9,bd083f0176ccae52b87cc7b658f01965b27bd987,Wez Furlong,wez@fb.com,Sun Nov 2 09:32:43 2014 -0800,1414949563,Update the CLA URL,1.0,1.0,"docs/contributing.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,51.0,2.0,169.90576388888888,1151.0,1.0058856155148097,77.0,None,False,,
bd083f0176ccae52b87cc7b658f01965b27bd987,1162a78263c346d230e2f67013d126eb0c01ac49,Wez Furlong,wez@fb.com,Sun Nov 2 12:04:25 2014 -0800,1414958665,"travis: disable rubyThis appears to be a travis problem, but it is making our builds fail onnOSX.  Disable ruby tests.n",5.0,5.0,"travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,1.0,1.0,0.7219280948873623,6.0,50.0,37.0,96.54758101851853,1152.5,1.0085307294684926,33.0,None,False,,
1162a78263c346d230e2f67013d126eb0c01ac49,783036b92340c8db8c05dce0221817a12d198241,Wez Furlong,wez@fb.com,Sun Nov 2 12:08:42 2014 -0800,1414958922,"watchman: fsevents: propagate errors from fsevents thread initSummary:nWe've seen a handful of issues where something goes bad withnthe fsevents subsystem and the underlying watch is effectively brokennbecause it wasn't properly initialized.  This is exacerbated becausenthe failure is asynchronous with respect to watch establishment.nnThis diff synchronizes fsevents initialization with the rest of thenroot initialization and adds a `failure_reason` to the root that cannbe used to propagate an error message back from the other thread.nnIt also improves error handling for fsevents initialization failures.nUnfortunately there doesn't appear to be a way to capture the underlyingnreason for the error from the library calls, so all we can do isnset the reason to the failing function.  The library calls do emitna log line to the log file.nnThe watch command is augmented to inspect the `failure_reason` andn`cancelled` fields of the root and return an error.nnDepends on D28167nnTest Plan:n`make integration` shows that this works.nnI injected a failure in fsevents initialization, then:nn```n$ ./watchman watch .n{nversion: 2.9.9,nerror: wompn}n```nnPreviously, this would report the watch as successful and then (maybe) cancel it.nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D28179n",83.0,17.0,"cmds/watch.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,3.0,3.0,1.2852717248415109,6.0,927.0,217.0,61.90164930555554,1155.5,1.005289348959239,570.0,None,False,True,"[""1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf""]"
783036b92340c8db8c05dce0221817a12d198241,ef860b02380d6e61009a51160582331abdd0a723,Wez Furlong,wez@fb.com,Mon Nov 3 13:01:50 2014 -0800,1415048510,"watchman: nodejs client bindingsSummary:nAdds a simple but powerful asynchronous binding to the watchman service.nnMy motivation is to allow consolidating watch resources between ournwatchman-based source control and what I'm assuming is Grunt-based watching innjavascript (via gaze?).nnThe first step towards that is providing a client to talk to watchman and subscribe to changes.nnLater steps are to look at having gaze or whichever node modules are mostnheavily used in our workflows adapt to be able to consume the watchman basednwatcher.nnI've dabbled in nodejs in the past, but it's not my focus.  I'm looking fornsuggestions on how to make this more idiomatic.  Obviously missing from thisndiff is any kind of unit test.nnTest Plan:nManual:nn```ncd watchman/nodennpm installnnpm linknnpm link fb-watchmannnode example.jsn```nnOutputs:nn```n$ node example.jsnTalking to watchman version 2.9.9nfailed to subscribe:  { [Error: unknown command invalid-command-never-will-work]n  watchmanResponse:n   { version: '2.9.9',n error: 'unknown command invalid-command-never-will-work' } }nsubscription mysubscription establishedn/Users/wez/fb/watchman/node mysubscription [ { name: 'example.js',nsize: 1374,nnew: true,nexists: true,nmode: 33188 },n  { name: 'index.js',nsize: 3917,nnew: true,nexists: true,nmode: 33188 },n  { name: 'node_modules/json-stream/test/json-stream-test.js',nsize: 1539,nnew: true,nexists: true,nmode: 33188 },n  { name: 'node_modules/json-stream/test/pipe-test.js',nsize: 749,nnew: true,nexists: true,nmode: 33188 },n  { name: 'node_modules/json-stream/test/throw-in-readable-test.js',nsize: 305,nnew: true,nexists: true,nmode: 33188 },n  { name: 'node_modules/json-stream/lib/json-stream.js',nsize: 943,nnew: true,nexists: true,nmode: 33188 },n  { name: 'node_modules/nextback/test/main.js',nsize: 1224,nnew: true,nexists: true,nmode: 33188 },n  { name: 'node_modules/nextback/index.js',nsize: 229,nnew: true,nexists: true,nmode: 33188 } ]n```nnReviewers: amasad, ssturnnReviewed By: amasad, ssturnnSubscribers: sstur, amasadnnDifferential Revision: https://reviews.facebook.net/D28203n",602.0,0.0,".gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER,node/README.md,CAS_DELIMITER,node/example.js,CAS_DELIMITER,node/index.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER",6.0,2.0,2.0,1.7881394556753936,6.0,12.5,19.0,36.85969135802469,1160.5,1.0052752597018724,3.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""684a26831ea0ae64e2f99ee15b4f9b9032607599""]"
ef860b02380d6e61009a51160582331abdd0a723,9807c2d6c6e2eab02aadbb91420fb3fd62120385,Wez Furlong,wez@fb.com,Mon Nov 3 13:23:00 2014 -0800,1415049780,Bump version number to 3.0.0Since we tagged 2.9.9 we should stop claiming to be that version innmaster.nnPlanning on tagging the 3.0.0 release this week.n,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,227.0,63.0,72.42222222222222,1164.0,1.0138079165388156,573.0,None,False,,
9807c2d6c6e2eab02aadbb91420fb3fd62120385,b5bc4abcd520abe62f5f32afbc05b5665a3969b3,Marc Horowitz,mhorowitz@fb.com,Tue Nov 11 17:38:00 2014 -0800,1415756280,"refactor receive() code out of query() so it can be used with notificationsSummary:nthis is a change to upstream third-party source, and shouldnbe submitted for inclusion.nnTest Plan: I have an application which uses this, and it works.nnReviewers: sid0, weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D28641n",13.0,8.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,121.0,2.0,178.01439814814816,0.0,0.0,0.0,None,False,,
b5bc4abcd520abe62f5f32afbc05b5665a3969b3,f2ec20fb2d98bfc9f54df43431564317de60429c,Vladislav Manchev,manchev@bin.bz,Sat Sep 13 06:52:13 2014 +0300,1410580333,Adding OpenBSD supportAddresses https://github.com/facebook/watchman/pull/56n,9.0,5.0,"configure.ac,CAS_DELIMITER,fstype.c,CAS_DELIMITER,root.c,CAS_DELIMITER",3.0,1.0,1.0,1.448815635725185,6.0,860.6666666666665,197.0,-27.238437500000003,1.0,0.6518476631129309,2.0,Feature Addition,False,,
f2ec20fb2d98bfc9f54df43431564317de60429c,e447ac664d6ed0ed230136c3ac1fd9fb70297eb1,Vladislav Manchev,manchev@bin.bz,Tue Nov 18 16:18:35 2014 +0200,1416320315,Adding proper handling for fd limits on OpenBSDAddresses https://github.com/facebook/watchman/pull/66n,15.0,5.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,983.0,88.0,15.890474537037035,3.0,1.0629307826943262,3.0,Feature Addition,False,,
e447ac664d6ed0ed230136c3ac1fd9fb70297eb1,eeccd0f6d28012f9c16bbcdc2830349734f8fbd0,Wez Furlong,wez@fb.com,Mon Jan 5 16:41:15 2015 -0800,1420504875,ensure that we clear cmd->current_proc on spawn failHad a user report an issue where the command line length was too longn(despite our attempts to keep things in reasonable bounds).  The spawnnfailed:nn`1420502578: tid=270512128 trigger ROOT:NAME pid=60274 ret=7 Argument list too long`nnand posix_spawnp returned a pid to us.  This blocked future triggernspawns on this watch due to the `if (cmd->current_proc)` gating in `root.c`.n,6.0,0.0,"spawn.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,416.0,2.0,252.13614583333333,1165.0,1.0039661112320684,574.0,Corrective,True,,
eeccd0f6d28012f9c16bbcdc2830349734f8fbd0,6ba993a07521edf95c8a77903337b5001c425be6,Wez Furlong,wez@fb.com,Mon Feb 2 13:40:29 2015 -0800,1422913229,"osx: fixup some launchd wartsSummary:nOn OSX, and perhaps some other environments, the TMPDIRnenvironment is randomized by default.  This means that in the defaultninstall the watchman socket will be in a random location when you firstnrun it.  Since we capture this path in the launchd plist this cannresult in not being able to communicate with watchman in cases where younlog in again and have a new randomized TMPDIR.nnTo avoid this issue we now default to always setting WATCHMAN_STATE_DIRnto a fixed and known default.  If not set explicitly at configure time,nwe'll default to `$prefix/var/run/watchman` so that the default isngenerally either `/usr/local/var/run/watchman` or `/var/run/watchman`ndepending on whether this is a local or a system install.nnThe install rule for creating this dir has to make this dir worldnwritable so that any user can create their socket there.  This should benno less secure than putting these files in `$TMPDIR`.nnWe also need to take some extra measures to ensure that launchd can picknup these fixed paths; when we decide that we need to spawn watchman; wenrepair it by first unloading an existing plist, then writing out the newnone with the newly configured settings.  This allows the repaired plistnto be loaded and the service to be started.  Without this, we wouldnrewrite the plist only, and launchd would punt on loading it since itnwas already loaded.nnhttps://github.com/facebook/watchman/issues/69nnTest Plan:n`make integration` to prove that this didn't impact the integrationnenvironment.  ad-hoc tests locally; `/usr/local/bin/watchman watch-list` tonstart a pre-existing version of watchman without these changes, thenn`./watchman watch-list` to run a version from this installation.nnThe local build is always able to replace and re-launch itself.  The old buildnwas not able to do this; it would get stuck for the timeout before reportingnthat it was unable to talk to watchman.nnReviewers: durham, sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D32253n",28.0,3.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,main.c,CAS_DELIMITER",3.0,1.0,1.0,0.9640863283315679,6.0,335.3333333333333,147.0,109.04947916666669,1167.0,1.0060526073458125,577.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371""]"
6ba993a07521edf95c8a77903337b5001c425be6,51d40d3fe087a6165274740d37d20bf0616f41ba,Wez Furlong,wez@fb.com,Tue Feb 3 13:46:29 2015 -0800,1422999989,"Fixup statedir pathSummary: Some versions of autoconf define prefix to NONE duringnconfigure, so we were ending up with NONE/var/watchman as the statedir.nnFix this by having the makefile evaluate it pernhttp://www.gnu.org/software/autoconf/manual/autoconf-2.69/html_node/Defining-Directories.htmln",3.0,4.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,1.0,1.0,0.8631205685666309,6.0,202.0,106.0,1.0041666666666669,1169.5,1.7468879668049793,579.0,Corrective,True,,
51d40d3fe087a6165274740d37d20bf0616f41ba,ca54b5cffb0e3be70438c52e6384b120abe1ce92,Wez Furlong,wez@fb.com,Wed Dec 31 17:45:32 2014 -0800,1420076732,"arcanist: Futures() was removed, use underlying class",1.0,1.0,"arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,81.0,8.0,59.37940972222222,1171.0,1.016840854509636,127.0,None,False,,
ca54b5cffb0e3be70438c52e6384b120abe1ce92,e9471c309f3660973d774521457fb57b8b345054,Siddharth Agarwal,sid0@fb.com,Wed Feb 4 15:44:01 2015 -0800,1423093441,[arc] land onto master,2.0,1.0,".arcconfig,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,11.0,7.0,95.8539699074074,168.0,1.0104325360855264,89.0,None,False,,
e9471c309f3660973d774521457fb57b8b345054,af8f44dc5d8b052ba6016d5368a4a1f08793da51,Siddharth Agarwal,sid0@fb.com,Wed Feb 4 15:46:15 2015 -0800,1423093575,[arc] rebase by default,2.0,1.0,".arcconfig,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,12.0,8.0,0.001550925925925926,169.0,645.776119402985,90.0,None,False,,
af8f44dc5d8b052ba6016d5368a4a1f08793da51,005a93c178cc19f19256ae86a3124905e67e5196,Siddharth Agarwal,sid0@fb.com,Wed Feb 4 15:47:12 2015 -0800,1423093632,"[osx] handle file disappearing in between lstat and getattrlistSummary:nWe previously handled files disappearing by the time we did lstat by marking them deleted. However we didn't account for the case where filenames are deleted after the lstat but before the getattrlist.nnDiscovered during a hacking session with @dturner-tw.nnCloses #76.nnTest Plan:nRan the script in https://github.com/facebook/watchman/issues/76, saw that bogus results of the sort mentioned were no longer printed out.nnAlso ran `arc unit --everything`.nnReviewers: weznnReviewed By: weznnSubscribers: dturner-twnnDifferential Revision: https://reviews.facebook.net/D32751n",35.0,15.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,2277.0,129.0,144.82984953703703,170.0,1.0069046540005158,91.0,None,False,True,"[""84b30e448afec84f9bdd706fff977b598692e1bc""]"
005a93c178cc19f19256ae86a3124905e67e5196,a183e075d0bc8da36436c0a046ba2b7af5412bd5,Siddharth Agarwal,sid0@fb.com,Sat Feb 7 15:43:48 2015 -0800,1423352628,root: fix unused label warning,4.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,2297.0,130.0,2.997638888888889,171.0,1.3335958856507435,92.0,None,False,,
a183e075d0bc8da36436c0a046ba2b7af5412bd5,135eeac4b8901982fed1989feefff1dcf2699ef8,Wez Furlong,wez@fb.com,Thu Mar 5 16:58:22 2015 -0800,1425603502,arc: break out new FutureIterator to avoid syntax issue with older phpWe see some random Travis failures because the version of php is toonold.  Work around itn,2.0,1.0,"arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,81.0,9.0,63.96724537037037,1172.0,1.0156330008305032,128.0,None,False,,
135eeac4b8901982fed1989feefff1dcf2699ef8,613bfd89f35f849cbd37a59f40fbdc0d7e72296e,Jess Lin,jessicalin@fb.com,Thu Mar 5 14:40:22 2015 -0800,1425595222,Allow the fb-watchman node Client to accept a watchman_binary_path,13.0,2.0,"node/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,176.0,1.0,122.06842592592592,0.0,0.0,0.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371""]"
613bfd89f35f849cbd37a59f40fbdc0d7e72296e,c6f05c8daefb17b5987de191f5f342215ffa9958,Wez Furlong,wez@fb.com,Thu Mar 5 17:04:52 2015 -0800,1425603892,Bump npm package versionThis makes https://github.com/facebook/watchman/pull/83 available viannpmn,1.0,1.0,"node/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,39.0,1.0,122.16877314814816,1173.0,1.008185397743066,4.0,None,False,,
c6f05c8daefb17b5987de191f5f342215ffa9958,d52b8e767c0cdaec50c4278c3d494465f0f01a06,Wez Furlong,wez@fb.com,Wed Mar 11 11:16:07 2015 -0700,1426097767,"illumos: prefer portfs over inotifyAddresses https://github.com/facebook/watchman/issues/84nnNewer Illumos based systems have an implementation of inotify thatndoesn't match the Linux behavior, so if we are being built on a systemnthat has both portfs and inotify, we prefer to use portfs on thenassumption that it is the native implementation.nnI doubt that we'll run into the opposite problem in the future; it seemsnunlikely that Linux will add a portfs implementation and make itnavailable by default in the libc.n",6.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,2301.0,131.0,31.77244212962963,1174.0,1.0314738160799872,580.0,None,False,,
d52b8e767c0cdaec50c4278c3d494465f0f01a06,8d4691e82d03be42d6835ea4987251c2ee37a129,Wez Furlong,wez@fb.com,Fri Mar 27 08:06:49 2015 -0700,1427468809,Clarify exit status of watchman CLIAddresses https://github.com/facebook/watchman/issues/42n,11.0,0.0,"docs/cli-options.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,175.0,2.0,313.9188657407407,1175.0,1.003185536484532,78.0,Feature Addition,False,,
8d4691e82d03be42d6835ea4987251c2ee37a129,84b30e448afec84f9bdd706fff977b598692e1bc,Wez Furlong,wez@fb.com,Fri Mar 27 08:25:29 2015 -0700,1427469929,"Clarify inotify related errorsThis gets rid of the standard and misleading strerror translation ofnerrno values returned by inotify and replaces them with more directednadvice on how the user can resolve the problem.nnWe do this by allowing the watcher to pass in a more specific reasonnthan the standard strerror result, or NULL to use the strerror result.nnhttps://github.com/facebook/watchman/issues/87n",45.0,19.0,"cmds/debug.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,3.0,3.0,2.1345645754904807,6.0,682.5714285714286,227.0,138.45535714285714,1179.0,1.002372915806545,582.0,Corrective,True,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""1b2c278937019db8809a8424884520a563937cfa""]"
84b30e448afec84f9bdd706fff977b598692e1bc,1bb15fc800ca93a3f0a6691adebc0fadd11e8e00,Wez Furlong,wez@fb.com,Fri Mar 27 12:01:06 2015 -0700,1427482866,fsevents: improve diagnostics if we fail to watchSummary:nThis gives more directed advice about where to find the log filenand where to go to read more to self-help.nnTest Plan: `make integration` to prove that I didn't break the buildnnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D36027n,53.0,2.0,"docs/troubleshooting.markdown,CAS_DELIMITER,main.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,3.0,3.0,0.8432938047437591,6.0,523.25,135.0,68.31103009259259,1184.5,1.003882381678855,584.0,None,False,True,"[""d2070cd0b2cb492f9b5d8ab04a18e0544b7efd85""]"
1bb15fc800ca93a3f0a6691adebc0fadd11e8e00,b2a83c9476d90d7ffce9f2a5ecbe30b4363e9602,Wez Furlong,wez@fb.com,Fri Mar 27 12:11:35 2015 -0700,1427483495,homebrew: avoid pruning out the statedirAvoid this problem:nn```n$ brew install -v --HEAD watchmann...n==> make installn/usr/bin/install -c -d -m 777 /usr/local/Cellar/watchman/HEAD/var/run/watchmann ./install-sh -c -d '//usr/local/Cellar/watchman/HEAD/bin'n ./install-sh -c -d '//usr/local/Cellar/watchman/HEAD/share/doc/watchman-3.0.0'n /usr/bin/install -c -m 644 README.markdown '//usr/local/Cellar/watchman/HEAD/share/doc/watchman-3.0.0'n  /usr/bin/install -c watchman '//usr/local/Cellar/watchman/HEAD/bin'n==> Cleaningnrmdir: /usr/local/Cellar/watchman/HEAD/var/run/watchman (empty)nrmdir: /usr/local/Cellar/watchman/HEAD/var/run (empty)nrmdir: /usr/local/Cellar/watchman/HEAD/var (empty)n```nnhttps://github.com/facebook/react-native/issues/239#issuecomment-86713656n,1.0,0.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,170.0,41.0,51.89243055555556,1187.0,1.0192706332945691,585.0,None,False,,
b2a83c9476d90d7ffce9f2a5ecbe30b4363e9602,01bbad42d39e6dcbc8f11726a6e0a90bde2bce0f,Edmund Huber,edmund.pgh@gmail.com,Wed Feb 18 15:20:20 2015 -0800,1424301620,"fix up some references to --no-state-save in docs, actually: --no-save-stateAddresses https://github.com/facebook/watchman/pull/81n",2.0,2.0,"docs/cmd.watch-del.markdown,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER",2.0,1.0,1.0,1.0,6.0,43.5,7.0,217.07912037037042,0.5,0.5011516538282146,1.0,Corrective,True,,
01bbad42d39e6dcbc8f11726a6e0a90bde2bce0f,f3f20aff7254e2e0a84f7a4e4d6338feb0dc8f5e,Moataz Elmasry,moataz.elmasry@here.com,Wed Jan 7 16:23:05 2015 +0100,1420644185,Made the Configuration Options paragraph as a subparagraph of compile from source.https://github.com/facebook/watchman/pull/73n,1.0,1.0,"docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,133.0,6.0,147.9332986111111,0.0,0.0,0.0,None,False,,
f3f20aff7254e2e0a84f7a4e4d6338feb0dc8f5e,44ce3643d13b3e5c5435695831d270060a8d767f,Wez Furlong,wez@fb.com,Sun Mar 29 09:27:41 2015 -0700,1427646461,docs: minor tweaks to contributing + support,9.0,1.0,"docs/contributing.markdown,CAS_DELIMITER,docs/support.markdown,CAS_DELIMITER",2.0,1.0,1.0,0.7219280948873623,5.0,40.0,4.0,232.90293981481483,1188.5,1.0044758143677748,81.0,Non Functional,False,,
44ce3643d13b3e5c5435695831d270060a8d767f,34bede7b743fd6775f77f786163b02a89f4c0971,Wez Furlong,wez@fb.com,Sun Mar 29 09:41:30 2015 -0700,1427647290,"travis: speculative diff to reduce travis noiseLooks like we need to wait longer for the since-term test to settle,nso let's assert the file list before we sample our first clock.nnStop skipping the kFSEventStreamEventFlagRootChanged case; thisndoes actually work.n",6.0,8.0,"tests/integration/remove.php,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER",3.0,1.0,1.0,1.4315602842833155,6.0,72.66666666666667,16.0,379.0697993827162,1191.0,1.0013450066620626,167.0,None,False,,
34bede7b743fd6775f77f786163b02a89f4c0971,ab7be81e1be19a8a589bdaf0ff1b4e9bbe336b04,Wez Furlong,wez@fb.com,Sun Mar 29 10:48:51 2015 -0700,1427651331,fix crash during w_root_perform_age_outFinally got around to reproducing this.  Turns out to be a simplenmatter of iterator invalidation that we can avoid by simply restartingnour iteration.nnAddresses https://github.com/facebook/watchman/issues/57n,23.0,5.0,"root.c,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER",2.0,2.0,2.0,0.996316519558962,6.0,1195.0,135.0,129.52219907407405,1193.5,1.2400752852241623,168.0,Corrective,True,,
ab7be81e1be19a8a589bdaf0ff1b4e9bbe336b04,ed148a4fac7ea9cf32d28751c78126e414bd60e3,Wez Furlong,wez@fb.com,Sun Mar 29 15:54:36 2015 -0700,1427669676,"launchd: fix permissions on the plist fileDon't rely on the user have the same umask as me, force the permissionsnto be correct.nnI'm guessing that the ownership is something that gets fixed on reboot,nwhich would explain why things start working for folks that reboot.nnRefs https://github.com/facebook/watchman/issues/90n",2.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,627.0,45.0,2.1621527777777776,1195.0,1.4625020073871848,587.0,None,False,,
ed148a4fac7ea9cf32d28751c78126e414bd60e3,81507da59377e0320d668cab7cdc369aaeced8c2,Wez Furlong,wez@fb.com,Mon Mar 30 17:06:27 2015 -0700,1427760387,launchd: actually fix the permissions on the right file:facepalm:n,1.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,629.0,46.0,1.0498958333333333,1196.0,1.95247544399246,588.0,None,False,,
81507da59377e0320d668cab7cdc369aaeced8c2,1fcb60f17629c7dd96b604f863a6732c14af0871,Wez Furlong,wez@fb.com,Tue Mar 31 18:50:24 2015 -0700,1427853024,"launchd: capture PATH when we generate the plistSummary:nPrior to switching to launchd, the daemonization would capture yournPATH at the time that we spawned the service.  Launchd will start our servicenwith a default environment, so this diff captures the PATH in a similarnfashion.nnThere may be other important env vars that we should do this for; I'm hopingnthat PATH is good enough.nnWe use CDATA to avoid having to pull in proper XML escaping just fornthe plist file.nnAddresses https://github.com/facebook/watchman/issues/68nnTest Plan:nmanually:nn```n./configure --enable-statedir=/tmpnmaken./watchman versionnless ~/Library/LaunchAgents/com.github.facebook.watchman.plistn```nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D36045n",7.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,629.0,47.0,1.0721875,1197.0,1.9326726901777904,589.0,None,False,,
1fcb60f17629c7dd96b604f863a6732c14af0871,3366bc72cc34a8d94539624bc0e5d545bf0f6366,Wez Furlong,wez@fb.com,Wed Apr 1 16:47:46 2015 -0700,1427932066,"add `watch-project` commandSummary:nMore discussion about this here:nhttps://github.com/ember-cli/ember-cli/issues/2643nnThe docs in the diff explain how this works and how to use it.nnI'd like amasad and/or stefanpenner to review this from thenperspective of clients of the service.nnTest Plan: `make integration`.  Docs tested using `cd website ; npm start` and following the newly added links.nnReviewers: amasad, sid0nnReviewed By: sid0nnSubscribers: mostafaewedannDifferential Revision: https://reviews.facebook.net/D36117n",600.0,18.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cfg.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,docs/cmd.watch-project.markdown,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/rootrestrict.php,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",11.0,5.0,5.0,2.557675704030066,6.0,406.7272727272728,348.0,159.93686447811447,1203.0,1.000997441589171,593.0,Feature Addition,False,True,"[""e37ae3e7fccd04c9e6175949da18f3116ffe2315"", ""a606ff703697835faa25399c5d2a26b23c12f94e""]"
3366bc72cc34a8d94539624bc0e5d545bf0f6366,c658f5613ce9fa71a854c7566d2fb79569260243,Wez Furlong,wez@fb.com,Thu Apr 2 11:19:09 2015 -0700,1427998749,"add `type` field to the query resultsSummary:nThis complements the `type` query expression and makes it easier tonwrite a portable client without having to have knowledge of thenbitfield in the mode field.nnTest Plan: `make integration`nnReviewers: sid0, amasadnnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D36393n",51.0,3.0,"docs/cmd.query.markdown,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER",3.0,3.0,3.0,1.1405240078253742,5.0,129.33333333333334,13.0,532.8816898148149,1210.0,1.0016093768899157,171.0,Feature Addition,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
c658f5613ce9fa71a854c7566d2fb79569260243,8a41272ee2f58f4bc1b3ca5bb398af9e44d28945,Wez Furlong,wez@fb.com,Fri Apr 3 10:55:58 2015 -0700,1428083758,"update node client example and docs to use watch-projectSummary:nShows how you might use relative_path to compensate for the offsetnin the query expression and in the subscription event handler.nnNeed to add an expression term to make it simpler to match under a dir prefixnso that these don't require the use of pcre.nnTest Plan:nran the example locally:nn```n$ node ./example.jsnTalking to watchman version 3.1.0nfailed to subscribe:  { [Error: unknown command invalid-command-never-will-work]n  watchmanResponse:n   { version: '3.1.0',n error: 'unknown command invalid-command-never-will-work' } }n(re)using project watch at  /Users/wez/fb/watchman , our dir is relative:  node/nsubscription mysubscription establishedn/Users/wez/fb/watchman mysubscriptionn{ name: 'example.js', size: 5698, exists: true, type: 'f' }n{ name: 'node_modules/json-stream/test/json-stream-test.js',n  size: 1539,n  exists: true,n  type: 'f' }n{ name: 'node_modules/json-stream/test/pipe-test.js',n  size: 749,n  exists: true,n  type: 'f' }n{ name: 'node_modules/json-stream/test/throw-in-readable-test.js',n  size: 305,n  exists: true,n  type: 'f' }n{ name: 'node_modules/json-stream/lib/json-stream.js',n  size: 943,n  exists: true,n  type: 'f' }n{ name: 'node_modules/nextback/test/main.js',n  size: 1224,n  exists: true,n  type: 'f' }n{ name: 'node_modules/nextback/index.js',n  size: 229,n  exists: true,n  type: 'f' }n{ name: 'index.js', size: 5232, exists: true, type: 'f' }nsubscription sincesub establishedn```nnReviewers: amasad, sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D36465n",117.0,21.0,"node/README.md,CAS_DELIMITER,node/example.js,CAS_DELIMITER",2.0,1.0,1.0,0.9902814044242308,6.0,192.5,2.0,150.87092592592592,1212.5,1.004971136720989,6.0,Non Functional,False,True,"[""684a26831ea0ae64e2f99ee15b4f9b9032607599""]"
8a41272ee2f58f4bc1b3ca5bb398af9e44d28945,b280f559315bc62dff97bdc9153436c548411ac3,Wez Furlong,wez@fb.com,Sun Apr 5 17:07:57 2015 -0700,1428278877,docs: add macports installation instructionsRefs: https://github.com/facebook/watchman/issues/91n,8.0,0.0,"docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,133.0,7.0,88.36449074074073,1214.0,1.0113167630075974,86.0,Non Functional,False,,
b280f559315bc62dff97bdc9153436c548411ac3,c807febb90cf8d8125628d70eb5e12a9f95f89a9,Wez Furlong,wez@fb.com,Sun Apr 5 18:49:29 2015 -0700,1428284969,add `size` query expression termSummary:nAllows reasoning about file sizes in query expressions.nThe relational integer comparison stuff is implemented generically becausenit is going to be re-used in the follow-on diff for the `dirname` term.nnTest Plan: `make integration`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D36507n,213.0,0.0,"Makefile.am,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,query/intcompare.c,CAS_DELIMITER,tests/integration/size.php,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,4.0,4.0,1.6457194560998651,6.0,123.8,58.0,127.45399537037035,1217.0,1.0237301295040049,595.0,Feature Addition,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
c807febb90cf8d8125628d70eb5e12a9f95f89a9,aa6a83bf8dbcd5c76e85a5e6bd66afe90e33c7ce,Wez Furlong,wez@fb.com,Sun Apr 5 08:43:03 2015 -0700,1428248583,add `dirname` query termSummary:n`dirname` (and `idirname`) allow matching the containing directorynstructure for a file.  More details in the docs.nnDepends on D36507nnThis use-case came up in discussions with the Nuclide team.nnTest Plan: `make integration`nnReviewers: sid0nnSubscribers: mostafaewedannDifferential Revision: https://reviews.facebook.net/D36513n,335.0,0.0,"Makefile.am,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,query/dirname.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/integration/dirname.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",6.0,4.0,4.0,1.6450218038055853,6.0,295.8333333333333,154.0,40.12134452160493,1222.5,0.21058521081831474,598.0,Feature Addition,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941"", ""e805c44caa8da88242d32d5bae7a56ecb6881936""]"
aa6a83bf8dbcd5c76e85a5e6bd66afe90e33c7ce,339bb224e4eab3da4b79b63742bd568ddb7d76e1,Wez Furlong,wez@fb.com,Sun Apr 5 19:14:00 2015 -0700,1428286440,fixup build for travis```nquery/intcompare.c: In function u00e2u0080u0098eval_int_compareu00e2u0080u0099:nquery/intcompare.c:78:1: error: control reaches end of non-void functionn[-Werror=return-type]ncc1: all warnings being treated as errorsn```n,3.0,0.0,"query/intcompare.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,118.0,1.0,0.01702546296296296,1226.0,59.73555404486744,61.0,Corrective,True,,
339bb224e4eab3da4b79b63742bd568ddb7d76e1,e9aacf0f00207e73f35cadc6f105f9f045c07045,Wez Furlong,wez@fb.com,Sun Apr 5 19:33:53 2015 -0700,1428287633,node: switch example to use new dirname expression termNo need for pcre now that we have dirnamen,14.0,8.0,"node/README.md,CAS_DELIMITER,node/example.js,CAS_DELIMITER",2.0,1.0,1.0,1.0,6.0,240.5,4.0,2.359664351851852,1227.5,1.317841814837523,8.0,None,False,True,"[""684a26831ea0ae64e2f99ee15b4f9b9032607599""]"
e9aacf0f00207e73f35cadc6f105f9f045c07045,690890143518e0fa507dba10aa98b88d3df8e003,Sean Farley,sean@farley.io,Mon Apr 6 21:41:07 2015 -0700,1428381667,makefile: add missing destdir for install-exec-local targetSeems to be a slight oversight that ${DESTDIR} was missing from this target.nnRefs: https://github.com/facebook/watchman/pull/92n,2.0,2.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,173.0,44.0,1.540324074074074,0.0,0.0,0.0,None,False,,
690890143518e0fa507dba10aa98b88d3df8e003,bf4195bbc4e66331fcbefb5f035149387d155395,Wez Furlong,wez@fb.com,Thu Apr 23 11:32:05 2015 -0700,1429813925,Flesh out some more details in the troubleshooting docsAdd a note about a React Native issuen,39.0,3.0,"docs/install.markdown,CAS_DELIMITER,docs/troubleshooting.markdown,CAS_DELIMITER",2.0,1.0,1.0,0.1623261801753929,6.0,144.0,12.0,22.37330439814815,1229.5,1.0393164735890936,90.0,Feature Addition,False,,
bf4195bbc4e66331fcbefb5f035149387d155395,7ffa6310feabed987525cb1d5946cdcc9169d79b,Maxim Philippov,phmx86@gmail.com,Tue Apr 7 19:05:57 2015 +0300,1428422757,added watch-purge commandRefs: https://github.com/facebook/watchman/pull/93n,132.0,7.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,docs/cmd.watch-del-all.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/watch-del-all.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,5.0,5.0,2.2787306771508726,7.0,607.7142857142858,340.0,3.5332969576719577,3.0,0.9048421986275768,2.0,Feature Addition,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
7ffa6310feabed987525cb1d5946cdcc9169d79b,07c88aca704c73e4d05d13837b91a54f03ce2326,Wez Furlong,wez@fb.com,Sat Apr 25 22:09:54 2015 -0700,1430024994,"add troubleshooting note about a rare fsevents bugRefs: https://github.com/ember-cli/ember-cli/issues/3942nnWe may add a check for this state in watchman, but it looks likenwe'll need to target more modern APIs (those used by the detectionntool are all deprecated).n",20.0,0.0,"docs/troubleshooting.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,182.0,5.0,2.4429282407407404,1231.0,1.4093448114123817,91.0,Corrective,True,,
07c88aca704c73e4d05d13837b91a54f03ce2326,303082749d4634a51bfccdefe1f91f2e8cf1dd76,Wez Furlong,wez@fb.com,Sun Apr 26 08:54:44 2015 -0700,1430063684,"watchman: avoid recursive case during age outSummary:nlooking at https://github.com/facebook/watchman/issues/96#issuecomment-96061603nnwe see a trace like:nn```nthread #3: tid = 0x16a58c, 0x000000010438cdc0 watchman`w_ht_delnframe #0: 0x000000010438cdc0 watchman`w_ht_delnframe #1: 0x000000010439aa40 watchman`age_out_dir + 144nframe #2: 0x000000010439aa28 watchman`age_out_dir + 120nframe #3: 0x0000000104398738 watchman`age_out_file + 248nframe #4: 0x000000010439a9ee watchman`age_out_dir + 62nframe #5: 0x0000000104398738 watchman`age_out_file + 248nframe #6: 0x000000010439a9ee watchman`age_out_dir + 62nframe #7: 0x0000000104398738 watchman`age_out_file + 248nframe #8: 0x000000010439a9ee watchman`age_out_dir + 62nframe #9: 0x0000000104398738 watchman`age_out_file + 248nframe #10: 0x000000010439a9ee watchman`age_out_dir + 62nframe #11: 0x0000000104398738 watchman`age_out_file + 248nframe #12: 0x000000010439a9ee watchman`age_out_dir + 62nframe #13: 0x0000000104398738 watchman`age_out_file + 248nframe #14: 0x000000010439a9ee watchman`age_out_dir + 62nframe #15: 0x0000000104398738 watchman`age_out_file + 248nframe #16: 0x000000010439a9ee watchman`age_out_dir + 62nframe #17: 0x0000000104398738 watchman`age_out_file + 248n```nnIn cases where we have a large number of files that are eligible to agenout across a reasonable number of dirs, we can walk the same portions ofnthe tree we maintain in memory multiple times.nnThis diff records the names of the dir nodes for which we would previouslynrecursively call age_out_dir(); we use a hash to unique the names.nnAfter we have walked all eligible file nodes we then iterate the listnof saved dirs and delete them.nnThis reduces the complexity of age out processing to a single scan of the filennode list followed by a single scan of the list of dirs that we accumulated innthe file node scan.nnTest Plan:n`arc unit tests/integration/age.php` exercises this specifically.  also: `make integration`nna more rigorous test on our www repo:nn```nhg up -C master~40000 ; sleep 10 ; hg up -C master ; sleep 10 ; time watchman debug-ageout . 1nhg up -C master~40000 ; sleep 10 ; hg up -C master ; sleep 10 ; time watchman debug-ageout . 1n```nn(it's important to run it twice in succession because we had a longnstanding bug that we hadn't noticed until now!)nnThe time portion of this outputs:nn```nwatchman debug-ageout . 1  0.00s user 0.00s system 2% cpu 0.157 totaln```nnwhich is a good bit better than 20+ minutes.nnRefs: https://github.com/facebook/watchman/issues/96nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D37683n",68.0,47.0,"root.c,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER",2.0,2.0,2.0,0.8007768165404424,7.0,1218.5,139.0,23.45648148148148,1232.5,1.0369846174485629,174.0,None,False,True,"[""a0ada2889841b6248302be61e77e2c35b1516be6"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
303082749d4634a51bfccdefe1f91f2e8cf1dd76,8fb699758b65901c04293dedb6ae06b6764090b2,Wez Furlong,wez@fb.com,Sun Apr 26 09:30:29 2015 -0700,1430065829,age out: properly clean up lc_files linkage tooSummary: didn't catch this last night because I was focused mostly onnLinux.  On case insensitive filesystems we also need to clean up thenlc_files linkage to avoid a crash during age out.nnThe multiple attempts I added to the integration test trigger thisnissue: `arc unit tests/integration/age.php`nnRefs: https://github.com/facebook/watchman/issues/96n,19.0,0.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,2.0,2.0,0.9819407868640976,7.0,1520.0,178.0,175.33270833333333,1234.5,1.0028518221471112,600.0,None,False,,
8fb699758b65901c04293dedb6ae06b6764090b2,0d95ca3db5b57560ef86f197f1cfccd778e98b86,Wez Furlong,wez@fb.com,Sun Apr 26 09:40:38 2015 -0700,1430066438,"defer subscriptions during vcs operationsSummary:nWe were deferring triggers but not subscriptions.  This moves thenhelper functions around a little bit, but is really just making the same checknto gate subscription notifications as we were already doing for triggersnnTest Plan: `make integration`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D36525n",50.0,37.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,2370.0,138.0,0.0070486111111111105,1236.0,142.871921182266,601.0,None,False,True,"[""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78""]"
0d95ca3db5b57560ef86f197f1cfccd778e98b86,9529aaf89e69f65270ab5942fc64af538b04da03,Wez Furlong,wez@fb.com,Sun Apr 26 09:45:05 2015 -0700,1430066705,remove dead w_match_results_to_json functionSummary: dead code!nnTest Plan: `make`nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D29757n,0.0,69.0,"listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.2580186686648155,7.0,921.0,178.0,89.06445601851853,1237.5,1.0059495991651386,603.0,None,False,,
9529aaf89e69f65270ab5942fc64af538b04da03,49ce1bf3e18ee52fa4d1515ebf1e539d08f7e5b5,Josef u00c5u00a0imu00c3u00a1nek,josef.simanek@gmail.com,Sun May 3 02:22:31 2015 +0200,1430612551,Update usage copyright year.Refs: https://github.com/facebook/watchman/pull/99n,1.0,1.0,"opt.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,255.0,11.0,377.2715162037037,0.0,0.0,0.0,None,False,,
49ce1bf3e18ee52fa4d1515ebf1e539d08f7e5b5,91b04d0d3cb0ebbcfe803e910621ec375d130407,Siddharth Agarwal,sid0@fb.com,Tue May 5 13:28:52 2015 -0700,1430857732,"[docs] add compatibility rulesSummary: No real changes here, just reflecting reality.nnTest Plan: nonennReviewers: weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D38061n",28.0,0.0,"docs/compatibility.markdown,CAS_DELIMITER,docs/sidebar.json,CAS_DELIMITER",2.0,1.0,1.0,0.22228483068568802,5.0,4.0,3.0,133.41550347222218,172.5,0.501873845194101,4.0,Feature Addition,False,,
91b04d0d3cb0ebbcfe803e910621ec375d130407,36799a9e0b50a8c054d97282209dde25ab332ee4,Siddharth Agarwal,sid0@fb.com,Wed May 6 10:19:22 2015 -0700,1430932762,[docs] fix spellingSummary: whoopsnnTest Plan: nonennReviewers: weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D38097n,1.0,1.0,"docs/compatibility.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,27.0,1.0,0.8684027777777777,174.0,2.151539384246301,5.0,Corrective,True,,
36799a9e0b50a8c054d97282209dde25ab332ee4,849cfff27abe121330e8958a198bedcde673ae6f,Wez Furlong,wez@fb.com,Wed May 27 14:40:18 2015 -0700,1432762818,"watchman: increase fsevents latency parameter, make it tunableSummary:njust taking a look atnhttps://github.com/ember-cli/ember-cli/issues/4101 and wondering whatntunings we actually have for fsevents, and it looks like just thisnlatency parameter.nnThe behavior of this parameter is:nn> more than latency seconds have elapsed since the last event, your appn> will receive the event immediately. The delivery of the event resetsn> the latency timer and any further events will be delivered aftern> latency seconds have elapsed.nnThis diff makes the default latency larger, 0.01 seconds vs. the 0.0001nit was before, the idea being that we acheive a greater degree ofnbatching and reduce the change of `kFSEventStreamEventFlagUserDropped`nfrom happening.nnMaking the latency larger than this (say, 0.02 seconds) starts to have annoticeable effect on the runtime of our integration tests, so 0.01 seemsnto be a likely improved default.nnWe allow setting this latency parameter via both `.watchmanconfig` andn`/etc/watchman.json`.nnTest Plan:n`make integration`.  I manually tried setting the latency in a watchnand observed the debug log line.nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D38715n",37.0,2.0,"cfg.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,3.0,3.0,1.9153839208996324,7.0,406.8,172.0,50.87414351851852,1241.0,1.0083779182615644,606.0,None,False,,
849cfff27abe121330e8958a198bedcde673ae6f,83c869cefa82bf7f81a56d04efb81b1855cb3480,Wez Furlong,wez@fb.com,Fri May 29 11:19:15 2015 -0700,1432923555,"Add third version component to avoid breaking the node semver moduleSummary:nThis will always be zero, but needs to be present to avoid semvernthrowing an error (seems pretty aggro IMO)nnRefs: https://github.com/facebook/watchman/issues/107nnUpdate our compatibility docs accordingly.nnTest Plan: nonennReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D39183n",5.0,3.0,"configure.ac,CAS_DELIMITER,docs/compatibility.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,7.0,130.0,72.0,12.450983796296294,1244.5,1.288840749636439,93.0,Feature Addition,False,,
83c869cefa82bf7f81a56d04efb81b1855cb3480,1d84df2f01eba45194e6d259df5c2fffecb660bf,Wez Furlong,wez@fb.com,Tue Jun 2 20:11:22 2015 -0700,1433301082,"watchman: add defer_vcs boolean option for subscriptionsSummary:nThe Nuclide folks need this so that they can be smarter around rebasesnand other similar operations.nnNote: I still need to update the docs for this, just wanted to diff this outnearly.nnTest Plan:n`make integration`.  Added a new test to show that we immediatelyndispatch when `.hg/wlock` is changed.nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D39009n",126.0,20.0,"cmds/subscribe.c,CAS_DELIMITER,docs/cmd.subscribe.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,4.0,4.0,1.7913885064844508,7.0,728.4,254.0,204.0040231481481,1248.0,1.0016401109957624,609.0,None,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941"", ""e876901401663fbed8392eb14bb6eb77e79f4bd5""]"
1d84df2f01eba45194e6d259df5c2fffecb660bf,4464d43c357aba7f1358fd572542427dc6799a3d,Wez Furlong,wez@fb.com,Tue Jun 2 20:54:12 2015 -0700,1433303652,"Improve loggingAdds a human readable timestamp with millisecond granularity, andnthread names instead of the tid.nnAdds some more context to some logs, and removes the noisy triggernand subscription assessment logs.n",65.0,24.0,"cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,3.0,3.0,2.3069294400259777,7.0,806.7142857142858,400.0,72.47722552910055,1254.0,5.807937870592222,614.0,Feature Addition,False,True,"[""ea3a16a192b3ab55edc66b4632f545f0f63336b4"", ""d2070cd0b2cb492f9b5d8ab04a18e0544b7efd85""]"
4464d43c357aba7f1358fd572542427dc6799a3d,5891e35bda87bc9738d1d9d9f5d01febe71297a9,Wez Furlong,wez@fb.com,Tue Jun 2 21:42:45 2015 -0700,1433306565,"Fixup edge case that was seemingly OS X specificNuclide wanted to subscribe to .hg/wlock file changes but would nevernobserve them in practice on OS X.nnDuring debugging we noticed that if we touched the file and thenndeleted it that the subscriptions would start to take effect.nnIt turns out that what was happening was that we'd get a notificationnfrom the kernel, but by the time that we `lstat` the file it wasn'tnpresent.  We had some logic to avoid creating a file node if thenfile didn't exist.nnIn this case, because we'd never observed the file on the filesystem,nwe'd never create a node for it.  This meant the its change wasneffectively invisible as there was no node to move to the end ofnthe change list.nnThe fix is simple; we just create a deleted file node for this case.n",10.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,2384.0,141.0,0.033715277777777775,1258.0,30.66014418125644,615.0,Corrective,True,,
5891e35bda87bc9738d1d9d9f5d01febe71297a9,ea3a16a192b3ab55edc66b4632f545f0f63336b4,Wez Furlong,wez@fb.com,Mon Jun 8 14:06:12 2015 -0700,1433797572,Fix strict compilationThis was broken by 4464d43c357aba7f1358fd572542427dc6799a3dnnAddresses https://github.com/facebook/watchman/issues/110n,1.0,1.0,"log.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,102.0,11.0,5.716666666666668,1259.0,1.1749271137026238,616.0,Corrective,True,,
ea3a16a192b3ab55edc66b4632f545f0f63336b4,d81b8c42aed816d569ae2435866d89cf799fed0c,Wez Furlong,wez@fb.com,Tue Jun 9 22:31:32 2015 -0700,1433914292,log stack traces if we terminate abnormallySummary:nThis was previously only hooked up if you linked against gimli.nnAdd signal handlers and print the stack trace.nnTest Plan:nhas been running on a mac for several days.nnad-hoc manual test: `pkill -SEGV watchman` and look for the stacktrace in the log filennReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D39831n,71.0,0.0,"listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.4183385015095001,7.0,627.3333333333334,196.0,5.162037037037037,1261.0,1.108283543846935,619.0,None,False,,
d81b8c42aed816d569ae2435866d89cf799fed0c,c4ff4d1828bbe409653e3a38e49fc64e503a62ae,Wez Furlong,wez@fb.com,Wed Jun 10 21:02:34 2015 -0700,1433995354,Document the statedir default changeRefs: https://github.com/facebook/watchman/issues/109n,35.0,17.0,"docs/cli-options.markdown,CAS_DELIMITER,docs/troubleshooting.markdown,CAS_DELIMITER",2.0,1.0,1.0,0.9903748364485748,6.0,194.0,9.0,60.74597800925926,1263.5,1.0107346211752797,96.0,Non Functional,False,,
c4ff4d1828bbe409653e3a38e49fc64e503a62ae,a3caa32326c1e20e1e89578d7cb1d35d1ca66e14,Wez Furlong,wez@fb.com,Thu Jun 11 10:26:21 2015 -0700,1434043581,Work around diverging and non-backwards compatible arc changesSummary:nRecent API changes break our integration tests.  We can't simplynmigrate to the new API because it is not compatible with thenversion of arc that we use internally.nnThis diff is a quick stop-gap that allows us to continue to run ourntests without depending on the implementation of the arc/libphutilntest engine classes.nnLonger term we'll remove this dependency completely.nnTest Plan:n`make integration`.   You can alson`arc test tests/integration/absroot.php` to run individual test(s).nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D39939n,86.0,18.0,".arcconfig,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/workflow/test.php,CAS_DELIMITER",6.0,2.0,4.0,1.6005839712120211,6.0,83.0,92.0,210.7583352623457,1267.5,1.0027645584256375,134.0,None,False,,
a3caa32326c1e20e1e89578d7cb1d35d1ca66e14,f38082818b3a12c71e8a694a889c6bf8dc7d1be7,Wez Furlong,wez@fb.com,Thu Jun 11 11:17:01 2015 -0700,1434046621,More fallout from the arcanist changes,7.0,6.0,"arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,docs/contributing.markdown,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",5.0,3.0,4.0,2.192005835492107,7.0,277.4,117.0,81.24030555555554,1273.0,6.691918453197108,34.0,None,False,,
f38082818b3a12c71e8a694a889c6bf8dc7d1be7,b824866344ae67517980cd74401c999f36bfc6a9,Wez Furlong,wez@fb.com,Thu Jun 11 12:06:57 2015 -0700,1434049617,"Peg arcanist/libphutilWe can't coexist with the diverging arcanist/phutil implementations,nso draw a line in the sand.  We'll need to migrate away from thisndependency soon.n",12.0,11.0,"arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",3.0,2.0,3.0,0.8404914014731815,7.0,214.3333333333333,70.0,73.67648148148146,1277.0,15.420733728877197,35.0,None,False,,
b824866344ae67517980cd74401c999f36bfc6a9,4204689ad5dc5ddb8a67256d89be9f14f5a9b43f,Wez Furlong,wez@fb.com,Thu Jun 11 13:41:52 2015 -0700,1434055312,tests: handle skips properly,16.0,12.0,"arcanist/workflow/test.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,63.0,1.0,0.13577546296296295,1279.0,8.365101014406276,140.0,Preventative,False,,
4204689ad5dc5ddb8a67256d89be9f14f5a9b43f,015e1c97604fe2d7ea3ddb83a79bb3a4442bb6da,Siddharth Agarwal,sid0@fb.com,Mon Jun 22 13:26:47 2015 -0700,1435004807,"implement support for relative rootsSummary:nIn general we want to discourage nested watches because they exhaust filesystem resources much more quickly.nnHowever, in large multiproject repos, applications like 'buck' are interested in knowing what the state of the world is relative to a particular directory.nnThis diff implements support for relative roots to be specified during queries and subscriptions. These roots are expected to be subdirectories of the watched root. The contract for a relative root is straightforward:n- Any patterns and paths will be resolved relative to the relative root.n- Any paths returned will always be with respect to the relative root.n- No paths outside the relative root will be returned.nnIn other words, a relative root is exactly as if watchman were actually treating the specified directory as a root.nnTriggers I'll do separately -- they need a little more work.nnTest Plan: Test coverage.nnReviewers: weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D40467n",239.0,7.0,"cmds/subscribe.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/name.php,CAS_DELIMITER,tests/integration/pathgen.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/suffixgenerator.php,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",9.0,4.0,4.0,2.798849604522866,7.0,215.22222222222226,86.0,283.0010468106996,179.0,1.0063899319506828,93.0,None,False,True,"[""c3b0360180c93ff29c237a64f8e4082f1229e3f6"", ""478b6abcbec12a411d1ce0acfdcfbe2917529941"", ""ac0cc91e753c8e5b29b02eeb841c923c186d7e08"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc"", ""f815a2679417d425bf7611b021ea8df0ea826068"", ""b085c2184941401bd1bd9e395d7acfdc73c2713f""]"
015e1c97604fe2d7ea3ddb83a79bb3a4442bb6da,c3b0360180c93ff29c237a64f8e4082f1229e3f6,Siddharth Agarwal,sid0@fb.com,Mon Jun 22 13:32:04 2015 -0700,1435005124,fix php syntax,1.0,2.0,"tests/integration/subscribe.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,181.0,10.0,0.0036689814814814814,184.0,273.5552050473186,33.0,Corrective,True,,
c3b0360180c93ff29c237a64f8e4082f1229e3f6,cd1a8f81d56bdab95506ce9d627b92eb509a17bf,Siddharth Agarwal,sid0@fb.com,Mon Jun 22 15:24:35 2015 -0700,1435011875,update docs with relative_root information,43.0,0.0,"docs/file-query.md,CAS_DELIMITER,docs/release-notes.markdown,CAS_DELIMITER",2.0,1.0,1.0,0.8841151220488478,6.0,163.0,4.0,39.1394212962963,185.5,1.0127748439665178,7.0,Non Functional,False,,
cd1a8f81d56bdab95506ce9d627b92eb509a17bf,5d053078b67eb24edd583e22b6b5b15643064544,Siddharth Agarwal,sid0@fb.com,Mon Jun 22 15:25:21 2015 -0700,1435011921,prepare for 3.3 release,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,233.0,71.0,24.170902777777766,187.0,1.0413720583460946,94.0,None,False,,
5d053078b67eb24edd583e22b6b5b15643064544,8ab7990fe9e31c87bb2d9947003e326f00170be7,Wez Furlong,wez@fb.com,Tue Jun 23 07:58:56 2015 -0700,1435071536,"watchman: add node bser moduleSummary:nthis is a javascript implementation of BSER encoding/decoding.nnThis helps us workaround the perf issues innRefs: https://github.com/facebook/watchman/issues/113nnI've performed only functional testing thus far, so I don't have anynreal data on perf impact.  I'm hoping to avoid writing C++ to interfacenwith the Node/V8 internals.nnFor decoding, the strategy is to read the PDU length up-front,naccumulate the data into the buffer, and when we have the complete data,nrecursively process and decode it.  This is much simpler than doingnsomething like a SAX streaming parser.  We can incrementally accumulatenthe data so that we can plug into the node event loop.nnThe BunserBuf class will emit an event for each decoded value in thenstream.   A convenience method is provided that wraps around BunserBufnand decodes an input string or Buffer and returns the result (rathernthan emitting an event).nnFor encoding, to make things simpler, and because the input data tendsnto be small and relatively simple, we only encode integers as int32nvalues.  This gives us a predictable size in the header region andnallows us to go back and fill in the size.nnSince json numbers are all real values, all number values passed to thenBSER encoder will occupy 8 bytes.nnRemoved unused deps from the package, and bumped up the version number.nnTest Plan:n`npm test`.nnalso:nn```ncd watchman/nodennpm linkncd ..nNODE_PATH=/usr/local/lib/node_modules node node/example.jsn```nnReviewers: amasadnnReviewed By: amasadnnSubscribers: sid0nnDifferential Revision: https://reviews.facebook.net/D40479n",560.0,14.0,"node/bser.js,CAS_DELIMITER,node/index.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER,node/test/bser.js,CAS_DELIMITER",4.0,1.0,2.0,0.808512452489623,6.0,56.5,4.0,54.81469328703704,1281.5,0.7545597777341855,12.0,None,False,True,"[""75645d13508e872bb7f2acef257e94be401131a5"", ""229724d1b45d718ee8102b6a73a820d78a07be16"", ""df9f2c4a5eb37354949fdefb2b917427fe05fa6c""]"
8ab7990fe9e31c87bb2d9947003e326f00170be7,e8b071eb90411553e1071b9a9fcc36930a937a83,Siddharth Agarwal,sid0@fb.com,Tue Jun 23 12:28:02 2015 -0700,1435087682,fix formatting of release notes,1.0,1.0,"docs/release-notes.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,13.0,1.0,0.8773958333333334,188.0,2.1397364359491866,8.0,Corrective,True,,
e8b071eb90411553e1071b9a9fcc36930a937a83,9c31e799f30d143d1dfe28e4d71ec768228c0f02,Wez Furlong,wez@fb.com,Tue Jun 23 13:47:32 2015 -0700,1435092452,Import website builder from alternative repoNo sense having me be the bottleneck for this.nThe publish script currently requires gitn,2258.0,1.0,".gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER,website/README.md,CAS_DELIMITER,website/core/DocsSidebar.js,CAS_DELIMITER,website/core/H2.js,CAS_DELIMITER,website/core/Header.js,CAS_DELIMITER,website/core/HeaderLinks.js,CAS_DELIMITER,website/core/Marked.js,CAS_DELIMITER,website/core/Prism.js,CAS_DELIMITER,website/core/Site.js,CAS_DELIMITER,website/core/center.js,CAS_DELIMITER,website/core/unindent.js,CAS_DELIMITER,website/layout/DocsLayout.js,CAS_DELIMITER,website/layout/IndexLayout.js,CAS_DELIMITER,website/layout/PageLayout.js,CAS_DELIMITER,website/package.json,CAS_DELIMITER,website/publish.sh,CAS_DELIMITER,website/server/convert.js,CAS_DELIMITER,website/server/generate.js,CAS_DELIMITER,website/server/server.js,CAS_DELIMITER",20.0,2.0,5.0,2.745623849719524,6.0,3.85,21.0,23.199006944444445,1293.5,1.0022630279013978,17.0,None,False,True,"[""b3272fe4dd909f57672600a5ad276b3b5fc067d4"", ""3f52401d60a9916e344edfc84e4a8548ed0dea21""]"
9c31e799f30d143d1dfe28e4d71ec768228c0f02,8bdd5dc249fd40b47bd0b9df67b28e32de8df080,Wez Furlong,wez@fb.com,Thu Jun 25 09:14:03 2015 -0700,1435248843,"add Int64 support to fb-watchmanSummary:nAllows us to gracefully handle numbers composed of more than 32-bits.nWe use the Int64 class to preserve and transmit all 64-bits of data.nnInt64 stores the data as a big endian buffer, so we need to byteswapnon little endian systems.nnIn addition, we can now use variable length integer encoding dependingnon the size of the integer value.nnTest Plan:nextended the test case for this.nnTested it for real via:nn```nnode example.jsn```nnthen in another window:nn```nmkfile -n 3g sparse.jsn```nnthis creates a 3GB sparse file; the example.js script subscriptionnoutputs:nn```n/Users/wez/fb/watchman mysubscriptionn{ name: 'node/sparse.js',n  size: [Int64 value:3221225472 octets:00 00 00 00 c0 00 00 00],n  exists: true,n  type: 'f' }n```nncontrast with ls:nn```n$ ls -l sparse.jsn-rw------- 1 wez users 3221225472 Jun 23 23:12 sparse.jsn```nnReviewers: sid0, amasadnnReviewed By: amasadnnDifferential Revision: https://reviews.facebook.net/D40605n",104.0,18.0,"node/bser.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER,node/test/bser.js,CAS_DELIMITER",3.0,1.0,2.0,0.6761993394816338,6.0,193.66666666666663,5.0,2.052164351851852,1305.0,1.2977885813870855,15.0,Feature Addition,False,True,"[""75645d13508e872bb7f2acef257e94be401131a5"", ""229724d1b45d718ee8102b6a73a820d78a07be16""]"
8bdd5dc249fd40b47bd0b9df67b28e32de8df080,1ef2e8c2f1bde2118dae32797e06eec78175f3d6,Wez Furlong,wez@fb.com,Thu Jun 25 14:19:52 2015 -0700,1435267192,Add missing watchman.css file,972.0,0.0,"website/src/watchman/css/watchman.css,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1307.0,0.0,18.0,Feature Addition,False,,
1ef2e8c2f1bde2118dae32797e06eec78175f3d6,10b97e9d3391bb8c1813ee3a280cd813c178b7ca,Siddharth Agarwal,sid0@fb.com,Thu Jun 25 14:21:10 2015 -0700,1435267270,"ugly hack to ignore .watchmanconfig when discovering project rootSummary: ugly hack for nasty internal needs. This causes `.watchmanconfig` to be ignored.nnTest Plan: Visual inspectionnnReviewers: durham, weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D40713n",28.0,2.0,"cfg.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.21084230031853213,7.0,545.0,99.0,22.323090277777773,189.5,1.0284484487620509,96.0,None,False,,
10b97e9d3391bb8c1813ee3a280cd813c178b7ca,3f076fd3d63c7bb0fcf82e736e9b2b0cabd096dd,Siddharth Agarwal,sid0@fb.com,Thu Jun 25 15:11:43 2015 -0700,1435270303,add relative root support to triggersSummary: Pretty straightforward.nnTest Plan: `arc test`nnReviewers: weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D40677n,101.0,2.0,"cmds/trigger.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER",4.0,3.0,3.0,1.723566872599906,6.0,239.5,23.0,264.29653935185183,192.5,1.0016938133178777,35.0,Feature Addition,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941""]"
3f076fd3d63c7bb0fcf82e736e9b2b0cabd096dd,b3272fe4dd909f57672600a5ad276b3b5fc067d4,Wez Furlong,wez@fb.com,Fri Jun 26 22:03:53 2015 -0700,1435381433,"Fix header rendering in docsSeems to be due to some weirdness in the react jsx parsing stuff,nso just break it out pernhttps://facebook.github.io/react/docs/displaying-data.html#react-without-jsxn",17.0,5.0,".gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER,website/core/Header.js,CAS_DELIMITER",3.0,2.0,2.0,0.5304060778306042,6.0,46.33333333333334,24.0,3.3446875000000005,1309.0,1.1827109740778805,19.0,Corrective,True,,
b3272fe4dd909f57672600a5ad276b3b5fc067d4,9fc92a0627e4a366f07b505b4ed058155f7466c9,Siddharth Agarwal,sid0@fb.com,Mon Jun 29 16:20:53 2015 -0700,1435620053,update docs for relative root,46.0,4.0,"docs/cmd.trigger.markdown,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,docs/release-notes.markdown,CAS_DELIMITER",3.0,1.0,1.0,1.2639695707385292,6.0,201.3333333333333,10.0,140.15463734567902,196.0,1.0024158124975535,11.0,Non Functional,False,,
9fc92a0627e4a366f07b505b4ed058155f7466c9,69d27fb7406eacb22302254a34ceaeb79b06461c,Siddharth Agarwal,sid0@fb.com,Mon Jun 29 17:10:32 2015 -0700,1435623032,bump version in configure,1.0,1.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,233.0,72.0,7.073043981481483,198.0,1.141381843887608,98.0,None,False,,
69d27fb7406eacb22302254a34ceaeb79b06461c,05eb13c1a86a2e15214c35fcb951d41a0cb3b7b9,Siddharth Agarwal,sid0@fb.com,Mon Jun 29 17:12:06 2015 -0700,1435623126,update release notes,4.0,0.0,"docs/release-notes.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,20.0,3.0,0.03556712962962963,199.0,29.11584770582493,12.0,None,False,,
05eb13c1a86a2e15214c35fcb951d41a0cb3b7b9,ddaac472c915bec015fa1d98a2d0ee46fc59fe27,Wez Furlong,wez@fb.com,Mon Jun 29 21:48:48 2015 -0700,1435639728,Add node client changes to the release notes,17.0,0.0,"docs/release-notes.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,24.0,4.0,0.19215277777777776,1311.0,6.204192265992049,98.0,Feature Addition,False,,
ddaac472c915bec015fa1d98a2d0ee46fc59fe27,0ba4bbb42c07404911fef6dccc6f7dc0837797f2,Siddharth Agarwal,sid0@fb.com,Mon Jun 29 22:29:48 2015 -0700,1435642188,pywatchman: rename Unavailable to WatchmanError and add CommandError,15.0,10.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,126.0,3.0,230.16097222222226,200.0,1.0043447852620055,0.0,None,False,,
0ba4bbb42c07404911fef6dccc6f7dc0837797f2,3f9e9e9f7d0f7a2dd36c1df5ed32a68804f4846c,Siddharth Agarwal,sid0@fb.com,Mon Jun 29 22:33:04 2015 -0700,1435642384,pywatchman: add a docstring,4.0,0.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,131.0,4.0,0.002268518518518519,201.0,441.8163265306122,1.0,None,False,,
3f9e9e9f7d0f7a2dd36c1df5ed32a68804f4846c,8de97d4b5c2d2aff18110849bfd9fa540d5d4af0,Wez Furlong,wez@fb.com,Mon Jun 29 22:49:09 2015 -0700,1435643349,Split expression terms out into their own doc files,348.0,260.0,"docs/expr.allof.md,CAS_DELIMITER,docs/expr.anyof.md,CAS_DELIMITER,docs/expr.dirname.md,CAS_DELIMITER,docs/expr.empty.md,CAS_DELIMITER,docs/expr.exists.md,CAS_DELIMITER,docs/expr.false.md,CAS_DELIMITER,docs/expr.match.md,CAS_DELIMITER,docs/expr.name.md,CAS_DELIMITER,docs/expr.not.md,CAS_DELIMITER,docs/expr.pcre.md,CAS_DELIMITER,docs/expr.since.md,CAS_DELIMITER,docs/expr.size.md,CAS_DELIMITER,docs/expr.suffix.md,CAS_DELIMITER,docs/expr.true.md,CAS_DELIMITER,docs/expr.type.md,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,docs/sidebar.json,CAS_DELIMITER",17.0,1.0,1.0,3.152491961827343,6.0,21.588235294117645,10.0,3.2740420751633983,1320.0,0.3368681086464649,115.0,Non Functional,False,,
8de97d4b5c2d2aff18110849bfd9fa540d5d4af0,854b7dedc4d5cc4c5306e8734beacc9bfbbd0f98,Wez Furlong,wez@fb.com,Mon Jun 29 22:52:59 2015 -0700,1435643579,Fix link to type expression term,1.0,1.0,"docs/cmd.query.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,132.0,5.0,88.48182870370371,1329.0,1.011301755565526,116.0,Corrective,True,,
854b7dedc4d5cc4c5306e8734beacc9bfbbd0f98,19831a888702343f9dea38d2d8f67394180607e1,Wez Furlong,wez@fb.com,Tue Jun 30 00:16:31 2015 -0700,1435648591,Improve documentation for query generatorsRefs: https://github.com/facebook/watchman/issues/113n,114.0,24.0,"docs/casefolding.markdown,CAS_DELIMITER,docs/cmd.query.markdown,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,docs/simple-query.md,CAS_DELIMITER",4.0,1.0,1.0,0.2327566921307669,6.0,94.5,20.0,205.7638136574074,1331.5,1.002126226189702,120.0,Non Functional,False,,
19831a888702343f9dea38d2d8f67394180607e1,802222809bf45690863870f32a96e330bf7f0691,Wez Furlong,wez@fb.com,Tue Jun 30 00:27:23 2015 -0700,1435649243,Fix watch-project linkRefs: https://github.com/facebook/watchman/issues/98n,1.0,1.0,"docs/cmd.watch.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,61.0,6.0,89.31917824074074,1334.0,1.0111958038541813,121.0,Corrective,True,,
802222809bf45690863870f32a96e330bf7f0691,8811f531509cb5f1478297a516aa0abd7b63ab42,Wez Furlong,wez@fb.com,Tue Jun 30 07:22:31 2015 -0700,1435674151,Add troubleshooting note on kFSEventStreamEventFlagUserDropped,13.0,1.0,"docs/troubleshooting.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,209.0,7.0,19.430520833333333,1335.0,1.0514654243485066,122.0,Feature Addition,False,,
8811f531509cb5f1478297a516aa0abd7b63ab42,1ab196e7dfb3fd9b5785a95f35fb41426d085066,Wez Furlong,wez@fb.com,Wed Jul 1 08:58:47 2015 -0700,1435766327,"serialization of undefined property values consistent with JSON.stringifySummary:nThis keeps us more honestly in line with our claim that we're drop-inncompatible with the old json serialization that we did under the covers.nnAlso improve serialization errors by adding more context to them.nnTest Plan: `npm test`nnReviewers: amasad, jsslnnnSubscribers:nnDifferential Revision: https://reviews.facebook.net/D40965n",27.0,2.0,"node/bser.js,CAS_DELIMITER,node/test/bser.js,CAS_DELIMITER",2.0,1.0,2.0,0.5787946246321198,6.0,314.0,4.0,5.989398148148147,1336.5,1.1252212628796252,17.0,None,False,True,"[""75645d13508e872bb7f2acef257e94be401131a5""]"
1ab196e7dfb3fd9b5785a95f35fb41426d085066,47f4d8ca8ac971ade96c69840eab8f5085104e84,Wez Furlong,wez@fb.com,Sat Jul 11 14:55:00 2015 -0700,1436651700,Release fb-watchman 1.2.0 for nodejs,7.0,1.0,"docs/release-notes.markdown,CAS_DELIMITER,node/package.json,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,6.0,40.0,9.0,13.974704861111116,1338.5,1.060578393617419,18.0,None,False,,
47f4d8ca8ac971ade96c69840eab8f5085104e84,870b9f334025bf76dadb0f17b2597d3383eca9a1,Wez Furlong,wez@fb.com,Thu Jul 16 15:42:38 2015 -0700,1437086558,Suggest looking for recent questions before asking a new one,3.0,1.0,"docs/support.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,29.0,2.0,109.26038194444445,1340.0,1.0091524483275969,124.0,Feature Addition,False,,
870b9f334025bf76dadb0f17b2597d3383eca9a1,38c6d77a094232dff7512aadeaa553dbf8eaac8e,Ben Hamilton,beng@fb.com,Fri Jul 24 15:49:39 2015 -0700,1437778179,"Don't run lint on thirdparty directoriesSummary:nI'm going to import `wildmatch.c` into `thirdparty`,nbut `arc lint` complains about its style.nnThis disables the lint engine on changes to `thirdparty`.nnTest Plan: `arc lint` with `wildmatch.c` in `thirdparty`nnReviewers: weznnDifferential Revision: https://reviews.facebook.net/D43053n",11.0,0.0,"arcanist/lib/WatchmanLintEngine.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,65.0,3.0,927.782164351852,0.0,0.0,0.0,None,False,,
38c6d77a094232dff7512aadeaa553dbf8eaac8e,cc868a69e1f596b2b67916e6c19f893fdd63dfdb,Ben Hamilton,beng@fb.com,Fri Jul 24 15:07:05 2015 -0700,1437775625,"Performance fixes for w_log()Summary:n`w_log()` shows up as a hotspot when profiling.nnFormatting log messages and timestamps when nobody is listening isnpretty expensive, so this diff checks if there are listeners beforenformatting log messages and exits early if not.nnTest Plan: `arc test`nnReviewers: wez, sid0nnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D43047n",43.0,2.0,"listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,tests/log.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,1.5173676756532053,7.0,497.25,201.0,252.35841435185185,2.5,1.0088935458278807,2.0,Corrective,True,True,"[""7027f667cd8b7d112962495e2cfbd9748c01a5b0""]"
cc868a69e1f596b2b67916e6c19f893fdd63dfdb,afffa70d81329c9377a3b945e87af7f7cfc198fd,Ben Hamilton,beng@fb.com,Fri Jul 24 15:07:05 2015 -0700,1437775625,"Performance fixes for w_string_path_cat()Summary:n`w_string_path_cat()` shows up as a hotspot when profiling.n`sprintf()` is pretty expensive, so this diff manually concatenatesninstead.nnTest Plan:n`arc test` -- a few tests are already failing, is this known?nhttp://pastebin.com/ZbbPA2TCnnReviewers: weznnDifferential Revision: https://reviews.facebook.net/D43041n",25.0,5.0,"string.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,481.0,22.0,110.2666898148148,5.0,1.009068921917212,3.0,Corrective,True,True,"[""5cc813afc48f8521462efc208ac221b490019b3b""]"
afffa70d81329c9377a3b945e87af7f7cfc198fd,5cc813afc48f8521462efc208ac221b490019b3b,Ben Hamilton,beng@fb.com,Sun Jul 26 12:15:40 2015 -0700,1437938140,"Performance fixes for w_string_path_cat()Summary:n`w_string_path_cat()` shows up as a hotspot when profiling.n`sprintf()` is pretty expensive, so this diff manually concatenatesninstead.nnTest Plan:n`arc test` -- a few tests are already failing, is this known?nhttp://pastebin.com/ZbbPA2TCnnReviewers: weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D43041n",0.0,3.0,"string.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,501.0,23.0,1.880960648148148,6.0,1.5316432329323448,4.0,Corrective,True,,
5cc813afc48f8521462efc208ac221b490019b3b,e7da42b20434552dbff1a496a38eb333be75cead,Wez Furlong,wez@fb.com,Mon Jul 27 01:16:09 2015 -0700,1437984969,"watchman: start building python based test suiteSummary:nWe've had a number of compatibility issues with the arcanistnbased test suite, so this is an effort to run them using thenpython unittest infrastructure.nnThis new structure allows us to create a single temporary dirnand to create a dir per test case to track the temporary filesnand dirs created during the test.  This is beneficial both fromna post-mortem perspective if a test fails, but also becausenthe paths that show up in the watchman logs will now be easilynrecognizable as being associated with a given test.nnThis will also help us manage the windows integration testsn(https://github.com/facebook/watchman/issues/19#issuecomment-125054948)na bit more sanely; a source of errors in the php tests is thatndeleting directory trees can fail if a handle still referencesnany part of it, and there is often a noticeable lag where wencan hit this state and error out.  By deferring the deletesnuntil our process end, we should minimize this issue.nnI've ported a single integration test to demonstrate what thisnlooks like, the rest will have to be a series of diffs forneasier review.nnTest Plan: `make integration` or `./runtests.py`nnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D43137n",508.0,2.0,"Makefile.am,CAS_DELIMITER,python/tests/__init__.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/__init__.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER",7.0,3.0,3.0,1.9451040921869551,6.0,24.714285714285715,46.0,6.516845238095237,1344.0,1.0219212115122895,179.0,None,False,True,"[""26e02f8428d0b149db8c48007e0cf3808560add1"", ""718d41f7e044dbf59609f9edf5cc50e68c42132b"", ""dd504ffb5b061d2c2154f22640efc865b5c84beb"", ""e013d4474e3071afc541ae0f1ba81013c9fd15fd"", ""9b932d071d2157cf56ca3ac7990c9bc22121b101""]"
e7da42b20434552dbff1a496a38eb333be75cead,75c5909f6177d176e10628349ab91a460d5a37e7,Wez Furlong,wez@fb.com,Tue Jul 28 21:14:23 2015 -0700,1438143263,"watchman: allow running various test configurations in python testsTests combinations of bser, json, local IPC and CLI interfacesn",276.0,56.0,"python/pywatchman/__init__.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",3.0,3.0,3.0,0.7340950041374462,6.0,115.66666666666669,7.0,10.869857253086419,1349.0,1.0325683334536906,180.0,None,False,True,"[""051b85ba7da869139c1334600777870de8111437"", ""26e02f8428d0b149db8c48007e0cf3808560add1"", ""8b0adb6a68d0fb97e271a63e5365e63ec54fee47""]"
75c5909f6177d176e10628349ab91a460d5a37e7,7027f667cd8b7d112962495e2cfbd9748c01a5b0,Wez Furlong,wez@fb.com,Tue Jul 28 22:10:37 2015 -0700,1438146637,"fix build on Linux```nlistener.c: In function u00e2u0080u0098w_should_log_to_clientsu00e2u0080u0099:nlistener.c:533:3: error: ISO C90 forbids mixed declarations and coden[-Werror=declaration-after-statement]ncc1: all warnings being treated as errorsn```nnWe have configure turn these into errors, but clang on osx apparentlynignores these flags, so this slipped through :-/n",1.0,1.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,7.0,958.0,93.0,4.29412037037037,1351.0,1.2328765646394186,629.0,Corrective,True,,
7027f667cd8b7d112962495e2cfbd9748c01a5b0,471138f2cbcea1c974a7c539a4522fa741738cf4,Ben Hamilton,beng@fb.com,Thu Jul 30 13:56:23 2015 -0700,1438289783,"Add new wildmatch expression term to querySummary:n`fnmatch()` is pretty anemic when it comes to globbing.  Itndoesn't support `foo/**/*.bar` style recursive globs, and its behaviornwith dotfiles is bizarre (it only cares about files with . at thenbeginning of the name, regardless of whether or not it's innFNM_PATHNAME mode).nnThis diff adds a new expression `wildmatch` to `watchman query`,nwhich I imported from git's copy as of commitn6f1a31f0aae6dbd5414b81fb6c0f4ff087146fc5.nnI also added support to let the client specify the flags passed ton`fnmatch` or `wildmatch` (before, we always enabled `FNM_PERIOD` tonhide dotfiles and conditionally turned on `FNM_CASEFOLD`).nnThe original `wildmatch.c` from rsync didn't have a clear license, sonI reached out to its author (Wayne Davison) and got permission tonredistribute it under the Apache license with Watchman:nn>> Is there any way we could get approval to redistribute the wildmatch implementation from rsync under the Apache license (or any compatible license like BSD or MIT)?n> Yes, I think that would be fine.  The initial check-in is based on code by Rich Salz, and it seems to have been provided under a more permissive license than the GPL (though it's not entirely clear exactly what license it had, I do know it was posted to usenet for general consumption).  Everything after that seems to be changes done by me, and I'm fine with the license being Apache, BSD, or MIT.  I never added a GPL header to the file since I never felt the file itself was GPLed, it was just GPL by association in the rsync releases.nnThe other git contributor, Nguyen Thai Ngoc Duy, also expressed hisncontributions could be freely redistributed under the Apache license:nnhttp://thread.gmane.org/gmane.comp.version-control.git/259764/focus=259798nn> wildmatch (in git) is originally from rsync. You need to ask them for permission as well. I'm ok with relicensing my changes in wildmatch.[ch] to Apache License Version 2.0.nnTest Plan: Unit and integration tests included. `arc test`nnReviewers: amasad, wez, sid0nnReviewed By: sid0nnSubscribers: amasadnnDifferential Revision: https://reviews.facebook.net/D43059n",844.0,39.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,docs/expr.match.md,CAS_DELIMITER,docs/release-notes.markdown,CAS_DELIMITER,query/match.c,CAS_DELIMITER,tests/integration/match.php,CAS_DELIMITER,tests/wildmatch_test.c,CAS_DELIMITER,tests/wildmatch_test.json,CAS_DELIMITER,thirdparty/wildmatch/.dir-locals.el,CAS_DELIMITER,thirdparty/wildmatch/wildmatch.c,CAS_DELIMITER,thirdparty/wildmatch/wildmatch.h,CAS_DELIMITER,watchman.h,CAS_DELIMITER",12.0,5.0,6.0,2.555884043563013,8.0,119.25,228.0,43.31055169753086,12.5,1.0296135199871397,7.0,Feature Addition,False,,
471138f2cbcea1c974a7c539a4522fa741738cf4,75ef2315244ce5644d57feacbdf8eb15c7daa813,Ben Hamilton,beng@fb.com,Thu Jul 30 17:58:50 2015 -0700,1438304330,"Remove unused third flag from query dictionarySummary:nWhen I was cleaning up the code in D43059, Inremoved the `pathname` flag from the query dictionary,nbut I forgot to remove the third flag from the call ton`json_unpack()`.nnThis removes the third flag.nnTest Plan: makennReviewers: wez, sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D43287n",1.0,1.0,"query/match.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,103.0,6.0,0.16836805555555556,19.0,6.939368942049907,1.0,None,False,,
75ef2315244ce5644d57feacbdf8eb15c7daa813,89bcf21507242bf85bfc198f14db7b4c055351f0,Wez Furlong,wez@fb.com,Fri Jul 31 23:55:31 2015 -0700,1438412131,pywatchman: support subscriptions and log responses,74.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER",2.0,2.0,2.0,0.17556502585750278,6.0,218.5,8.0,3.111898148148148,1352.5,1.2410104586637307,630.0,None,False,,
89bcf21507242bf85bfc198f14db7b4c055351f0,0b181521042dd4884de68dd2fbe1570bf170bcb6,Wez Furlong,wez@fb.com,Sat Aug 1 00:08:20 2015 -0700,1438412900,pywatchman: fixup bser handling for python long valuesAlso wire up py-build into `make integration`n,10.0,2.0,"Makefile.am,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,8.0,473.5,49.0,221.44070601851848,1354.5,1.352014713218927,19.0,None,False,,
0b181521042dd4884de68dd2fbe1570bf170bcb6,15fb5804779dc7af53315ac4c72b670b8f2310ec,Wez Furlong,wez@fb.com,Sat Aug 1 14:58:04 2015 -0700,1438466284,"add iopriority awarenessSummary:non initial launch after a reboot on a system with a number ofnlarge trees, the cold filesystem cache can be particularly punishing.nThis diff adds some basic IO priority awareness to watchman.nnWe lower the priority while we crawl and then raise it again once we'renin a mode where we're awaiting filesystem notifications.  We'll lowernthe priority again if we need to recrawl.nnWe can change the io priority on Linux and OS X.nnTest Plan:nintegration tests pass, will also force cache to empty andnrestart watchman on my devserver.nnI observed that we were at idle priority using iotop in one window while doing:nn`echo 3 | sudo tee /proc/sys/vm/drop_caches ; time env PATH=/tmp/bin:$PATH watchman --statefile=/var/facebook/watchman/wez.state watch-list`nnReviewers: sid0, durhamnnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D43383n",58.0,0.0,"Makefile.am,CAS_DELIMITER,ioprio.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,0.7726758745948187,8.0,857.25,288.0,15.59491898148148,1357.5,1.8173823514944967,635.0,Feature Addition,False,,
15fb5804779dc7af53315ac4c72b670b8f2310ec,c9956ecb606062674db627f5dcbc3fd22f00860d,Wez Furlong,wez@fb.com,Wed Jun 24 13:30:19 2015 -0700,1435177819,"watch-project: re-use existing watch if one overlapsSummary:nwe missed this obvious-in-retrospect case when putting togethernwatch-project.nnThe problem scenario is this directory structure:nn```n.watchmanconfignsubdirn   /.watchmanconfign```nnwhen `watch-project subdir` is invoked, it looks like a valid locationnto start a watch, so we allow it.nnThis diff changes our logic so that we'll prefix match the existinednwatched roots against the intended project path; if we find a matchnwe'll use that existing watch as the root.nnIf multiple roots are prefix matches, it is undefined which one we'llntake as the project root.nnIf no existing watch is found, we'll still choose to watch `subdir`nin this scenario.  Do we want to change the search logic to find thenhighest instance of `.watchmanconfig` in the requested tree?nnTest Plan: make integrationnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D40653n",72.0,0.0,"cmds/watch.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,3.0,3.0,1.4161925149832657,8.0,920.75,251.0,21.48114872685185,1361.5,1.0143543886010151,637.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78""]"
c9956ecb606062674db627f5dcbc3fd22f00860d,8ea5c0dd2e895bddeabaf4a8bd8c831414b8134f,Wez Furlong,wez@fb.com,Sat Aug 1 17:36:02 2015 -0700,1438475762,"Make troubleshooting URL configurableSummary:nit is desirable for some sites to redirect folks to an internalntroubleshooting page.nnThis makes the URL configurable via the config.json file.nnTest Plan:nintegration tests pass.nnEdited `/etc/watchman.json`nn```n$ watchman debug-recrawl .n$ ./watchman -U /tmp/wez.sock -j <<< '[query, /Users/wez/fb/watchman, {expression: [name, .arcconfig]}]'n{nversion: 3.6.0,nclock: c:1438476062:8022:3:8,nwarning: Recrawled this watch 2 times, most recently because:n/Users/wez/fb/watchman: debug-recrawlnTo resolve, please review the information onnhttps://our.intern.facebook.com/intern/wiki/Watchman/Troubleshooting/#recrawl,nis_fresh_instance: true,nfiles: [n{nname: .arcconfig,nsize: 439,nmode: 33188,nnew: true,nexists: truen}n]n}n```nnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D43389n",11.0,3.0,"cfg.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,1.8092000326978117,8.0,1129.5,343.0,29.321478587962964,1365.5,1.0181294289081553,641.0,None,False,,
8ea5c0dd2e895bddeabaf4a8bd8c831414b8134f,561b623756283b6ee1ed4153c32ebbbc12eafb74,Wez Furlong,wez@fb.com,Sun Aug 2 09:12:35 2015 -0700,1438531955,hook up the C TAP tests to the python test runnerThis also defaults --with-python to on as we need it to run the testsn,94.0,8.0,"configure.ac,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER",3.0,2.0,2.0,0.7540104506672377,8.0,114.33333333333331,77.0,1.3965895061728393,1369.0,1.2780415204585924,182.0,Preventative,False,True,"[""9619ff88d3504938e079a38c7778504cf6b66d06""]"
561b623756283b6ee1ed4153c32ebbbc12eafb74,f5300f1577884bc5307023d408462684a68435be,Wez Furlong,wez@fb.com,Sun Aug 2 11:09:54 2015 -0700,1438538994,allow runtests.py to run php tests,202.0,96.0,"Makefile.am,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,arcanist/workflow/tap.php,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",10.0,3.0,5.0,2.3568512526230694,8.0,217.0,206.0,70.20279513888889,1375.5,1.1244684800781812,184.0,Preventative,False,,
f5300f1577884bc5307023d408462684a68435be,9203c6505327835aa4107be61d2bf15d83d73b40,Wez Furlong,wez@fb.com,Sun Aug 2 11:59:55 2015 -0700,1438541995,allow specifying which tests are run by the python test harness,85.0,4.0,"runtests.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER",2.0,2.0,2.0,0.26451736836297474,8.0,111.0,7.0,0.0347337962962963,1381.5,22.592802399200266,185.0,Preventative,False,,
9203c6505327835aa4107be61d2bf15d83d73b40,240c8c9ebfe6e9be5acfa53e1f6716d12a429cdc,Wez Furlong,wez@fb.com,Sun Aug 2 14:39:15 2015 -0700,1438551555,allow running tests in parallel in runtests.py,184.0,23.0,"python/tests/tests.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/Interrupt.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",6.0,3.0,3.0,1.2808465454960554,8.0,99.16666666666669,13.0,75.7609760802469,1385.5,1.0022360694567385,189.0,Preventative,False,True,"[""051b85ba7da869139c1334600777870de8111437"", ""26e02f8428d0b149db8c48007e0cf3808560add1""]"
240c8c9ebfe6e9be5acfa53e1f6716d12a429cdc,051b85ba7da869139c1334600777870de8111437,Wez Furlong,wez@fb.com,Sun Aug 2 15:10:57 2015 -0700,1438553457,break out various test configurations as their own TestCase instancesThis allows the tests to be distributed across the test runner threadsnmore effectively.nnAlso fix up a line buffering issue with the Json codecn,46.0,17.0,"python/pywatchman/__init__.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",3.0,3.0,3.0,1.4947969915434811,8.0,286.3333333333333,17.0,0.5599151234567902,1390.0,1.6033049355627949,190.0,Corrective,True,True,"[""2d78fdf1cc458c77bb785e866c5d23e3230ff210""]"
051b85ba7da869139c1334600777870de8111437,88be24a72ef23904c29876a79a22fa6b1c9afe11,Wez Furlong,wez@fb.com,Sun Aug 2 16:27:29 2015 -0700,1438558049,strndup is not available on windows,7.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,2441.0,145.0,0.9523958333333332,1392.0,2.049983594006344,649.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371""]"
88be24a72ef23904c29876a79a22fa6b1c9afe11,e1cc2b5d7e12c8205e374be23c181dc6263a04d5,Wez Furlong,wez@fb.com,Sun Aug 2 16:32:39 2015 -0700,1438558359,avoid changing the global tempdir when we're threaded,11.0,10.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER",2.0,1.0,1.0,0.9852281360342516,8.0,182.5,5.0,3.3465972222222224,1393.5,9.887432243489904,192.0,None,False,,
e1cc2b5d7e12c8205e374be23c181dc6263a04d5,9f5a067aecf81089ca3123c20b21e0a3bb7daec4,Wez Furlong,wez@fb.com,Sun Aug 2 17:59:42 2015 -0700,1438563582,reduce raciness in test harness,14.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER",2.0,1.0,1.0,0.9402859586706308,8.0,183.0,7.0,0.06045138888888889,1395.5,13.40666283744974,194.0,Preventative,False,,
9f5a067aecf81089ca3123c20b21e0a3bb7daec4,6ead93f4e94a71f44301a49605af7d6924063661,Wez Furlong,wez@fb.com,Sun Aug 2 23:41:19 2015 -0700,1438584079,"watchman: reap idle watches after 5 daysSummary:nadds `idle_reap_age_seconds` to .watchmanconfig and the globalnconfiguration.  It defaults to 5 days.nnA watch is considered to be idle when it has had no filesystemnnotifications or commands that operate on it for idle_reap_age_seconds.nIf an idle watch has no triggers and no subscriptions then it will bencancelled, releasing the associated operating system resources, andnremoved from the state file.nnThis is pretty straightforward in terms of implementation.  I suspectnthe most difficult thing will be on agreeing to a decent value fornthe global default.nnI picked 5 days to allow for the reasonably common case where someonenmight be idle over a weekend and busy for the first couple of days inna week before they pick up where they left off.nnI suspect that the Ember folks would prefer to use a smaller value byndefault, so that their large number of discrete watches can be prunednmore aggressively.  I believe that desire will be largely mitigated oncenember has migrated to use `watch-project`.nnRefs: https://github.com/facebook/watchman/issues/63nnTest Plan:n`make integration`.nn`tests/integration/test_age_watch.py` asserts that we won't reap while triggers or subscriptions are registered.nnI also manually tested this with a 300 secondnlimit on a temporary dir and verified that the state file is correctly updated.nnReviewers: sid0nnReviewed By: sid0nnSubscribers: stefanpennernnDifferential Revision: https://reviews.facebook.net/D37701n",157.0,2.0,"configure.ac,CAS_DELIMITER,docs/cmd.watch-project.markdown,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER",6.0,3.0,3.0,1.882233134864025,8.0,650.3333333333334,328.0,32.13685378086419,1399.5,1.2810853431742701,652.0,None,False,True,"[""d462a5ba2468e3e5cdd628494ae3b68eac4feb34""]"
6ead93f4e94a71f44301a49605af7d6924063661,c74d2b0d5016f83248c72d187d44826f6c5d5450,Wez Furlong,wez@fb.com,Tue Aug 4 10:46:04 2015 -0700,1438710364,"Log version and host name to log file, log all error responsesSummary:nsome tools don't propagate error messages all to way to thenuser and that makes it difficult to debug things just from the watchmannlogs, so let's upgrade this from DEBUG level to ERROR level.nnIn addition, let's emit the version and build info to the logs whennwe open them.nnTest Plan: make integration.  Inspect logs to verify that both of these show up.nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D43413n",15.0,1.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.5435644431995964,8.0,799.0,144.0,32.646493055555545,1403.5,1.1917994430371943,654.0,None,False,,
c74d2b0d5016f83248c72d187d44826f6c5d5450,62e858518b5e99bd1b20336d7a31adb24e39668b,Wez Furlong,wez@fb.com,Wed Aug 5 10:31:46 2015 -0700,1438795906,Update release notes for 3.7.0,9.0,1.0,"docs/release-notes.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,57.0,7.0,5.857905092592592,1405.0,1.1707094915662792,127.0,None,False,,
62e858518b5e99bd1b20336d7a31adb24e39668b,e5d0001c3444ebdd20b20f63520a9383ac3bd64c,Wez Furlong,wez@fb.com,Mon Dec 29 15:56:31 2014 -0800,1419897391,windows: kick things off with some attributes and ignoresLet's try and avoid CRLF and random crap getting in our repon,16.0,0.0,".gitattributes,CAS_DELIMITER,.gitignore,CAS_DELIMITER",2.0,1.0,1.0,0.3372900666170139,6.0,23.0,20.0,-89.60672453703705,1406.5,0.4972100308175346,656.0,None,False,,
e5d0001c3444ebdd20b20f63520a9383ac3bd64c,e3e7d09f14f6414d3b5c4521c128a77bfd3cec51,Wez Furlong,wez@fb.com,Wed Dec 31 14:50:29 2014 -0800,1420066229,windows: some basic ifdefs for building on windows,35.0,0.0,"watchman.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,863.0,101.0,-214.32696759259255,1408.0,0.9953342315657596,657.0,None,False,,
e3e7d09f14f6414d3b5c4521c128a77bfd3cec51,afbdbb96aebf587df5b56f02be3d5b4aa8760052,Wez Furlong,wez@fb.com,Wed Dec 31 14:22:05 2014 -0800,1420064525,hash.c: correctly guard sys/param.h include,2.0,0.0,"hash.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,249.0,5.0,357.9511689814815,1409.0,1.002793677145532,658.0,None,False,,
afbdbb96aebf587df5b56f02be3d5b4aa8760052,1a15853f8adaffb1e8d7f4f01514fd9dd702ac4e,Wez Furlong,wez@fb.com,Mon Dec 29 17:15:43 2014 -0800,1419902143,"streams: add simple stream abstractionSummary:nTo reconcile the differences in IO between POSIX and Windows, this commitnintroduces a simple abstraction for IO streams.  The abstraction defines somenbasic read, write and seek primitives, and provides an event object that can bensignalled.  Both events and streams can be waited upon using appropriate kernelnprimitives to avoid busy waiting.nnThe implementation for POSIX is pretty much a passthrough to the read(2),nwrite(2), lseek(2) and poll(2) system calls.  Events are implemented using thenpipe(2) system call.nnFor Windows, we use the system level ReadFile and WriteFile API.  Non-blockingnmode is implemented as overlapped IO, which queues IO to a system worker threadnand signals completion when the application enters an alertable wait state.nWe use system Event handles for our event type, and use WaitForMultipleObjectsExnto efficiently enter an alertable wait state.nnThis commit defines the interface, but does not adopt it; will do that in anfollowing diff.nnTest Plan: `arc unit --everything` once whole stack lands :-/nnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D32967n",1068.0,0.0,"Makefile.am,CAS_DELIMITER,stream.c,CAS_DELIMITER,stream_stdout.c,CAS_DELIMITER,stream_unix.c,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",7.0,1.0,1.0,1.7194755730549396,8.0,154.85714285714286,153.0,-31.086205357142855,1413.0,0.9953755838715004,665.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""29f2df5fe7e5b02185c6d644f1bc2b28a0e8a688"", ""26e02f8428d0b149db8c48007e0cf3808560add1"", ""4a1714d48a9cde0a6dca308e1b0991be2845e9ae""]"
1a15853f8adaffb1e8d7f4f01514fd9dd702ac4e,b0ed808d99ad6a03fba0a10140659d16b8efcba6,Wez Furlong,wez@fb.com,Mon Dec 29 17:39:56 2014 -0800,1419903596,stream: convert json layer to use streamsTest Plan: `arc unit --everything` once the stack is donennReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D32973n,346.0,250.0,"cmds/reg.c,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,state.c,CAS_DELIMITER,stream_unix.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",9.0,2.0,2.0,1.9814875042442768,8.0,719.6666666666665,416.0,-24.67211291152263,1421.0,0.9978264341696266,673.0,None,False,True,"[""d130c9e25cc949f77150e06ecc629a39fb7243d2"", ""f606a2a3fee971ce79bd73461cd46400cb55dd1d"", ""4f55e10128375292aa36065c09e8872fc4f66088"", ""00d60ff136624b3a8329b6ebc8b2ccb3ea13e1fc"", ""ddceae9b7e498286a9c131f4943abc8ef470b311""]"
b0ed808d99ad6a03fba0a10140659d16b8efcba6,9c4ad4feeee0e63fff01662e4de90f98fe6eb7fe,Wez Furlong,wez@fb.com,Tue Dec 30 03:39:08 2014 -0800,1419939548,"add win32 watcher implementationSummary:nFactors out the ignore logic from fsevents, since they work in a similarnfashion.nnTest Plan: `arc unit --everything`nnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D32979n",497.0,60.0,"Makefile.am,CAS_DELIMITER,log.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/helper.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,2.0,2.0,1.195653567264325,8.0,616.5714285714286,324.0,-51.40686507936508,1429.0,1.3270038622751097,677.0,Feature Addition,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""1efc4ce07ef72ca0a95c333d6dd6fede3a0d3612"", ""1b2c278937019db8809a8424884520a563937cfa"", ""ef594615f2ced70e610ade467df66c8946c57b0d""]"
9c4ad4feeee0e63fff01662e4de90f98fe6eb7fe,c5f059ecd6a94d707d7a4f89b719b604333c1435,Wez Furlong,wez@fb.com,Tue Dec 30 03:42:42 2014 -0800,1419939762,windows: import BSD licensed lightweight pthread implementation,1514.0,7.0,"arcanist/lib/WatchmanLicenseLinter.php,CAS_DELIMITER,winbuild/pthread.c,CAS_DELIMITER,winbuild/pthread.h,CAS_DELIMITER",3.0,2.0,2.0,0.7559340812427047,5.0,30.66666666666667,4.0,75.87690972222222,1434.0,1.0043930799838006,1.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""36ca8cd2f48f1911eba40bdb3365e896b1506ee1""]"
c5f059ecd6a94d707d7a4f89b719b604333c1435,878c6ad6cb26e51ed27bf7a11f2290cab2ce77f2,Wez Furlong,wez@fb.com,Tue Dec 30 03:43:24 2014 -0800,1419939804,windows: add backtrace() and backtrace_symbols(),63.0,0.0,"winbuild/backtrace.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1436.0,0.0,2.0,None,False,,
878c6ad6cb26e51ed27bf7a11f2290cab2ce77f2,94b3d5c24b99714dcae9ba48e5c31d6cfb7d4b3b,Wez Furlong,wez@fb.com,Tue Dec 30 03:44:02 2014 -0800,1419939842,windows: add asprintf,52.0,0.0,"winbuild/asprintf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1437.0,0.0,3.0,None,False,,
94b3d5c24b99714dcae9ba48e5c31d6cfb7d4b3b,e0d55d2c4a46f21ba5fb3f7d20c20a21991b0191,Wez Furlong,wez@fb.com,Tue Dec 30 09:30:34 2014 -0800,1419960634,windows: add getopt_longThis was taken from PostreSQL but is a BSDish implementationn,228.0,11.0,"opt.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/getopt.h,CAS_DELIMITER,winbuild/getopt_long.c,CAS_DELIMITER",4.0,2.0,2.0,0.8477186473303115,8.0,288.75,117.0,-30.76050636574074,1439.5,0.9918767176597334,5.0,None,False,True,"[""e8d96d36b9d749dd010e0c85e5d1c818fdfa753d""]"
e0d55d2c4a46f21ba5fb3f7d20c20a21991b0191,4447289cdcb2510f73efac3e3a13355d0782b275,Wez Furlong,wez@fb.com,Tue Dec 30 09:32:15 2014 -0800,1419960735,windows: add gethostname(2)This implementation doesn't require winsock to be loadedn,15.0,0.0,"winbuild/hostname.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1442.0,0.0,6.0,None,False,,
4447289cdcb2510f73efac3e3a13355d0782b275,533e22d7020562537fe7bbfdd0e031af14755bee,Wez Furlong,wez@fb.com,Wed Dec 31 15:01:08 2014 -0800,1420066868,"windows: more involved absolute path checkingSummary: The rules are more complex on windows, so add a function with those rules.nnTest Plan: arc unitnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D33021n",38.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,2518.0,149.0,1.4736111111111112,1443.0,1.6786050895381714,680.0,None,False,,
533e22d7020562537fe7bbfdd0e031af14755bee,ba26b52e2b1f45804a6f1428fb873b045f19b097,Wez Furlong,wez@fb.com,Tue Dec 30 09:34:19 2014 -0800,1419960859,"windows: add posix_spawn and wait/reap functionalityThere are some FIXMEs before we can properly use this for triggers,nbut this implementation is sufficient to launch the watchman servernprocess when invoked by the client.n",579.0,22.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/posix_spawn.c,CAS_DELIMITER,winbuild/spawn.h,CAS_DELIMITER",7.0,2.0,2.0,1.3669371212523238,8.0,796.4285714285713,359.0,0.1115376984126984,1447.0,3.1440379503853664,8.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""a664d73e704619a4424f9306575713ede3bd8685"", ""06044416c96791460b4dabed6446565b0d02e569""]"
ba26b52e2b1f45804a6f1428fb873b045f19b097,5070c3267f664c224f6918264d1ea3a7019b6345,Wez Furlong,wez@fb.com,Tue Dec 30 09:35:49 2014 -0800,1419960949,"windows: add opendir/readdirThis implements opendir using the closest primitive available onnWindows, which works similarly to getdents().  The docs are unclear, butnit looks as though this requires Windows 8 or later.  The underlyingnfunctionality is present at the NT layer in earlier versions should wenreally need to support older versions of Windows.n",111.0,1.0,"root.c,CAS_DELIMITER,winbuild/dir.c,CAS_DELIMITER,winbuild/dirent.h,CAS_DELIMITER",3.0,2.0,2.0,1.0472296543580537,8.0,853.6666666666665,151.0,0.00034722222222222224,1452.0,961.0,10.0,None,False,,
5070c3267f664c224f6918264d1ea3a7019b6345,d0265aec629baac1fb32ed60eb185432d6a2c4d0,Wez Furlong,wez@fb.com,Tue Dec 30 09:47:58 2014 -0800,1419961678,windows: add gettimeofday() and sleep functionsThese functions either resolve the current time or put us to sleepnfor some period of time.nnWe use alertable wait states when we sleep so that our async IOncan complete correctly.n,99.0,0.0,"winbuild/sys/time.h,CAS_DELIMITER,winbuild/time.c,CAS_DELIMITER",2.0,1.0,2.0,0.9534985819759992,1.0,0.0,0.0,0.0,1454.5,0.0,12.0,None,False,True,"[""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3""]"
d0265aec629baac1fb32ed60eb185432d6a2c4d0,3eb1ef92f1c395f549fc811a961f32f052aae8fd,Wez Furlong,wez@fb.com,Tue Dec 30 09:56:48 2014 -0800,1419962208,"windows: add widechar <-> utf-8 path mappingSummary:nRather than deal with potentially lossy ACP mapping, we're adoptingnthe stance that we are a unicode aware application when it comesnto interacting with the system, but we choose to represent ournstrings as UTF-8 internally to minimize the portability overheadnof our Windows support.nnTo that end, where we call into filesystem related functions,nwe will convert to the full extended UNC path name form (which unlocksnthe maximum length filename possible) for the call.  When we enumeratendirs or file change notifications, we convert from unicode to UTF-8.nnTest Plan: arc unitnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D32985n",108.0,0.0,"winbuild/pathmap.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1456.0,0.0,13.0,None,False,,
3eb1ef92f1c395f549fc811a961f32f052aae8fd,26a8af5dac0dd8a1d9bbeb86328ec6f3045287de,Wez Furlong,wez@fb.com,Tue Dec 30 09:41:41 2014 -0800,1419961301,windows: add realpath that is reparsepoint awareSummary:nThis will actually resolve through reparse pointsnnThere's some ifdefs in there; we should probably remove the else branch and just target windows 8 and up.  Thoughts?nnTest Plan: arc unitnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D32991n,195.0,18.0,"root.c,CAS_DELIMITER,winbuild/pathmap.c,CAS_DELIMITER,winbuild/realpath.c,CAS_DELIMITER",3.0,2.0,2.0,1.0497789604198218,8.0,891.0,153.0,-0.0021412037037037038,1458.0,-20.965601965601962,15.0,None,False,,
26a8af5dac0dd8a1d9bbeb86328ec6f3045287de,b94a077ff0777f76290d53bcb47ba9d8075392c4,Wez Furlong,wez@fb.com,Tue Dec 30 10:01:49 2014 -0800,1419962509,"windows: add broken lstat(2)This is a simplistic implementation of lstat.  It doesn't follow reparsenpoints and attempts to populate the msvc struct stat in a mostlyncompatible way to the MSVC stat() function.nnNote that the MSVC runtime library has no way to formally recognizensymlinks, despite that support being present in Windows for severalnyears.  We report them as files because we cannot and don't want tonopendir them when we crawl the filesystem.nnThis isn't a great solution, but it is functional.n",159.0,0.0,"winbuild/stat.c,CAS_DELIMITER,winbuild/sys/stat.h,CAS_DELIMITER",2.0,1.0,2.0,0.9986014218031778,1.0,0.0,0.0,0.0,1460.5,0.0,17.0,None,False,,
b94a077ff0777f76290d53bcb47ba9d8075392c4,f8923269cb2c0ce37ef01280bd4d94c43a7cea51,Wez Furlong,wez@fb.com,Tue Dec 30 10:40:51 2014 -0800,1419964851,"windows: add build and test plumbingWe're using good old nmake to perform our builds.nWe use batch inference rules to invoke the compiler drivernonce for each set (directory) of files that have changed.nThis results in faster compilation times.nndepends.js uses the /showIncludes flag in the compiler to extractnthe include file dependency tree and generate dependency information,nsimilar to makedepend, so that we recompile the right things whennwe change headers.nnruntests.js is a very simple test driver that runs the unit testsnwhen `make check` is invoked.nnWe choose to use cscript with the JScript runtime for these becausenit is less crazy-making to use than cmd.exe scripting and becausenpowershell cannot run scripts by default (which seems like a WTFnmoment).nnWe still require arcanist to run the integration test suite.nnWe put the makefile in a subdir so that it is out of the waynfrom the unix build makefile, but we add a `make.bat` file innthe root of the repo so that we can simply run `make`, `make check`,n`make integration`, `make clean` and so on from the root.n",1022.0,220.0,"arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanDirectoryFixture.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,make.bat,CAS_DELIMITER,tests/integration/_capture.php,CAS_DELIMITER,tests/integration/_cat.php,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER,tests/integration/bsdish.php,CAS_DELIMITER,tests/integration/capture.sh,CAS_DELIMITER,tests/integration/case.php,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER,tests/integration/cursor.php,CAS_DELIMITER,tests/integration/empty.php,CAS_DELIMITER,tests/integration/fields.php,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/fstype.php,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER,tests/integration/info.php,CAS_DELIMITER,tests/integration/invalidexpr.php,CAS_DELIMITER,tests/integration/invalidroot.php,CAS_DELIMITER,tests/integration/modified.php,CAS_DELIMITER,tests/integration/moremoves.php,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/name.php,CAS_DELIMITER,tests/integration/othercookies.php,CAS_DELIMITER,tests/integration/pathgen.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER,tests/integration/rmroot.php,CAS_DELIMITER,tests/integration/rootrestrict.php,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/suffix.php,CAS_DELIMITER,tests/integration/suffixgenerator.php,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-error.php,CAS_DELIMITER,tests/integration/trigger-max-files.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/depends.js,CAS_DELIMITER,winbuild/jansson_config.h,CAS_DELIMITER,winbuild/runtests.js,CAS_DELIMITER",53.0,4.0,5.0,4.527118199849523,8.0,85.71698113207547,310.0,135.83559442697413,1488.0,0.9997131663385184,22.0,None,False,True,"[""478b6abcbec12a411d1ce0acfdcfbe2917529941"", ""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""58d2349b33a4a0883add4d8cf766aeda684036e5"", ""a0ada2889841b6248302be61e77e2c35b1516be6"", ""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3"", ""e59f2f52e80147ee6639579efacae4b892af932a"", ""b085c2184941401bd1bd9e395d7acfdc73c2713f"", ""083d410db82b567824b78b21587c457c9679d636""]"
f8923269cb2c0ce37ef01280bd4d94c43a7cea51,5243ef7bfe0208a057023634be10405412b12fd8,Wez Furlong,wez@fb.com,Tue Dec 30 10:26:51 2014 -0800,1419964011,"windows: add win32_strerror() helperThis uses a thread local buffer to capture the formatted resultnof a win32 error code.nnAlso add a helper to translate a win32 error code to a unix errnonequivalent.  Not all possible error codes are supported, justnenough to help us do our work.n",42.0,0.0,"winbuild/errmap.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1515.0,0.0,23.0,None,False,,
5243ef7bfe0208a057023634be10405412b12fd8,92bfca8d3eec84375842481754bfc7dcea9c38e7,Wez Furlong,wez@fb.com,Tue Dec 30 10:43:55 2014 -0800,1419965035,windows: fixup libtap for MSVCThe compiler has recently(!) added support for variadic macrosn,9.0,1.0,"thirdparty/tap.c,CAS_DELIMITER,thirdparty/tap.h,CAS_DELIMITER",2.0,1.0,1.0,1.0,6.0,264.0,8.0,450.9269618055557,1516.5,1.004074733416592,32.0,None,False,,
92bfca8d3eec84375842481754bfc7dcea9c38e7,980443498f6dea9ca85670a6bb946236736c8f34,Wez Furlong,wez@fb.com,Tue Dec 30 10:45:06 2014 -0800,1419965106,"windows: fixup `match` expressionfnmatch(3) defines backslashes as escape characters and placesnspecial meaning on forward slashes.nnWhen we invoke fnmatch, translate backslashes in a path to forwardnslashes.nnThis should allow reasonably portable match expressions to benauthored and run independent of the underlying OS and file namenscheme.n",13.0,1.0,"query/match.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,103.0,7.0,-212.25953703703703,1518.0,0.995288786483005,62.0,None,False,,
980443498f6dea9ca85670a6bb946236736c8f34,2336a663593c4d0e42811ba347e158a49b9fb925,Wez Furlong,wez@fb.com,Tue Dec 30 10:49:00 2014 -0800,1419965340,"windows: client: use named pipe to connectSummary:nThis makes use of the stream layer to connect to the watchman service.nWe'll use a named pipe as this is the closest equivalent to a PF_LOCALnavailable on Windows.  We construct a path specific to the usernand pass that through to our named pipe client stream implementation.nnIf we cannot connect, we'll spawn, using our implementation of posix_spawn,nthe watchman service.nnTest Plan: arc unitnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D33003n",75.0,11.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,627.0,51.0,0.7146296296296296,1519.0,2.3993262503239183,689.0,None,False,,
2336a663593c4d0e42811ba347e158a49b9fb925,61a4d94a2570911174cac65dc6aadab7293bb889,Wez Furlong,wez@fb.com,Tue Dec 30 22:31:32 2014 -0800,1420007492,"windows: add susres.exe, enables suspend/resume integration testsAlso port shell scripts to PHP scripts so that we can test triggersnmore portably.  We use php because we're already running PHP fornintegration tests, so we know that the system can run it.n",164.0,58.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,tests/integration/_trig.php,CAS_DELIMITER,tests/integration/_trigjson.php,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/trig.sh,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/trigjson,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/susres.c,CAS_DELIMITER",10.0,3.0,3.0,2.66938876869504,8.0,142.9,102.0,99.0990810185185,1524.5,1.5751958146302627,25.0,None,False,True,"[""96c63551b001f462914423c550fc59047819b691""]"
61a4d94a2570911174cac65dc6aadab7293bb889,16cd302cacd51316383d63add91d9c64515cc52d,Wez Furlong,wez@fb.com,Wed Dec 31 00:34:36 2014 -0800,1420014876,"windows: add w_path_existsWe use this in place of access(2) for file existence checks, because itnis lighter weight than implementing the equivalent access checkingnfunctionality for windows.n",43.0,10.0,"cfg.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/pathmap.c,CAS_DELIMITER",5.0,3.0,3.0,1.9298578903308297,8.0,848.0,279.0,-77.45986574074074,1532.0,0.9970033368029864,26.0,None,False,,
16cd302cacd51316383d63add91d9c64515cc52d,bf8a1e218dbc58786b3e735f661ec1b60974a45d,Wez Furlong,wez@fb.com,Wed Dec 31 11:19:06 2014 -0800,1420053546,"windows: enable pedantic analyzer, find/fix stuff",179.0,108.0,"argv.c,CAS_DELIMITER,bser.c,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,envp.c,CAS_DELIMITER,ht.c,CAS_DELIMITER,json.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,opt.c,CAS_DELIMITER,query/base.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/suffix.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,winbuild/asprintf.c,CAS_DELIMITER,winbuild/backtrace.c,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/pthread.c,CAS_DELIMITER,winbuild/pthread.h,CAS_DELIMITER,winbuild/realpath.c,CAS_DELIMITER,winbuild/time.c,CAS_DELIMITER",26.0,5.0,5.0,3.947685520455186,8.0,408.3076923076923,498.0,42.9491279380342,1547.5,1.0014057992477703,33.0,None,False,True,"[""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
bf8a1e218dbc58786b3e735f661ec1b60974a45d,5d4a5c4fba02e2b9a15324e6d941722dbdd73a08,Wez Furlong,wez@fb.com,Wed Dec 31 11:40:10 2014 -0800,1420054810,windows: constructor attribute equivalent for MSVC,32.0,8.0,"watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,1.0,1.0,1.5679414913662506,8.0,401.33333333333326,145.0,47.6863387345679,1562.0,23.789470446326376,707.0,None,False,,
5d4a5c4fba02e2b9a15324e6d941722dbdd73a08,40806ef5aba8bc1dbb8908275461d032543b9d6f,Wez Furlong,wez@fb.com,Wed Dec 31 11:40:53 2014 -0800,1420054853,windows: implement fstype,24.0,0.0,"fstype.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,78.0,6.0,109.65879629629627,1564.0,1.0091191954843095,708.0,None,False,True,"[""1bb9d3d047b69872f727be27e270c5748ed67d62""]"
40806ef5aba8bc1dbb8908275461d032543b9d6f,9c41b9cc5f368bfcbdb829f6a7e505e150c604d9,Wez Furlong,wez@fb.com,Wed Dec 31 14:36:30 2014 -0800,1420065390,windows: add some path related string functions,115.0,8.0,"query/name.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,0.7534647939098387,8.0,545.5,161.0,-43.12832465277778,1566.5,2.8193639205953467,710.0,None,False,True,"[""ac0cc91e753c8e5b29b02eeb841c923c186d7e08"", ""b01da5dc012ce3a45d6c4b658fd07768fe425bed""]"
9c41b9cc5f368bfcbdb829f6a7e505e150c604d9,7a3e3bea2d3e13244e0271722094a1c5860ed6d9,Wez Furlong,wez@fb.com,Wed Dec 31 14:43:02 2014 -0800,1420065782,windows: w_refcnt functions need to operate on long not int,16.0,8.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,1.0,1.0,1.2516291673878228,8.0,1242.3333333333333,284.0,0.09104938271604936,1570.0,6.854695528999738,713.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371""]"
7a3e3bea2d3e13244e0271722094a1c5860ed6d9,be92708917bdeae7f65455edc6aead32afe0ba53,Wez Furlong,wez@fb.com,Wed Dec 31 14:43:32 2014 -0800,1420065812,"Windows doesn't support atomic rename->replacementSummary:nSince we're protecting the state file updates with a mutex, we can usenthe simplistic approach of directly writing out the state file.nnThis helps us avoid a variety of timing and locking issues with thenWindows filesystem.nnTest Plan: arc unitnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D33009n",7.0,19.0,"state.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,142.0,5.0,1.8775,1572.0,1.5326231691078562,714.0,None,False,,
be92708917bdeae7f65455edc6aead32afe0ba53,4dc13f3cc7242f48735c1da46685a32b594230ad,Wez Furlong,wez@fb.com,Wed Dec 31 14:57:58 2014 -0800,1420066678,"enable case insensitivity support (slightly) more generallySummary:nWindows is also typically a case insensitive filesystem.  This expandsnthe name canonicalization checks that we had for OSX so that we can apply ansimilar check/transformation on Windows.  This is also responsible fornrewriting short file names to long file names.nnMusings: We should only observe short file names through injection from thenwin32 dir watcher.  The name canonicalization executes a call tonFindFirstFile() under the covers, which is relatively expensive.  It would bengreat to avoid this in the common case.  MSDN says that filesystems may havenmechanisms that encode short names in ways that are opaque to applications, sonwe should not assume that 8.3 names containing tilde are the only way that anshort name may be represented.nnWe'll have to see how this performs in practice to see if we should considerntrying to optimize this.nnTest Plan: arc unitnnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D33015n",54.0,10.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,2572.0,156.0,0.01037037037037037,1573.0,97.42857142857143,715.0,None,False,,
4dc13f3cc7242f48735c1da46685a32b594230ad,e485440aa5eea013e59adb0a41d0cccc9dd838f5,Wez Furlong,wez@fb.com,Wed Dec 31 15:00:22 2014 -0800,1420066822,create cookies using our stream layer,4.0,4.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,2616.0,157.0,0.0016666666666666668,1574.0,601.0,716.0,Feature Addition,False,,
e485440aa5eea013e59adb0a41d0cccc9dd838f5,7533cf7e090dd3eade2b97f473c5e26ad14855bf,Wez Furlong,wez@fb.com,Wed Dec 31 15:04:05 2014 -0800,1420067045,use WATCHMAN_DIR_SEP rather than /,8.0,5.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,2616.0,158.0,0.0025810185185185185,1575.0,388.4439461883408,717.0,None,False,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
7533cf7e090dd3eade2b97f473c5e26ad14855bf,2b232c7f28eafd262fddb27028fc97529ddce886,Wez Furlong,wez@fb.com,Wed Jul 29 11:21:33 2015 -0700,1438194093,watchman: windows fixup a few issues* On 64-bit systems we need to handle the long long type in the pythonn  bser implementationn* Address a race condition if a query comes in almost immediately aftern  a watch is establishedn* Fix construction of relative root string on windowsn* Add named pipe client transport support to pywatchmann* Tweak windows build to coexist on a shared drive with a unix buildn* Update make.bat to do the right thing for mennThe python based test suite now passes 100% most of the time (there'sna couple of intermittent issues)nnRefs: https://github.com/facebook/watchman/issues/19n,142.0,43.0,".gitignore,CAS_DELIMITER,cfg.c,CAS_DELIMITER,log.c,CAS_DELIMITER,make.bat,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/depends.js,CAS_DELIMITER,winbuild/posix_spawn.c,CAS_DELIMITER",14.0,6.0,6.0,3.081440004947817,8.0,251.7142857142857,98.0,133.98054315476188,1582.5,1.0013202044736451,36.0,None,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371"", ""26e02f8428d0b149db8c48007e0cf3808560add1"", ""718d41f7e044dbf59609f9edf5cc50e68c42132b"", ""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3"", ""b01da5dc012ce3a45d6c4b658fd07768fe425bed""]"
2b232c7f28eafd262fddb27028fc97529ddce886,c3358521ae5fe6f18161efddb02f5e1ec0817329,Wez Furlong,wez@fb.com,Wed Jul 29 14:53:39 2015 -0700,1438206819,"avoid race in the root cancellation pathWe could tear down the watcher state before one of our backgroundnthreads had finished using it, leading to an intermittent crashn",21.0,4.0,"watcher/win32.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",2.0,2.0,2.0,0.4021791902022729,8.0,318.0,5.0,0.14729166666666665,1590.5,6.091937765205093,37.0,None,False,,
c3358521ae5fe6f18161efddb02f5e1ec0817329,ff2878b691a5a5c52b163702835d7af66cec1c1d,Wez Furlong,wez@fb.com,Wed Jul 29 16:33:53 2015 -0700,1438212833,"windows: add dirname term to build, fix some pathsFixes up some windows path issues.  I believe that the onlyntest failures now are just path expectations in the php tests,nand because we don't currently have pcre support in thenwindows build.nnRef: https://github.com/facebook/watchman/issues/19n",56.0,9.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,query/dirname.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/abort.c,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",9.0,6.0,6.0,2.6454843597823157,8.0,477.77777777777777,233.0,133.75035236625516,1596.0,1.0016887853326133,40.0,None,False,True,"[""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3""]"
ff2878b691a5a5c52b163702835d7af66cec1c1d,478b6abcbec12a411d1ce0acfdcfbe2917529941,Wez Furlong,wez@fb.com,Wed Jul 29 23:44:43 2015 -0700,1438238683,fixup some more tests for Windows.Down to 7 failures all in trigger related testsnnRef: https://github.com/facebook/watchman/issues/19n,58.0,42.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER,tests/integration/dirname.php,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/pathgen.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/size.php,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/suffixgenerator.php,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER,tests/integration/watch-del-all.php,CAS_DELIMITER",14.0,2.0,2.0,3.1813296456699014,8.0,136.92857142857142,114.0,160.61171296296294,1607.5,1.239947079820601,261.0,Corrective,True,True,"[""e876901401663fbed8392eb14bb6eb77e79f4bd5"", ""718d41f7e044dbf59609f9edf5cc50e68c42132b"", ""b085c2184941401bd1bd9e395d7acfdc73c2713f""]"
478b6abcbec12a411d1ce0acfdcfbe2917529941,71a1554acbb890da24c7a33114dbcbf64203de2a,Wez Furlong,wez@fb.com,Thu Jul 30 00:38:47 2015 -0700,1438241927,"windows: add Windows 7 port of GetOverlappedResultExThis probes for GetOverlappedResultEx at runtime; if it is found we'llnuse it.  Otherwise, we fall back to looping and using SleepEx.nnIt is important to trigger the alertable wait state otherwise thenWriteFileEx completion won't get triggered.nnIt is also important to not use set the wait parameter tonGetOverlappedResult because it will block the watchman service andnbreak concurrent clients.nnRefs: https://github.com/facebook/watchman/issues/19n",65.0,1.0,"stream_win.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,623.0,2.0,211.5864351851852,1615.0,1.0047262008981095,724.0,None,False,True,"[""26e02f8428d0b149db8c48007e0cf3808560add1""]"
71a1554acbb890da24c7a33114dbcbf64203de2a,f06bacd8bf660bc6a600202205b0fbf5e605e148,Wez Furlong,wez@fb.com,Thu Jul 30 09:02:31 2015 -0700,1438272151,windows: fix sockname discovery when used outside of the test harnesssubprocess.Popen close_fds is only useful on posix systems and activelynbreaks us on Windowsn,2.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,455.0,9.0,0.903449074074074,1616.0,2.1068692510697176,23.0,None,False,,
f06bacd8bf660bc6a600202205b0fbf5e605e148,7fa279b09bbd1530ca44b11a11984c2d9dcfe8fd,Wez Furlong,wez@fb.com,Thu Jul 30 09:50:44 2015 -0700,1438275044,windows: fixup make.batNeed to call the vs build environment script for things to workncorrectlyn,1.0,4.0,"make.bat,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,8.0,2.0,0.9369328703703704,1617.0,2.0673123247396576,725.0,None,False,,
7fa279b09bbd1530ca44b11a11984c2d9dcfe8fd,de70ca86d29ed031b6ee1641a66648c88b2bd509,Wez Furlong,wez@fb.com,Sat Aug 1 15:42:13 2015 -0700,1438468933,windows: add iopriority support,6.0,0.0,"ioprio.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,8.0,128.0,6.0,1.497390046296296,1618.5,17.474997937086144,41.0,None,False,,
de70ca86d29ed031b6ee1641a66648c88b2bd509,b090cef5b9c8405d31a9ca1366c989b2d4a3c93a,Wez Furlong,wez@fb.com,Sun Aug 2 16:23:34 2015 -0700,1438557814,windows: fixup running tests under the python integration test runnerAlso: remove checks for the string 'fishy' in fishy.php.  Apparentlynwe removed that from the log output some time ago and it was matchingnthe temp file name that now includes the test name :-/n,80.0,63.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanDirectoryFixture.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,make.bat,CAS_DELIMITER,root.c,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/fishy.php,CAS_DELIMITER,tests/integration/match.php,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER,tests/wildmatch_test.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",15.0,4.0,5.0,3.607204144905068,8.0,333.6,305.0,59.43159413580246,1627.0,1.0016271627134228,42.0,None,False,True,"[""d462a5ba2468e3e5cdd628494ae3b68eac4feb34""]"
b090cef5b9c8405d31a9ca1366c989b2d4a3c93a,96c63551b001f462914423c550fc59047819b691,Wez Furlong,wez@fb.com,Wed Aug 5 21:27:20 2015 -0700,1438835240,fixup travis buildNot all versions of PHP support `function_call()[0]`n,7.0,5.0,"arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,147.0,25.0,217.91375,1635.0,1.0045889715541123,160.0,Corrective,True,,
96c63551b001f462914423c550fc59047819b691,357ecaa8090a06d05cc031c59c57644e86f79704,Wez Furlong,wez@fb.com,Wed Aug 5 21:47:06 2015 -0700,1438836426,windows: tidy up version number stuff in the header file,7.0,7.0,"winbuild/config.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,185.0,3.0,7.217511574074074,1636.0,1.1385519080554145,43.0,None,False,,
357ecaa8090a06d05cc031c59c57644e86f79704,b63ec4078a0f3a6c651ee613673e65e4beeffafa,Wez Furlong,wez@fb.com,Wed Aug 5 21:58:50 2015 -0700,1438837130,OS X: speculative fix for build on Mountain Lion,6.0,0.0,"ioprio.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,55.0,2.0,4.261539351851852,1637.0,1.2346569906870508,731.0,None,False,,
b63ec4078a0f3a6c651ee613673e65e4beeffafa,16396899313d7ed34df3aadc350880913bccaa31,Wez Furlong,wez@fb.com,Wed Aug 5 22:31:38 2015 -0700,1438839098,Travis runs PHP 5.3 which doesn't have PHP_BINARYLet's also switch to `make integration` to run the testsn,5.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,8.0,327.0,70.0,31.208865740740734,1638.5,1.079960778670919,36.0,Preventative,False,,
16396899313d7ed34df3aadc350880913bccaa31,897053f5cf55c3eec3c20da5064ef7f0367d089f,Wez Furlong,wez@fb.com,Wed Aug 5 22:47:24 2015 -0700,1438840044,travis: tweak unix socket name length check,3.0,2.0,"tests/integration/WatchmanTapTests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,135.0,5.0,3.2665509259259258,1640.0,1.3061332955390994,270.0,None,False,,
897053f5cf55c3eec3c20da5064ef7f0367d089f,f4ce8cabd10d28121ba6fa0650b3ef96fc00b3cd,Wez Furlong,wez@fb.com,Wed Aug 5 22:57:18 2015 -0700,1438840638,travis: try bumping up the socket name limit a little more,2.0,2.0,"tests/integration/WatchmanTapTests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,136.0,6.0,0.006875,1641.0,146.45454545454547,271.0,None,False,,
f4ce8cabd10d28121ba6fa0650b3ef96fc00b3cd,47bcff69cf64224ba44796f050534a5acd0c8a7b,Wez Furlong,wez@fb.com,Wed Aug 5 23:03:08 2015 -0700,1438840988,travis: force the tmp dir to be shorter in length,3.0,0.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,48.0,23.0,0.021875,1642.0,46.714285714285715,37.0,None,False,,
47bcff69cf64224ba44796f050534a5acd0c8a7b,cbd9875bb155d4c7823d86bd1028d932b5f8898f,Wez Furlong,wez@fb.com,Thu Aug 6 10:20:02 2015 -0700,1438881602,"tests: remove dependency on arcanist and libphutilWe still need PHP for these guys, but removing the arcanist dependencynmeans that we can run tests on appveyor more easilyn",266.0,827.0,"Makefile.am,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanDirectoryFixture.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,arcanist/workflow/cover.php,CAS_DELIMITER,arcanist/workflow/package.php,CAS_DELIMITER,arcanist/workflow/tap.php,CAS_DELIMITER,arcanist/workflow/test.php,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/match.php,CAS_DELIMITER,tests/integration/phprunner,CAS_DELIMITER,tests/integration/remove.php,CAS_DELIMITER,tests/integration/rmroot.php,CAS_DELIMITER,tests/integration/since.php,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/runtests.js,CAS_DELIMITER",19.0,4.0,6.0,3.1789800196792286,8.0,168.26315789473685,233.0,130.84956444931774,1652.0,1.0153928290321417,45.0,Preventative,False,,
cbd9875bb155d4c7823d86bd1028d932b5f8898f,fc91fdcacdde6a60e450dcb5f4d03e2be1044f1a,Wez Furlong,wez@fb.com,Thu Aug 6 10:23:20 2015 -0700,1438881800,Mountain Lion: don't try to set io priority,1.0,7.0,"ioprio.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,61.0,3.0,0.5170138888888889,1662.0,2.9341840161182002,733.0,None,False,,
fc91fdcacdde6a60e450dcb5f4d03e2be1044f1a,8dc93c0b2118293e2bcb73c3ac4582106e383bcc,Wez Furlong,wez@fb.com,Thu Aug 6 11:10:25 2015 -0700,1438884625,tests: make sure plan is initialized,3.0,1.0,"tests/integration/WatchmanTapTests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,135.0,8.0,0.034988425925925916,1663.0,29.580879920608677,280.0,Preventative,False,,
8dc93c0b2118293e2bcb73c3ac4582106e383bcc,3e7d647d2f977d6f412010496ea34e68b2df66ac,Wez Furlong,wez@fb.com,Thu Aug 6 21:48:29 2015 -0700,1438922909,100% of tests now pass on windowsRefs: https://github.com/facebook/watchman/issues/19n,147.0,85.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/find.php,CAS_DELIMITER,tests/integration/phprunner,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER,winbuild/posix_spawn.c,CAS_DELIMITER",12.0,5.0,5.0,2.853541680192184,8.0,312.8333333333333,230.0,75.76953028549384,1669.5,1.1759679869340829,46.0,Preventative,False,True,"[""e1c85c3aceaf9bf189f37bc5a718a6b2037e7371""]"
3e7d647d2f977d6f412010496ea34e68b2df66ac,de1ca88bbef3052d716f6ef61c4d6ce83e2e7b18,Kris Wilson,kwilson@twitter.com,Thu Aug 6 17:38:54 2015 -0700,1438907934,Pypi publishing support for watchman/python,38.0,6.0,"python/publish-pypi.sh,CAS_DELIMITER,python/setup.py,CAS_DELIMITER",2.0,1.0,1.0,0.9985090989176322,6.0,11.0,1.0,223.59300347222225,0.5,0.5011181029643937,1.0,None,False,,
de1ca88bbef3052d716f6ef61c4d6ce83e2e7b18,0a3ce9487100ab0c084a28a1c86d640862753234,Wez Furlong,wez@fb.com,Thu Aug 6 22:59:23 2015 -0700,1438927163,couple of minor test tweaks,6.0,3.0,"runtests.py,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",2.0,2.0,2.0,0.9910760598382222,8.0,306.0,35.0,2.162054398148148,1676.5,1.2325933107538352,289.0,Preventative,False,,
0a3ce9487100ab0c084a28a1c86d640862753234,c025acb8604eb44e02a66672990de70c26ecf5f2,Wez Furlong,wez@fb.com,Thu Aug 6 23:25:30 2015 -0700,1438928730,Ensure watchman is built when `make integration` is runRemove section about `arc` from the contributing docs.n,21.0,32.0,"Makefile.am,CAS_DELIMITER,docs/contributing.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.2318130500245902,8.0,125.5,60.0,28.52567708333333,1678.5,1.92541655466012,128.0,Non Functional,False,,
c025acb8604eb44e02a66672990de70c26ecf5f2,c279b909e5ae92d24442161f1cebaf0e502c7ddd,Wez Furlong,wez@fb.com,Thu Aug 6 23:46:40 2015 -0700,1438930000,Bump pywatchman to 1.0.0 and expand release notes,28.0,1.0,".gitignore,CAS_DELIMITER,docs/contributing.markdown,CAS_DELIMITER,docs/release-notes.markdown,CAS_DELIMITER,python/setup.py,CAS_DELIMITER",4.0,3.0,3.0,1.3390774650522597,9.0,52.0,38.0,2.5848871527777773,1681.5,1.1076228765811236,24.0,None,False,,
c279b909e5ae92d24442161f1cebaf0e502c7ddd,6f6322b35444e148c289d7f3f2496bbe938ae2d0,Wez Furlong,wez@fb.com,Fri Aug 7 00:10:26 2015 -0700,1438931426,add appveyor CI configuration for windows,12.0,0.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1684.0,0.0,738.0,Feature Addition,False,,
6f6322b35444e148c289d7f3f2496bbe938ae2d0,65d34c7b723d06339995c625bd7809d95ab67849,Wez Furlong,wez@fb.com,Fri Aug 7 00:30:24 2015 -0700,1438932624,Add Appveyor badge to readme[skip ci]n,4.0,0.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,23.0,60.0,445.4828703703704,1685.0,1.002244755222953,739.0,Feature Addition,False,,
65d34c7b723d06339995c625bd7809d95ab67849,d408813d342c4babb1e33003d04c1c88b3c83095,Kevin Sawicki,kevin@github.com,Fri Aug 7 07:50:23 2015 -0700,1438959023,Add js name to fenced code blocksAllows them to be syntax highlighted in various placesnnRefs: https://github.com/facebook/watchman/pull/128n,5.0,5.0,"node/README.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,320.0,3.0,123.51145833333334,0.0,0.0,0.0,Feature Addition,False,,
d408813d342c4babb1e33003d04c1c88b3c83095,3f52401d60a9916e344edfc84e4a8548ed0dea21,Wez Furlong,wez@fb.com,Fri Aug 7 13:03:16 2015 -0700,1438977796,Fix favicon in website,3.0,2.0,".gitattributes,CAS_DELIMITER,website/core/Site.js,CAS_DELIMITER,website/server/server.js,CAS_DELIMITER,website/src/watchman/img/favicon.png,CAS_DELIMITER",4.0,2.0,4.0,1.521928094887362,6.0,30.5,3.0,77.69413483796295,1687.5,1.0036814555454587,22.0,Corrective,True,,
3f52401d60a9916e344edfc84e4a8548ed0dea21,7d53041aa5179a8c7ed9c0ee04f2edee4895e796,Wez Furlong,wez@fb.com,Fri Aug 7 13:10:20 2015 -0700,1438978220,"Re-did the AppVeyor project, update link",1.0,2.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,5.0,27.0,61.0,0.5277314814814815,1690.0,2.8949030616720766,741.0,None,False,,
7d53041aa5179a8c7ed9c0ee04f2edee4895e796,ee815b3ca4c323d21a4a156578ec8e005615f727,Wez Furlong,wez@fb.com,Fri Aug 7 13:15:29 2015 -0700,1438978529,Tweak appveyor yaml,16.0,8.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,12.0,1.0,0.5451736111111111,1691.0,2.8342780714604165,742.0,None,False,,
ee815b3ca4c323d21a4a156578ec8e005615f727,8fafee5e404b273bf401bbc2121d58808fcdc9a7,Wez Furlong,wez@fb.com,Fri Aug 7 14:10:02 2015 -0700,1438981802,"try new container stuff in travisIt builds in about 40 seconds on Linux, not bad :-)n",15.0,74.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,1.5341832969998714,8.0,45.66666666666666,55.0,148.76667824074073,1693.0,1.0023565277852908,39.0,Feature Addition,False,,
8fafee5e404b273bf401bbc2121d58808fcdc9a7,e1c85c3aceaf9bf189f37bc5a718a6b2037e7371,Wez Furlong,wez@fb.com,Fri Aug 7 20:29:25 2015 -0700,1439004565,"add nodejs tests to python harness, fix various win issuesAdded a basic nodejs client test.nnFix up a number of issues that manifest on Windows:nn* Use Vista API to limit handle inheritance.  This avoidsn  leaking handles from the node or python clients in the casen  where the watchman CLI needs to spawn the service.  Thisn  would result in a hang when the parent process waits forn  the pipe handles to close.nn* Ensure that we shutdown and flush out buffers that we wantn  to send to the client.  Added a shutdown function to then  stream API for this.  On Windows, since we manage asyncn  IO buffers, we're responsible for making sure that theyn  get sent to the client before we close the pipe.  This isn  important because some rapid client connect/query/closen  requests could cause us to snip the connection in responsen  to the read end going away before we've sent the response.nn* Loop around cookie sync timedwait in case of spurious wakeupnn* Avoid leaking references to the root in a couple of errorn  code paths.nn* Add --keep-if-fail option to test harness, useful for doing:n  `while ./runtests.py --concurrency=12 --keep-if-fail ; do echo ; done`nn* When connecting to a named pipe, ensure that we recomputen  the timeout on retries, to avoid infinite waitnn* More safely deal with the condition signalling in the win32n  watcher; there was a bug where the root could be cancelledn  before our initial ReadDirectoryChangesW call was issuedn  and we'd terminate the loop and add another lock to state->mtx.n  This would break the condition variable and leave the notifyn  thread waiting on a condidtion that would never be fulfilled.n  This in turn caused shutdown to hang.nn* Fixup up posix_file_actions in the win32 posix_spawn implementation.n  We now track the operations in the order they were added and thatn  allows us to properly dup and manage the descriptors we sendn  to the child.n",411.0,185.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,node/index.js,CAS_DELIMITER,root.c,CAS_DELIMITER,runtests.py,CAS_DELIMITER,stream.c,CAS_DELIMITER,stream_stdout.c,CAS_DELIMITER,stream_unix.c,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,tests/integration/NodeTests.py,CAS_DELIMITER,tests/integration/node_basic.js,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/errmap.c,CAS_DELIMITER,winbuild/posix_spawn.c,CAS_DELIMITER,winbuild/pthread.c,CAS_DELIMITER,winbuild/spawn.h,CAS_DELIMITER",20.0,5.0,5.0,3.1978499209011715,8.0,479.75,469.0,102.94762847222219,1704.5,1.054384223534958,52.0,Corrective,True,True,"[""126650c204e4a34108d5e452a7077eb1d3196c7a"", ""58d2349b33a4a0883add4d8cf766aeda684036e5"", ""36ca8cd2f48f1911eba40bdb3365e896b1506ee1"", ""1b2c278937019db8809a8424884520a563937cfa""]"
e1c85c3aceaf9bf189f37bc5a718a6b2037e7371,aad6860f90fdc1a7bfeb148ecc37398351338584,Kris Wilson,kwilson@twitter.com,Fri Aug 7 19:21:18 2015 -0700,1439000478,Add missing self referencesRefs: https://github.com/facebook/watchman/pull/130n,2.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,456.0,10.0,8.429710648148149,2.0,1.1186280338364498,2.0,Feature Addition,False,,
aad6860f90fdc1a7bfeb148ecc37398351338584,ff47f8e3a5c17193514c8c748cefbe272422d0f6,Wez Furlong,wez@fb.com,Sat Aug 8 10:11:57 2015 -0700,1439053917,travis: npm install node fb-watchman deps[skip appveyor]n,6.0,0.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,26.0,25.0,0.8346643518518518,1715.0,2.1980863897940788,40.0,None,False,,
ff47f8e3a5c17193514c8c748cefbe272422d0f6,340b369373b03b950c93eaf14d03de3c115ece56,Wez Furlong,wez@fb.com,Sat Aug 8 10:18:16 2015 -0700,1439054296,appveyor tweaksPython 2 is already installed.nNode is already installed too.nRun npm install to pull in our deps.n,2.0,1.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,20.0,2.0,0.8769328703703704,1716.0,2.1403381419351435,754.0,None,False,,
340b369373b03b950c93eaf14d03de3c115ece56,c0bc252eb0e6f1a566e4adc189044edb87bf668f,Wez Furlong,wez@fb.com,Sat Aug 8 10:22:38 2015 -0700,1439054558,bump pypi package to pull in missing self paramshttps://github.com/facebook/watchman/pull/130n,1.0,1.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,31.0,3.0,1.4416435185185186,1717.0,1.6936527561457313,25.0,None,False,,
c0bc252eb0e6f1a566e4adc189044edb87bf668f,d9e6bf1dc0565c0b2f394d34034ed665aaada66b,Wez Furlong,wez@fb.com,Sat Aug 8 11:59:50 2015 -0700,1439060390,appveyor: include pdb info in the generated artifacts,10.0,2.0,"appveyor.yml,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",2.0,2.0,2.0,0.9798687566511528,8.0,115.0,12.0,0.3583275462962963,1718.5,8.786625627063843,53.0,None,False,,
d9e6bf1dc0565c0b2f394d34034ed665aaada66b,7b5209bd4966f8fbc8da1035602dd348ef193d6b,Wez Furlong,wez@fb.com,Sat Aug 8 12:19:36 2015 -0700,1439061576,appveyor: include readme and license in the zip file,2.0,0.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,214.0,10.0,0.013726851851851851,1720.0,73.84991568296795,54.0,None,False,,
7b5209bd4966f8fbc8da1035602dd348ef193d6b,31b9ef5f753b589bfd4178bc5434ef877d8980c2,Wez Furlong,wez@fb.com,Sat Aug 8 15:37:19 2015 -0700,1439073439,Allow -j option to consume BSER from CLI stdinSummary: as above.nnTest Plan: `make integration`nnRefs: https://github.com/facebook/watchman/issues/80n,136.0,30.0,"configure.ac,CAS_DELIMITER,docs/cli-options.markdown,CAS_DELIMITER,docs/release-notes.markdown,CAS_DELIMITER,main.c,CAS_DELIMITER,stream_stdout.c,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",8.0,4.0,4.0,2.027601830896949,9.0,190.875,151.0,8.660850694444445,1724.5,1.0350915664735658,55.0,None,False,True,"[""088fc65c3238ed30ccb7d212bd49227ff2020813""]"
31b9ef5f753b589bfd4178bc5434ef877d8980c2,d2070cd0b2cb492f9b5d8ab04a18e0544b7efd85,Wez Furlong,wez@fb.com,Wed Aug 12 20:24:05 2015 -0700,1439436245,"Log when we're done crawling + couple of tweaksThis will help us figure out of the iopriority adjustment stuffnis too aggressive on osx.nnAlso fix up an error case where we may not delref the root,nand find another spot where we should use the configuredntroubleshooting URLn",4.0,4.0,"root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,8.0,1552.0,169.0,115.32625578703704,1729.5,1.102241892069204,18.0,Corrective,True,,
d2070cd0b2cb492f9b5d8ab04a18e0544b7efd85,088fc65c3238ed30ccb7d212bd49227ff2020813,Wez Furlong,wez@fb.com,Thu Aug 13 17:03:29 2015 -0700,1439510609,Fix `watchman -j <<< '[version]'`The BSER change broke `-j` option in the case where there is nontrailing newline.n,18.0,2.0,"json.c,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER",2.0,2.0,2.0,0.934068055375491,9.0,281.0,11.0,115.12866319444444,1731.5,1.0043917569948682,293.0,Corrective,True,True,"[""f606a2a3fee971ce79bd73461cd46400cb55dd1d""]"
088fc65c3238ed30ccb7d212bd49227ff2020813,fc67541ffba6e70b1fc21409c4fd84aaa930aa0b,Wez Furlong,wez@fb.com,Thu Aug 13 17:04:40 2015 -0700,1439510680,Fix DOOR type on solaris,1.0,1.0,"query/type.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,67.0,3.0,459.3372685185185,1733.0,1.0021770495636575,70.0,Corrective,True,,
fc67541ffba6e70b1fc21409c4fd84aaa930aa0b,a607716a2fa68b76c0aed9ee0f9f7dde1dac023b,Wez Furlong,wez@fb.com,Thu Aug 13 17:36:57 2015 -0700,1439512617,Really fix -jNeed to clear errno to ensure that we can interpret it correctlyn,1.0,0.0,"json.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,509.0,11.0,0.023240740740740742,1734.0,44.02788844621514,762.0,Corrective,True,,
a607716a2fa68b76c0aed9ee0f9f7dde1dac023b,d9aa7218c1d8d227c8f4da96234c1cb505aee286,Wez Furlong,wez@fb.com,Sat Aug 15 12:40:45 2015 -0700,1439667645,"Restyle website, move doc build to jekyllMany thanks to @matthewjohnston4n",5789.0,5437.0,".gitignore,CAS_DELIMITER,docs/BSER.markdown,CAS_DELIMITER,docs/casefolding.markdown,CAS_DELIMITER,docs/cli-options.markdown,CAS_DELIMITER,docs/clockspec.markdown,CAS_DELIMITER,docs/cmd.clock.markdown,CAS_DELIMITER,docs/cmd.find.markdown,CAS_DELIMITER,docs/cmd.get-config.markdown,CAS_DELIMITER,docs/cmd.get-sockname.markdown,CAS_DELIMITER,docs/cmd.log-level.markdown,CAS_DELIMITER,docs/cmd.log.markdown,CAS_DELIMITER,docs/cmd.query.markdown,CAS_DELIMITER,docs/cmd.shutdown-server.markdown,CAS_DELIMITER,docs/cmd.since.markdown,CAS_DELIMITER,docs/cmd.subscribe.markdown,CAS_DELIMITER,docs/cmd.trigger-del.markdown,CAS_DELIMITER,docs/cmd.trigger-list.markdown,CAS_DELIMITER,docs/cmd.trigger.markdown,CAS_DELIMITER,docs/cmd.unsubscribe.markdown,CAS_DELIMITER,docs/cmd.version.markdown,CAS_DELIMITER,docs/cmd.watch-del-all.markdown,CAS_DELIMITER,docs/cmd.watch-del.markdown,CAS_DELIMITER,docs/cmd.watch-list.markdown,CAS_DELIMITER,docs/cmd.watch-project.markdown,CAS_DELIMITER,docs/cmd.watch.markdown,CAS_DELIMITER,docs/compatibility.markdown,CAS_DELIMITER,docs/configuration.markdown,CAS_DELIMITER,docs/contributing.markdown,CAS_DELIMITER,docs/cookies.markdown,CAS_DELIMITER,docs/expr.allof.md,CAS_DELIMITER,docs/expr.anyof.md,CAS_DELIMITER,docs/expr.dirname.md,CAS_DELIMITER,docs/expr.empty.md,CAS_DELIMITER,docs/expr.exists.md,CAS_DELIMITER,docs/expr.false.md,CAS_DELIMITER,docs/expr.match.md,CAS_DELIMITER,docs/expr.name.md,CAS_DELIMITER,docs/expr.not.md,CAS_DELIMITER,docs/expr.pcre.md,CAS_DELIMITER,docs/expr.since.md,CAS_DELIMITER,docs/expr.size.md,CAS_DELIMITER,docs/expr.suffix.md,CAS_DELIMITER,docs/expr.true.md,CAS_DELIMITER,docs/expr.type.md,CAS_DELIMITER,docs/file-query.md,CAS_DELIMITER,docs/index.markdown,CAS_DELIMITER,docs/install.markdown,CAS_DELIMITER,docs/navigation.json,CAS_DELIMITER,docs/release-notes.markdown,CAS_DELIMITER,docs/sidebar.json,CAS_DELIMITER,docs/simple-query.md,CAS_DELIMITER,docs/socket-interface.markdown,CAS_DELIMITER,docs/support.markdown,CAS_DELIMITER,docs/troubleshooting.markdown,CAS_DELIMITER,website/Gemfile,CAS_DELIMITER,website/README.md,CAS_DELIMITER,website/_config.yml,CAS_DELIMITER,website/_data/authors.yml,CAS_DELIMITER,website/_data/features.yml,CAS_DELIMITER,website/_data/nav.yml,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_data/promo.yml,CAS_DELIMITER,website/_docs/BSER.markdown,CAS_DELIMITER,website/_docs/casefolding.markdown,CAS_DELIMITER,website/_docs/cli-options.markdown,CAS_DELIMITER,website/_docs/clockspec.markdown,CAS_DELIMITER,website/_docs/cmd.clock.markdown,CAS_DELIMITER,website/_docs/cmd.find.markdown,CAS_DELIMITER,website/_docs/cmd.get-config.markdown,CAS_DELIMITER,website/_docs/cmd.get-sockname.markdown,CAS_DELIMITER,website/_docs/cmd.log-level.markdown,CAS_DELIMITER,website/_docs/cmd.log.markdown,CAS_DELIMITER,website/_docs/cmd.query.markdown,CAS_DELIMITER,website/_docs/cmd.shutdown-server.markdown,CAS_DELIMITER,website/_docs/cmd.since.markdown,CAS_DELIMITER,website/_docs/cmd.subscribe.markdown,CAS_DELIMITER,website/_docs/cmd.trigger-del.markdown,CAS_DELIMITER,website/_docs/cmd.trigger-list.markdown,CAS_DELIMITER,website/_docs/cmd.trigger.markdown,CAS_DELIMITER,website/_docs/cmd.unsubscribe.markdown,CAS_DELIMITER,website/_docs/cmd.version.markdown,CAS_DELIMITER,website/_docs/cmd.watch-del-all.markdown,CAS_DELIMITER,website/_docs/cmd.watch-del.markdown,CAS_DELIMITER,website/_docs/cmd.watch-list.markdown,CAS_DELIMITER,website/_docs/cmd.watch-project.markdown,CAS_DELIMITER,website/_docs/cmd.watch.markdown,CAS_DELIMITER,website/_docs/compatibility.markdown,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER,website/_docs/contributing.markdown,CAS_DELIMITER,website/_docs/cookies.markdown,CAS_DELIMITER,website/_docs/expr.allof.md,CAS_DELIMITER,website/_docs/expr.anyof.md,CAS_DELIMITER,website/_docs/expr.dirname.md,CAS_DELIMITER,website/_docs/expr.empty.md,CAS_DELIMITER,website/_docs/expr.exists.md,CAS_DELIMITER,website/_docs/expr.false.md,CAS_DELIMITER,website/_docs/expr.match.md,CAS_DELIMITER,website/_docs/expr.name.md,CAS_DELIMITER,website/_docs/expr.not.md,CAS_DELIMITER,website/_docs/expr.pcre.md,CAS_DELIMITER,website/_docs/expr.since.md,CAS_DELIMITER,website/_docs/expr.size.md,CAS_DELIMITER,website/_docs/expr.suffix.md,CAS_DELIMITER,website/_docs/expr.true.md,CAS_DELIMITER,website/_docs/expr.type.md,CAS_DELIMITER,website/_docs/file-query.md,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER,website/_docs/simple-query.md,CAS_DELIMITER,website/_docs/socket-interface.markdown,CAS_DELIMITER,website/_docs/troubleshooting.markdown,CAS_DELIMITER,website/_includes/anchor_links.html,CAS_DELIMITER,website/_includes/blog_pagination.html,CAS_DELIMITER,website/_includes/content/gridblocks.html,CAS_DELIMITER,website/_includes/content/items/gridblock.html,CAS_DELIMITER,website/_includes/doc.html,CAS_DELIMITER,website/_includes/doc_paging.html,CAS_DELIMITER,website/_includes/footer.html,CAS_DELIMITER,website/_includes/head.html,CAS_DELIMITER,website/_includes/header.html,CAS_DELIMITER,website/_includes/hero.html,CAS_DELIMITER,website/_includes/katex_import.html,CAS_DELIMITER,website/_includes/katex_render.html,CAS_DELIMITER,website/_includes/nav.html,CAS_DELIMITER,website/_includes/nav_blog.html,CAS_DELIMITER,website/_includes/nav_docs.html,CAS_DELIMITER,website/_includes/plugins/all_share.html,CAS_DELIMITER,website/_includes/plugins/ascii_cinema.html,CAS_DELIMITER,website/_includes/plugins/button.html,CAS_DELIMITER,website/_includes/plugins/fb_pagelike.html,CAS_DELIMITER,website/_includes/plugins/github_star.html,CAS_DELIMITER,website/_includes/plugins/github_watch.html,CAS_DELIMITER,website/_includes/plugins/google_share.html,CAS_DELIMITER,website/_includes/plugins/group_join.html,CAS_DELIMITER,website/_includes/plugins/like_button.html,CAS_DELIMITER,website/_includes/plugins/post_social_plugins.html,CAS_DELIMITER,website/_includes/plugins/slideshow.html,CAS_DELIMITER,website/_includes/plugins/twitter_follow.html,CAS_DELIMITER,website/_includes/plugins/twitter_share.html,CAS_DELIMITER,website/_includes/post.html,CAS_DELIMITER,website/_includes/social_plugins.html,CAS_DELIMITER,website/_includes/ui/button.html,CAS_DELIMITER,website/_layouts/blog.html,CAS_DELIMITER,website/_layouts/default.html,CAS_DELIMITER,website/_layouts/doc_page.html,CAS_DELIMITER,website/_layouts/docs.html,CAS_DELIMITER,website/_layouts/home.html,CAS_DELIMITER,website/_layouts/page.html,CAS_DELIMITER,website/_layouts/plain.html,CAS_DELIMITER,website/_layouts/post.html,CAS_DELIMITER,website/_layouts/redirect.html,CAS_DELIMITER,website/_layouts/support.html,CAS_DELIMITER,website/_sass/_base.scss,CAS_DELIMITER,website/_sass/_reset.scss,CAS_DELIMITER,website/_sass/_slideshow.scss,CAS_DELIMITER,website/_sass/_syntax-highlighting.scss,CAS_DELIMITER,website/blog/all.html,CAS_DELIMITER,website/blog/index.html,CAS_DELIMITER,website/core/DocsSidebar.js,CAS_DELIMITER,website/core/H2.js,CAS_DELIMITER,website/core/Header.js,CAS_DELIMITER,website/core/HeaderLinks.js,CAS_DELIMITER,website/core/Marked.js,CAS_DELIMITER,website/core/Prism.js,CAS_DELIMITER,website/core/Site.js,CAS_DELIMITER,website/core/center.js,CAS_DELIMITER,website/core/unindent.js,CAS_DELIMITER,website/css/main.scss,CAS_DELIMITER,website/feed.xml,CAS_DELIMITER,website/index.markdown,CAS_DELIMITER,website/layout/DocsLayout.js,CAS_DELIMITER,website/layout/IndexLayout.js,CAS_DELIMITER,website/layout/PageLayout.js,CAS_DELIMITER,website/package.json,CAS_DELIMITER,website/publish.sh,CAS_DELIMITER,website/server/convert.js,CAS_DELIMITER,website/server/generate.js,CAS_DELIMITER,website/server/server.js,CAS_DELIMITER,website/static/favicon.png,CAS_DELIMITER,website/static/logo.png,CAS_DELIMITER,website/static/og_image.png,CAS_DELIMITER,website/static/oss_logo.png,CAS_DELIMITER,website/static/pygments.css,CAS_DELIMITER,website/support.markdown,CAS_DELIMITER",184.0,3.0,18.0,6.35132358334754,9.0,30.05978260869565,201.0,60.10974864130432,1826.5,1.0007894953959575,152.0,Non Functional,False,,
d9aa7218c1d8d227c8f4da96234c1cb505aee286,0ddfbed20f22754a42da2fbe1443b9d27b88f6c0,Wez Furlong,wez@fb.com,Sat Aug 15 13:57:47 2015 -0700,1439672267,fixup some URLs for the docs,3.0,3.0,"website/_includes/anchor_links.html,CAS_DELIMITER,website/_includes/head.html,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,9.0,31.0,2.0,0.05349537037037037,1919.5,15.019904803115535,154.0,Corrective,True,,
0ddfbed20f22754a42da2fbe1443b9d27b88f6c0,0fdbb1ede899e3f3b85f57141e1262618e583bd8,Wez Furlong,wez@fb.com,Sat Aug 15 14:04:17 2015 -0700,1439672657,"add capability checking to version commandSummary:nto make it easier for clients to optionally take advantage of newnfeatures, this diff introduces the concept of capability names.nnWe add an optional second parameter to the `version` command that allows thenclient to specify a list of optional and/or a list of required capabilitynnames.  It is desirable to piggy back this on a version number check to allownjust one request/response round-trip to be issued to determine versionncompatibility.  Thankfully, the version command from older servers doesn'tnperform any rigorous checks on the number of parameters, so the extendedncapabilities argument will be silently ignored.nnThe `version` command response will include a `capabilities` hash keyed by thenrequested capability names with boolean values set to indicate whether thenserver supports the named capability.nnIf a capability name is listed in the required set and the server does notnsupport it, an error response is returned.nnThe python and node clients are extended to add a `capabilityCheck` method.nThe implementation adds some simple support for use against a server that doesnnot support capabilities; for a handful of capability names we know whichnversions introduced them.  This allows clients to transition to usingncapabilities before all servers have been upgraded.nnRefs: https://github.com/facebook/watchman/issues/116nnTest Plan: `make integration`nnReviewers: amasad, sid0nnReviewed By: sid0nnSubscribers: stefanpennernnDifferential Revision: https://reviews.facebook.net/D43935n",657.0,15.0,"cmds/info.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,node/index.js,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/capabilities.py,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/capabilities.js,CAS_DELIMITER,tests/integration/test_capabilities.py,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/capabilities.markdown,CAS_DELIMITER,website/_docs/cmd.list-capabilities.markdown,CAS_DELIMITER,website/_docs/cmd.version.markdown,CAS_DELIMITER,website/_docs/compatibility.markdown,CAS_DELIMITER,website/_docs/expr.match.md,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",18.0,7.0,8.0,3.608025828380308,9.0,119.22222222222223,89.0,67.73916923868313,1929.5,1.0011813586883394,161.0,Feature Addition,False,True,"[""442744369ce071f3774d2f9209101b7304f62235"", ""26e02f8428d0b149db8c48007e0cf3808560add1"", ""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
0fdbb1ede899e3f3b85f57141e1262618e583bd8,1e9d5cb949700100e39614f9253e133f9092b136,Kris Wilson,kwilson@twitter.com,Thu Aug 13 14:07:25 2015 -0700,1439500045,Create a specialized exception for socket.timeout exceptions,12.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,472.0,12.0,-1.997824074074074,3.0,0.4994554260422218,3.0,Feature Addition,False,,
1e9d5cb949700100e39614f9253e133f9092b136,7c7136f95133bb2124a598e91d1e710cdd05a7a6,Kris Wilson,kwilson@twitter.com,Thu Aug 13 17:58:34 2015 -0700,1439513914,Add unit test,10.0,1.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,85.0,2.0,11.138414351851852,4.0,1.0897793858632796,4.0,Feature Addition,False,,
7c7136f95133bb2124a598e91d1e710cdd05a7a6,f325fbc819f6111867f268a03dcc912d90b05595,Wez Furlong,wez@fb.com,Sat Aug 15 15:30:51 2015 -0700,1439677851,"Fix compilation on snow leopardThis will cause us to use kqueue instead.  That still passes thentest suite, so it should be fine.n",6.0,1.0,"ioprio.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,8.0,500.0,117.0,8.503107638888887,1939.5,1.0836688953818494,766.0,Corrective,True,,
f325fbc819f6111867f268a03dcc912d90b05595,44b2df0a5287f8105f6e7e4970436b210ef39779,Wez Furlong,wez@fb.com,Sat Aug 15 17:37:48 2015 -0700,1439685468,Fix build issue on snow leopardRefs: https://github.com/facebook/watchman/issues/133n,9.0,7.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,1072.0,101.0,7.880821759259257,1941.0,1.126890320647728,767.0,Corrective,True,,
44b2df0a5287f8105f6e7e4970436b210ef39779,18863baf026d0a40cca936ff01b9f656ee8d3596,Wez Furlong,wez@fb.com,Sat Aug 15 18:07:14 2015 -0700,1439687234,Add OS X system limit tuning information back in for folks on 10.6Refs: https://github.com/facebook/watchman/issues/133n,27.0,1.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,149.0,1.0,0.22672453703703704,1942.0,5.410638623717391,162.0,Feature Addition,False,,
18863baf026d0a40cca936ff01b9f656ee8d3596,684a26831ea0ae64e2f99ee15b4f9b9032607599,Wez Furlong,wez@fb.com,Sat Aug 15 20:53:45 2015 -0700,1439697225,"Update nodejs module and docs, bump to version 1.3.0Fixed a bug when talking to watchman 3.7 and emulating the capabilitiesnresponse.n",389.0,326.0,"node/README.md,CAS_DELIMITER,node/example.js,CAS_DELIMITER,node/index.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/cmd.version.markdown,CAS_DELIMITER,website/_docs/nodejs.markdown,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",8.0,2.0,3.0,1.4134441227431485,9.0,135.875,23.0,22.123250868055557,1946.5,1.0199457712031128,166.0,Corrective,True,,
684a26831ea0ae64e2f99ee15b4f9b9032607599,daa5f34f5076c82e73bb3c1be5f315a94e8d8b3d,Wez Furlong,wez@fb.com,Sat Aug 15 22:38:19 2015 -0700,1439703499,fix website speling,3.0,3.0,"website/_docs/nodejs.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,363.0,1.0,0.07261574074074073,1951.0,14.7711189034109,167.0,Corrective,True,,
daa5f34f5076c82e73bb3c1be5f315a94e8d8b3d,b303e13cd622dc173c37c8d2a191a0042a022a8d,Wez Furlong,wez@fb.com,Sat Aug 15 22:41:30 2015 -0700,1439703690,Bump pywatchman to 1.2,7.0,1.0,"python/setup.py,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,9.0,56.0,7.0,3.7939641203703705,1952.5,1.1324445480885956,168.0,None,False,,
b303e13cd622dc173c37c8d2a191a0042a022a8d,22f16ad3353616b4ef964cf141fb98b6f344d39c,Wez Furlong,wez@fb.com,Sun Aug 16 08:43:11 2015 -0700,1439739791,website: fixup some js and css issuesNoticed that the side was blocked waiting for assets to load on my ipad.nMake a pass through and force the webfonts and highlighting stuff tonload async.nnEnsure that our react stuff only tries to render after we've loadednthe react js library.nnBreak out of the nav for loop as soon as we've found a match (cuts buildntime in half!)n,36.0,21.0,"website/_includes/anchor_links.html,CAS_DELIMITER,website/_includes/footer.html,CAS_DELIMITER,website/_includes/head.html,CAS_DELIMITER,website/_includes/nav.html,CAS_DELIMITER,website/_includes/nav_docs.html,CAS_DELIMITER",5.0,1.0,1.0,2.032954933763224,9.0,56.2,7.0,0.813625,1956.0,1.5740521028041967,173.0,None,False,,
22f16ad3353616b4ef964cf141fb98b6f344d39c,126650c204e4a34108d5e452a7077eb1d3196c7a,Wez Furlong,wez@fb.com,Sun Aug 16 10:00:48 2015 -0700,1439744448,speculative fix for https://github.com/facebook/watchman/issues/134,1.0,3.0,"node/index.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER",2.0,1.0,1.0,1.0,9.0,165.0,12.0,0.5465625,1959.5,2.37221269296741,26.0,Corrective,True,,
126650c204e4a34108d5e452a7077eb1d3196c7a,39a1a64760c21c7a2efcea27949e8ca4bb92f9b4,Wez Furlong,wez@fb.com,Sun Aug 16 12:28:27 2015 -0700,1439753307,"node fb-watchman: update to 1.5.0This performs more rigorous checks and error handling around spawning.nPreviously we could fail to catch some classes of spawn failure.nnWe now try harder, and try to interpret and give useful advice inna couple of cases.nnWe also suppress multiple 'error' events beyond the first duringnspawning, as the first one is typically the most useful.nnAlso: we always log a spawn error, as some clients in common usendon't expose these errors and that makes it difficult for thenend user to understand what is going wrong.n",37.0,9.0,"node/index.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER",2.0,1.0,1.0,0.2580186686648155,9.0,164.0,14.0,0.10253472222222222,1961.5,8.31459532678632,28.0,None,False,,
39a1a64760c21c7a2efcea27949e8ca4bb92f9b4,325ce2e17490c47534fec274fea25524a6ca8804,Wez Furlong,wez@fb.com,Mon Aug 17 07:41:09 2015 -0700,1439822469,docs: fix anchors within pages,1.0,6.0,"website/_includes/anchor_links.html,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,36.0,3.0,0.9569212962962964,1963.0,2.0450180217228286,174.0,Non Functional,False,,
325ce2e17490c47534fec274fea25524a6ca8804,a3fb59fc0850730a5bf0ba2eaf7f79c81089e7c0,Wez Furlong,wez@fb.com,Mon Aug 17 19:50:03 2015 -0700,1439866203,"Improve handling of permission issuesSummary:nWe do this by:nn* Adding a general `warning` field to the root that can be used ton  capture the last warning observed.  This is separate from then  specialized recrawl warning field.n* Augmenting the warning output to tell the user how to clear itn* Proactively checking for permission problems on the root at watch timen* Rather than bailing when we hit an opendir error for unknown errnon  reasons, we now add a warning and then mark it deleted.nnRefs: https://github.com/facebook/watchman/issues/135nnTest Plan: integration tests providednnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D44709n",120.0,24.0,"cmds/watch.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,3.0,3.0,1.7575974843310116,8.0,1001.0,391.0,5.676886574074073,1966.0,1.0421835787434155,770.0,None,False,True,"[""b931559d254b9a6f75dcad4a4a382941b136f932""]"
a3fb59fc0850730a5bf0ba2eaf7f79c81089e7c0,27b66793d44b36b3e6c56becb9217d9ac55491fc,Wez Furlong,wez@fb.com,Tue Aug 18 07:36:01 2015 -0700,1439908561,disable io throttling on OS XIt's too aggressive and makes crawling take too long on large reposn,3.0,0.0,"ioprio.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,56.0,5.0,2.6702546296296297,1969.0,1.3744961206709725,771.0,None,False,,
27b66793d44b36b3e6c56becb9217d9ac55491fc,605118f5ef3b49629574db589db6178ba56832aa,Wez Furlong,wez@fb.com,Tue Aug 18 08:09:14 2015 -0700,1439910554,"more intelligent backoff during shutdownAt shutdown, we must wait for all clients to have been signallednso that we can safely shutdown.  We we logging very frequentlynwhile we waited, so this diff adds backoff and only logs whennthe number of clients changes.nnLater, we wait for all root objects to be freed.  It is possiblenthat a trigger child process will be still running for some timenand extend our lifetime as a result.  So let's give it an arbitraryn3 seconds before giving up.n",30.0,15.0,"listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.8366407419411673,8.0,1878.5,267.0,0.5133217592592593,1970.5,2.4610719036774817,773.0,Feature Addition,False,,
605118f5ef3b49629574db589db6178ba56832aa,fe6f560964da409a3ba0d16c38f91717b73b89b5,Daniel Colascione,dancol@dancol.org,Tue Aug 18 21:08:33 2015 -0700,1439957313,Use normal autoconf machinery for WATCHMAN_STATE_DIR; make disabling the thing workTest Plan: configure --disable-statedir; configure --enable-statedir=/foo; configurennReviewers: weznnDifferential Revision: https://reviews.facebook.net/D44727n,22.0,3.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,1.0,1.0,0.6343095546405662,9.0,212.0,133.0,11.067459490740745,0.5,0.5225887431717419,1.0,Preventative,False,,
fe6f560964da409a3ba0d16c38f91717b73b89b5,e08a2328f0889cf9bef6b8a9c9362b8ff401ee99,Daniel Colascione,dancol@dancol.org,Tue Aug 18 21:14:20 2015 -0700,1439957660,Stop polling for child exit; rely on SIGCHLD insteadTest Plan: Child reaper thread doesn't poll continuously according to strace -f; subsequent diff resolves the accepter thread; `make integration` passes.nnReviewers: weznnDifferential Revision: https://reviews.facebook.net/D44835n,19.0,2.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,1097.0,104.0,0.5452083333333333,2.0,2.834161253343523,2.0,Preventative,False,,
e08a2328f0889cf9bef6b8a9c9362b8ff401ee99,d130c9e25cc949f77150e06ecc629a39fb7243d2,Ben Hamilton,beng@fb.com,Wed Aug 19 07:51:00 2015 -0700,1439995860,"Fix persistent client command if output pdu is different from server pduSummary:nPreviously, when running:nn  watchman --server-encoding=json --persistent log-level debugnnmany log messages sent by the server would be dropped.nnI added lots of debugging, and found that whenever the server's PDUnwas different from the client's PDU and we had to convert, we re-usednthe same input buffer to convert the format to the client's format.nnIf there's only a single entry in the buffer, this was OK, but therencould be multiple entries in the buffer (or a partial entry at thenend of the buffer).nnIn the case of multiple entries in the buffer, re-using the sameninput buffer to hold the results of the conversion meant we blewnaway and lost the rest of the entries.nnSince we could always have a partial entry at the end of the buffer,nI think we never want to re-use the input buffer for conversion.nnThis diff adds a new `output_pdu_buffer` which is used if necessarynto hold the results of the conversion to the client's format.nnTest Plan:n`watchman --server-encoding=json --persistent log-level debug`nnPreviously, saw it dropped lots of log messages. Now, it shows them.nnReviewers: sid0, weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D44889n",11.0,3.0,"json.c,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.2638091738835462,9.0,725.6666666666665,181.0,5.9233063271604935,21.0,1.0988441754761211,10.0,Corrective,True,,
d130c9e25cc949f77150e06ecc629a39fb7243d2,4e6602e1449a56e83038d943521eb9dd245202fc,Ben Hamilton,beng@fb.com,Wed Aug 19 07:51:43 2015 -0700,1439995903,"Adjust client writing lock strategySummary:nStarting up the server with:nn  watchman shutdown-servern  watchman --server-encoding=json --persistent log-level debugnnshows a shocking lack of log messages from the initial crawl asnthe server starts up.nnI diagnosed this to a number of locking issues in `listener.c`:nn1) We repeatedly locked and unlocked `w_client_lock` to dequeuenmessages instead of locking once, swapping out the queue fornan empty one, then unlockingnn2) We could write to `client->log_level` without taking a locknn3) We checked if `clients` was `NULL` without taking a locknnThis fixes each of the issues. I removed an few unused fields in `struct watchman_client_response`.nnTest Plan:n  watchman shutdown-servern  watchman --server-encoding=json --persistent log-level debugnnPreviously, it only showed some log messages from the initial crawln(many were dropped). Now, it shows all log messages in order.nnReviewers: sid0, weznnReviewed By: weznnDifferential Revision: https://reviews.facebook.net/D44853n",30.0,32.0,"cmds/log.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,0.547553154980007,9.0,714.0,224.0,155.10807098765432,24.0,1.0021497228431937,12.0,None,False,,
4e6602e1449a56e83038d943521eb9dd245202fc,872ba96d1b88c121afc15da4c3ba100a9a63ad94,Wez Furlong,wez@fb.com,Wed Aug 19 11:01:48 2015 -0700,1440007308,"Fixup windows build for logging/locking changesWe need to initialize the recursive mutex earlier.nThere isn't a portable recursive mutex initializer, so we put the codenin as one of the first things we do in main().n",6.0,6.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,1.0,9.0,916.0,161.0,0.1322511574074074,1972.5,6.6781549875993935,775.0,Corrective,True,,
872ba96d1b88c121afc15da4c3ba100a9a63ad94,45f0fd485b969b54c55326463f32a333c9404788,Wez Furlong,wez@fb.com,Wed Aug 19 13:48:43 2015 -0700,1440017323,"add separate io thread for stat/opendir operationsSummary:nthe goal of this diff is to really dedicate the notify thread to just consumingnnotifications and adding them to the pending queue, to minimize the risk ofntriggering a recrawl.  We can't fully realize that with this diff as our bignroot look is not granular enough, but it is a step towards this goal.nnThe actual filesystem operations are now processed in a new additionalnIO thread.nnAs a side effect, we can now explicitly wait for the settle period to havenpassed since we received the last kernel notification, which allows us to havenfewer wakeups when we're theoretically idle.nnIt also will make it easier to handle some aspects of symlink target changennotification handling that I've been brainstorming with @bhamilton, as well as somenpossibly improved watcher fallback handling on osx if we detect brokenness innfsevents (thinking of bringing back the background periodic crawl and refreshnthat we used to to do, to deal with healing up after missing notifications).nnTest Plan:n`make integration`.  Also inspect the process in activity monitor andnsee that the idle wakeups are 0 compared to slowly increasing before thisnbuild.nnReviewers: bhamilton, sid0nnReviewed By: sid0nnSubscribers: bhamiltonnnDifferential Revision: https://reviews.facebook.net/D44943n",120.0,39.0,"root.c,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,0.6982209267463001,9.0,1098.75,288.0,7.524467592592592,1975.5,1.2382812331539066,778.0,Feature Addition,False,True,"[""d462a5ba2468e3e5cdd628494ae3b68eac4feb34""]"
45f0fd485b969b54c55326463f32a333c9404788,29f2df5fe7e5b02185c6d644f1bc2b28a0e8a688,Wez Furlong,wez@fb.com,Thu Aug 20 07:19:38 2015 -0700,1440080378,"avoid blocking the notify thread, fixup event on win32The prior io thread had a couple of issues; consuming from theninotify fd is actually a blocking operation, so we need to addna check to our loop condition.nnFixup how we interpret the result of a wait on a win32 event,nso that we don't falsely believe that is has been satisfiednin the timeout case (doh!)n",6.0,1.0,"root.c,CAS_DELIMITER,stream_win.c,CAS_DELIMITER",2.0,1.0,1.0,0.8631205685666309,9.0,1731.5,171.0,0.7298032407407408,1978.5,2.027674252636587,780.0,Corrective,True,True,"[""5d35a96a1677dbc33354d1609ae4e1d07d54adeb""]"
29f2df5fe7e5b02185c6d644f1bc2b28a0e8a688,59d2ad00ec5cdc55adf37102108b2d6e3ead1cd6,Wez Furlong,wez@fb.com,Mon Aug 17 22:41:47 2015 -0700,1439876507,"avoid a deadlock in the idle watch reaperSummary:nhere's an example of the deadlock:nn```nThread 53 (Thread 0x7f3f17fff700 (LWP 3247723)):n #0  __lll_lock_wait () at ../sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:135n #1  0x00007f3f1dadbf2c in __GI___pthread_mutex_lock (mutex=mutex@entry=0x68f8e0 <root_lock>) at ../nptl/pthread_mutex_lock.c:80n #2  0x0000000000417b66 in remove_root_from_watched (root=0x692380) at root.c:1872n #3  w_root_stop_watch (root=root@entry=0x692380) at root.c:2251n #4  0x000000000041854b in consider_reap (root=0x692380) at root.c:1601n #5  notify_thread (root=0x692380) at root.c:1656n #6  run_notify_thread (arg=0x692380) at root.c:2148n #7  0x00007f3f1dad97f1 in start_thread (arg=0x7f3f17fff700) at pthread_create.c:310n #8  0x00007f3f1d81046d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109nnThread 52 (Thread 0x7f3f175fd700 (LWP 3247724)):n #0  __lll_lock_wait () at ../sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:135n #1  0x00007f3f1dadbfb0 in __GI___pthread_mutex_lock (mutex=mutex@entry=0x692398) at ../nptl/pthread_mutex_lock.c:115n #2  0x0000000000415255 in w_root_lock (root=root@entry=0x692380) at root.c:313n #3  0x0000000000418bdc in w_root_save_state (state=state@entry=0x7f3f080480d0) at root.c:2444n #4  0x0000000000418ff8 in w_state_save () at state.c:98n #5  0x0000000000417bef in w_root_stop_watch (root=root@entry=0x693780) at root.c:2255n #6  0x000000000041854b in consider_reap (root=0x693780) at root.c:1601n #7  notify_thread (root=0x693780) at root.c:1656n #8  run_notify_thread (arg=0x693780) at root.c:2148n #9  0x00007f3f1dad97f1 in start_thread (arg=0x7f3f175fd700) at pthread_create.c:310n #10 0x00007f3f1d81046d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109n```nnTest Plan:naugmented an integration test, but I couldn't get this to trigger on demand :-/nIn the problem case, both watches were established from the state file and aged at atnthe exact same time.nnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D44841n",21.0,5.0,"root.c,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER",2.0,2.0,2.0,1.0,9.0,1406.5,170.0,-1.9947164351851847,1980.5,0.6627702018626142,298.0,None,False,,
59d2ad00ec5cdc55adf37102108b2d6e3ead1cd6,bb0fffa0b0f5bc167232b58573e690c3daf2dfea,Wez Furlong,wez@fb.com,Thu Aug 20 22:22:16 2015 -0700,1440134536,"harden statedir permissionsSummary:nthis changes our default state file path construction sonthat we now create a user specific dir in the configured state dirnlocation.nnWe check that the ownership and permissions on the user state dirnmatch the current euid and prevent others from writing in theirnuser state dir.nnWhile looking at this, I noticed that launchd had wider permissionsnon the socket that it creates, so correct that.nn(Will update the docs about log paths as a follow up)nnTest Plan:n`make integration` still passes.  Then:nn```nchown root /opt/facebook/var/run/watchman/wez-statenwatchman watch-listn2015-08-20T08:56:28,588: [1977860864] the owner of /opt/facebook/var/run/watchman/wez-state is uid 0 and doesn't match your euid 2048904527n```nnand, after undoing the above:nn```nchmod 0777 /opt/facebook/var/run/watchman/wez-statenwatchman watch-listn2015-08-20T09:00:33,328: [1977860864] the permissions on /opt/facebook/var/run/watchman/wez-state allow others to write to it.  Verify that you own the contents and then fix its permissions by running `chmod 0700 /opt/facebook/var/run/watchman/wez-state`n```nnReviewers: sid0nnReviewed By: sid0nnDifferential Revision: https://reviews.facebook.net/D45027n",118.0,23.0,"main.c,CAS_DELIMITER,website/_docs/cli-options.markdown,CAS_DELIMITER,website/_docs/troubleshooting.markdown,CAS_DELIMITER,winbuild/errmap.c,CAS_DELIMITER,winbuild/stat.c,CAS_DELIMITER,winbuild/sys/stat.h,CAS_DELIMITER",6.0,3.0,4.0,1.5495781712509409,9.0,226.0,62.0,82.05060763888889,1984.5,1.1585470385679852,58.0,None,False,,
bb0fffa0b0f5bc167232b58573e690c3daf2dfea,2282f68f11d8cdb7a688a07aa774f5697976e6db,Wez Furlong,wez@fb.com,Thu Aug 20 22:44:05 2015 -0700,1440135845,"Allow switching on iothrottling in /etc/watchman.json and watchmanconfigSummary: we default to off.  Throttling turned out to be too aggressivento be practical for us at this time, but may work out better after we'venmade some architectural changes.n",6.0,5.0,"ioprio.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.8453509366224365,9.0,1409.0,174.0,2.816099537037037,1988.5,1.278845843654628,784.0,None,False,,
2282f68f11d8cdb7a688a07aa774f5697976e6db,5144eb78900704c533396344cfe6a50f10d985fe,Wez Furlong,wez@fb.com,Thu Aug 20 23:11:20 2015 -0700,1440137480,"Fixup test harness for new statedir changesNoticed that Travis CI was failing because we're now makingnstronger assertions about the paths that we compute for thenthe server, and we compute very early in the client.n",8.0,0.0,"arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER",3.0,3.0,3.0,1.5,9.0,213.0,22.0,82.70422453703705,1991.0,1.004155098485932,299.0,Corrective,True,,
5144eb78900704c533396344cfe6a50f10d985fe,2ede2ba2f730da9a7d526e2085021d79bb6f1212,Wez Furlong,wez@fb.com,Thu Aug 20 23:53:50 2015 -0700,1440140030,fixup build when linking to libgimli,3.0,3.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,1106.0,107.0,1.5361342592592593,1993.0,1.6509847651482046,785.0,Corrective,True,,
2ede2ba2f730da9a7d526e2085021d79bb6f1212,436b82d652c51eecb10532e109e6b8c120da416b,Wez Furlong,wez@fb.com,Fri Aug 21 08:42:30 2015 -0700,1440171750,use readdir_r when availableI'm surprised that we weren't using this already :-/n,12.0,2.0,"configure.ac,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,9.0,1506.5,247.0,1.448738425925926,1994.5,1.3740217033540905,787.0,Feature Addition,False,,
436b82d652c51eecb10532e109e6b8c120da416b,8baafa7380f421f0d3ba56898ecd4c647b230f21,Wez Furlong,wez@fb.com,Fri Aug 21 18:31:56 2015 -0700,1440207116,revert 436b82d652c51eecb10532e109e6b8c120da416bhttp://womble.decadent.org.uk/readdir_r-advisory.htmln,2.0,12.0,"configure.ac,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,9.0,1511.5,249.0,0.4093287037037037,1996.5,2.8322682802691848,789.0,None,False,,
8baafa7380f421f0d3ba56898ecd4c647b230f21,6e099767b9e38adc53130e5e0b5391e466384d7c,Wez Furlong,wez@fb.com,Fri Aug 21 18:47:34 2015 -0700,1440208054,"move some watcher specific defines to the watcher implementationsNoticed a couple of these randomish things in watchman.h, just movenit to where it is relevant.n",18.0,16.0,"watcher/inotify.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.402081402756032,9.0,547.6666666666666,122.0,99.02384645061727,1999.0,1.004513458125776,790.0,None,False,,
6e099767b9e38adc53130e5e0b5391e466384d7c,fa40088f8bc6a853572473a6fb348188fa4b8046,Amjad Masad,amjad.masad@gmail.com,Mon Aug 24 14:53:16 2015 -0700,1440453196,Make bser it's own npm package,750.0,663.0,".gitignore,CAS_DELIMITER,node/bser.js,CAS_DELIMITER,node/bser/README.md,CAS_DELIMITER,node/bser/index.js,CAS_DELIMITER,node/bser/package.json,CAS_DELIMITER,node/bser/test/bser.js,CAS_DELIMITER,node/index.js,CAS_DELIMITER,node/package.json,CAS_DELIMITER,node/test/bser.js,CAS_DELIMITER",9.0,2.0,5.0,1.9032154572108568,10.0,119.55555555555556,46.0,14.86505529835391,4.0,0.9014429289824286,7.0,None,False,True,"[""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
fa40088f8bc6a853572473a6fb348188fa4b8046,f178f1959e2d6b0b261f451b5e969a8a80908163,Wez Furlong,wez@fb.com,Tue Aug 25 08:56:03 2015 -0700,1440518163,some word-smithing on the bser.js docs,34.0,14.0,"node/bser/README.md,CAS_DELIMITER,node/bser/package.json,CAS_DELIMITER,node/package.json,CAS_DELIMITER",3.0,1.0,2.0,0.8166890883150209,10.0,42.0,11.0,0.7519328703703704,2002.0,1.8127203041544169,31.0,Non Functional,False,,
f178f1959e2d6b0b261f451b5e969a8a80908163,1f7e22df8466986b1792e3959c8d44d042a5841a,Wez Furlong,wez@fb.com,Tue Aug 25 20:42:57 2015 -0700,1440560577,Add more info on dependencies to the docsAlso parameterize the stable relase into a data file and use thatnto show how to check out the stable branchnnRefs: https://github.com/facebook/watchman/issues/139n,8.0,2.0,"website/_data/current_release.json,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER",2.0,1.0,2.0,0.8812908992306927,9.0,87.5,2.0,5.054068287037037,2004.5,0.5494651013404813,178.0,Feature Addition,False,,
1f7e22df8466986b1792e3959c8d44d042a5841a,b35c6ed36a5f60ab3f214ddc646a8a03e03a0fee,Wez Furlong,wez@fb.com,Tue Aug 25 21:41:06 2015 -0700,1440564066,restore missing AC_SUBST for the state dirFixes `brew install --HEAD watchman`n,1.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,250.0,80.0,4.1313657407407405,2006.0,1.2420507073819862,791.0,Corrective,True,,
b35c6ed36a5f60ab3f214ddc646a8a03e03a0fee,c650e85d27458df0e70aeab57c2890b8dae286ee,Wez Furlong,wez@fb.com,Sat Aug 22 08:00:09 2015 -0700,1440255609,"allow consuming notifications while root lock is heldSummary: The goal is to minimize the risk that we encounter annotification queue overflow.nnThis factors out our pending-notification state into a typenthat represents a collection of pending notifications.  This collectionnhas its own locking and can be waited upon and signalled.nnThe concept is that a notification thread will maintain a localncollection and accumulate pending paths until it reaches ournbatch size or has consumed all current available notifications.nnAt that point, it locks the root->pending collection and moves its localncollection into root->pending, and then signals and unlocksnroot->pending.  The notification thread can then continue to consume andnaccumulate more notifications into its local collection.nnThe io thread also maintains a local collection.  It waits fornroot->pending to become signalled, locks it, and moves root->pendingninto its local collection and unlocks root->pending.  The io threadnwill then process its local collection before returning to wait onnroot->pending.nnRefs: https://github.com/ember-cli/stress-app/issues/1n",369.0,162.0,"Makefile.am,CAS_DELIMITER,pending.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",10.0,3.0,3.0,1.7300642507332686,9.0,606.4,378.0,19.14302662037037,2011.5,1.1002534231478411,59.0,None,False,True,"[""ac15e17c89c22759d223a91d6bd95d96fcf59310"", ""5d35a96a1677dbc33354d1609ae4e1d07d54adeb""]"
c650e85d27458df0e70aeab57c2890b8dae286ee,c4c47703ab1c4dfedd5a1e27ee24d19d3f79e9d4,Wez Furlong,wez@fb.com,Wed Aug 26 11:50:26 2015 -0700,1440615026,always verify state-dir ownershipAnd set the sticky bit during installationn,3.0,4.0,"Makefile.am,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,9.0,484.0,115.0,4.8605729166666665,2017.5,1.1716289144924414,797.0,None,False,,
c4c47703ab1c4dfedd5a1e27ee24d19d3f79e9d4,0363ef418cbaf594489363934bcbad49018f58f5,Wez Furlong,wez@fb.com,Sat Aug 29 18:08:27 2015 -0700,1440896907,"Add test case for a trigger issueRefs: https://github.com/facebook/watchman/issues/141nnCannot reproduce this in master, but the test case is still valuable.n",96.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/touch.py,CAS_DELIMITER",3.0,1.0,1.0,1.13140067444299,8.0,54.33333333333334,8.0,9.024278549382716,2020.0,1.0369373941095972,302.0,Feature Addition,False,True,"[""e013d4474e3071afc541ae0f1ba81013c9fd15fd""]"
0363ef418cbaf594489363934bcbad49018f58f5,46692fce1befceb5712e4cbf0e6216ff6c7225b5,Wez Furlong,wez@fb.com,Thu Sep 3 12:18:41 2015 -0700,1441307921,"Relax python dep on setuptoolsIt's proving difficult to get setuptools working in my solarisnenvironment, so fall back to distutils in the interest of makingnit easier to test changes.n",13.0,2.0,"python/pywatchman/capabilities.py,CAS_DELIMITER,python/setup.py,CAS_DELIMITER",2.0,1.0,2.0,0.9182958340544896,9.0,45.0,6.0,18.747077546296296,2022.5,1.039753164576434,31.0,Preventative,False,,
46692fce1befceb5712e4cbf0e6216ff6c7225b5,02df9db955b9d9afc54060b98825bdc5f12ed6bf,Wez Furlong,wez@fb.com,Thu Sep 3 14:40:10 2015 -0700,1441316410,Fixup test for running on solaris on tmpfs,1.0,0.0,"tests/integration/fstype.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,45.0,3.0,247.12452546296296,2024.0,1.0040465429245706,303.0,Corrective,True,,
02df9db955b9d9afc54060b98825bdc5f12ed6bf,e876901401663fbed8392eb14bb6eb77e79f4bd5,Wez Furlong,wez@fb.com,Thu Sep 3 14:40:36 2015 -0700,1441316436,Fixup racy subscribe test,30.0,12.0,"tests/integration/subscribe.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,176.0,13.0,35.622141203703706,2025.0,1.0280724281643134,304.0,Corrective,True,,
e876901401663fbed8392eb14bb6eb77e79f4bd5,277594b963a6d8b5fe93e1c085930c2ecc346f7d,Wez Furlong,wez@fb.com,Thu Sep 3 10:37:32 2015 -0700,1441301852,"tidy up inotify move trackingSummary: taking a new approach at this; now that we have decoupled thenpending notifications from the main structures in the root, there is angreater chance for the root->dir->file data structures to drift awaynfrom the notifications that come in more frequently and in smallernbatches.nnThe logical solution is for the watcher layer to maintain its mappingnof watch descriptors to names and pass on only name information tonthe io thread and allow it to build up the tree state from there.nnSo this diff does that.   There is fan out for the other watchersntoo; there are a couple of follow-on diffs to address thatn",278.0,209.0,"cmds/debug.c,CAS_DELIMITER,ht.c,CAS_DELIMITER,pending.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER",8.0,3.0,3.0,1.5224148909994586,9.0,673.0,323.0,130.9833781828704,2029.5,1.002066243238136,802.0,None,False,True,"[""3b6229987b5852bf33105a9f0c5383f5b8f3c112"", ""381a5da3fb09633bc8552d7e7734d194d5f33e64"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""1b2c278937019db8809a8424884520a563937cfa""]"
277594b963a6d8b5fe93e1c085930c2ecc346f7d,558ad3883d8167c8230fb77d0b7a2e280a2308fb,Wez Furlong,wez@fb.com,Thu Sep 3 11:31:41 2015 -0700,1441305101,"add helper for decoding notify flags to readable labelsLifted from https://reviews.facebook.net/D40155, this addsnflag printing to all unixy watchers.n",132.0,10.0,"Makefile.am,CAS_DELIMITER,expflags.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",8.0,3.0,3.0,2.5457704506333902,9.0,365.125,214.0,5.5675607638888875,2037.5,1.0604200882831758,60.0,Feature Addition,False,True,"[""3b6229987b5852bf33105a9f0c5383f5b8f3c112"", ""ac15e17c89c22759d223a91d6bd95d96fcf59310""]"
558ad3883d8167c8230fb77d0b7a2e280a2308fb,3b6229987b5852bf33105a9f0c5383f5b8f3c112,Wez Furlong,wez@fb.com,Thu Sep 3 12:06:51 2015 -0700,1441307211,fixup kqueue processingSummary: this is the kqueue portion of the commit with the summaryntidy up inotify move trackingn,34.0,45.0,"watcher/kqueue.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,377.0,5.0,0.02442129629629629,2042.0,41.9478672985782,32.0,Corrective,True,,
3b6229987b5852bf33105a9f0c5383f5b8f3c112,ac15e17c89c22759d223a91d6bd95d96fcf59310,Wez Furlong,wez@fb.com,Thu Sep 3 15:01:16 2015 -0700,1441317676,Fixup portfs processingThis is the solaris functionality to go along with the changes in thenearlier diff with the summary tidy up inotify move trackingn,135.0,82.0,"watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,2.0,2.0,0.2490130463323689,9.0,624.5,127.0,0.14554398148148148,2043.5,6.153081510934394,806.0,Corrective,True,True,"[""381a5da3fb09633bc8552d7e7734d194d5f33e64"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""1b2c278937019db8809a8424884520a563937cfa""]"
ac15e17c89c22759d223a91d6bd95d96fcf59310,5d35a96a1677dbc33354d1609ae4e1d07d54adeb,Wez Furlong,wez@fb.com,Thu Sep 3 20:47:33 2015 -0700,1441338453,"Fixup a timing issue with triggersSummary: travis was reliably failing the trigger test, but it wasnrelatively difficult to trigger locally.  The issue manifested whennwe had a wakeup for the io thread from a ping that yielded nonpending items.nnWe were incorrectly jumping to immediately assessing triggers andnwere not waiting for the settle period to pass.nnThis adds an explicit check for whether we were pinged or we timednout when we sleep on the pending collection, so that we only enternthe trigger assessment path when the timeout was triggered.n",20.0,10.0,"root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",3.0,2.0,2.0,1.2580402536887991,9.0,1164.0,205.0,91.91930941358022,2046.0,1.7894174388507842,305.0,Corrective,True,,
5d35a96a1677dbc33354d1609ae4e1d07d54adeb,095a8454fdd6d86a8714f12372d5e9a25f9ffac7,Wez Furlong,wez@fb.com,Fri Sep 4 15:54:22 2015 -0700,1441407262,"simplify some of the json parsing hereThe `{s?:b*}` syntax means optionally find the string key, don'tnerror if it is missing or if there are additional keys beyondnwhat we asked for.n",9.0,16.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,569.0,22.0,20.076446759259266,2048.0,1.0498096108335904,74.0,None,False,,
095a8454fdd6d86a8714f12372d5e9a25f9ffac7,fcf7f706149ad7b7713f0f1869f7a96924d5437a,Wez Furlong,wez@fb.com,Tue Sep 8 15:03:05 2015 -0700,1441749785,Add missing move_map age-out logicThis was in https://reviews.facebook.net/D40155 but left out ofnits re-imagining.n,22.0,0.0,"watcher/inotify.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,461.0,6.0,5.146805555555557,2049.0,1.1942952748468576,34.0,Feature Addition,False,,
fcf7f706149ad7b7713f0f1869f7a96924d5437a,f606a2a3fee971ce79bd73461cd46400cb55dd1d,Wez Furlong,wez@fb.com,Mon Sep 14 20:22:19 2015 -0700,1442287339,"Fixup `-j` option and multi-line json inputSummary: accidentally broke this when we refactored the guts for windowsnsupport.  We previously allowed `-j` to read the whole of stdin andnparse it into a JSON value.  Since the windows code merge, we wouldnonly read the first line.nnThis diff special cases json input when the stream is stdin; it setsnthe mode to pretty json mode and we attempt to use the whole buffernto process the input instead.n",50.0,5.0,"json.c,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER",2.0,2.0,2.0,0.6840384356390417,9.0,292.0,16.0,25.7021875,2050.5,1.0285792514812622,306.0,Corrective,True,,
f606a2a3fee971ce79bd73461cd46400cb55dd1d,7cf736372516b397e99c09f65b5254cf0b6a2bcb,Wez Furlong,wez@fb.com,Thu Sep 17 17:44:26 2015 -0700,1442537066,"add helpful advice about tmux+launchd on OS XA couple of folks have run into this, and the solution is notnespecially clear; the `launchctl` command completes successfullyndespite printing and error to stderr.nnWhat we do here is, if we failed to connect to watchman on applensystems, and TMUX is set in the environment, print out some advicenthat can help remediate the situation.nnTest Plan:  From outside tmux:nn```n$ watchman shutdown-servern$ launchctl unload /Users/wez/Library/LaunchAgents/com.github.facebook.watchman.plistn$ tmuxn # now we're inside tmuxn$ ./watchman versionn/Users/wez/Library/LaunchAgents/com.github.facebook.watchman.plist: Operation not permittedn2015-09-17T17:41:58,224: [cli] unable to talk to your watchman on /opt/facebook/var/run/watchman/wez-state/sock! (Connection refused)n2015-09-17T17:41:58,225: [cli]nYou may be hitting a tmux related session issue.nAn immediate workaround is to run:nnwatchman versionnnjust once, from *outside* your tmux session, to allow the launchdnregistration to be setup.  Once done, you can continue to accessnwatchman from inside your tmux sessions as usual.nnLonger term, you may wish to install this tool:nnhttps://github.com/ChrisJohnsen/tmux-MacOSX-pasteboardnnand configure tmux to use `reattach-to-user-namespace`nwhen it launches your shell.n```n",20.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,772.0,58.0,22.24583333333333,2052.0,1.0449522382468628,810.0,Corrective,True,,
7cf736372516b397e99c09f65b5254cf0b6a2bcb,eb6694b0fd1b9eebf07b3adfe13f02c27394599f,Ben Hamilton,beng@fb.com,Fri Sep 18 09:05:56 2015 -0700,1442592356,Add pure Python BSER implementation,344.0,14.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",3.0,1.0,2.0,0.7888298582868115,9.0,192.66666666666663,17.0,21.347677469135803,27.0,1.0286683406145436,2.0,Feature Addition,False,True,"[""16ca76add96de462ac08b8c4019c6922f527c236"", ""04006877100e1093bb9aa0fbf2d8d21cb5381836""]"
eb6694b0fd1b9eebf07b3adfe13f02c27394599f,a510de0b190ba182ad56b39f68572095cbccd2e4,Ben Hamilton,beng@fb.com,Fri Sep 18 11:31:55 2015 -0700,1442601115,Set zip_safe = True in setup.py to avoid warning when building,2.0,1.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,34.0,6.0,14.967523148148148,29.0,1.066811321425865,3.0,None,False,,
a510de0b190ba182ad56b39f68572095cbccd2e4,b83bf04e71c9cc5e9080b1b21b227986746f9998,Wez Furlong,wez@fb.com,Mon Sep 21 15:44:23 2015 -0700,1442875463,"race: two clients can race and start separate watchers for the same dirSeems to happen rarely, but I have seen the logs that prove it.nThe remediation is pretty simple; we just need to check to see ifnsomeone beat us to registering the root that we're creating andnreturn that one instead.n",14.0,5.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,2747.0,174.0,17.789467592592594,2053.0,1.05621303700041,811.0,None,False,,
b83bf04e71c9cc5e9080b1b21b227986746f9998,99dde8ee3f13233be097c036147748b2d7f8bfa7,Ben Hamilton,beng@fb.com,Tue Sep 22 13:13:25 2015 -0700,1442952805,Improve PCRE detection in configure.ac,33.0,7.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,251.0,81.0,27.64744212962963,30.0,1.03616971129956,13.0,None,False,,
99dde8ee3f13233be097c036147748b2d7f8bfa7,1537a43e6129660c335222800de4b5fbe021e78f,Wez Furlong,wez@fb.com,Fri Oct 2 15:18:04 2015 -0700,1443824284,Ensure we close random file descriptors before starting serverSummary: Close everything above stderr before we fork or spawn.nnWe use the max of getrlimit and sysconf to determine an uppernbound on the number of descriptors to increase the portability.nnWe only do this in the case that we're going to spawn the service.nnrefs: https://github.com/facebook/watchman/issues/158nrefs: https://github.com/facebook/buck/issues/438n,47.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,792.0,59.0,14.898356481481486,2054.0,1.0671214976794918,812.0,None,False,,
1537a43e6129660c335222800de4b5fbe021e78f,11b1f4abebebf4893e294c85314e27f80d9aa71d,Wez Furlong,wez@fb.com,Thu Oct 1 21:48:48 2015 -0700,1443761328,"fsevents coalesces directory renames to top levelSummary: OS X commonly saves documents as a directory containing ancollection of files.  When updating one of these documents, the patternnis to build out a temporary directory containing the target set of filesnand then to rename this directory in place of the old directory.nnWhen fsevents reports these events, there is a good chance that thenevents will get coalesced and reported as a rename event on the documentndir followed by change events on the temporary dir structure.nnWe have two problems in tracking and dealing with this scenario:nn1. We didn't consider that the rename event on the document dir shouldn   be recursive, so we'd only add_pending and stat just the dirnn2. Once making it recursive, we had an optimization in the `crawler`n   function that would only directly stat the contents if the filen   had transitioned between existing or not existing.n   This optimization is valid only if the watcher hasn   per-file-notifications that are reliably reported for every filen   in a watched dir.nnThis diff adds a flag to the watcher layer to identify thisncoalesce-on-rename behavior and fixes up the crawler optimization sonthat we will add_pending if the watcher has the coalescing behavior.nnTest Plan: `make integration`, but also tested Blair's repro scenarionand cross-checked the watchman results via:nn```nwatchman find . path/to/document/filen/usr/bin/stat -r path/to/document/filen```n",37.0,14.0,"root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,2.0,2.0,2.0825783208941377,9.0,838.5714285714287,332.0,26.786995701058196,2058.0,1.024375704255447,814.0,None,False,,
11b1f4abebebf4893e294c85314e27f80d9aa71d,dab61cc1663b1257f7b4a6bc57334767fa6e1321,Wez Furlong,wez@fb.com,Sat Oct 3 15:04:54 2015 -0700,1443909894,use inotify_init1 to set CLOEXEC at init timeSummary: We have the potential to leak the inotify descriptornto the child process if a watch is established at the same time as antrigger is fired.  This slightly improves things if the kernel is newnenough.nnWe'd need something like a global mutex to completely eliminate thatnpossibility on all systems.n,5.0,1.0,"configure.ac,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,9.0,380.0,90.0,6.398466435185185,2062.5,1.0842087305293662,40.0,None,False,,
dab61cc1663b1257f7b4a6bc57334767fa6e1321,3405fe50584a8d0da98dc42a7e97231aa5272ffc,Wez Furlong,wez@fb.com,Sat Oct 3 15:25:01 2015 -0700,1443911101,"Avoid w_should_log_to_clients during W_LOG_FATALSummary: We've seen this get stuck spinning on OS X in a couple of crashnscenarios, so let's avoid calling it.  We don't yet know what the causenof these crashes is, but we should at least be able to see it in thenlogs once this diff is shipped.n",6.0,1.0,"log.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,191.0,17.0,66.16907407407408,2064.0,1.0151128002619552,816.0,None,False,,
3405fe50584a8d0da98dc42a7e97231aa5272ffc,f0a63ced9319b3b0ca0678c70199c8d690ed9956,Brian Degenhardt,bdegenhardt@twitter.com,Tue Aug 18 10:39:55 2015 -0700,1439919595,"introduce cmd_syncProblemnnWhen doing large changes to the filesystem with git, the amount ofnchanges received from the next watchman query take a long time tontransfer.  This is despite the fact that we know of all these changesnsince we were the ones performing them.nnSolutionnnAdd a 'sync' command which syncs the root and returns a clocknrepresenting the current time.  This is effectively fast-forwarding allnthe updates we just performed.n",57.0,0.0,"cmds/watch.c,CAS_DELIMITER,docs/cmd.sync.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.9819407868640976,9.0,179.5,13.0,0.3089814814814815,0.5,1.309109979023075,0.0,Corrective,True,,
f0a63ced9319b3b0ca0678c70199c8d690ed9956,278489271c741b883c38b1ac1f8a608e118ab210,Brian Degenhardt,bdegenhardt@twitter.com,Wed Aug 19 13:04:12 2015 -0700,1440014652,consolidate 'sync' into the 'clock' by adding a 'sync_timeout' option,32.0,64.0,"cmds/watch.c,CAS_DELIMITER,docs/cmd.sync.markdown,CAS_DELIMITER,website/_docs/cmd.clock.markdown,CAS_DELIMITER",3.0,3.0,3.0,1.322246289622296,10.0,146.0,16.0,2.0722260802469137,3.0,1.5080833667289282,1.0,Feature Addition,False,True,"[""41e81cc1994f4892637d52212cb42deeeb314e04"", ""ad778894bb6c0b1bf6af7a9c7eca4e8926cd01ee"", ""533c71a236f6482cd35bbcc8809ef4b8ad6dbe10""]"
278489271c741b883c38b1ac1f8a608e118ab210,41e81cc1994f4892637d52212cb42deeeb314e04,Brian Degenhardt,bdegenhardt@twitter.com,Wed Aug 19 13:10:45 2015 -0700,1440015045,compile fixes,2.0,2.0,"cmds/watch.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,377.0,15.0,0.004548611111111111,5.0,220.84732824427482,2.0,Corrective,True,True,"[""533c71a236f6482cd35bbcc8809ef4b8ad6dbe10""]"
41e81cc1994f4892637d52212cb42deeeb314e04,ad778894bb6c0b1bf6af7a9c7eca4e8926cd01ee,Brian Degenhardt,bdegenhardt@twitter.com,Wed Aug 19 13:40:24 2015 -0700,1440016824,integration test with resultant bug fix,15.0,1.0,"cmds/watch.c,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER",2.0,2.0,2.0,0.5435644431995964,10.0,196.5,21.0,116.05180555555555,6.5,25.28545943800027,3.0,Corrective,True,True,"[""533c71a236f6482cd35bbcc8809ef4b8ad6dbe10""]"
ad778894bb6c0b1bf6af7a9c7eca4e8926cd01ee,eca3daa970d6bb271297e2dc04975538ee4f0c89,Brian Degenhardt,bdegenhardt@twitter.com,Tue Aug 25 15:51:05 2015 -0700,1440543065,working on feedback,7.0,7.0,"cmds/watch.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,377.0,17.0,6.0907523148148135,8.0,1.1641833304512572,4.0,None,False,True,"[""533c71a236f6482cd35bbcc8809ef4b8ad6dbe10""]"
eca3daa970d6bb271297e2dc04975538ee4f0c89,43ec029e823fdb8016c5811fff4265de3893bd4d,Brian Degenhardt,bdegenhardt@twitter.com,Wed Aug 26 16:20:18 2015 -0700,1440631218,more feedback,15.0,6.0,"cmds/watch.c,CAS_DELIMITER,website/_docs/cmd.clock.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.2761954276479391,10.0,203.0,20.0,4.078234953703704,9.5,1.5513580890890672,1.0,None,False,,
43ec029e823fdb8016c5811fff4265de3893bd4d,533c71a236f6482cd35bbcc8809ef4b8ad6dbe10,Wez Furlong,wez@fb.com,Sat Oct 3 16:05:16 2015 -0700,1443913516,"fixup clock sync_timeout errorsSummary: Fixup the errors fromnhttps://github.com/facebook/watchman/pull/136nnAlso:nn1. Report an error when the sync_timeout expiresn2. Remove the `ticks++`; looking at the clock value should notn   cause it to increase.   Specifying the sync_timeout willn   create a file and cause the ticks to increase when the changen   is observed, so we have no need for it to be heren",13.0,13.0,"cmds/watch.c,CAS_DELIMITER,tests/integration/clock.php,CAS_DELIMITER,website/_docs/cmd.clock.markdown,CAS_DELIMITER",3.0,3.0,3.0,1.2389012566026305,10.0,148.33333333333334,28.0,40.359907407407405,2066.0,1.0155390538851738,179.0,Corrective,True,,
533c71a236f6482cd35bbcc8809ef4b8ad6dbe10,3552fc12a3d38d2bdded4b4fa0e0ca234cce3e34,Wez Furlong,wez@fb.com,Sun Oct 4 08:30:08 2015 -0700,1443972608,"Properly resolve spin in the crash handlerSummary: 3405fe50584a8d0da98dc42a7e97231aa5272ffc was a simplisticnand ineffective take on resolving this.  I dug in a bit deeper andntraced this to `backtrace_symbols`.  I've switched this ton`backtrace_symbols_fd` which has a better chance of success when called in ansignal handler where most bets are off.nnTest Plan:nn```n--- a/cmds/watch.cn+++ b/cmds/watch.cn@@ -44,7 +44,7 @@ static void cmd_clock(struct watchman_client *client, json_t *args)n const char *ignored;n if (0 != json_unpack(args, [s, s, {s?:i*}],n  &ignored, &ignored,n- sync_timeout, &sync_timeout)) {n+ sync_timeout, 1)) {n   send_error_response(client, malformated argument list for 'clock');n   return;n }n```nnThen:nn```nrm -rf /var/tmp/watchmantest*n./runtests.py tests/integration/clock.php --keepntail /private/var/tmp/watchmantest*/inst*/logn```nnand observe that we've logged the stack trace rather than either spinningnforever or just terminating with no context.n",15.0,10.0,"configure.ac,CAS_DELIMITER,log.c,CAS_DELIMITER",2.0,1.0,1.0,0.4021791902022729,9.0,236.5,101.0,0.7188715277777777,2068.5,2.0366086927469915,818.0,None,False,,
3552fc12a3d38d2bdded4b4fa0e0ca234cce3e34,111938805d1f049ff02b1bd6e3a152db5425417a,Wez Furlong,wez@fb.com,Sun Oct 4 09:50:36 2015 -0700,1443977436,"docs/website update for 3.8And bump version number in master, since 3.8 is already outn",31.0,5.0,"configure.ac,CAS_DELIMITER,website/_data/current_release.json,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",4.0,3.0,4.0,0.9141828384352136,9.0,139.0,95.0,36.45668402777777,2071.5,5.4847361354104995,61.0,Non Functional,False,,
111938805d1f049ff02b1bd6e3a152db5425417a,51b9ea00e2772e032cc04c7fe06a2e11b5841341,Wez Furlong,wez@fb.com,Sun Oct 4 14:24:24 2015 -0700,1443993864,micro optimize w_pending_coll_addThis eliminates an snprintf call and an extraneous buffer copy.n,39.0,6.0,"pending.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.9097860396322268,9.0,589.6666666666666,152.0,103.59962191358022,2075.0,1.0128526963862845,822.0,Feature Addition,False,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
51b9ea00e2772e032cc04c7fe06a2e11b5841341,58d2349b33a4a0883add4d8cf766aeda684036e5,Wez Furlong,wez@fb.com,Mon Oct 5 18:37:58 2015 -0700,1444095478,"Fixup running integration tests on current FB devserver envA couple of warts with how hhvm, php and node are installedn",4.0,4.0,"tests/integration/NodeTests.py,CAS_DELIMITER,tests/integration/_capture.php,CAS_DELIMITER",2.0,1.0,1.0,1.0,8.0,45.0,2.0,169.10613425925925,2077.5,1.0099640692799396,309.0,Corrective,True,,
58d2349b33a4a0883add4d8cf766aeda684036e5,8ffa62ddfc5d776d1f3f08f62c5d9f216f70215f,Wez Furlong,wez@fb.com,Mon Oct 5 16:21:19 2015 -0700,1444087279,"inotify: fixup state on race conditionSummary: took some time to track this down.  The conditions to triggernthe problem are:nn1. DIR and DIR/foo existn2. Recursively remove DIRn3. Create DIR and DIR/foonnThe problem manifests in the following sequence:nn1. [mutator] remove DIR/foo, DIRn2. [notify thread] IN_DELETE DIR/foo, add_pending(DIR/foo)n3. [notify thread] IN_DELETE_SELF DIR, add_pending(DIR)n4. [notify thread] IN_IGNORED DIRn5. [mutator] create DIR, open(DIR/foo), but don't write to it yetn6. [notify thread] IN_CREATE DIR, add_pending(DIR)n7. [io thread] processing the add_pending from (2.), lstat(DIR/foo).n   It exists but has zero size.  The file node is updated withn   size=0n8. [mutator] write to DIR/foon9. [io thread] processing the add_pending from either (2.) or (3.),n   opens DIR and establishes watch on it, but doesn't update any of then   entries due to the stat avoiding optimization.  Because then   write happened in (8.), before the watch was established, wen   never observe a notification for the changes made theren10. hgwatchman queries the state and observes size=0, flagging thenDIR/foo as modified.n11. hgwatchman queries the state a second time in a later hg statusnrun.  This time the cached DIR/foo information is passed throughna different layer and the size discrepancy is handled correctly,nand the file does not show up as modified.nnWe fix this by removing the stat avoiding optimization in the recursivencase.  We don't have a great way to recognize when we might have missednsomething.  One way to do that might be to pass out a flag when wennotice that the watch descriptor is different, but let's go for simplenfirst and then figure out if we need to optimize it.nnIn addition, I noticed that we were sometimes trying to track movesnfor files; let's take advantage of the ISDIR flag that is set byninotify to make sure we're focused on the right things.n",9.0,5.0,"root.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER",2.0,2.0,2.0,0.9402859586706308,9.0,1629.5,185.0,2.9128240740740736,2079.5,1.2183626182221023,41.0,None,False,,
8ffa62ddfc5d776d1f3f08f62c5d9f216f70215f,f41854b041201de9ace12b5f89fcadd27600b872,Wez Furlong,wez@fb.com,Tue Oct 6 08:48:53 2015 -0700,1444146533,Add missing sys/resource.h include for some linux environments,4.0,1.0,"configure.ac,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.9709505944546686,9.0,619.0,210.0,1.8620717592592595,2081.5,1.3897337262102316,825.0,Feature Addition,False,,
f41854b041201de9ace12b5f89fcadd27600b872,bf28d3e3de075a5b0c8957faa37b440059060af4,Wez Furlong,wez@fb.com,Tue Oct 6 16:44:49 2015 -0700,1444175089,"pre-size hash tables for dirs, filesSummary: Pretty big win for a large internal repo; initial crawl from ~33 seconds down to ~6 seconds.nnOther repos became marginally faster to crawl (maybe 0.5 seconds), butnnot significant with this diff.nnI don't know if defaulting to 64 is especially wasteful for our othernrepos; do we have some numbers on average number of files per dir forninternal and external repos?nnTest Plan:nn```nwatchman shutdown-server ; watchman version ; sudo perf top -g -p `pgrep watchman`n```nnand see what shows up.  Repeatedly bumped the the hint until the hash insert functionnvanished from the perf top output during the crawl.nn```n2015-10-06T16:36:44,046: [listener] path REPO is on filesystem type unknownn2015-10-06T16:37:16,995: [io REPO] crawl completen-> 33 secondsn```nn```n2015-10-06T16:37:49,928: [listener] path REPO is on filesystem type unknownn2015-10-06T16:37:55,466: [io REPO] crawl completen-> 6 secondsn```nnReviewers: sid0nnCC:nnTask ID: #nnBlame Rev:n",63.0,0.0,"root.c,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.9910760598382222,9.0,1502.5,178.0,26.592905092592588,2083.5,1.50137230540531,182.0,None,False,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
bf28d3e3de075a5b0c8957faa37b440059060af4,6c5a8deedfd99a8df984f4451befb4d5ba544be1,Wez Furlong,wez@fb.com,Tue Oct 6 22:44:57 2015 -0700,1444196697,Add our own struct to track the struct stat fieldsThis reduces our memory utilization but also helps withna follow-on diff to make some stat operations more efficientn,86.0,54.0,"query/empty.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,query/intcompare.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,query/type.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/sys/stat.h,CAS_DELIMITER",9.0,3.0,3.0,2.515742968485353,9.0,548.8888888888888,343.0,163.56951003086422,2089.0,1.0010811222376559,62.0,Feature Addition,False,,
6c5a8deedfd99a8df984f4451befb4d5ba544be1,ce2ea53bdf0fc6d763794193be88b02fe76ac245,Wez Furlong,wez@fb.com,Wed Oct 7 08:10:05 2015 -0700,1444230605,Add opendir/readdir abstractionWorking towards accelerating our bulk stats on OS Xn,129.0,50.0,"Makefile.am,CAS_DELIMITER,opendir.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",10.0,3.0,3.0,2.490752692967976,9.0,637.6,420.0,9.18895601851852,2098.5,1.0223648370866154,63.0,Feature Addition,False,True,"[""147150f2f9bfadb583c251b71656eed01f9a2df2"", ""1b2c278937019db8809a8424884520a563937cfa""]"
ce2ea53bdf0fc6d763794193be88b02fe76ac245,330c23b170e28ff16a040067ab0dad090c7d4ccc,Wez Furlong,wez@fb.com,Wed Oct 7 08:32:48 2015 -0700,1444231968,"Allow information to be passed from readdir to stat_pathIf `pre_stat` is populated, it is a signal that we're walking a dir.nIn this case we assume that the name returned from readdir is thencanonical case for the name of the file on disk and avoid makingnan explicit call to resolve it.nnThere's a possible optimization here if we already know more about thenfile being examined; if `pre_stat` is populated with stat information,nwe can save an explicit lstat.  The consumer of the optimization isnpresent in the diff, but not the producer of the stat information.nnI had to re-jigger how we call crawler to facilitate this; we neednto be able to directly call stat_path from crawler to pass then`pre_stat` info.  This is means that we need to flip things around,nbecause we were previously calling crawler directly from stat_path.nNow we queue up calls to crawler from stat_path.  We do this bynextending the pending collection to signal that we want to invokenjust the crawler portion, so that we can avoid repeating or loopingnover the same path forever.n",115.0,68.0,"pending.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",8.0,2.0,2.0,1.6597462507854968,9.0,770.25,357.0,0.35828269675925944,2107.5,1.3557981173121811,835.0,Feature Addition,False,True,"[""b931559d254b9a6f75dcad4a4a382941b136f932"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
330c23b170e28ff16a040067ab0dad090c7d4ccc,54c57fb30fbce36779ca62f5cd8441f519462d40,Wez Furlong,wez@fb.com,Wed Oct 7 12:48:07 2015 -0700,1444247287,Use getattrlistbulk instead of readdir when availableThis accelerates opendir+lstat both by reducing the amount of data wenquery from the filesystem and by batching it into fewer calls to thenfilesystem layer.n,158.0,2.0,"configure.ac,CAS_DELIMITER,opendir.c,CAS_DELIMITER",2.0,1.0,1.0,0.09694460606247317,9.0,177.0,87.0,0.6796064814814814,2112.5,1.7966270368291166,837.0,Feature Addition,False,True,"[""147150f2f9bfadb583c251b71656eed01f9a2df2""]"
54c57fb30fbce36779ca62f5cd8441f519462d40,152efe567399016637c8bd69ee8f4ab18e6a600b,Wez Furlong,wez@fb.com,Wed Oct 7 13:06:19 2015 -0700,1444248379,"Avoid canon-case check when we are not via_notifyIf we're stat_path'ing as part of a walk then we assume thatnthe path that we're operating on is already the canonical name.nnThe idea is that we just checked and know that the name is in canonicalncase, either because we just walked the dir or just examined it innresponse to a notification.  In this case we can avoid an extraneousnoperation.n",4.0,3.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,2835.0,181.0,0.18994212962962964,2114.0,6.264761440497228,838.0,None,False,,
152efe567399016637c8bd69ee8f4ab18e6a600b,147150f2f9bfadb583c251b71656eed01f9a2df2,Wez Furlong,wez@fb.com,Mon Oct 12 12:31:56 2015 -0700,1444678316,"add kill switch to disable bulkstatWill remove this in a later release, but this gives us the abilitynto switch back to opendir if we find some problems with it oncenwe've rolled it out.n",116.0,104.0,"opendir.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,233.0,2.0,4.988761574074074,2115.0,1.2004505497309923,839.0,Corrective,True,,
147150f2f9bfadb583c251b71656eed01f9a2df2,65bbc3a69fbbc5081277a40ec6d462d977da4d1e,Wez Furlong,wez@fb.com,Mon Oct 12 15:03:24 2015 -0700,1444687404,Update release notes for 3.9,12.0,1.0,"website/_docs/release-notes.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,113.0,5.0,8.217222222222222,2116.0,1.1216956257183421,183.0,None,False,,
65bbc3a69fbbc5081277a40ec6d462d977da4d1e,29cc93b62b2d99edd1a9439aea7f26a3e2a1010e,Wez Furlong,wez@fb.com,Mon Oct 12 17:36:00 2015 -0700,1444696560,Update current release info for the docs,1.0,1.0,"website/_data/current_release.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,3.0,2.0,8.323194444444445,2117.0,1.1201461778497173,184.0,Non Functional,False,,
29cc93b62b2d99edd1a9439aea7f26a3e2a1010e,f7addabede29270bf25b66c2114c26a00ef0f902,Wez Furlong,wez@fb.com,Fri Oct 16 11:40:09 2015 -0700,1445020809,"Employ very strict O_NOFOLLOW semantics when we opendirSummary: There are a couple of scenarios where a dir can be replacednwith a symlink that can skirt around our checks for symlinks.nnWe want to avoid traversing symlinks as this can be a costly operationnthat takes us across filesystem boundaries.nnThis diff adds a stricter open operation that exclusively appliesnO_NOFOLLOW to each component of the path that we want to open.nIf any component of this fails, then the entire open operation fails.nnWe use this as part of our opendir_nofollow function.nnWe'll catch the failure to open in the various watchern`root_start_watch_dir` functions, which then call `handle_open_errno`nand will recursively prune out the nodes from the tree.nnTest Plan: `make integration` and run on my devserver.  Relatively lame.n",110.0,15.0,"configure.ac,CAS_DELIMITER,opendir.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER",4.0,2.0,2.0,0.8434002235699216,9.0,962.5,284.0,7.7467766203703725,2119.5,1.0667846542642818,52.0,None,False,True,"[""1b2c278937019db8809a8424884520a563937cfa""]"
f7addabede29270bf25b66c2114c26a00ef0f902,46a19dcf583ce57ea2c53c846a83d2252e803a7c,Wez Furlong,wez@fb.com,Mon Oct 19 07:30:50 2015 -0700,1445265050,Prep for 4.0,10.0,2.0,"configure.ac,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,3.0,3.0,1.2516291673878228,9.0,196.66666666666663,101.0,8.138506944444442,2123.0,1.1666101516438825,64.0,None,False,True,"[""dbc810f777b4fd84c9c1fe654591aa3f4fb12ef6""]"
46a19dcf583ce57ea2c53c846a83d2252e803a7c,5d3d60c5912538f54687852b3ac49eb7e8f7b7ae,Wez Furlong,wez@fb.com,Fri Oct 16 10:26:39 2015 -0700,1445016399,Add watchman-make and watchman-waitThese tools should help with the most common casual usecases fornwatchman.n,689.0,6.0,"Makefile.am,CAS_DELIMITER,python/bin/watchman-make,CAS_DELIMITER,python/bin/watchman-wait,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/watchman-make.md,CAS_DELIMITER,website/_docs/watchman-wait.md,CAS_DELIMITER",8.0,3.0,6.0,2.183939530725328,9.0,98.625,86.0,15.833760127314816,2128.5,1.049477242494135,188.0,Feature Addition,False,,
5d3d60c5912538f54687852b3ac49eb7e8f7b7ae,521228f6c3b84e18cb34f98422f95b38de406a58,Wez Furlong,wez@fb.com,Mon Oct 19 07:18:38 2015 -0700,1445264318,pywatchman: add immutable version of data resultsThis adds an alternative object representation for decoded bsernvalues.   The new representation is immutable and can have itsnproperties accessed via either the mapping protocol or as attributes.nnThe goal is to eliminate an intermediate representation in mercurialnand just return the bser values directly in place of stat-likenobjects that are manufactured by the hgwatchman extension.nnThis can save several seconds of runtime in hgwatchman if we adjust itnto process fresh_instance result sets with large trees.n,335.0,58.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",5.0,1.0,3.0,1.4576644803530172,9.0,348.0,31.0,29.37773148148149,2135.0,1.0769889199631213,40.0,None,False,,
521228f6c3b84e18cb34f98422f95b38de406a58,dbc810f777b4fd84c9c1fe654591aa3f4fb12ef6,Wez Furlong,wez@fb.com,Tue Oct 20 18:44:05 2015 -0700,1445391845,Fix st_size for symlinks when using bulkstat,3.0,2.0,"configure.ac,CAS_DELIMITER,opendir.c,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,2.0,2.0,1.521928094887362,9.0,267.0,101.0,2.4098225308641976,2139.0,1.3310968423325276,65.0,Corrective,True,True,"[""a75b2b8b74b57382ce9bfa5de6695537e1040912""]"
dbc810f777b4fd84c9c1fe654591aa3f4fb12ef6,8bb8f8f0caa74da34b8d4ffb799e6aed3e961dc2,Wez Furlong,wez@fb.com,Tue Oct 20 18:52:38 2015 -0700,1445392358,Revert pywatchman: add immutable version of data resultsThis reverts commit 521228f6c3b84e18cb34f98422f95b38de406a58.nnI didn't intend to push this yetn,58.0,335.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",5.0,1.0,3.0,1.4576644803530172,9.0,403.4,36.0,1.4819444444444445,2143.0,1.3081537019681349,45.0,None,False,,
8bb8f8f0caa74da34b8d4ffb799e6aed3e961dc2,22cebeb9fd8133bbd7e03946f4c5ca7ce4dbcd4c,Wez Furlong,wez@fb.com,Thu Oct 22 06:54:52 2015 -0700,1445522092,Bump pywatchman version numberand update release notesn,12.0,2.0,"python/setup.py,CAS_DELIMITER,website/_data/current_release.json,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",3.0,2.0,3.0,1.1488348542809168,9.0,57.0,20.0,4.677114197530863,2147.0,1.2758977025207223,190.0,None,False,,
22cebeb9fd8133bbd7e03946f4c5ca7ce4dbcd4c,97d997940640e0c95e368e8f6d3f349a2375984d,Wez Furlong,wez@fb.com,Tue Oct 20 13:18:10 2015 -0700,1445372290,"Add periodic socket liveness checkSummary: since we're using unix domain sockets, it is possible for ancouple of funky situations to happen:nn* Someone can remove the socket file.  Perhaps they are beingn  overzealous in fixing some issue, or perhaps the socket getsn  nuked by something like tmpwatchnn* It's conceivable that there could be a race condition with multiplen  clients trying to start the service at the same time.nnThe latter is a bug that we should also try to run down and resolve,nbut it is worthwhile to detect and auto remediate if we detect thatnthe unix socket is broken.nnThis diff will periodically (every 60 seconds, or each time `poll(2)`nerrors out), schedule a thread that will connect and sanity checknthat `watchman get-pid` returns our own pid.  If we have any failurento connect or a mismatch in the result then we'll self terminate.nnWhile working on this I realized that we broke W_LOG_FATAL at somenpoint; we were just skipping FATAL level messages because the valuenwas outside the interesting range(!).   That might explain somenof the weird CPU spins we've seen in a couple of weird cases, wherenwe should have terminated but are still trying hard.nnThis fixes the value so that it is below the off threshold.nnTest Plan:nnRun this in one window:nn`./watchman --logfile=/dev/stdout --foreground -U /tmp/foow`nnThen run the same thing in another window.nnThe first one will output:nn```n./watchman --logfile=/dev/stdout --foreground -U /tmp/foown2015-10-20T13:16:03,838: [listener] Watchman 4.0.0 93e07ce578178c781981960cd7ff0047626f4e19 starting up on wez-mbpn2015-10-20T13:16:03,838: [listener] Using watcher mechanism fseventsn2015-10-20T13:16:03,838: [listener] file limit is 2560 kern.maxfilesperproc=10240n2015-10-20T13:16:03,838: [listener] raised file limit to 10240n2015-10-20T13:16:03,838: [listener] launchd checkin failed: No such processn2015-10-20T13:16:43,853: [sockcheck] remote pid from get-pid (51812) doesn't match my pid (51718)n2015-10-20T13:16:43,854: [sockcheck] Fatal error detected at:n2015-10-20T13:16:43,854: [sockcheck] 0   watchman0x00000001045796d0 w_log + 672n2015-10-20T13:16:43,854: [sockcheck] 1   watchman0x00000001045790b0 check_my_sock + 432n2015-10-20T13:16:43,854: [sockcheck] 2   libsystem_pthread.dylib 0x00007fff909259b1 _pthread_body + 131n2015-10-20T13:16:43,854: [sockcheck] 3   libsystem_pthread.dylib 0x00007fff9092592e _pthread_body + 0n2015-10-20T13:16:43,854: [sockcheck] 4   libsystem_pthread.dylib 0x00007fff90923385 thread_start + 13n[1]51718 abort  ./watchman --logfile=/dev/stdout --foreground -U /tmp/foown```nnI also tried removing `/tmp/foow` with a similar result.n",88.0,2.0,"Makefile.am,CAS_DELIMITER,checksock.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,0.6905333678009052,9.0,504.0,313.0,18.21795833333333,2151.0,1.1049644676307295,66.0,Feature Addition,False,True,"[""1c2547c19c19610cec7a8c8f6611b919e9480802""]"
97d997940640e0c95e368e8f6d3f349a2375984d,5ef6ec8bd6a0dbcd758e2d6c75e336dc0d998fd3,Wez Furlong,wez@fb.com,Sun Oct 25 17:00:51 2015 +0000,1445792451,Don't check liveness if we're stoppingOn OS X this can cause launchd to respawn the servicen,3.0,0.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,1109.0,109.0,4.862974537037037,2154.0,1.2056354587884168,851.0,None,False,,
5ef6ec8bd6a0dbcd758e2d6c75e336dc0d998fd3,fa8c19dc9a48b4453e2c3762f67aa78b94d8a9a7,Wez Furlong,wez@fb.com,Sat Nov 29 10:44:36 2014 -0800,1417286676,"rename json_string_binary -> json_stringn_nocheckSummary:nThis matches the name of the equivalent function that has since beennadded in the upstream jansson library.nnAdd a helper function for producing a json_t from a w_string_t,nimplemented in terms of json_stringn_nocheck, and make a sweep over thencode to find call sites that should use it.nnTest Plan: `make integration`nnReviewers: sid0nnDifferential Revision: https://reviews.facebook.net/D29751n",22.0,18.0,"bser.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,string.c,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",12.0,4.0,4.0,3.284829508503261,10.0,696.1666666666665,424.0,-123.69202932098769,2160.5,0.9963869883162042,856.0,None,False,,
fa8c19dc9a48b4453e2c3762f67aa78b94d8a9a7,16ca76add96de462ac08b8c4019c6922f527c236,Ben Hamilton,beng@fb.com,Thu Oct 29 09:27:28 2015 -0700,1446136048,Fix range check in _int_size,10.0,5.0,"python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,1.0,2.0,0.9709505944546686,9.0,208.5,9.0,8.607523148148147,31.5,1.0871330796433998,5.0,Corrective,True,,
16ca76add96de462ac08b8c4019c6922f527c236,74aff4684a0e5151e90e3ef27ef442a31e062219,Wez Furlong,wez@fb.com,Sat Oct 31 09:28:03 2015 -0700,1446308883,fix LLP64 issue with python bser.c on windowsAlso need to check for negative overflown,2.0,2.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,770.0,4.0,10.60792824074074,2167.0,1.0942691143176673,47.0,Corrective,True,,
74aff4684a0e5151e90e3ef27ef442a31e062219,04006877100e1093bb9aa0fbf2d8d21cb5381836,Wez Furlong,wez@fb.com,Sat Oct 31 15:32:44 2015 -0700,1446330764,Fixup format error and exception in pybser error caseAddresses https://github.com/facebook/watchman/issues/181n,5.0,1.0,"python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,1.0,2.0,0.9182958340544896,9.0,211.0,11.0,2.2536574074074074,2168.5,1.3327923745352206,49.0,Corrective,True,,
04006877100e1093bb9aa0fbf2d8d21cb5381836,8c041c99e74f28d43be196d414cee8138b75a9c8,Wez Furlong,wez@fb.com,Sat Oct 31 15:37:36 2015 -0700,1446331056,IndexError -> ValueError for pybserAddresses https://github.com/facebook/watchman/issues/182n,7.0,1.0,"python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,1.0,2.0,0.9544340029249648,9.0,213.0,13.0,0.0033796296296296296,2170.5,222.91780821917808,51.0,Feature Addition,False,,
8c041c99e74f28d43be196d414cee8138b75a9c8,8ab34eecfab6d632b76af3b94795190819ac41ae,Wez Furlong,wez@fb.com,Sat Oct 31 15:41:25 2015 -0700,1446331285,RuntimeException -> RuntimeErrorAddresses https://github.com/facebook/watchman/issues/179n,1.0,1.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,295.0,6.0,0.002650462962962963,2172.0,378.292576419214,52.0,Feature Addition,False,,
8ab34eecfab6d632b76af3b94795190819ac41ae,938cbcc60aa7801ecb5d7faa6d46f674e6b15c25,Wez Furlong,wez@fb.com,Mon Oct 19 07:18:38 2015 -0700,1445264318,pywatchman: add immutable version of data resultsThis adds an alternative object representation for decoded bsernvalues.   The new representation is immutable and can have itsnproperties accessed via either the mapping protocol or as attributes.nnThe goal is to eliminate an intermediate representation in mercurialnand just return the bser values directly in place of stat-likenobjects that are manufactured by the hgwatchman extension.nnThis can save several seconds of runtime in hgwatchman if we adjust itnto process fresh_instance result sets with very large trees.nn`bser.loads` has been augmented with an optional `mutable` flag thatndefaults to `True`.   When `True` we return the same dicts and listsnof dicts that we've always done.  When `False` we return our immutablenobject representation.nnpybser has been updated to respect this flag also.nnTest Plan: `make integration`.  I also built a debug cpython with ASANnto verify the reference counting.n,327.0,57.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",4.0,1.0,2.0,1.3632159147292882,9.0,429.75,39.0,-9.566869212962962,2174.5,0.7967045299615448,56.0,None,False,True,"[""26e02f8428d0b149db8c48007e0cf3808560add1"", ""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
938cbcc60aa7801ecb5d7faa6d46f674e6b15c25,226ae9db07cb48f49afc492a037961d73730b11d,Wez Furlong,wez@fb.com,Sat Oct 31 18:46:03 2015 -0700,1446342363,"Safely check for immutable bser attributes in pywatchmanHit some error cases for the first time, discovered that we werenincorrectly missing raising them because our immutable bser objectnimplements sequence and map, and the `in` operator will walk valuesnand not keys for the sequence rather than the keys for the mappingnprotocol.n",9.0,4.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,531.0,19.0,12.477372685185184,2177.0,1.0801450774318326,57.0,None,False,,
226ae9db07cb48f49afc492a037961d73730b11d,fbab997c6a3cddabb70926cc8610c2933bba13d4,Wez Furlong,wez@fb.com,Mon Nov 9 14:54:50 2015 +0000,1447080890,increase priority on osxWe see some User and Kernel dropped reports on the mac.  Let's inflatenour CPU priority to help avoid this.n,4.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,839.0,60.0,37.692199074074075,2178.0,1.026530688698602,857.0,None,False,,
fbab997c6a3cddabb70926cc8610c2933bba13d4,ae8e197df7efeef5f19790f3ac6cb906ddd4490b,Wez Furlong,wez@fb.com,Tue Nov 24 19:42:17 2015 -0800,1448422937,Log when we receive SIGTERMLog reception of SIGTERM and exit relatively gracefullyn,30.0,10.0,"listener.c,CAS_DELIMITER,log.c,CAS_DELIMITER,tests/log.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,1.4481186309161784,10.0,587.25,262.0,141.3900115740741,2180.5,1.012922349204786,860.0,None,False,True,"[""8f48ffbb3ab28c04f37b0a6e8676a5639dd46f45"", ""99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb""]"
ae8e197df7efeef5f19790f3ac6cb906ddd4490b,7edcb2110ee0c9121f9b7013dd4ec819407e1afc,Wez Furlong,wez@fb.com,Tue Nov 10 11:17:24 2015 +0000,1447154244,"watchman: try to detect symlink changes more reliably on osxSummary: Looking for a way to mitigatenhttps://github.com/facebook/watchman/issues/172 wherein fsevents won'tnsend us notifications about certain classes of changes involvingnsymlinks; the main one we're aware of is where a symlink is changed tonpoint to a file that doesn't (yet) exist on the filesystem.nnThe approach in this diff is to add a configuration optionn(`recheck_dirs_interval_ms`) to specify how long we'll wait before we gonback and re-examine candidate files.nnThis parameter is checked after we've settled and defaults to thentrigger settle interval on mac, but is turned off for Linux.nnOnce we reach this point in time, we perform a query over the recentlynchanged file nodes and collect all dir nodes or the dir-node parents ofnthe files that have changed since we last checked for this category ofnchange.nnIf this list is empty then nothing has changed so we have no furthernwork to do.nnOtherwise, we then search all symlink file nodes and add them to thenset, and we then re-examine this complete list of file nodes andndirectories to try to discover changes that fsevents failed to inform usnof.nnAfter this check we look to see how many nodes were fixed up; if therenwere any fixed up nodes we'll re-set the settle to its base.nnI found a couple of bugs while looking at this:nn1. We didn't respect the recursive flag in `crawler` and wouldnunconditionally recursively crawl every item contained in a dir.nn2. If we re-examined a file node that was already !file->exists andnrealized that it still didn't exist, we'd observe a change for itneven though it logically could not have changed (it was deleted andnstill is deleted).nn3. YATOCTOU (Yet Another...) when we `lstat(2)`; we can traversensymlinks in the path, so we add `w_lstat` which uses our strictnchecking for the path.  This fixes a bug where we'd want to assessna path that had previously been deleted when its parent transitionednfrom a dir to a symlink and then we'd flip-flop between exists andn!exists.nn4. I added an additional fstat in our opendir implementation on mac;nthere is a TOCTOU-style issue where we can return a dir handle fornsomething that isn't actually a dir any more (for dir->symlinkntransitions) and the deferred detection of the error condition isnsuboptimal.  We now stand a greater chance of detecting and dealing withnthis condition when we open the dir.nnTest Plan: `make integration` has no regressions.  Then I repeatedlynchecked out between two revisions in a large repo where there are anlarge number of dir and symlink transitions:nn```n$ hg co master ; rm .hg/watchman.state ; hg status --timen$ hg co arcpatch-XYZ ; rm .hg/watchman.state ; hg status --timen```nnwithout this diff, the second step would consistently report 3 filesnas modified in the `hg status` output.  A subsequent `hg status`nwouldn't show the same files due to the way that it records andnre-checks notable files.nnTo validate that we're not busy waiting or polling too aggressively:nn```n$ watchman -p --server-encoding=json log-level debug | jq .logn```nnis quiet once we've settled.nnActivity monitor shows 0% CPU in this state.n",209.0,14.0,"opendir.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.9162206498157576,10.0,1389.333333333333,321.0,117.13454475308643,2184.0,1.0182004676983751,863.0,None,False,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
7edcb2110ee0c9121f9b7013dd4ec819407e1afc,d1d427f376e3de9c7012a872e29ed54d69aa0ba9,Wez Furlong,wez@fb.com,Tue Dec 1 15:46:03 2015 -0800,1449013563,Prepend to python path in testsOtherwise a site-packages install will take precedence and break thentestsn,2.0,2.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,372.0,12.0,115.84488425925926,2186.0,1.0086322327170012,864.0,Preventative,False,,
d1d427f376e3de9c7012a872e29ed54d69aa0ba9,a75b2b8b74b57382ce9bfa5de6695537e1040912,Wez Furlong,wez@fb.com,Tue Dec 8 10:18:52 2015 -0800,1449598732,"Bump version number to 4.2We've had a couple of reasonably significant bug fixes, so it's worthnbumping the version number.n",3.0,3.0,"configure.ac,CAS_DELIMITER,website/_data/current_release.json,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,3.0,3.0,1.584962500721156,9.0,156.33333333333334,103.0,48.18832561728394,2188.0,1.0126284653094058,67.0,Corrective,True,,
a75b2b8b74b57382ce9bfa5de6695537e1040912,ff658c99533d67860a11cb676908cbfd33f8b859,Wez Furlong,wez@fb.com,Sat Dec 12 10:03:51 2015 -0800,1449943431,"watchman: improve handling of case insensitive filenamesSummary: we hit an issue where a directory rename that changed only thencase of the dir name got us confused.  It had a bad interaction withnthe recently added symlink sanity checking code; the problem manifestednas watchman relatively busily ping-ponging between thinking that `DIR/a`nand `dir/a` existed.nnThe heart of this issue is similar to the one that we solved withnsymlinks; at any point, any path component could have changed case, butnon a case insensitive filesystem we can't ask the system to operate inncase sensitive mode for a given operation.nnThe resolution is similar to our resolution of the symlink issue; as wenwalk down from the root, not only do we check for symlinks, but we nownalso check the canonical case of the path component.  If what we wantnto open doesn't match the canonical case, we report ENOENT.nnThis gives us a pretty decent case-sensitive stat operation (modulonTOCTOU, but it's no worse than our existing symlink checking).nnIn our stat_path/crawler code, we check for ENOENT/ENOTDIR on caseninsensitive filesystems and use that as a signal to look in the parentnof the item that we tried to examine.nnThis serves two purposes:nn1. It allows us to discover the new canonical name by walking the dirn   contents.n2. We can garbage collect any other similarly case-changed items in thatn   dir.nnA nice side effect of this is that we can remove the relatively complexnlc_files hash stuff; our core data structures can all be case sensitivenand we can leave the insensitive matching to the query engine.  Thisnmeans that we can halve the memory used to build our filesystem treenrepresentation on Mac (nice!) but does make it a bit more expensive toncrawl the filesystem.nnSo, looking at perf; implementing things strictly as described abovenadds 50% to the initial crawl time for one of our large repos (so 150%ntotal time vs. prior implementation).nnThe original intent of the code that walks down from the root was tonavoid going out to am expensive remote filesystem if a symlink changensurprised us.  Since that type of change is not common, and becausenwe're happy to now perform case sensitive compares on the path vs. thencanonical path, we can switch to using a system-dependent means fornobtaining the canonical path from an opened file descriptor.nnThis switch takes us from a negative perf impact to a positive perfnimpact; 50% of the prior implementation for crawling this same largenrepo.nnTest Plan:nnRebasing either side of a directory case change rename followed by `hgnstatus` does not show any phantom files.nn`make integration` passes.nnThis little program shows that F_GETPATH works as intended, and also onnmounted drives:nn```n$ cat norm.cnnvoid info(const char *path) {n  char *real = realpath(path, NULL);nn  printf(Input path: %sn, path);n  printf(Realpath: %sn, real);nn  int fd = open(path, O_RDONLY);n  if (fd != -1) {nchar buf[MAXPATHLEN];nnbuf[0] = 0;nint res = fcntl(fd, F_GETPATH, buf);nnprintf(F_GETPATH: %d %sn, res, buf);n  }nn  printf(n);n}nnint main(int argc, char**argv) {n  int i;nn  for (i = 1; i < argc; i++) {ninfo(argv[i]);n  }n  return 0;n}n```nn```n$ ./norm /Volumes/mercurial/.temporaryitems /VolumesnInput path: /Volumes/mercurial/.temporaryitemsnRealpath: /Volumes/mercurial/.TemporaryItemsnF_GETPATH: 0 /Volumes/mercurial/.TemporaryItemsnnInput path: /VolumesnRealpath: /VolumesnF_GETPATH: 0 /Volumesn```n",287.0,337.0,"opendir.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/pathmap.c,CAS_DELIMITER,winbuild/realpath.c,CAS_DELIMITER",6.0,2.0,2.0,1.1783176839698741,10.0,809.1666666666665,339.0,132.19656635802468,2192.5,1.0117007546953738,70.0,None,False,True,"[""b931559d254b9a6f75dcad4a4a382941b136f932"", ""b1aea7a96067e099b95d3cae7a5b5074e3238e56"", ""a10f6ba477cf77942dad0ef79844693217c46323""]"
ff658c99533d67860a11cb676908cbfd33f8b859,6228cc697d8d94f7934f980d3ea1b32350e4d0f8,Wez Furlong,wez@fb.com,Mon Dec 14 14:53:58 2015 -0800,1450133638,Bump version number to 4.3.0,3.0,3.0,"configure.ac,CAS_DELIMITER,website/_data/current_release.json,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,3.0,3.0,1.584962500721156,10.0,156.66666666666666,107.0,4.861184413580247,2197.0,1.1036186516756759,71.0,None,False,,
6228cc697d8d94f7934f980d3ea1b32350e4d0f8,887941a04bc7f483b3af7ab6d71b2ef6aaa4946d,Wez Furlong,wez@fb.com,Wed Dec 16 23:06:17 2015 -0800,1450335977,mac: start watchman at loginThis arranges for watchman to start as soon as launchd loads the job.nThis is desirable because it should result in the watches beingnre-established in time for the user to start being interactive.n,1.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,843.0,61.0,37.67461805555556,2199.0,1.02654306935575,870.0,None,False,,
887941a04bc7f483b3af7ab6d71b2ef6aaa4946d,2ca4c24663627219bfb6fc14882b13a8c057da7d,Jun Wu,quark@lihdd.net,Mon Jan 4 18:56:40 2016 +0000,1451933800,"pybser: allow st_size in __getattr__Fixes `AttributeError: _BunserDict has no attribute st_size` when bser.c is notncompiled. Traceback:nnFile hg/mercurial/dirstate.py, line 1101, in statusn  ((size != st.st_size and size != st.st_size & _rangemask)nFile hgwatchman/hgwatchman/pywatchman/pybser.py, line 245, in __getattr__n  raise AttributeError('_BunserDict has no attribute %s' % name)n",1.0,4.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,356.0,8.0,77.1930787037037,0.0,0.0,0.0,None,False,,
2ca4c24663627219bfb6fc14882b13a8c057da7d,36d4b347715f328f7e2802a0495daa0d7de5af04,Christoph Pojer,christoph.pojer@gmail.com,Fri Dec 11 16:34:03 2015 -0800,1449880443,Cleanup node/index.js,6.0,4.0,"node/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,317.0,9.0,109.1116550925926,0.0,0.0,0.0,Perfective,False,,
36d4b347715f328f7e2802a0495daa0d7de5af04,9e4ef23a0e4a902aeb5260883921b596258821b7,Wez Furlong,wez@fb.com,Mon Jan 4 13:27:15 2016 -0800,1451942835,bump fb-watchman package version for npmrefs: https://github.com/facebook/watchman/pull/191n,1.0,1.0,"node/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,35.0,10.0,132.23,2200.0,1.0075625803524162,32.0,None,False,,
9e4ef23a0e4a902aeb5260883921b596258821b7,acba4edba87193c7ba73f8b6afdc75d5d2823578,Christoph Pojer,christoph.pojer@gmail.com,Wed Jan 13 15:22:05 2016 -0800,1452727325,Guard against receiving data after the socket was closed.,3.0,1.0,"node/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,319.0,10.0,32.95002314814815,1.0,1.0303489923361768,1.0,None,False,,
acba4edba87193c7ba73f8b6afdc75d5d2823578,ea55ade522509435082293f99ca7a06a8400cd52,Wez Furlong,wez@fb.com,Wed Jan 13 16:02:22 2016 -0800,1452729742,bump node package version,1.0,1.0,"node/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,35.0,11.0,9.107719907407407,2201.0,1.109796964571417,33.0,None,False,,
ea55ade522509435082293f99ca7a06a8400cd52,aa4fb0d571477f5f96677a71897a9ae784ee8849,Wez Furlong,wez@fb.com,Fri Jan 22 14:17:35 2016 -0800,1453501055,Adjust windows build scriptThis makes it succeed if the tools are in the path but the INCLUDE pathnisn't configured.n,11.0,1.0,"make.bat,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,6.0,4.0,172.9541782407407,2202.0,1.0057818782418084,871.0,None,False,True,"[""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3""]"
aa4fb0d571477f5f96677a71897a9ae784ee8849,f17933f368248ba99119bc969c54f546655e7198,Ceesjan Luiten,ceesjan@ytec.nl,Fri Jan 15 09:50:17 2016 +0100,1452847817,node: Don't crash during error handlingRefs: https://github.com/facebook/watchman/pull/200n,1.0,1.0,"node/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,321.0,11.0,1.3945833333333333,0.0,0.0,0.0,None,False,,
f17933f368248ba99119bc969c54f546655e7198,aadffa19c05715f281667e6a5fa4945881334978,Wez Furlong,wez@fb.com,Fri Jan 22 21:32:45 2016 -0800,1453527165,Adjust windows build script some moreMake a guess about php and python locationsn,6.0,0.0,"make.bat,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,16.0,5.0,0.3021990740740741,2203.0,4.309076981999233,872.0,None,False,,
aadffa19c05715f281667e6a5fa4945881334978,9d9ca7bc3567253a2517f806c0163f8c800100b0,Wez Furlong,wez@fb.com,Tue Jan 12 22:25:21 2016 -0800,1452666321,"fix off by 1 for time generatorJez noted that he sometimes receives a second run of notificationsnthat were part of a prior query response.  The second run is strictlyna subset of the earlier query results.nnIn these cases the oclock is the same in both queries and equal to thensince parameter in the second query.nnThis sounds like an off by one and looking a bit harder, the timengenerator is terminating its walk if the oclock of the node is <nthe since parameter.  It seems like the condition should be <= sonthat we don't repeat a notification.nnTest Plan:  `make integration` continues to pass with this changen",1.0,1.0,"query/eval.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,436.0,15.0,98.02805555555555,2204.0,1.0102011612321868,82.0,Corrective,True,,
9d9ca7bc3567253a2517f806c0163f8c800100b0,12d75fe36aecbdb727ad7b4cde509299d95e268b,Wez Furlong,wez@fb.com,Tue Jan 26 08:08:09 2016 -0800,1453824489,"subscriptions: update the ticks when a query yields no resultsWe've been tracking an issue where we behave poorly when a subscriptionndoesn't match any files after an extended period of changes.nnIn that situation, if the root is currently on tick 400 and thensubscription last matched at tick 10, every observed change willncause a walk over all the files walking from most recent to eldest,nuntil it finds any that had tick<=10.  This can take hundreds ofnmilliseconds in a busy tree.nnThis diff causes us to update the subscription clockspec in the casenthat it yielded no results.nnTest Plan: passes `make integration` in this andnhttps://github.com/facebook/watchman/pull/187n",11.0,6.0,"cmds/subscribe.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,253.0,18.0,422.89135416666664,2205.0,1.0023646735506584,93.0,None,False,,
12d75fe36aecbdb727ad7b4cde509299d95e268b,cea93f2a3262f67ab20c928b378a6b99f0cca2a6,Wez Furlong,wez@fb.com,Mon Nov 2 07:45:34 2015 -0800,1446479134,Add docs for state-enter/state-leave,328.0,2.0,"website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/cmd.query.markdown,CAS_DELIMITER,website/_docs/cmd.state-enter.markdown,CAS_DELIMITER,website/_docs/cmd.state-leave.markdown,CAS_DELIMITER,website/_docs/cmd.subscribe.markdown,CAS_DELIMITER",5.0,1.0,2.0,1.6928017713769103,9.0,62.2,6.0,34.920631944444445,2208.0,1.019224181122902,197.0,Feature Addition,False,,
cea93f2a3262f67ab20c928b378a6b99f0cca2a6,fc1ce3d79b4c8e93bfa90d7ad1a6972f73be8534,Wez Furlong,wez@fb.com,Mon Nov 2 10:04:56 2015 -0800,1446487496,"Add state-enter and state-leave commandsThese manipulate the asserted states on a given root, but don'tnapply any defer/drop behaviors for subscriptions yet.n",367.0,1.0,"Makefile.am,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,4.0,4.0,0.3989200129495062,10.0,516.1666666666666,346.0,3.7022955246913583,2213.5,1.0370610381543452,72.0,Feature Addition,False,True,"[""00d60ff136624b3a8329b6ebc8b2ccb3ea13e1fc"", ""32f0ce1ac56762a5e9ba3d37868f30734d491de2"", ""afaaf8820ef906e32c71030c4c2c219ec24d1d99"", ""e37ae3e7fccd04c9e6175949da18f3116ffe2315""]"
fc1ce3d79b4c8e93bfa90d7ad1a6972f73be8534,cc9cc68a654371f5ed557a841bccdba9c1e4c30a,Wez Furlong,wez@fb.com,Mon Nov 2 10:20:16 2015 -0800,1446488416,"Parse drop and defer fields in subscribe commandThis is just for recall purposes, will action the fields inna follow on diff.n",38.0,0.0,"cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,0.6895092649964162,10.0,796.0,266.0,-28.295652006172837,2218.0,0.9882211044669268,877.0,None,False,True,"[""e2c9a65614f1b95c75f4a90e6717a81e3524d875""]"
cc9cc68a654371f5ed557a841bccdba9c1e4c30a,f144e21d544e07ea96670f2a0ba455942c942d53,Wez Furlong,wez@fb.com,Mon Nov 2 10:48:14 2015 -0800,1446490094,Implement defer/drop behavior for subscriptions,49.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,2770.0,186.0,-39.969178240740746,2220.0,0.9749807215455659,878.0,None,False,,
f144e21d544e07ea96670f2a0ba455942c942d53,c859bc1c582e14f96e7928aa909676a57194ad1c,Wez Furlong,wez@fb.com,Mon Nov 2 15:10:03 2015 -0800,1446505803,"Port subscription test to pythonIn the process, expand the getSubscription API in pywatchman sonthat it can track and return per-watch subscription data.nnThis is important because we can bleed data across tests in our testnharness and because we run a matrix for each test case, there aren2/3 chances to collide and see stale data on the pre-existing clientnsession object.nnExpand the test to positively assert that `defer_vcs` is operatingnas we expect.n",244.0,195.0,"python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/subscribe.php,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",4.0,2.0,2.0,1.7172170754853835,9.0,226.0,43.0,31.717890625,2222.5,1.1398415696970647,313.0,Preventative,False,True,"[""26e02f8428d0b149db8c48007e0cf3808560add1""]"
c859bc1c582e14f96e7928aa909676a57194ad1c,805111a92e016c7af1375eeebba67147b92d7716,Wez Furlong,wez@fb.com,Mon Nov 2 16:30:19 2015 -0800,1446510619,Add tests for subscription defer/drop,107.0,6.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,1.0,1.0,0.4605229209452513,9.0,195.0,11.0,0.05574074074074074,2225.5,14.455149501661127,315.0,Feature Addition,False,,
805111a92e016c7af1375eeebba67147b92d7716,5751d6d08c62acebcf70209804ce75020710a784,Wez Furlong,wez@fb.com,Wed Jan 27 14:12:56 2016 -0800,1453932776,"Update state-enter and related docs for 4.4This small stack claims support since 4.2, but the most recent releasenis 4.3.  Let's bump up in preparation for 4.4n",5.0,5.0,"configure.ac,CAS_DELIMITER,website/_docs/cmd.state-enter.markdown,CAS_DELIMITER,website/_docs/cmd.state-leave.markdown,CAS_DELIMITER,website/_docs/cmd.subscribe.markdown,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",5.0,3.0,3.0,2.3219280948873617,10.0,180.4,108.0,69.35000462962964,2229.0,1.0082451008875193,73.0,Non Functional,False,,
5751d6d08c62acebcf70209804ce75020710a784,fd195d5f6a5b2903ee09ed69d6976bb3ded23b91,Wez Furlong,wez@fb.com,Wed Jan 27 14:18:58 2016 -0800,1453933138,bump npm package versionhttps://github.com/facebook/watchman/pull/200n,1.0,1.0,"node/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,35.0,12.0,13.928194444444443,2232.0,1.0717968150135118,34.0,None,False,,
fd195d5f6a5b2903ee09ed69d6976bb3ded23b91,7ba60935b0be5a047726b2c190699d9a00636b0d,Wez Furlong,wez@fb.com,Mon Feb 1 10:17:52 2016 -0800,1454350672,Fix warning in watchman-makeMust have missed this when refactoring an earlier version.nCopied the equivalent code from watchman-waitnnhttps://github.com/facebook/watchman/issues/207n,1.0,1.0,"python/bin/watchman-make,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,229.0,1.0,108.03556712962965,2233.0,1.0092562109550471,59.0,Corrective,True,,
7ba60935b0be5a047726b2c190699d9a00636b0d,7d5c083cdfd56bbe0e75eb37c91110d8761c207a,Wez Furlong,wez@fb.com,Mon Feb 1 21:47:54 2016 -0800,1454392074,Clarify the error reason in proc.close,4.0,3.0,"node/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,321.0,12.0,17.873344907407404,2234.0,1.0559492364289105,35.0,None,False,,
7d5c083cdfd56bbe0e75eb37c91110d8761c207a,50e0c0b6bb0c024a56e9d72d3dd8335dde35070f,Wez Furlong,wez@fb.com,Tue Feb 2 16:43:46 2016 -0800,1454460226,watchman-wait: fix allof vs anyof condition for multiple patternsSummary: facepalmnnTest Plan: `watchman-wait -m 1 --pattern '**/*.cpp' '**/*.h' -- .`nnand `touch f.h` should cause it to terminaten,1.0,1.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,222.0,1.0,109.30355324074074,2235.0,1.0091488334125562,60.0,None,False,,
50e0c0b6bb0c024a56e9d72d3dd8335dde35070f,6257e6ec6915f86b748ebb579e0ccbd3bb73b1d1,Wez Furlong,wez@fb.com,Wed Feb 3 14:57:24 2016 -0800,1454540244,travis: restore dumping error logs on test failureTrying to understand a test failure on Travis and noticed that our logsnaren't where they used to ben,3.0,2.0,"Makefile.am,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9709505944546686,10.0,118.0,90.0,136.22149884259258,2236.5,1.0071998746104418,41.0,None,False,,
6257e6ec6915f86b748ebb579e0ccbd3bb73b1d1,483cd9265d7dc6adc1a62deeb1a9911676fa916e,Wez Furlong,wez@fb.com,Thu Feb 4 08:53:01 2016 -0800,1454604781,fix subscription/initial crawl race conditionIt's possible for the subscription request to complete (with an emptyninitial set) if it is placed immediately after initiating a watch butnbefore the crawl is complete.  This can happen because subscriptionsndon't use query synchronization.nnThis race happened to be won/lost consistently on the Travis CI infranand caused problems because the test wanted to observe the initialnfile results for a freshly created directory structure before itnwould proceed and make changes.  That effectively caused a deadlocknbecause we wouldn't send any of the changes in that view until ansubsequent filesystem change was observed.nnThe simple resolution is to increment the ticks prior to recordingnthe file generated by either the initial crawl or subsequent recrawlsn,4.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,2819.0,187.0,93.91998842592592,2238.0,1.0106473607669648,881.0,Corrective,True,,
483cd9265d7dc6adc1a62deeb1a9911676fa916e,222447241292c10d0a4eb49ec8659515456d1cb6,Wez Furlong,wez@fb.com,Tue Feb 2 21:57:28 2016 -0800,1454479048,"inotify: don't unconditionally set the recursive flagSummary: durham noticed that calls to `clock` were taking 6 seconds tonreturn during some rebase profiling with hgwatchman.  Looking deeper,nwe're doing a lot of recursive walking.  I don't recall why we werensetting recursive to true here, but turning it off seems to have nonnegative side effects; the watchman integration tests pass, as donthe mercurial tests.nnTest plan: ran hgwatchman + hg tests, `make integration` passes,ncorrected the slow rebase behavior.  Let's see what Travis CI makes ofnit.n",1.0,2.0,"watcher/inotify.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,497.0,13.0,109.4703587962963,2239.0,1.0091348928695922,53.0,None,False,True,"[""46ed00701b7d0a722a8da350464f945bdee59691""]"
222447241292c10d0a4eb49ec8659515456d1cb6,4c5c0ad3ab3a5ab41ebb0834fce1c9b7c327c57f,Wez Furlong,wez@fb.com,Fri Feb 5 13:44:14 2016 -0800,1454708654,bump version number in-tree and for the docs,3.0,3.0,"configure.ac,CAS_DELIMITER,website/_data/current_release.json,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,3.0,3.0,1.584962500721156,10.0,156.66666666666666,112.0,23.637237654320987,2241.0,1.0472021968752043,74.0,Non Functional,False,,
4c5c0ad3ab3a5ab41ebb0834fce1c9b7c327c57f,d8b6e1bac9cd20245192906b420fab449ea6198e,Wez Furlong,wez@wez-mbp.dhcp.thefacebook.com,Wed Feb 17 18:27:25 2016 -0800,1455762445,"Avoid -Werror,-Wparentheses-equality pedantry",1.0,1.0,"opt.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,246.0,14.0,413.2974421296296,2243.0,1.0024195649381404,883.0,None,False,,
d8b6e1bac9cd20245192906b420fab449ea6198e,46ed00701b7d0a722a8da350464f945bdee59691,Wez Furlong,wez@fb.com,Wed Feb 17 15:55:23 2016 -0800,1455753323,fix inotify race conditionSummary: This fixes an issue that we found on linux after introducingn222447241292c10d0a4eb49ec8659515456d1cb6nnWhat happens is that there is a race condition in the case that andirectory tree is non-atomically replaced and rebuilt; we end up missingnthe information about the tree being rebuilt.nnThis diff adds an integration test to reproduce the problem scenario andnfixes it by conditionally setting the recursive flag in the handful ofncases that make sense.nnTest Plan: `make integration`nnReviewers: sid0nnCC:nnTask ID: #9981085nnBlame Rev:n,59.0,1.0,"tests/integration/test_dir_move.py,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER",2.0,2.0,2.0,0.5665095065529053,9.0,248.0,14.0,7.37427662037037,2244.5,0.5339016303388201,54.0,Corrective,True,True,"[""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
46ed00701b7d0a722a8da350464f945bdee59691,442744369ce071f3774d2f9209101b7304f62235,Wez Furlong,wez@fb.com,Wed Feb 17 19:23:08 2016 -0800,1455765788,Fix typo in pywatchmanRefs: https://github.com/facebook/watchman/issues/210n,1.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,563.0,21.0,107.17575231481482,2246.0,1.009330468677865,61.0,Corrective,True,,
442744369ce071f3774d2f9209101b7304f62235,e65669761986d7905b739921e7de35b5c7e24c7c,Wez Furlong,wez@fb.com,Thu Feb 18 18:47:51 2016 -0800,1455850071,bump release for website,1.0,1.0,"website/_data/current_release.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,3.0,7.0,13.210844907407408,2247.0,1.0756953856478395,202.0,None,False,,
e65669761986d7905b739921e7de35b5c7e24c7c,26e02f8428d0b149db8c48007e0cf3808560add1,Wez Furlong,wez@fb.com,Tue Jan 26 11:17:36 2016 -0800,1453835856,"fix up named pipes on windowsSummary: Our windows builds have been failing since the pythonnsubscription tests were committed.  This is because we've hadna lurking problem with named pipes since Windows support went in.nnThis diff tackles this on both the pywatchman client and on thenserver side.nn* pywatchman: use ctypes to invoke native win32 APIs for workingn  with pipes.  All our reads and writes are now overlapped (async)n  IOs that are waited for explicitly.  This avoids unboundedn  wait time in cases where either the client or the server isn  out of sync with the other in the watchman protocolnn* runtests.py: fix a threading/waiting problem that would causen  the harness to hang forever if we encountered an error veryn  early in the harness initialization.nn* stream_win.c: Treat WAIT_IO_COMPLETION as equivalent to EINTRn  and pay closer attention to when we set and reset our synchronizationn  event.nn* stream_win.c: For subscriptions, we may elect to queue a numbern  of unilateral PDUs in quick succession, and the writes for thosen  PDUs may only partially complete.  Fixup our handling of partialn  writes and re-queue the remainder.n",303.0,33.0,"python/pywatchman/__init__.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,winbuild/errmap.c,CAS_DELIMITER",5.0,4.0,4.0,1.1997429951556642,9.0,355.2,48.0,105.61852083333332,2250.0,0.9989786223044403,75.0,Corrective,True,,
26e02f8428d0b149db8c48007e0cf3808560add1,d462a5ba2468e3e5cdd628494ae3b68eac4feb34,Wez Furlong,wez@fb.com,Sat Feb 20 23:40:45 2016 -0800,1456040445,"Cancel subscriptions when we cancel a rootIt turns out that we were not fully cleaning up associations from anclient subscription to cancelled roots.  This could cause test_age_watchnto fail intermittently because the root pointer was later re-used for andifferent watch and we'd notice that the long lived client session fromna deleted watch matched the root; that would block us from aging our thennew incarnation of the root.nnWhen the final ref on a root is about to go, let's walk over the clientnlist and generate a cancellation subscription notification and removenthe association.n",72.0,9.0,"cmds/subscribe.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,3.0,3.0,1.166012006585888,10.0,1049.5,348.0,106.2027199074074,2254.5,1.005611164932675,887.0,Corrective,True,,
d462a5ba2468e3e5cdd628494ae3b68eac4feb34,3b96a5381987db69a4fa5ddb989463a8d32b7e5f,Wez Furlong,wez@fb.com,Sun Feb 21 00:09:11 2016 -0800,1456042151,Upload test logs when running on appveyorEnables capturing the build logs for appveyor; capture them to a zipnfilen,5.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,374.0,14.0,25.535821759259267,2257.0,1.0391606743431865,888.0,Preventative,False,,
3b96a5381987db69a4fa5ddb989463a8d32b7e5f,a0ada2889841b6248302be61e77e2c35b1516be6,Wez Furlong,wez@fb.com,Sun Feb 21 08:55:48 2016 -0800,1456073748,maybe fix race in age.phpIt seems to show up on windows and is most likely related to inabilitynto remove files in a timely fashion.n,26.0,8.0,"arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanDirectoryFixture.php,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,3.0,4.0,1.8679033711759767,10.0,100.0,43.0,226.6539490740741,2260.0,1.0021249096320193,76.0,Corrective,True,,
a0ada2889841b6248302be61e77e2c35b1516be6,3078575de2d1fad066fd176df210fa50bb825540,Wez Furlong,wez@fb.com,Sun Feb 21 09:50:57 2016 -0800,1456077057,debug log start and end of command dispatch,2.0,0.0,"cmds/reg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,187.0,7.0,448.96274305555573,2263.0,1.0022273563128965,97.0,Corrective,True,,
3078575de2d1fad066fd176df210fa50bb825540,1c334af18a1669a30fd0a158db599573c8bfbba3,Wez Furlong,wez@fb.com,Wed Oct 21 13:50:23 2015 -0700,1445460623,"theoretically allow per-root watcher selectionThis is a refactoring that allows each root to have its own watchernimplementation/class.nnThere's no way to actually express that at the moment, so we'renfunctionally the same as before this diff.nnA follow-on diff will allow selecting the watcher.nnI've removed the global watcher init/dtor and global watcher instancentype from the code in this diff; we didn't use it and it makes itnmore difficult to have a per-root watcher class.n",146.0,280.0,"Makefile.am,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watcher/auto.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",11.0,3.0,3.0,3.027691067251096,10.0,663.1818181818181,524.0,-53.77296296296297,2269.0,0.9962558929939844,77.0,None,False,True,"[""718d41f7e044dbf59609f9edf5cc50e68c42132b"", ""1b2c278937019db8809a8424884520a563937cfa""]"
1c334af18a1669a30fd0a158db599573c8bfbba3,718d41f7e044dbf59609f9edf5cc50e68c42132b,Wez Furlong,wez@fb.com,Thu Oct 22 06:52:11 2015 -0700,1445521931,"Allow selecting the watcherIntroduces a `watcher` configuration option that specifies the name ofnthe watcher that should be used.nnThe default is `auto` which will run through the list ofn`available_watchers` and use whichever is first to successfullyninitialize.nnIf a specific watcher is requested and fails to initialize, watchmannwill fall back to using `auto`; this is so that we make a best effort tonstart successfully.n",86.0,20.0,"cmds/watch.c,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,watcher/auto.c,CAS_DELIMITER",4.0,3.0,3.0,0.674702274732776,10.0,184.25,34.0,70.43914351851852,2276.5,1.0037633046961436,61.0,Corrective,True,,
718d41f7e044dbf59609f9edf5cc50e68c42132b,c95bf469ce2d8bc83c8a1377e5f68f7747c671d2,Wez Furlong,wez@fb.com,Tue Feb 23 18:30:21 2016 -0800,1456281021,refactor: make this part of the makefile easier to modifyI have a couple of branches that all touch this line; make it easier fornthem add things without conflictsn,10.0,3.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,205.0,66.0,125.23608796296296,2279.0,1.0079849188541865,893.0,None,False,,
c95bf469ce2d8bc83c8a1377e5f68f7747c671d2,af477d00cd8486cc9d77f49e3274a5530baaef00,Qwait,matthew@matthewhousden.com,Thu Feb 25 00:06:27 2016 -0500,1456376787,Make pywatchman run on Python 3Refs: https://github.com/facebook/watchman/pull/219n,6.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,9.0,565.0,32.0,40.41619212962963,0.5,0.5061856396366624,1.0,None,False,,
af477d00cd8486cc9d77f49e3274a5530baaef00,150f1fb4eff94c0248b54154fb356f768a131d60,Martijn Pieters,mjpieters@fb.com,Wed Mar 2 16:13:19 2016 +0000,1456935199,"Update the license metadata.All source files already use the BSD 3-clause text, this change just reflectsnthe correct license in the package metadata.n",2.0,2.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,36.0,11.0,132.09614583333334,0.0,0.0,0.0,None,False,,
150f1fb4eff94c0248b54154fb356f768a131d60,bc3836ee6b5e192d21c9d92305db1ce5f0cf8998,Wez Furlong,wez@fb.com,Thu Mar 3 21:47:53 2016 -0800,1457070473,add CircleCI,21.0,3.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,circle.yml,CAS_DELIMITER,runtests.py,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",4.0,3.0,3.0,1.6440011333048612,10.0,300.75,90.0,62.926568287037036,2281.5,1.0044922933675708,42.0,Feature Addition,False,,
bc3836ee6b5e192d21c9d92305db1ce5f0cf8998,4a651923b8b0b804db51d27cccd0ffa53face417,Wez Furlong,wez@fb.com,Sun Feb 28 15:33:00 2016 -0800,1456702380,Record the purpose of the lock holder when locking the rootThis will enable improved diagnostics in a followup diffn,37.0,32.0,"cmds/debug.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",10.0,4.0,4.0,2.8838863011509788,10.0,658.0,416.0,197.24342824074085,2288.5,1.0015598081928854,898.0,None,False,True,"[""1b2c278937019db8809a8424884520a563937cfa""]"
4a651923b8b0b804db51d27cccd0ffa53face417,2f71d43c22d1401f6fb55226f78a8c6184718916,Wez Furlong,wez@fb.com,Sun Feb 28 16:16:42 2016 -0800,1456705002,add pthread_mutex_timedlock emulation for DarwinWill need this for some lock related diagnostics in a follow-on diffn,51.0,0.0,"Makefile.am,CAS_DELIMITER,timedlock.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.8470056411015325,10.0,404.33333333333326,206.0,1.6458449074074073,2295.0,1.203365218221048,901.0,Feature Addition,False,,
2f71d43c22d1401f6fb55226f78a8c6184718916,72f42bcbf333bc06d777a5f6eef7539da603ea80,Wez Furlong,wez@fb.com,Sun Feb 28 16:32:35 2016 -0800,1456705955,"add w_root_lock_with_timeoutThis is helpful when we wish to set an upper bound on how long we wishnto wait for watchman to become ready when running queries.nnI've introduced a new lock_timeout field to the query definition.  Itndefaults to 1 minute.nnIf the lock cannot be acquired within the specified lock_timeout, thennwe will log the reason to the log file and include the currentnlock_reason in the error string that we return in the error response tonthe client making the query.n",103.0,1.0,"cmds/subscribe.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,website/_docs/cmd.query.markdown,CAS_DELIMITER",7.0,4.0,4.0,2.1682253174641954,10.0,783.0,414.0,95.5011011904762,2300.0,1.040867360384399,203.0,Feature Addition,False,True,"[""3518ccfe7137aef526bf815e2fe629b43778529a""]"
72f42bcbf333bc06d777a5f6eef7539da603ea80,3518ccfe7137aef526bf815e2fe629b43778529a,Wez Furlong,wez@fb.com,Fri Mar 4 00:16:46 2016 -0800,1457079406,Fix assignment(Should have let the PR run one more time before pushing this)n,1.0,1.0,"cmds/subscribe.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,334.0,22.0,4.322349537037037,2304.0,1.2313556530843404,105.0,Corrective,True,,
3518ccfe7137aef526bf815e2fe629b43778529a,dbb042c46d1f0feba310f7031a9e103ccb5b15ea,Wez Furlong,wez@fb.com,Sun Feb 28 14:27:46 2016 -0800,1456698466,add --watcher argument for runtestsThis allows selecting a different watcher from the default automaticnselection.n,9.0,1.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,379.0,16.0,-4.305636574074073,2305.0,0.7677463058490834,905.0,Feature Addition,False,True,"[""223c17ca5400b363316248d90adbcb038e89686f""]"
dbb042c46d1f0feba310f7031a9e103ccb5b15ea,b8f5cd0d652e3fc5a27705868306f98906c7c451,Wez Furlong,wez@fb.com,Thu Feb 25 08:05:41 2016 -0800,1456416341,"fix longstanding `watchman -p --server-encoding=json` bugWhen using the watchman CLI in persistent mode, we'd hit an errornidentifying the PDU.  The workaround was to specify json encoding.nnI finally got around to looking into this and the cause is quite simple:nwe're hitting an EAGAIN error and not setting a very good error messagen(we skip formatting it because we consider it to be a frequent andnuninteresting condition).nnWe get EAGAIN because the bser PDU reader unconditionally enables andndisables non-blocking at certain phases, so even though we started outnin blocking mode, after reading the initial response from the server wenend up in non-blocking and fall over.nnThe resolution is simply to fixup the passthru mode of the CLI to resetnus back to blocking mode just prior to decoding the next PDU header.n",1.0,0.0,"json.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,550.0,14.0,163.53011574074077,2306.0,1.006115081588919,906.0,Corrective,True,,
b8f5cd0d652e3fc5a27705868306f98906c7c451,2a89e336d3479464e9208c2737fe53734aa48dcd,Wez Furlong,wez@fb.com,Sun Feb 28 14:30:25 2016 -0800,1456698625,pending: print flags when we log add_pending,10.0,1.0,"pending.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,203.0,4.0,144.2900115740741,2307.0,1.0069304866573292,907.0,None,False,,
2a89e336d3479464e9208c2737fe53734aa48dcd,904f1395e812a31e11653d65d17058078c128942,Wez Furlong,wez@fb.com,Wed Feb 17 20:16:32 2016 -0800,1455768992,Add configure check for fsevents kernel headerRefs: https://github.com/facebook/watchman/issues/172n,19.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,277.0,94.0,12.272430555555555,2308.0,1.0814834515032,908.0,Feature Addition,False,,
904f1395e812a31e11653d65d17058078c128942,7e3220173e9becce8648330d34a1b0e714312e38,Wez Furlong,wez@fb.com,Wed Feb 17 21:54:05 2016 -0800,1455774845,refactor: move launchd helper to its own fileThis facilitates running a separate daemon process for devfseventsnnRefs: https://github.com/facebook/watchman/issues/172n,70.0,63.0,"Makefile.am,CAS_DELIMITER,launchd.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,1.1890508915236482,10.0,586.75,322.0,21.484843750000003,2310.5,0.9590501397868498,912.0,None,False,,
7e3220173e9becce8648330d34a1b0e714312e38,b8b72bfe420a7225bb8fdaf8fdd741a1c9dd8df4,Wez Furlong,wez@fb.com,Wed Feb 17 21:56:35 2016 -0800,1455774995,refactor: u32_strlen strlen_uint32,10.0,10.0,"query/suffix.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,0.9219280948873624,10.0,573.3333333333334,175.0,286.3036959876543,2314.0,1.0015824156508273,914.0,None,False,,
b8b72bfe420a7225bb8fdaf8fdd741a1c9dd8df4,0278e0d7691dda6199b20a739c0aa7385d717523,Wez Furlong,wez@fb.com,Wed Feb 17 22:01:41 2016 -0800,1455775301,add w_string_new_len and w_string_path_cat_cstr_lenThese allow construction of strings from a c-string for which wenalready know the length.n,14.0,6.0,"string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.6098403047164004,10.0,830.5,172.0,0.0035416666666666665,2316.5,212.76470588235298,916.0,Feature Addition,False,,
0278e0d7691dda6199b20a739c0aa7385d717523,5be1a9a6db3c329b15e50da61f581236fac445ff,Wez Furlong,wez@fb.com,Wed Feb 17 22:08:59 2016 -0800,1455775739,refactor: move time function out of root.c and into time.c,22.0,13.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,time.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.6257923645078571,10.0,819.5,279.0,27.15796875,2319.5,25.116889673486696,78.0,None,False,,
5be1a9a6db3c329b15e50da61f581236fac445ff,caa18371ccb65c8c44a7e2578ae61bd19021c921,Wez Furlong,wez@fb.com,Wed Feb 17 22:28:36 2016 -0800,1455776916,refactor: move w_realpath to opendir.cIt feels cleaner over theren,37.0,38.0,"opendir.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,1.0,1.0,0.9998717566408492,10.0,1687.5,200.0,33.765405092592594,2322.5,1.0148095496018603,921.0,None,False,True,"[""3f575f5610a0cf1747a9f06b99d76a2b01497e41""]"
caa18371ccb65c8c44a7e2578ae61bd19021c921,75fc3dadc9506e3d2ac41618bff7a2052d3fa124,Wez Furlong,wez@fb.com,Wed Feb 17 22:39:48 2016 -0800,1455777588,refactor: move clockspec routines from listener to clockspec.c,208.0,202.0,"Makefile.am,CAS_DELIMITER,clockspec.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.0667045849913586,10.0,503.2,347.0,0.020203703703703703,2326.0,27.94607866209404,79.0,None,False,True,"[""9f2fce0df71032e96cd9a6de0df3812280831120""]"
75fc3dadc9506e3d2ac41618bff7a2052d3fa124,d73c91ac44c70193a2374d913a243446c194af4f,Wez Furlong,wez@fb.com,Wed Feb 17 22:55:01 2016 -0800,1455778501,"refactor: move user daemon specific functions to listener-userAdding the devfsevents daemon code will re-use the infrastructure innlistener.c, so pull out portions that are focused on the per-usernservice.n",95.0,99.0,"Makefile.am,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.0821392606359512,10.0,324.5,206.0,0.007925347222222224,2330.5,68.03176341730557,80.0,None,False,True,"[""9f2fce0df71032e96cd9a6de0df3812280831120"", ""e37ae3e7fccd04c9e6175949da18f3116ffe2315"", ""e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8""]"
d73c91ac44c70193a2374d913a243446c194af4f,de42ee5a772bb84ae5ca56ba2dbdc48ef1679516,Wez Furlong,wez@fb.com,Wed Feb 17 23:03:38 2016 -0800,1455779018,refactor: move w_client_lock init to a func in listener.c,11.0,6.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.2532975784630431,10.0,873.6666666666665,324.0,39.81613425925926,2334.0,56.71157772864164,931.0,None,False,,
de42ee5a772bb84ae5ca56ba2dbdc48ef1679516,f3c8de90346a6ba8b3b58ddd90186a3718f2d1f9,Wez Furlong,wez@fb.com,Wed Feb 24 21:26:56 2016 -0800,1456378016,"refactor: move get-pid command into listener.cIt is associated with our unix socket liveness check, so we need to makensure that it is linked in to libwmansrvn",14.0,13.0,"cmds/info.c,CAS_DELIMITER,listener.c,CAS_DELIMITER",2.0,2.0,2.0,0.9990102708804812,10.0,466.0,126.0,1.5893171296296298,2336.5,1.0241165542457071,932.0,None,False,,
f3c8de90346a6ba8b3b58ddd90186a3718f2d1f9,8c0e8934fbb814224d094b01a91382f3055f6a5f,Wez Furlong,wez@fb.com,Wed Feb 17 23:55:15 2016 -0800,1455782115,refactor: move reaper functions to spawn.c,79.0,70.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,1.0,1.0,1.6410684283707204,10.0,1186.6,531.0,-3.483270833333333,2340.0,0.8895014500897442,937.0,None,False,,
8c0e8934fbb814224d094b01a91382f3055f6a5f,e809455c77da1206886c3bd4aa72e14579849697,Wez Furlong,wez@fb.com,Wed Feb 17 23:56:18 2016 -0800,1455782178,refactor: move poisoned variable to cmds/reg.cThis is closer to where we check it and makes it independent ofnthe user service.n,5.0,6.0,"cmds/reg.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,2.0,2.0,0.9940302114769564,10.0,1478.0,203.0,-1.7061111111111111,2343.5,0.7069671576454163,938.0,None,False,,
e809455c77da1206886c3bd4aa72e14579849697,ae3f1ffa7ac420f255f649a7238bac6ce8fa6e4e,Wez Furlong,wez@fb.com,Wed Feb 17 23:58:52 2016 -0800,1455782332,refactor: move some user service init functions to main.cThese were called unconditionally in listener.c and we only wantnthem for the user service.n,3.0,6.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,10.0,790.5,184.0,0.0025115740740740736,2345.5,299.6175115207373,940.0,None,False,True,"[""049834c66634738eb40fd8678757a057524cf84d""]"
ae3f1ffa7ac420f255f649a7238bac6ce8fa6e4e,973cde683028222374d83a66d1e4763c05281a66,Wez Furlong,wez@fb.com,Thu Feb 18 00:31:34 2016 -0800,1455784294,refactor: add watchman_user_clientThis adds watchman_user_client to represent client connections madento the watchman per-user service.nnThis is distinct from the base watchman_client struct which we'dnlike to use for connections to the devfsevents daemon connections.nnFactoring it out means that we don't need to pull in various rootnrelated modules when building the devfsevents daemon itself.nnThe implementation of this is not the most elegant; we're effectivelynadding in some C++isms but in raw C and its a bit gross.  I wanted tonlimit the scope of the changes in this diff to get the ball rolling onnthe actual daemon code.  I will revisit the listener/client mechanic inna follow on diff and see what we can do to make it nicer.n,111.0,73.0,"cmds/state.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",6.0,2.0,2.0,2.377771841724421,10.0,882.5,489.0,-4.246041666666666,2349.5,0.951678363664696,944.0,None,False,True,"[""00d60ff136624b3a8329b6ebc8b2ccb3ea13e1fc"", ""9f2fce0df71032e96cd9a6de0df3812280831120"", ""09999d207ec28f45cb7243b8d68e46f7d92f25be""]"
973cde683028222374d83a66d1e4763c05281a66,b203f991085d5f8e3c2cc389f1e5fe88437e24f1,Paul Tarjan,github@paulisageek.com,Tue Mar 8 16:21:13 2016 -0800,1457482873,"Flush output for each lineWhen piping to another process, linux will buffer the output. This breaks line-based processing like most people would do with `xargs` for `watchman-wait`.nnFixes #230n",1.0,0.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,222.0,2.0,34.98434027777777,0.0,0.0,0.0,Corrective,True,,
b203f991085d5f8e3c2cc389f1e5fe88437e24f1,c3505ba69a9ec8bf9993d8833397cf1f2a741f3e,Matthew Johnston,matthewjohnston4@users.noreply.github.com,Wed Mar 16 08:28:58 2016 +0000,1458116938,Correcting Google Analytics tracking IDCurrently overlaps with Infer's tracking ID.n,1.0,1.0,"website/_config.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,50.0,1.0,213.5334837962963,0.0,0.0,0.0,None,False,,
c3505ba69a9ec8bf9993d8833397cf1f2a741f3e,ba821b98ad8f75f689816ae370bea4e889bd9a0b,Wez Furlong,wez@fb.com,Sun Feb 28 14:49:11 2016 -0800,1456699751,"add slow command loggingIf a command dispatch takes longer than a configured limit, log thencommand and its duration to the watchman log file.n",15.0,1.0,"cmds/reg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,194.0,9.0,10.620057870370367,2353.0,1.0941614454653743,110.0,Feature Addition,False,,
ba821b98ad8f75f689816ae370bea4e889bd9a0b,4f55e10128375292aa36065c09e8872fc4f66088,Wez Furlong,wez@fb.com,Sun Feb 28 15:03:50 2016 -0800,1456700630,expand send_error_response to include the failing command as contextThis should help to track down the source of problems for some watchmannclients that are constructing bad queries with invalid expression terms.n,28.0,5.0,"cmds/reg.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.3013862992796092,10.0,653.0,279.0,7.073885030864197,2355.0,33.811611744755346,946.0,Corrective,True,True,"[""e37ae3e7fccd04c9e6175949da18f3116ffe2315""]"
4f55e10128375292aa36065c09e8872fc4f66088,b40c8b7c8d139154af7e1d6fb02699a5e2eee6d7,Wez Furlong,wez@fb.com,Mon Feb 29 13:37:29 2016 -0800,1456781849,"add w_perf_t for recording performanceThis rethinks the earlier slow command logging and formalizes thenapproach so that we can maintain a context and associate metadata withnit.  If a region of code takes too long then we can log someninteresting performance and timing information.nnIn addition to logging a PERF line to the log file, we allow for an`perf_logger_command` to configured in the `/etc/watchman.json`nconfiguration file.  If set, it is a program that will receive a list ofnPERF json blobs as arguments.nnThe intent is that that command can be used to send perf samples to somensite-specific aggregator.n",442.0,15.0,"Makefile.am,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,perf.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/dirname.c,CAS_DELIMITER",11.0,3.0,3.0,1.821306915053709,10.0,500.3636363636364,588.0,6.648419612794613,2362.0,1.0377707894092794,83.0,Feature Addition,False,True,"[""646a5f1bb45b822b251feb7687e868d1bc8010af"", ""5856eee026de9c4be444beff2e3edca32563124a""]"
b40c8b7c8d139154af7e1d6fb02699a5e2eee6d7,e8dce7ddb6ea55e6362a0d7f47180334151548b3,Wez Furlong,wez@fb.com,Thu Mar 3 00:27:56 2016 -0800,1456993676,add perf sampling around sync_to_now,21.0,0.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,2771.0,198.0,2.451701388888889,2368.0,1.4078800152955004,954.0,Feature Addition,False,,
e8dce7ddb6ea55e6362a0d7f47180334151548b3,714509ba86a8491048e4e20f9e49e08b7d11c411,Wez Furlong,wez@fb.com,Thu Mar 3 11:06:48 2016 -0800,1457032008,add perf sampling around query evaluation,13.0,0.0,"query/eval.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,442.0,18.0,3.7737615740740735,2369.0,1.2649875940414597,88.0,Feature Addition,False,,
714509ba86a8491048e4e20f9e49e08b7d11c411,dcde3bc454e9bf219004fa51f962f829144b1d79,Wez Furlong,wez@fb.com,Thu Mar 3 21:27:28 2016 -0800,1457069248,Add centralized threshold,7.0,1.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,286.0,1.0,3.326377314814815,2370.0,1.3006273508258557,955.0,Feature Addition,False,True,"[""771285d44595955dff76c4edb8340e138279d1da""]"
dcde3bc454e9bf219004fa51f962f829144b1d79,189a4fac4bdf5730f24869c4012def0fc49af0fb,Wez Furlong,wez@fb.com,Tue Mar 1 16:07:50 2016 -0800,1456877270,"Add concept of session owner, restrict command executionRefs: https://github.com/facebook/watchman/issues/222nnThis adds an interface to our stream layer that allows us to checknwhether the peer matches the owner of our process.  We do notncurrently implement this for Windows.nnWe record this flag in the client structure.nnThe command dispatcher will by default refuse to allow any commands tonrun if the peer is not the owner.nnA command can be registered with the `CMD_ALLOW_ANY_USER` to whitelistnthat command from this blanket dispatcher check.nnThe model we're using to decide what is white listed is this:nn* If you are not the owner, you can inspect any of the currentn  state in the watchman instance.n* You may not change that state; initiating new watches, deletingn  watches or registering triggers are prohibitednn`watch` and `watch-project` are white listed because they are annimportant part of initializing a client; well behaved clients willnissue `watch-project` to resolve the watched path and directorynoffset they should use for their session.nnFor that reason, we add a check for client==owner when we resolve anroot; if the `auto_create` flag is true and you are not the owner,nwe turn the flag off.  We'll also expand the error message to providenmore context.nnTest Plan: included a test case, but also manually (note that this wasntested before this diff was amended to allow root to be treated as annowner).nn```n$ sudo watchman -U /opt/facebook/watchman/var/run/watchman/wez-state/sock --no-spawn watch listn{nversion: 4.5.0,nerror: unable to resolve root list: path list must be absolute (this may be because you are not the process owner)n}n$ sudo watchman -U /opt/facebook/watchman/var/run/watchman/wez-state/sock --no-spawn watch-listn{nversion: 4.5.0,nroots: [n/Users/wez/fbsource,n/Users/wez/fb/watchmann]n}n$ sudo watchman -U /opt/facebook/watchman/var/run/watchman/wez-state/sock --no-spawn watch-del /Users/wez/fbsourcen{nversion: 4.5.0,nerror: you must be the process owner to execute 'watch-del'n}n$ sudo watchman -U /opt/facebook/watchman/var/run/watchman/wez-state/sock --no-spawn watch /Users/wez/fbsourcen{nversion: 4.5.0,nwatch: /Users/wez/fbsource,nwatcher: fseventsn}n```n",149.0,17.0,"cmds/debug.c,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,configure.ac,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,stream.c,CAS_DELIMITER,stream_stdout.c,CAS_DELIMITER,stream_unix.c,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,tests/integration/test_auth.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",19.0,3.0,3.0,3.5402005874882807,10.0,262.57894736842104,522.0,151.82399488304097,2380.0,1.0265961765490583,965.0,Feature Addition,False,True,"[""09999d207ec28f45cb7243b8d68e46f7d92f25be""]"
189a4fac4bdf5730f24869c4012def0fc49af0fb,d22ef3b7d8ca7a7720608727944464c232821f8b,Wez Furlong,wez@fb.com,Wed Mar 23 12:50:22 2016 -0700,1458762622,meant to amend this into the cred diff before I pushed it,6.0,2.0,"stream_unix.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,281.0,4.0,21.821203703703706,2390.0,1.0458269861543097,966.0,None,False,,
d22ef3b7d8ca7a7720608727944464c232821f8b,cc420c31bf46a2e834f1baf9c93e96299e71ad07,Toyam Cox,aviator45003@gmail.com,Mon Apr 18 14:36:52 2016 -0400,1461004612,Use more reliably present poll.h (#243),1.0,1.0,"watchman.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,1051.0,151.0,47.77016203703704,0.0,0.0,0.0,None,False,,
cc420c31bf46a2e834f1baf9c93e96299e71ad07,8f48ffbb3ab28c04f37b0a6e8676a5639dd46f45,Toyam Cox,aviator45003@gmail.com,Mon Apr 18 16:32:56 2016 -0400,1461011576,"Use strsignal() if sys_siglist[] is unavailable (#242)This is a problem on muslc, which tries to be as minimalrnas possible. A side effect of this is implementation detailsrnnot seen as integral to a libc change, and sys_siglist was onernof those changes.",9.0,2.0,"configure.ac,CAS_DELIMITER,log.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.3221793455166668,10.0,520.6666666666666,268.0,64.54440200617285,2.0,1.01040975517465,3.0,Corrective,True,True,"[""99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb""]"
8f48ffbb3ab28c04f37b0a6e8676a5639dd46f45,8532390140d4b3a919f8330fa0ae6c238629b2ab,Siddharth Agarwal,sid0@fb.com,Wed May 11 20:20:14 2016 -0700,1463023214,pywatchman: make tests compatible with Python 2.6Python 2.6 doesn't support the `with self.assertRaises` form.n,4.0,5.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,154.0,10.0,205.54277777777781,202.0,1.0048651672941828,2.0,None,False,,
8532390140d4b3a919f8330fa0ae6c238629b2ab,d5f73acce44aad24985074d66d5ed3bcb5ce4277,Siddharth Agarwal,sid0@fb.com,Mon May 9 14:55:07 2016 -0700,1462830907,pywatchman: add test_suite argument to setup.pyThis allows running `python setup.py test` to run the full pywatchman testnsuite.n,2.0,1.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,36.0,12.0,68.23736111111111,203.0,1.014654728490624,3.0,None,False,,
d5f73acce44aad24985074d66d5ed3bcb5ce4277,a782f2781b3409b8a81523f80347b80d4afbe639,Siddharth Agarwal,sid0@fb.com,Mon May 9 14:56:57 2016 -0700,1462831017,pywatchman: add Python 3 compatibility imports to __init__.pyAlso fix up places in which we should be using bytestrings.nnPreparing for porting to Python 3.n,32.0,23.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,777.0,24.0,74.70173611111113,204.0,1.0133865697379858,4.0,None,False,,
a782f2781b3409b8a81523f80347b80d4afbe639,63dd7ff8970d495dc8fe25d7abb770467342a1e7,Siddharth Agarwal,sid0@fb.com,Mon May 9 15:18:55 2016 -0700,1462832335,pywatchman: switch to assertEqual in tests`assertEquals` is deprecated.n,12.0,12.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,153.0,11.0,-2.209247685185185,205.0,0.5473572263056701,5.0,None,False,,
63dd7ff8970d495dc8fe25d7abb770467342a1e7,a6dcdbdef94413ff0f403914ced44b431e4d583c,Siddharth Agarwal,sid0@fb.com,Wed May 11 13:16:19 2016 -0700,1462997779,pywatchman: switch to PyBytes_ APIsThese work identically in Python 2.6+ and Python 3.n,8.0,7.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,948.0,6.0,205.24839120370368,206.0,1.0048721453753444,6.0,None,False,,
a6dcdbdef94413ff0f403914ced44b431e4d583c,75fd8aea29452d038d1fe915f383dc5f5d43b7c2,Siddharth Agarwal,sid0@fb.com,Wed May 11 13:28:13 2016 -0700,1462998493,pywatchman: in bser C implementation return longs in Python 3Python 3 only has one integer type.n,13.0,0.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,949.0,7.0,0.008263888888888888,207.0,122.00840336134456,7.0,None,False,,
75fd8aea29452d038d1fe915f383dc5f5d43b7c2,7e88056648ed744df583d5349df1ee069323d0e1,Siddharth Agarwal,sid0@fb.com,Wed May 11 15:12:46 2016 -0700,1463004766,pywatchman.pybser: switch to an object for unserialization stateThis is used to store state like `mutable`. We're going to expand the set ofnstates stored in an upcoming patch.n,116.0,116.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,357.0,10.0,76.7127199074074,208.0,1.0130356478196445,8.0,None,False,True,"[""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
7e88056648ed744df583d5349df1ee069323d0e1,1325278f18aed6a2ea9e100e7dc3a68c30afdd43,Siddharth Agarwal,sid0@fb.com,Wed May 11 14:51:29 2016 -0700,1463003489,"pywatchman.bser: add a struct for unserialization contextThis is currently empty, but we're going to add additional members here innupcoming patches.n",23.0,15.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,962.0,8.0,0.057824074074074076,209.0,18.29383506805444,9.0,None,False,,
1325278f18aed6a2ea9e100e7dc3a68c30afdd43,e4fb6b983d042cb4dbeed9564ec90209f2cf2449,Siddharth Agarwal,sid0@fb.com,Wed May 11 19:52:01 2016 -0700,1463021521,"pywatchman: use repr() in testsRather than trying to do our own encoding, just use `repr()` in tests. Thisncompletely sidesteps any terminal/Unicode issues.n",3.0,5.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,153.0,12.0,2.1896527777777783,210.0,1.4566934128318163,10.0,None,False,,
e4fb6b983d042cb4dbeed9564ec90209f2cf2449,5d4f8d6611b40fa1e464998b7164b7e969a85125,Siddharth Agarwal,sid0@fb.com,Wed May 11 17:06:04 2016 -0700,1463011564,"pywatchman: allow passing in encoding/errors for valuesThis allows conversion to Unicode strings at deserialization time.nnFor object keys we currently don't do any decoding -- it might make sense tonjust force UTF-8 or even ASCII keys, but exactly what to do here is TBD.n",124.0,17.0,"python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",3.0,1.0,2.0,1.5803369961443987,9.0,492.66666666666674,33.0,0.01896604938271605,212.0,12.361379757757154,13.0,None,False,,
5d4f8d6611b40fa1e464998b7164b7e969a85125,3d93303927b02560380330918623d3aa8aa2cd07,Siddharth Agarwal,sid0@fb.com,Wed May 11 21:34:05 2016 -0700,1463027645,"pywatchman: assume that keys are UTF-8When mutable is true, we decode keys as UTF-8. When it's false we assume it'snvalid UTF-8 and do the actual checks at lookup time. (This avoids a potentiallynexpensive conversion to UTF-16 and back for Python 2.)nnWe're going to document this in the next commit.n",53.0,14.0,"python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",3.0,1.0,2.0,1.03889516102752,9.0,528.3333333333334,36.0,0.1861226851851852,215.0,4.283377899384367,16.0,None,False,,
3d93303927b02560380330918623d3aa8aa2cd07,404be3a47e6a7aa375928c50c151fb16d7851750,Siddharth Agarwal,sid0@fb.com,Wed May 11 19:35:37 2016 -0700,1463020537,bser: specify that keys should be UTF-8See the Rationale section for more.n,9.0,1.0,"website/_docs/BSER.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,124.0,1.0,270.28810185185193,217.0,1.0036997559017529,0.0,None,False,,
404be3a47e6a7aa375928c50c151fb16d7851750,d5102ab599be98ef0faa8e21f0650805b129cec5,Siddharth Agarwal,sid0@fb.com,Wed May 11 20:32:37 2016 -0700,1463023957,pywatchman.pybser: fix error reporting for unserialization-time errors- Use `ValueError`s rather than `RuntimeError`s.n- Use explicit conversion to hex rather than implicit conversion (necessary for Python 3).n- Add some more tests exercising more error code paths.n,13.0,5.0,"python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,1.0,2.0,0.8524051786494786,9.0,294.0,28.0,-0.04268518518518519,218.5,-16.570498915401302,18.0,None,False,,
d5102ab599be98ef0faa8e21f0650805b129cec5,c0c72b7082d321373d59f82c0bdf81737a9ef671,Siddharth Agarwal,sid0@fb.com,Wed May 11 23:04:08 2016 -0700,1463033048,pywatchman.bser: get working with Python 3There's nothing stopping this from building correctly against Python 3 now.n,21.0,0.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,1036.0,11.0,0.06253472222222223,220.0,16.991116046640755,19.0,None,False,,
c0c72b7082d321373d59f82c0bdf81737a9ef671,fe99d52124fb8095abcc140bb0f9132e7c9b577e,Siddharth Agarwal,sid0@fb.com,Wed May 11 23:18:37 2016 -0700,1463033917,pywatchman.pybser: add Python 3 compat importsMostly this switches to using bytestrings in the right spots -- future patchesnwill add more compatibility with Python 3.n,48.0,42.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,396.0,14.0,0.11527777777777776,221.0,9.674698795180722,20.0,None,False,,
fe99d52124fb8095abcc140bb0f9132e7c9b577e,4510be408f88b4c73be0d638910311c1673479f8,Siddharth Agarwal,sid0@fb.com,Wed May 11 23:23:29 2016 -0700,1463034209,"pywatchman.pybser: more Python 3 compatibilityAdd a bunch of helpers for Python 3 compatibility, and use them.n",24.0,13.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,402.0,15.0,0.0033796296296296296,222.0,296.8904109589041,21.0,None,False,True,"[""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
4510be408f88b4c73be0d638910311c1673479f8,925a3d0d955907fc7515ac4160492eec30d2c04b,Siddharth Agarwal,sid0@fb.com,Wed May 11 23:24:36 2016 -0700,1463034276,"pywatchman.pybser: define method for accessing a byte in a bytestringIn all their infinite wisdom, the Python overlords thought introducing thisndifference would be a good idea.n",12.0,6.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,413.0,16.0,0.0007754629629629629,223.0,1290.55223880597,22.0,None,False,True,"[""83a03b08b5ec6401aeab0b7fc30b33b9390c582a""]"
925a3d0d955907fc7515ac4160492eec30d2c04b,2c188e67cee68bb98046ae0b2eedf5ab3b19b1d2,Siddharth Agarwal,sid0@fb.com,Thu May 12 10:36:53 2016 -0700,1463074613,pywatchman: use binascii.hexlify in testsPython 3 no longer has `encode` on bytestrings.n,5.0,3.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,200.0,16.0,0.5862962962962963,224.0,2.705622236260265,23.0,None,False,,
2c188e67cee68bb98046ae0b2eedf5ab3b19b1d2,4d0e945182e84d6169f507f9dc15daf785e8a874,Siddharth Agarwal,sid0@fb.com,Thu May 12 10:38:58 2016 -0700,1463074738,pywatchman: don't use L suffix in testsThis is no longer supported in Python 3.n,1.0,1.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,202.0,17.0,0.0014467592592592592,225.0,692.2,24.0,None,False,,
4d0e945182e84d6169f507f9dc15daf785e8a874,23108afbbfa020b42afd6c39823ac7c79529d9e8,Siddharth Agarwal,sid0@fb.com,Thu May 12 10:39:50 2016 -0700,1463074790,pywatchman: support Python 3 for tests moduleIt's easiest to just commit all these changes in one go -- they include:n- adding `__future__` importsn- switching to bytestringsn- disabling some tests that don't make sense on Python 3n,50.0,33.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,202.0,18.0,0.0006018518518518519,226.0,1662.5384615384617,25.0,None,False,,
23108afbbfa020b42afd6c39823ac7c79529d9e8,2664fabb6bf6c896c3bbe9c685282a4cae8d80a1,Siddharth Agarwal,sid0@fb.com,Tue May 17 14:55:00 2016 -0700,1463522100,"pywatchman: don't enable unicode literals on Python 2We'd like to use native strings in some places (bytes in Python 2, Unicode innPython 3). unicode_literals prevents us from doing that.nnSee http://python-future.org/unicode_literals.html for more discussion about this.n",3.0,3.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",3.0,1.0,2.0,1.584962500721156,9.0,474.66666666666674,61.0,6.273985339506173,228.0,1.0838129423647471,28.0,None,False,,
2664fabb6bf6c896c3bbe9c685282a4cae8d80a1,dd35661bc12c747feb90bd20b23aae203a208214,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:15:56 2016 -0700,1463469356,"tests: initialize proc in WatchmanInstanceSeems like there are some cases in which `self.proc` won't be initialized,nespecially on Windows.n",1.0,0.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,87.0,5.0,111.4988425925926,230.0,1.0089687029636163,36.0,Preventative,False,,
dd35661bc12c747feb90bd20b23aae203a208214,639bb75020fec1320ee7582a2effb5731df83e41,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:24:15 2016 -0700,1463466255,"tests: explicitly close client after running testsIf this isn't done here then it might be done at Python exit time, when manynglobal modules are unavailable. That's a bad idea.n",5.0,0.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",2.0,1.0,1.0,0.9709505944546686,9.0,164.0,17.0,98.10494791666667,231.5,-12.928441711774552,38.0,Preventative,False,,
639bb75020fec1320ee7582a2effb5731df83e41,a97f05263ec406c3343535a5306e70c60eee54f7,Siddharth Agarwal,sid0@fb.com,Thu May 12 16:12:30 2016 -0700,1463094750,"pywatchman: add a module for compatibility between Python 2 and 3In the future we're going to add more useful stuff here, like dealing withn`surrogateescape` etc.n",53.0,8.0,"python/pywatchman/compat.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",3.0,1.0,2.0,1.3324661355215683,9.0,212.66666666666663,38.0,-3.2974537037037037,234.0,0.5655785655785656,31.0,None,False,True,"[""83a03b08b5ec6401aeab0b7fc30b33b9390c582a""]"
a97f05263ec406c3343535a5306e70c60eee54f7,eb8bacae97492b8a179665e482a63c67864a8b73,Siddharth Agarwal,sid0@fb.com,Mon May 16 22:57:50 2016 -0700,1463464670,pywatchman: check for pid being None before killing itOn Python 3 there seem to be weird edge cases where the pid can be None evennif we hold a reference to proc.n,2.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,786.0,26.0,-0.6646990740740739,236.0,-0.5044401880550236,32.0,None,False,,
eb8bacae97492b8a179665e482a63c67864a8b73,7668331e7cc4f5e2a310fcddcb3f90af4c18bb30,Siddharth Agarwal,sid0@fb.com,Mon May 16 22:59:06 2016 -0700,1463464746,"pywatchman: add Python 3 compatibility imports to capabilities.pyWe'll still need to handle bytestrings appropriately, but we can defer that tonlater patches.n",5.0,0.0,"python/pywatchman/capabilities.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,67.0,2.0,256.4447337962963,237.0,1.0038994756694608,33.0,None,False,,
7668331e7cc4f5e2a310fcddcb3f90af4c18bb30,718484d527c6d99e44897e197ca526e5188682b3,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:03:00 2016 -0700,1463464980,pywatchman: explicitly treat JSON output as UTF-8 on Python 3On Python 2 this isn't an issue -- there's an `encoding` parameter that'snUTF-8 by default. On Python 3 JSON works purely in the Unicode space.n,14.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,787.0,27.0,0.0035879629629629634,238.0,279.7096774193548,34.0,None,False,,
718484d527c6d99e44897e197ca526e5188682b3,339b5a0dd60cf74bf8c804236b180338b1e652cd,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:08:23 2016 -0700,1463465303,"pywatchman: use Unicode keys on Python 3On Python 3 we're always going to decode keys as Unicode strings, so wenshouldn't be using bytestrings here.n",10.0,10.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,800.0,28.0,0.003738425925925926,239.0,268.4922600619195,35.0,None,False,,
339b5a0dd60cf74bf8c804236b180338b1e652cd,1eca562c5da53ece078b0c8a901e7ba87c8cb2b2,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:38:55 2016 -0700,1463467135,"pywatchman: add an encoding moduleAs the docstring suggests, this module helps us deal with filename encodingsnacross platforms.n",73.0,0.0,"python/pywatchman/encoding.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,240.0,0.0,36.0,None,False,,
1eca562c5da53ece078b0c8a901e7ba87c8cb2b2,c2a229211f77206b0d9075dc184d0fbeec9dc2aa,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:09:58 2016 -0700,1463465398,pywatchman: last few fixes for Python 3 compatibility`root` is one of the few cases in which we really must deal with both Unicodenstrings and bytestrings. This isn't that horrible though -- it's similar innspirit to `os.listdir` etc taking both Unicode and bytestrings.n,16.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,800.0,29.0,0.0010995370370370367,241.0,910.4736842105262,37.0,None,False,,
c2a229211f77206b0d9075dc184d0fbeec9dc2aa,8ed8111b3164d3d456d4bf00445ec8e9af30d2e5,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:17:04 2016 -0700,1463465824,runtests.py: add Python 3 compatibility imports,6.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,387.0,17.0,78.32590277777777,242.0,1.0127671685168718,99.0,Preventative,False,,
8ed8111b3164d3d456d4bf00445ec8e9af30d2e5,09de519b4a0b5d6a8c5b4ca1b8285ba944cf3fbd,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:19:17 2016 -0700,1463465957,"runtests.py: use range for Python 3 compatibilityIt's a small range, so Python 2's inefficient implementation is not a problem.n",1.0,1.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,393.0,18.0,0.0015393518518518519,243.0,650.624060150376,100.0,Preventative,False,,
09de519b4a0b5d6a8c5b4ca1b8285ba944cf3fbd,22a2ea8f869a65b7fc05547ceafdc44d753b80d4,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:20:02 2016 -0700,1463466002,runtests.py: support extra args in loadTestsFromModuleSeems like extra args/kw can be specified in Python 3.n,2.0,2.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,393.0,19.0,0.0005208333333333333,244.0,1921.0,101.0,Preventative,False,,
22a2ea8f869a65b7fc05547ceafdc44d753b80d4,9f0cf46a2e3f503717f64656426aa7a0d0f15537,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:22:34 2016 -0700,1463466154,runtests.py: implement flush on ThreadSafeFilePython 3's implementation calls this method.nnThis is the last bit needed for the test runner to be compatible with Pythonn3. The remaining patches will make tests themselves compatible with Python 3.n,5.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,393.0,20.0,0.0017592592592592595,245.0,569.421052631579,102.0,Preventative,False,,
9f0cf46a2e3f503717f64656426aa7a0d0f15537,fa05d760a3aefe3cffbb32f6452cc82878c1720c,Siddharth Agarwal,sid0@fb.com,Thu May 12 18:27:01 2016 -0700,1463102821,tests: add Python 3 compatibility importsLooks like all the tests continue to work with Python 2. They still don't worknwith Python 3 -- upcoming diffs will contain fixes for that.n,88.0,1.0,"tests/integration/Interrupt.py,CAS_DELIMITER,tests/integration/NodeTests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,tests/integration/test_auth.py,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER,tests/integration/test_capabilities.py,CAS_DELIMITER,tests/integration/test_dir_move.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/touch.py,CAS_DELIMITER",15.0,1.0,1.0,3.8977958301696938,10.0,100.53333333333332,55.0,180.33662191358025,253.0,1.0011208026643237,53.0,Preventative,False,,
fa05d760a3aefe3cffbb32f6452cc82878c1720c,9c3ff9902f9636b57383ab1bd9214d3a8e25ef89,Siddharth Agarwal,sid0@fb.com,Mon May 16 22:13:06 2016 -0700,1463461986,"tests: use bytestrings in WatchmanTapTestsSince subprocess stdout and stderr are bytestrings, this allows this test tonwork on Python 3.n",8.0,8.0,"tests/integration/WatchmanTapTests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,148.0,11.0,4.1570023148148145,261.0,1.2405579608258044,54.0,Preventative,False,,
9c3ff9902f9636b57383ab1bd9214d3a8e25ef89,6ea2bb4c7b9e64a079224b847dea04bb195536c9,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:26:16 2016 -0700,1463466376,tests: decode node output as UTF-8 explicitlyIn Python 3 we can't interpolate a bytestring into a Unicode string.n,2.0,1.0,"tests/integration/NodeTests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,74.0,3.0,4.2078125,262.0,1.2376531748978834,55.0,Preventative,False,,
6ea2bb4c7b9e64a079224b847dea04bb195536c9,af274df5e06aa052b538f3b2226e2914d8c91173,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:48:00 2016 -0700,1463467680,"tests: add a couple of helper functions to assert UTF-8 correctnessCurrently the BSER interface always returns bytestrings, so in Python 3 wenneed to explicitly decode some strings to UTF-8.nn(TODO: handle this within BSER directly.)n",14.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,249.0,13.0,4.222905092592591,263.0,1.236803806401925,56.0,Preventative,False,True,"[""223c17ca5400b363316248d90adbcb038e89686f""]"
af274df5e06aa052b538f3b2226e2914d8c91173,36cad9f887b339dc0d8d4dfa705128f93bebf500,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:50:44 2016 -0700,1463467844,tests: deal with Python 3's renaming of str/unicode,6.0,1.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,263.0,14.0,0.001898148148148148,264.0,527.8292682926831,57.0,Preventative,False,,
36cad9f887b339dc0d8d4dfa705128f93bebf500,52c6a6b06cab1d0fbd4ea8b72ee5275c30bd78ab,Siddharth Agarwal,sid0@fb.com,Mon May 16 23:57:41 2016 -0700,1463468261,tests: add a method to normalize file lists returned from WatchmanThis needs to be separate from the regular normFileList because of specialnhandling for BSER on Python 3.n,7.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,268.0,15.0,0.004826388888888889,265.0,208.19424460431657,58.0,Preventative,False,True,"[""223c17ca5400b363316248d90adbcb038e89686f""]"
52c6a6b06cab1d0fbd4ea8b72ee5275c30bd78ab,35a293729a7020bf1032642b36fe1e1a5babef51,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:00:05 2016 -0700,1463468405,tests: get rid of assertEqualFileListsThis doesn't make sense any more because we need to treat Watchman-returnednand in-code file lists completely separately.n,4.0,5.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,10.0,266.0,19.0,2.1164814814814816,266.5,301.11812057047865,60.0,Preventative,False,,
35a293729a7020bf1032642b36fe1e1a5babef51,7cd21699e3e64cdbd420d189ee3f7986caf2e58c,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:01:36 2016 -0700,1463468496,tests: force map to be evaluatedmap() is lazy on Python 3 -- we need it to be eagerly evaluated.n,1.0,1.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,272.0,17.0,0.0010532407407407409,268.0,950.4505494505496,61.0,Preventative,False,,
7cd21699e3e64cdbd420d189ee3f7986caf2e58c,435a10c0ee8bfd9ef613e5fe236bdfa3fdb013a6,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:02:25 2016 -0700,1463468545,tests: use normWatchmanFileList in WatchmanTestCase.py,3.0,2.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,272.0,18.0,0.0005671296296296298,269.0,1764.2653061224494,62.0,Preventative,False,,
435a10c0ee8bfd9ef613e5fe236bdfa3fdb013a6,d8a24a6bd3793cab295cb3fb476f4193bcb8aaae,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:04:31 2016 -0700,1463468671,tests: use normWatchmanFileList in test_age_watch.py,2.0,2.0,"tests/integration/test_age_watch.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,99.0,6.0,4.234375,270.0,1.236162361623616,63.0,Preventative,False,,
d8a24a6bd3793cab295cb3fb476f4193bcb8aaae,d2839f1adc56082a99e1e9a0c36e5d6684733c8b,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:05:06 2016 -0700,1463468706,test_perms.py: decode warning as UTF-8 explicitly,2.0,1.0,"tests/integration/test_perms.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,38.0,2.0,4.234780092592594,271.0,1.236139770692977,64.0,Preventative,False,,
d2839f1adc56082a99e1e9a0c36e5d6684733c8b,a66cf64df0cc3d9dfd8c80b3d2fa3839232ea2b4,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:05:55 2016 -0700,1463468755,test_trigger.py: decode trigger IDs as UTF-8 explicitly,2.0,2.0,"tests/integration/test_trigger.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,75.0,2.0,4.235347222222222,272.0,1.2361081506501173,65.0,Preventative,False,,
a66cf64df0cc3d9dfd8c80b3d2fa3839232ea2b4,970202f5500fb3b57c182a8f073c9fb02bdbf038,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:08:42 2016 -0700,1463468922,test_since.py: support Python 3- Use normWatchmanFileList everywhere.n- Use decodeBSERUTF8 to decode BSER-returned bytestrings where suitable.n,23.0,13.0,"tests/integration/test_since.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,244.0,7.0,4.237280092592592,273.0,1.2360004479638134,66.0,Preventative,False,,
970202f5500fb3b57c182a8f073c9fb02bdbf038,ac09be51b72f50c45c4705e7f9a07efd7dc01135,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:10:13 2016 -0700,1463469013,test_subscribe.py: support Python 3- Use `decodeBSERUTF8` and `assertEqualUTF8Strings` to handle BSER-returnedn  strings.n- Handle `.hg` returned from the subscription.n,19.0,10.0,"tests/integration/test_subscribe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,259.0,4.0,0.007037037037037038,274.0,143.10526315789474,67.0,Preventative,False,True,"[""223c17ca5400b363316248d90adbcb038e89686f""]"
ac09be51b72f50c45c4705e7f9a07efd7dc01135,2698ab8cca92c8ca668c528049d6aa96ee43fe1c,Siddharth Agarwal,sid0@fb.com,Tue May 17 00:12:55 2016 -0700,1463469175,test_bser_cli.t: support Python 3- Pass in a Unicode string to `json.loads`.n- Pass in bytestrings to `bser.dumps`.n- Decode `sockname` in local encoding.n,12.0,6.0,"tests/integration/test_bser_cli.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,85.0,5.0,4.240208333333333,275.0,1.2358374686778362,68.0,Preventative,False,,
2698ab8cca92c8ca668c528049d6aa96ee43fe1c,8724116249a44d125276f2388746c10698b3acb7,Siddharth Agarwal,sid0@fb.com,Wed May 18 17:07:21 2016 -0700,1463616441,configure.ac: add support for a specified pythonWe're going to use this to allow building against custom Python versions.n,7.0,2.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,298.0,97.0,30.14890046296297,276.0,1.0331687054799386,103.0,None,False,,
8724116249a44d125276f2388746c10698b3acb7,f44a31e5be952fffc05578a7e9801e5d1dab30a8,Siddharth Agarwal,sid0@fb.com,Wed May 18 09:39:55 2016 -0700,1463589595,travis: set up builds for py2.7 and py3.5,27.0,3.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,1.53012496531497,10.0,30.66666666666667,61.0,215.0258796296296,278.0,1.0022722750916442,1.0,None,False,True,"[""08b85fdebac49773d06138c7526ce7a3c8f11019""]"
f44a31e5be952fffc05578a7e9801e5d1dab30a8,741e30c2a7f3d201ba50addb2932a62f084d070f,Siddharth Agarwal,sid0@fb.com,Wed May 18 15:55:09 2016 -0700,1463612109,python: use numeral for format specifiersFor Python 2.6 compatibility.n,6.0,6.0,"python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER",3.0,2.0,2.0,1.4591479170272446,10.0,333.6666666666667,44.0,3.0823032407407407,281.0,1.2762548840022998,70.0,None,False,,
741e30c2a7f3d201ba50addb2932a62f084d070f,637471631b3492f39078567c2632abd8ef6e055f,Siddharth Agarwal,sid0@fb.com,Wed May 18 15:59:08 2016 -0700,1463612348,python: use unittest2 if availableFor Python 2.6 compatibility.n,17.0,5.0,"runtests.py,CAS_DELIMITER,tests/integration/NodeTests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER",4.0,2.0,2.0,1.9830495332866764,10.0,196.25,47.0,1.6771151620370368,284.5,1.3084906359044235,73.0,None,False,,
637471631b3492f39078567c2632abd8ef6e055f,256b5d7c38c8c38e45e83bbd53b1d64774042072,Siddharth Agarwal,sid0@fb.com,Wed May 18 17:18:19 2016 -0700,1463617099,travis: get python 2.6 build up for OS X,18.0,0.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9640787648082292,10.0,35.0,35.0,0.31833333333333336,287.5,3.356020942408377,2.0,None,False,,
256b5d7c38c8c38e45e83bbd53b1d64774042072,2592a23cf5e8cc6d0380777a63cc1cff842596de,Wez Furlong,wez@fb.com,Mon May 23 07:59:34 2016 -0700,1464015574,"tap: redirect diag to stdoutThe mixed streams render in weird ways in the appveyor output,nthis will keep the diags together with failing test output.n",3.0,3.0,"thirdparty/tap.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,444.0,8.0,509.84420138888885,2391.0,1.0019613834918115,35.0,None,False,,
2592a23cf5e8cc6d0380777a63cc1cff842596de,ebaba2dc5a1a0358958502abf458b60eeefe9b42,Wez Furlong,wez@fb.com,Sun May 22 08:39:37 2016 -0700,1463931577,import libart as a third party dependencySummary: pulling in the BSD licensed Adaptive Radix Tree implementationnfrom https://github.com/armon/libart.git at the current head revisionnd639b9207c1d8e6b65892276f6bd1d080bd261ecnnI didn't include its bundled dependency on check; I will port its testsnto use our test infrastructure in the following diff that integratesnit into our build system.n,337503.0,0.0,"thirdparty/libart/LICENSE,CAS_DELIMITER,thirdparty/libart/README.md,CAS_DELIMITER,thirdparty/libart/src/art.c,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,thirdparty/libart/tests/runner.c,CAS_DELIMITER,thirdparty/libart/tests/test_art.c,CAS_DELIMITER,thirdparty/libart/tests/uuid.txt,CAS_DELIMITER,thirdparty/libart/tests/words.txt,CAS_DELIMITER",8.0,1.0,3.0,0.9262240888651421,1.0,0.0,0.0,0.0,2395.5,0.0,43.0,None,False,True,"[""f0029886e6017aef824e7ad8de1b4a1eb851077c"", ""94e713246d46286771c77308c99a5aaa24cd3d7c"", ""8f6189688f0d5e0ddf1645864c15bbfa47d569c3""]"
ebaba2dc5a1a0358958502abf458b60eeefe9b42,7f01ab18d67a4056bac2b8dd5a704ce701699a44,Wez Furlong,wez@fb.com,Sun May 22 17:22:28 2016 -0700,1463962948,libart: fix compilation on WindowsSummary: the Microsoft compiler is not C99 compliantn,87.0,51.0,"thirdparty/libart/src/art.c,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",3.0,2.0,2.0,0.3332487055039459,10.0,441.0,24.0,27.94691743827161,2401.0,2.3810437840284986,84.0,None,False,True,"[""94e713246d46286771c77308c99a5aaa24cd3d7c""]"
7f01ab18d67a4056bac2b8dd5a704ce701699a44,9cb8f8292797299766443469a0b9ed8336bd8661,Wez Furlong,wez@fb.com,Sun May 22 09:26:31 2016 -0700,1463934391,libart: build and run testsSummary: this diff ports the libart test to our test framework (so thatnwe don't have to pull in another test framework).n,785.0,14.0,"Makefile.am,CAS_DELIMITER,tests/art_test.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER,thirdparty/tap.h,CAS_DELIMITER,watcher/helper.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",8.0,5.0,5.0,1.510729979256875,10.0,262.125,261.0,141.68086805555555,2406.5,1.006602917241043,85.0,None,False,,
9cb8f8292797299766443469a0b9ed8336bd8661,4fe0c86a6a0c8901b4f93583658f6b7ad511f4e6,Wez Furlong,wez@fb.com,Sun May 22 15:02:58 2016 -0700,1463954578,"ignores: add ignore.c and libart based ignore functionsSummary: partially refactor some of the ignore unit tests and introducena watchman_ignore type to hold the various information that we need tontrack and check ignores.nnExpands the unit test to include a simple benchmark that runs 100niterations of matching the contents of the libart words file againstnthe ignore list, using both the current iteration and the new libartnbased tree comparison approach.nnThis diff does not change the default ignore implementation used by thenwatchers; I'll cut that over in a follow-on diff.nnThis will give us a speedup of approx 2x for hits against the ignore list, andnapprox 11x for misses against the ignore list vs. the prior implementation.nnTest Plan:nn```n$ ./tests/ignore.tn1..18nok 1 - some/pathnok 2 - buck-out/gen/foonok 3 - .hg/wlocknok 4 - .hg/store/foonok 5 - buck-outnok 6 - foo/buck-outnok 7 - foo/hellonok 8 - baz/hellonok 9 - .hgnok 10 - some/pathnok 11 - buck-out/gen/foonok 12 - .hg/wlocknok 13 - .hg/store/foonok 14 - buck-outnok 15 - foo/buck-outnok 16 - foo/hellonok 17 - baz/hellonok 18 - .hgn # all_ignores_iter: took 1.926sn # all_ignores_tree: took 0.976sn # no_ignores_iter: took 5.290sn # no_ignores_tree: took 0.454sn # ELAPSED: 9025msn```n",275.0,54.0,"Makefile.am,CAS_DELIMITER,ignore.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,thirdparty/libart/src/art.c,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,watcher/helper.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",10.0,5.0,5.0,2.614646744375265,10.0,575.4,458.0,8.1540474537037,2415.5,1.865860335971236,86.0,None,False,,
4fe0c86a6a0c8901b4f93583658f6b7ad511f4e6,45e712b93ff663959f40c8c1b754d47d000d8f17,Wez Furlong,wez@fb.com,Sun May 22 16:41:23 2016 -0700,1463960483,ignores: cut over to libart-based ignores on OS X and windowsSummary: this gives us 2x-11x improvement in checking ignore statusnover the old implementation.nnThis also removes the old implementation.nnTest Plan: make integrationn,2.0,82.0,"tests/ignore_test.c,CAS_DELIMITER,watcher/helper.c,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER",3.0,3.0,3.0,0.8888857761841273,10.0,110.66666666666669,6.0,0.06834490740740741,2422.0,9.941574936494495,974.0,None,False,,
45e712b93ff663959f40c8c1b754d47d000d8f17,2c32d252a15216df35928244c1bd03604ae8fb7f,Anirban Rahut,arahut@fb.com,Wed May 25 10:33:25 2016 -0700,1464197605,"Support for symbolic link target handlingSummary: Add a field for symlink_target in watchman file.nAdd a query field to return the symlink_target for the file.nnWhen symbolic link changes, update the target metadata.nnTest Plan: Added tests for symlink. Some of these tests arennot run on Darwin and NT, because of platform specific behavior.nn1. test for basic symlink targets.n2. invalid symlinks.n3. deletion of symlinks.n4. transition of symlink to regular file or directorynnRefs: https://github.com/facebook/watchman/issues/105n",161.0,0.0,"query/fieldlist.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,3.0,3.0,1.0152159164208254,11.0,1022.5,366.0,137.14404803240737,1.5,0.7513718731567198,1.0,None,False,True,"[""f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78""]"
2c32d252a15216df35928244c1bd03604ae8fb7f,b931559d254b9a6f75dcad4a4a382941b136f932,Wez Furlong,wez@fb.com,Tue May 24 21:48:29 2016 -0700,1464151709,"fix exponential time complexity during deep tree deleteSummary: we've seen this crop up a couple of times, but not enoughnthat it warranted digging in.  While testing the new ART-basednoptimizations for the pending tree, I found this pretty easy tonreproduce:nnThe steps in the Test Plan cause the tree to be recursively removed andnthen recreated.nnThe problem is that we can recursively call either `w_root_mark_deleted`nto walk down the tree, or in a couple of cases `stat_path` to look upnthe tree.  In the delete case this can cause some wasted and repetitivenwalking up and down the tree.nnThis diff adds a simple `exists` field to the `dir` structure that wencan use to indicate whether we have processed a delete on the dir ornnot.  This defaults to true and is used to gate recursion inn`w_root_mark_deleted` (and is set there on the first time through), andnis cleared in `stat_path` when we have observed the directory asnexisting.nnThis flag is also used to gate the upwards recursion into `stat_path`nthat occurs in the case of a canonical path miss, and in another casenwhere we need to observe an mtime update on a parent dir.  Both of thesencases should really be adding to the pending list anyway, so I've fixednthose in this diff too.nnTest Plan:nIn a mercurial checkout of a big repo:nn`hg sparse -X foooid`nn(where foooid is a deep tree with many tens of thousands of files)nnfollowed by:nn`hg sparse --reset`nnBefore this change, I would observe watchman spinning away in thenactivity monitor.  Instruments and a process sample showed that we werensticking in the functions listed above.nnAfter this change, this behavior is resolved.n",20.0,7.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.5032583347756457,11.0,1935.5,357.0,-0.5312037037037037,2424.5,-0.4118877462088198,976.0,Corrective,True,True,"[""16e53de9c70a64273189fe668a20360bab2333f2""]"
b931559d254b9a6f75dcad4a4a382941b136f932,16e53de9c70a64273189fe668a20360bab2333f2,Wez Furlong,wez@fb.com,Wed Jun 1 12:32:33 2016 -0700,1464809553,fixup struct namingMeant to amend this in before I pushednhttps://github.com/facebook/watchman/pull/256n,7.0,7.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,11.0,1942.0,359.0,7.613935185185183,2426.5,1.0985035965973695,978.0,Corrective,True,,
16e53de9c70a64273189fe668a20360bab2333f2,771285d44595955dff76c4edb8340e138279d1da,Wez Furlong,wez@fb.com,Thu Jun 2 13:32:56 2016 -0700,1464899576,"fix initialization of perf sampleSummary: Silly mistake that caused perf samples to be logged most of thentime due to random stack garbage.nnAlso allow centrally configuring a threshold, rather than only just forna single command.nnTest Plan: Tested manually together with our local sampling command.n",6.0,1.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,292.0,2.0,90.62879629629627,2428.0,1.011034020541668,979.0,Corrective,True,,
771285d44595955dff76c4edb8340e138279d1da,bd3dcc2c98406f18a3dfd54eaa59ebf68a54abfb,Wez Furlong,wez@fb.com,Thu May 26 12:59:59 2016 -0700,1464292799,libart: leave a destroyed tree in a well-defined stateLeave no dangling pointers.n,2.0,0.0,"thirdparty/libart/src/art.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,960.0,3.0,3.9145949074074085,2429.0,1.255454273980622,50.0,None,False,,
bd3dcc2c98406f18a3dfd54eaa59ebf68a54abfb,0e29f409c29b732d517af0a5dbb908f8fcc7ad67,Wez Furlong,wez@fb.com,Thu May 26 13:02:00 2016 -0700,1464292920,libart: fix positioning of this local variableAlso add vim modeline to match the existing indentation in this file.n,4.0,2.0,"thirdparty/libart/src/art.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,962.0,4.0,0.0014004629629629634,2430.0,715.0495867768594,51.0,None,False,,
0e29f409c29b732d517af0a5dbb908f8fcc7ad67,b3565c7b4f8812dd4e63c92d73aca0d662f1ec3e,Wez Furlong,wez@fb.com,Fri Jun 3 15:34:46 2016 -0700,1464993286,factor logging stubs out for easier testing,100.0,47.0,"Makefile.am,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,tests/log_stub.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,3.0,3.0,2.358152856704572,11.0,291.1666666666667,261.0,6.354074074074074,2433.5,1.0449081566994252,87.0,Preventative,False,True,"[""e18e54a1f04872d8f69dd476d6c6083f4d8f2e70"", ""359aceb996677df73baa906ef257a1db45d87885""]"
b3565c7b4f8812dd4e63c92d73aca0d662f1ec3e,8950a98ba023120621a2665225d754ce28182512,Wez Furlong,wez@fb.com,Fri Jun 3 15:36:46 2016 -0700,1464993406,"libart: better defined behavior when a full prefix key is encounteredSummary: a facet of the libart implementation that is undocumentednexcept for a series of issues (linked below) is this: an inserted keynmust not be a full prefix of another key that is already stored in thentree.  The recommendation is to store keys that have a terminatorncharacter.nnarmon/libart#4narmon/libart#12narmon/libart#14narmon/libart#17nnOur usage in watchman can't guarantee to provide a NUL-terminated input,nso this diff adjusts the key comparison routines to generate an implicitnor synthetic NUL terminator character when comparing one characternbeyond the end of a key, and by asserting (or allowing ASAN to complain)nif we try to look more than 1 character beyond the end.nnI also tidied up the function signatures of a couple of matchingnfunctions so that the semantics are clearer (return boolean true fornsuccess rather than integer 0) and removed some redundant casts whenninvoking callbacks.nnTest Plan: added an explicit test for the full-prefix issue.nnBuilt with -fsanitize=address and ran the integration tests as well asnthe sparse/unsparse checks I've been using for the pending list changes.n",145.0,37.0,"tests/art_test.c,CAS_DELIMITER,thirdparty/libart/src/art.c,CAS_DELIMITER",2.0,2.0,2.0,0.6708561590207726,10.0,732.5,6.0,10.182297453703702,2437.5,1.0653450390472656,52.0,None,False,True,"[""f0029886e6017aef824e7ad8de1b4a1eb851077c""]"
8950a98ba023120621a2665225d754ce28182512,09320ccfb0cce3feb7b4e62c59310fe761201d8c,Wez Furlong,wez@fb.com,Tue May 24 15:53:34 2016 -0700,1464130414,"use art to optimize pending list constructionSummary: In the recursive delete case we will receive notificationsnworking up to the root of a tree from its leaves.  Our existing pendingnlist has very limited aggregation of events and will schedule a statncall for each deleted node.nnIt is more efficient if we can lop off a portion of the tree whennwe add a recursive element at a higher location in the tree.nnThat's what this diff does.  It makes an invidual add operation a bitnmore expensive than it was previously, but the cost is tiny comparednto the savings we get in terms of filesystem activity.nnThe included benchmark demonstrates this with a synthetic treencontaining around 260k nodes; these are added to a pending list firstnfrom the root to the leaves, and secondly from the leaves to the root.nAs part of this, we also generate a call to `w_lstat` to approximatenthe activity of our `stat_path` function.nnPrior to switching on the ART assisted index, both directions of insertnwould occupy approx. 2 seconds of wall time on my macbook.  Thisnrepresents the best case hot cache time for the `w_lstat` calls becausenthe benchmark repeatedly examines the same file.nnWith this diff we can prune the list of 260k nodes down to 12 nodes, andnwe will discover the pruned nodes as part of the recursive tree walknthat will follow this in a real world situation.nnTest Plan: `make integration` (enabled -fsanitize=address to prove thatnour memory access is good, too).nnThe benchmark results with this diff (previously, these would take 2 seconds each):nn```n # took 0.011s to insert 12 items into pending colln # took 0.251s to reverse insert 12 items into pending colln```nnI also tried a pretty aggressive test where I would alternate betweennrunning:nn```nhg sparse -X fooboidnhg stnwatchman-diag | arc pastenhg sparse --resetn```nn(where fooboid is a large subdirectory of a large repo)n",372.0,27.0,"Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,pending.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,tests/pending_test.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,2.0,2.0,1.650372711097857,11.0,752.5714285714287,571.0,22.97617724867725,2442.0,0.9565499256637604,988.0,None,False,True,"[""f0029886e6017aef824e7ad8de1b4a1eb851077c"", ""456af1938173bd356ba43638dc5cfd6eb2c3cacc""]"
09320ccfb0cce3feb7b4e62c59310fe761201d8c,a40af629a8f67d7d5e7c35c210d9405b94213924,Wez Furlong,wez@fb.com,Sat May 28 09:43:07 2016 -0700,1464453787,"libart: improve namespacing in the header fileMoves some defines to the .c file and make them an enum instead,nand prefix the prefix constant(!) with `ART_`.nnRemove some deprecated functions from the header.n",28.0,37.0,"thirdparty/libart/src/art.c,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.9374561707820048,10.0,629.0,9.0,-0.2338541666666667,2446.5,-0.14909880055560598,54.0,None,False,,
a40af629a8f67d7d5e7c35c210d9405b94213924,0227d5f1fdadbb477e2a37a899f2410a24375b9f,Wez Furlong,wez@fb.com,Sat May 28 10:05:14 2016 -0700,1464455114,"libart: remove some node castsSummary: This is a stylistic change that replaces a number of inlinennode type casts with a union (and a const flavor of that union).nnThis helps to reduce the amount of code we have to read. In additionnremoving casts allows the compiler to catch more mistakes, especiallynduring refactoring.nnThe union trick was already being used in a couple of places; the newnunion type introduced here is a little different and (subjectively)nnicer because the old type used the node enum values to differentialnwhich element was being used whereas this implementation now uses thennode size, making it easier to visually verify that the correct type isnbeing used.n",76.0,68.0,"thirdparty/libart/src/art.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,1052.0,7.0,0.015358796296296297,2448.0,66.10926902788245,55.0,None,False,,
0227d5f1fdadbb477e2a37a899f2410a24375b9f,690aec04a84cd2cc8eb080ce47a581bf272bff63,Wez Furlong,wez@fb.com,Sat May 28 20:02:23 2016 -0700,1464490943,libart: minimum() and maximum() -> iterative rather than recursiveSummary: this replaces the recursive implementation of these functionsnwith an iterative implementation.nnTest Plan: covered by existing testsn,63.0,41.0,"thirdparty/libart/src/art.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,1060.0,8.0,0.4146875,2449.0,3.4114544084400897,56.0,None,False,,
690aec04a84cd2cc8eb080ce47a581bf272bff63,89dd57aa2f056b158843f0ec5d11b181683874a3,Wez Furlong,wez@fb.com,Wed Jun 1 16:09:38 2016 -0700,1464822578,travis: tail the logs when we spit them out to the outputThey're too big to display via the CI web UIs and we're mostlyninterested in the bottom.n,1.0,1.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,46.0,29.0,14.270636574074073,2450.0,1.0700739588461479,43.0,None,False,,
89dd57aa2f056b158843f0ec5d11b181683874a3,8cb1ca644b0d589542bf64799224c1b23df37cc6,Siddharth Agarwal,sid0@fb.com,Mon Jun 6 16:26:16 2016 -0700,1465255576,circleci: bump up php versionUbuntu 14.04 doesn't have PHP 5.6.14 installed. Seenhttps://circleci.com/docs/build-image-trusty/#php for the list of versionsninstalled.n,1.0,1.0,"circle.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,11.0,1.0,94.73498842592592,289.0,1.010555762096091,107.0,None,False,,
8cb1ca644b0d589542bf64799224c1b23df37cc6,54b84305f17c25de8dc671ca9f195f31095783c4,Wez Furlong,wez@fb.com,Tue Jun 7 14:04:42 2016 -0700,1465333482,bump version in the code in advance of some internal beta testingDeliberately not bumping the docs at this stage.n,2.0,2.0,"configure.ac,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",2.0,2.0,2.0,1.0,11.0,247.5,114.0,56.45081597222222,2451.5,1.0403368286633887,88.0,Non Functional,False,,
54b84305f17c25de8dc671ca9f195f31095783c4,d8aafa1fd44b1a0f15473a7de1ff87c94e5d9a76,Wez Furlong,wez@fb.com,Tue Jun 7 13:48:33 2016 -0700,1465332513,remove _ignore_watchmanconfig optionThe foul purposes for which it was needed are no more.  Remove it.nnTest Plan: make integrationn,2.0,13.0,"cfg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,269.0,9.0,314.1020833333333,2453.0,1.0031836783423649,990.0,Preventative,False,,
d8aafa1fd44b1a0f15473a7de1ff87c94e5d9a76,ae931ffe2ab668ca1d9ae0cf41df6bfe0aa357cf,Siddharth Agarwal,sid0@fb.com,Tue May 31 23:02:45 2016 -0700,1464760965,pywatchman: add a LICENSE fileWe were missing one for this subdirectory.n,30.0,0.0,"python/LICENSE,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,290.0,0.0,39.0,None,False,,
ae931ffe2ab668ca1d9ae0cf41df6bfe0aa357cf,f4e6c9b61b01c20740cf8b8f6c3380bbd95f570a,Siddharth Agarwal,sid0@fb.com,Tue May 31 23:03:47 2016 -0700,1464761027,"pywatchman: add reraise from sixTaking a library dependency is way too painful, so just copy this function in.n",44.0,0.0,"python/LICENSE,CAS_DELIMITER,python/pywatchman/compat.py,CAS_DELIMITER",2.0,1.0,2.0,1.0,9.0,34.0,2.0,9.64316550925926,291.5,697.8001186452609,41.0,None,False,,
f4e6c9b61b01c20740cf8b8f6c3380bbd95f570a,7658f4089426d7d0ae025333c7018b6d0f281baa,Siddharth Agarwal,sid0@fb.com,Tue May 31 23:04:26 2016 -0700,1464761066,pywatchman: raise a structured exception for socket connection issuesThis will help us robustly test for this error in upcoming patches.n,9.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,814.0,31.0,13.298113425925925,293.0,1.0751986366765685,42.0,None,False,,
7658f4089426d7d0ae025333c7018b6d0f281baa,25865ac3f68f455856fdcb39f8ea105e40c45bad,Siddharth Agarwal,sid0@fb.com,Tue May 31 23:05:22 2016 -0700,1464761122,tests: raise structured exception if connecting to socket failedWe were losing this structure before -- maintain it.n,1.0,3.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,96.0,9.0,13.298761574074076,294.0,1.0751949716843934,74.0,Preventative,False,,
25865ac3f68f455856fdcb39f8ea105e40c45bad,b7eb74dd520f72dfdaeed7440a4700751a590838,Siddharth Agarwal,sid0@fb.com,Wed May 25 17:36:30 2016 -0700,1464222990,statedir: use dirfd to avoid TOCTTOU races,28.0,4.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,841.0,66.0,97.69280092592592,295.0,1.01023616879158,108.0,None,False,,
b7eb74dd520f72dfdaeed7440a4700751a590838,5d5acf9f9fa5dca60f768e7d951123cf233581a7,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 13:48:32 2016 -0700,1464814112,"opt: add a way to hide optionsIf no help text is provided, assume that the option should not be shown. We'rengoing to use this for a test-only option in an upcoming patch.n",6.0,3.0,"opt.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,246.0,15.0,104.76466435185185,296.0,1.0095452031101009,109.0,None,False,,
5d5acf9f9fa5dca60f768e7d951123cf233581a7,72f1fe1cb3e462f83878d256d285f8ff867bdfc2,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 13:57:42 2016 -0700,1464814662,"main: allow specifying a test-state-dir optionThis is only meant to be used during testing, and is to allow exercisingnstatedir creation code.n",5.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,865.0,67.0,6.8480555555555584,297.0,1.1460268527156938,110.0,None,False,,
72f1fe1cb3e462f83878d256d285f8ff867bdfc2,0d002ac5d944f614f59ed5754b39b1f15d7799f9,Siddharth Agarwal,sid0@fb.com,Mon Jun 6 14:30:07 2016 -0700,1465248607,tests: chown test temp dir to user's groupSee the comment for why.n,5.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,401.0,22.0,18.938182870370373,298.0,1.052803376482574,111.0,Preventative,False,,
0d002ac5d944f614f59ed5754b39b1f15d7799f9,6d722ef846faaed4ef67e7bfa7b44dfe9ec23393,Siddharth Agarwal,sid0@fb.com,Mon Jun 6 16:54:16 2016 -0700,1465257256,"tests: set umask explicitlyThe umask is typically 022, but in some environments it's not.n",3.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,406.0,23.0,0.10010416666666666,299.0,10.989594172736735,112.0,Preventative,False,,
6d722ef846faaed4ef67e7bfa7b44dfe9ec23393,6e6221cd5466ab153fb9723e96fb5efcd25129da,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 14:50:02 2016 -0700,1464817802,"tests: separate out code that initializes watchman files into a mixinSetting up the files beforehand is generally useful, but unfortunately itndoesn't catch issues with state directory creation or permissions. So we neednto have a separate kind of instance, meant specifically to test state dirs.nSeparating this code out into a mixin will allow us to also plug in a separatenmixin later.n",24.0,11.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,94.0,10.0,0.6560185185185186,300.0,2.524347212420607,75.0,Preventative,False,,
6e6221cd5466ab153fb9723e96fb5efcd25129da,ea24d93c243b6b69272201bf4d269267d0c4ec79,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 15:03:54 2016 -0700,1464818634,"tests: log CLI output to another fileThis makes what's output by the CLI vs what's output by the daemon a lotnclearer, and it also avoids issues with some upcoming work where the CLI lognneeds to be created before the daemon log.n",6.0,4.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,107.0,11.0,0.00962962962962963,301.0,104.84615384615385,76.0,Preventative,False,,
ea24d93c243b6b69272201bf4d269267d0c4ec79,38f5e6ce5facb5bc7cbe63d7b270fc75b557fff2,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 15:05:46 2016 -0700,1464818746,"tests: allow customizing the start timeoutFor times that we know the watchman instance won't come up, waiting for ansecond seems pointless.n",4.0,2.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,109.0,12.0,0.0012962962962962965,302.0,772.4285714285713,77.0,Preventative,False,True,"[""223c17ca5400b363316248d90adbcb038e89686f""]"
38f5e6ce5facb5bc7cbe63d7b270fc75b557fff2,8657b8df6239a6f59bb82837f0eeaed887da18a6,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 15:07:37 2016 -0700,1464818857,tests: add a way to create a watchman instance with a custom state dirThis is meant mainly to test statedir creation logic.n,34.0,1.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,111.0,13.0,0.0012847222222222225,303.0,779.3783783783783,78.0,Preventative,False,,
8657b8df6239a6f59bb82837f0eeaed887da18a6,dc8aceb3a2479e48f5c77889866479846348a8d9,Siddharth Agarwal,sid0@fb.com,Thu Jun 2 15:24:28 2016 -0700,1464906268,"tests: add test to check if user dir is too openThis check has existed for a while, but hasn't had a test yet.n",42.0,0.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER",2.0,1.0,1.0,0.4537163391869448,10.0,72.0,14.0,0.5058506944444444,304.5,1.9884339499605312,80.0,Preventative,False,True,"[""72b54559007a22c7ded8875da8d386c687c7b595""]"
dc8aceb3a2479e48f5c77889866479846348a8d9,02b0abc23f56b6d350a54fce554b61bb96b9393e,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 14:17:27 2016 -0700,1464815847,"cfg: add a function to get permissionsThis will accept an object that looks something like:nn```nfield: {n  group: True,n  others: False,n}n```nnand use this to determine a permission bitstring. We're going to use this in annupcoming patch to allow setting permissions on the socket.n",48.0,0.0,"cfg.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.2498822928331855,11.0,648.0,170.0,0.9766608796296294,306.5,1.1723612018546123,114.0,None,False,,
02b0abc23f56b6d350a54fce554b61bb96b9393e,e4ac1b9472ab33b21d26817f2dfd6f5f8a52d57b,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 14:28:50 2016 -0700,1464816530,"statedir: set permissions based on sock_access configThis defaults to 0700, but we now allow custom sock_access configs.nnTests for this and other related code will be included in an upcoming patch.n",14.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,869.0,68.0,0.02162037037037037,308.0,47.252676659528895,115.0,None,False,,
e4ac1b9472ab33b21d26817f2dfd6f5f8a52d57b,56f7ccd0ad22c930849ac2c83cbd9c6d8d6b4a62,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 14:32:30 2016 -0700,1464816750,statedir: set up group according to configWe allow setting up a custom group on the socket and state directory as anconfig option.nnTests for this and other related code will be included in an upcoming patch.n,28.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,883.0,69.0,0.0025462962962962965,309.0,393.7272727272728,116.0,None,False,,
56f7ccd0ad22c930849ac2c83cbd9c6d8d6b4a62,63000aed37643be385258aa0aac60748f5d11e2c,Siddharth Agarwal,sid0@fb.com,Wed Jun 1 14:45:25 2016 -0700,1464817525,"listener: set permissions on socket appropriatelyNote that not all POSIX operating systems respect permissions on sockets, butnit's worth setting these up anyway.nnTests for this and related code are included in this diff.n",152.0,0.0,"listener.c,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER",2.0,2.0,2.0,0.3243029991522006,10.0,384.0,125.0,45.43699074074074,310.5,1.0109427562557678,81.0,None,False,True,"[""72b54559007a22c7ded8875da8d386c687c7b595""]"
63000aed37643be385258aa0aac60748f5d11e2c,a920fe5290c4a31e1894f63d6a7dbfb843c0663a,Wez Furlong,wez@fb.com,Tue Jun 7 09:57:29 2016 -0700,1465318649,"migrate legacy trigger test programs to pythonSummary: I spent a couple of hours tracking down what appeared to bena regression on Linux yesterday, but is actually a regression in a localndevelopment build of hhvm for scripts.nnWe're overdue to move some of these legacy tests to our new python testnsuite anyway, so this ports the helper programs that are registered asntriggers to use python instead of php.nnTest Plan: `./runtests.py tests/integration/trigger.php` exercises this.nnPrior to this change, the affected hhvm build would delay the start ofnthe trigger programs by several seconds (presumably some file lockingncontention while running the compiler) and cause this test to take aboutn15 seconds.nnAfter this change its runtime is back down to less than 2 seconds.nnReviewers: sid0nnSubscribers:nnTasks:nnBlame Revision:n",41.0,28.0,"tests/integration/_trig.php,CAS_DELIMITER,tests/integration/_trigjson.php,CAS_DELIMITER,tests/integration/trig.py,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/trigjson.py,CAS_DELIMITER",5.0,1.0,1.0,2.2737901889198264,9.0,55.2,29.0,265.283587962963,2456.0,1.001064290130115,336.0,Preventative,False,,
a920fe5290c4a31e1894f63d6a7dbfb843c0663a,97bf76b3231ad26321dd70e598f02c7160dd64e3,Wez Furlong,wez@fb.com,Tue Jun 7 23:49:13 2016 -0700,1465368553,Update release notes for releases up to and including 4.5.0I've been lax in keeping these notes up to date :-(n,36.0,0.0,"website/_docs/release-notes.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,142.0,8.0,229.70440972222212,2459.0,1.00435342099531,204.0,None,False,,
97bf76b3231ad26321dd70e598f02c7160dd64e3,ef2e6d6f88736f6726865d26aa71a6572f8672cf,Wez Furlong,wez@fb.com,Tue Jun 7 23:02:09 2016 -0700,1465365729,"disable use of bulkstat on older Darwin kernelsSummary: I've seen this problem once in the past couple of monthsnand we worked around it by setting the kill switch option.nnI remembered this just now while prepping for the 4.6 release; I don'tnwant to break the user that worked around this (the update will blownaway their modified watchman.json file), so let's tuck in this checknto set the default.nnTest Plan: I added a W_LOG_FATAL to log the values of `safe`, `maj`,n`min`, `patch` and visually verified that they match my system and thatn`safe` is `true`, indicating that we are safe to use bulk stat.n",29.0,4.0,"opendir.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,581.0,8.0,110.98163194444444,2460.0,1.0090105000483376,991.0,None,False,,
ef2e6d6f88736f6726865d26aa71a6572f8672cf,92d73c67e78259660629c02988254918b18b2d23,Siddharth Agarwal,sid0@fb.com,Wed Jun 8 16:44:42 2016 -0700,1465429482,"listener: allow writing to socket for entities with accessWithout this, on Linux you can't connect to the socket.n",22.0,12.0,"cfg.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,2.163171018743852,11.0,635.0,369.0,7.092398148148147,314.0,1.0643513313956396,121.0,None,False,,
92d73c67e78259660629c02988254918b18b2d23,cbbb8b50e5977a10c8510e3965597aa5ac9569f2,Wez Furlong,wez@fb.com,Wed Jun 8 17:03:44 2016 -0700,1465430624,avoid a race condition during crawlingSummary: I suspect that the issue observed by @simpkins was due to anrace during the initial crawl.nnThe explanation of the race is inline in comments in the code.nnTest Plan: I don't think there is a reliable way to trigger this and/ornprove it short of rolling it out.  The integration tests continue tonpass as they did before.n,15.0,1.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,2822.0,204.0,15.048726851851852,2461.0,1.066450804100876,992.0,None,False,,
cbbb8b50e5977a10c8510e3965597aa5ac9569f2,f03d41acf48f0c93e2c6ffae3096756cc2a821bf,Dhruv Singhal,dhruv@singhal.me,Mon Jun 6 16:37:29 2016 -0700,1465256249,Added a unicode filename to test_subscribe integration test. Tested it under Python 2.7.5 and 3.5.1.,93.0,10.0,"python/pywatchman/compat.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",3.0,2.0,2.0,1.1013996584628554,10.0,201.3333333333333,27.0,15.147989969135802,1.0,0.6874651680132134,1.0,Feature Addition,False,True,"[""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
f03d41acf48f0c93e2c6ffae3096756cc2a821bf,dde9486669183ecad147d5f054995d49c002507c,Siddharth Agarwal,sid0@fb.com,Wed Jun 8 19:33:32 2016 -0700,1465439612,"hash: slow path if ASAN is enabledJust like valgrind, ASAN complains if it sees uninitialized memory reads.n",18.0,4.0,"hash.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.9456603046006402,11.0,646.0,168.0,262.645931712963,317.5,1.0019039160793537,123.0,None,False,,
dde9486669183ecad147d5f054995d49c002507c,9d6bcffaaeb0d393e2e0df64478297cbbddf0402,Siddharth Agarwal,sid0@fb.com,Wed Jun 8 19:36:24 2016 -0700,1465439784,"configure: add an option to enable ASANThis appears to pass the test suite, modulo some complex interactions betweennexternal symbolizers and the child_reaper thread.n",8.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,304.0,100.0,1.2303472222222225,319.0,1.8127786871366482,124.0,None,False,,
9d6bcffaaeb0d393e2e0df64478297cbbddf0402,19d7302ae06847f1acbad19bc60d31e584ee8289,Siddharth Agarwal,sid0@fb.com,Wed Jun 8 20:29:10 2016 -0700,1465442950,configure: add an option to disable optimizationsThis is useful for ASAN and just in general to disable inlining functions etc.n,7.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,312.0,101.0,0.03664351851851852,320.0,28.289955780164245,125.0,None,False,,
19d7302ae06847f1acbad19bc60d31e584ee8289,6c30092a25ac15419c72f410454dc312bcfe79d3,Siddharth Agarwal,sid0@fb.com,Thu Jun 9 10:37:47 2016 -0700,1465493867,tests: make ISO C90 compliant and enable iron man flags,20.0,19.0,"Makefile.am,CAS_DELIMITER,tests/art_test.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,tests/pending_test.c,CAS_DELIMITER",4.0,2.0,2.0,1.6783729530642288,11.0,275.5,84.0,10.786886574074074,322.5,1.042359862991421,85.0,Preventative,False,,
6c30092a25ac15419c72f410454dc312bcfe79d3,e0592e37fef3f03558beb66e9b9368c9bafcec11,Siddharth Agarwal,sid0@fb.com,Thu Jun 9 19:04:56 2016 -0700,1465524296,bser: don't leak memory for template objectPreparation to turn on leak sanitizer.n,8.0,5.0,"bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,642.0,4.0,558.305787037037,325.0,1.0017911331446283,127.0,None,False,,
e0592e37fef3f03558beb66e9b9368c9bafcec11,c7e123541d3c95b2b869e30134eb2ab9370b049d,Siddharth Agarwal,sid0@fb.com,Thu Jun 9 19:05:20 2016 -0700,1465524320,cmds/watch: don't leak 'resolved'Preparation to turn on leak sanitizer.n,1.0,0.0,"cmds/watch.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,383.0,24.0,100.08159722222223,326.0,1.0099918469304558,15.0,None,False,,
c7e123541d3c95b2b869e30134eb2ab9370b049d,5cc79ee0a738bd4ced3850e07b6b152cad4517df,Siddharth Agarwal,sid0@fb.com,Thu Jun 9 19:05:54 2016 -0700,1465524354,tests: don't leak memoryPreparation to turn on leak sanitizer.n,39.0,1.0,"tests/argv.c,CAS_DELIMITER,tests/art_test.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,tests/pending_test.c,CAS_DELIMITER",5.0,1.0,1.0,1.9861602543738117,11.0,206.0,18.0,355.2519050925925,329.0,1.0006580874873066,90.0,Preventative,False,,
5cc79ee0a738bd4ced3850e07b6b152cad4517df,559dba5677e1075ae592ace434f0bdc7bb13f3e3,Siddharth Agarwal,sid0@fb.com,Thu Jun 9 14:28:28 2016 -0700,1465507708,"travis: enable ASAN in CIThis also turns on the leak sanitizer, which catches memory leaks as theynhappen.n",32.0,9.0,".travis.yml,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9961344835095796,10.0,51.5,45.0,14.90589699074074,332.5,1.039621665810981,3.0,None,False,True,"[""500f8d878d7cc1a2a186a6eadaea480ad4cc5063""]"
559dba5677e1075ae592ace434f0bdc7bb13f3e3,5f31ecbed0a67c7c653b1376ca792ff0bb740739,Siddharth Agarwal,sid0@fb.com,Thu Jun 9 19:53:32 2016 -0700,1465527212,"tests: synchronize on process dying if socket didn't come upASAN has enough of a slowdown that it exposes a nasty race condition where thenprocess isn't dead yet, but we've already given up on it.n",5.0,2.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,148.0,15.0,7.186851851851853,334.0,1.1391429822979209,91.0,Preventative,False,,
5f31ecbed0a67c7c653b1376ca792ff0bb740739,25dbb209eef1b323a63a8e7ad476fdc5f23cd88b,Siddharth Agarwal,sid0@fb.com,Fri Jun 10 16:00:40 2016 -0700,1465599640,tests: bump up timeouts a bit,3.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,294.0,21.0,3.97443287037037,335.0,1.251608225026282,92.0,Preventative,False,,
25dbb209eef1b323a63a8e7ad476fdc5f23cd88b,86ef97d69cfbfd760ea38ba5b6b9fb95059b6fe5,zined,zined@adrianer.de,Fri Jun 10 23:39:59 2016 +0200,1465594799,do not leak memory when printing command list,1.0,0.0,"cmds/reg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,226.0,13.0,100.89732638888887,0.0,0.0,0.0,None,False,,
86ef97d69cfbfd760ea38ba5b6b9fb95059b6fe5,500f8d878d7cc1a2a186a6eadaea480ad4cc5063,zined,zined@adrianer.de,Fri Jun 10 23:56:10 2016 +0200,1465595770,"continue to run tests if no asan configuration is givenas ENABLE_ASAN is not exported for circleci builds (travis only), the runner automatically fails with a bash error, assume default ENABLE_ASAN=0n",2.0,2.0,"travis/run.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,61.0,31.0,1.0192361111111108,1.0,1.981126933296996,0.0,Corrective,True,,
500f8d878d7cc1a2a186a6eadaea480ad4cc5063,f0029886e6017aef824e7ad8de1b4a1eb851077c,Wez Furlong,wez@fb.com,Fri Jun 10 17:39:49 2016 -0700,1465605589,"fixup prefix iterationSummary: This was a bit of a surprise and caused some incorrectnbehavior.  I added the logging first to gain some insight and foundnthat we were overly aggressive at pruning in delete_kids.nnI tracked this down to the partial prefix matching code in the prefixniterator; one of the cases is that the minimum node is located and usednas the basis for a vanilla recursive iteration.nnSo for example, we would be searching for `/foo/bar/baz` prefixes andnthe tree would use `/foo/bar` as the root of a recursive iteration andnemit all the leaves under `/foo/bar` rather than just those that werenlogically under `/foo/bar/baz`.nnThis condition triggers in `tests/integration/age.php` where we stressntest the node aging code and repeatedly create and remove nodes withnsimilar and same names.   The `w_assert` in the iterator callbacknin `pending.c` triggers in non-prod builds in this case.nnTo address this, the prefix iteration needs to shim in a callback tonpre-check the leaves before they are passed to the user-suppliedncallback, and that is what the bulk of the functional changes do innthis diff.nnTest Plan: `make integration` would fail once I added the assert butnbefore I added the iterator callback shim.  After adding the shim,nall tests pass.nnCapture the debug logs for updating a big repo via:nn```nwatchman --server-encoding=json -p log-level debug | egrepn'(delete_kid|maybe_prune|SKIP)' > /data/users/wez/blarg.logn```nnand inspect and sanity check the output.nnReviewers: sid0nnSubscribers:nnTasks: #11693500nnBlame Revision:n",71.0,13.0,"pending.c,CAS_DELIMITER,thirdparty/libart/src/art.c,CAS_DELIMITER",2.0,2.0,2.0,0.999591034189098,11.0,730.0,15.0,14.987390046296294,2462.5,1.0459653506567337,57.0,Corrective,True,,
f0029886e6017aef824e7ad8de1b4a1eb851077c,00d60ff136624b3a8329b6ebc8b2ccb3ea13e1fc,Wez Furlong,wez@fb.com,Mon Jun 13 13:02:36 2016 -0700,1465848156,"speculative fix for some fishy state-leave behaviorSummary: This has been hard to nail down, but we've seen some weirdncrashes every so often where we see events like this in the log:nn```n2016-06-10T21:34:06,035: [client:stm=0x63c5c0] implicitly vacating state hg.update on /data/users/wez/FOO due to client disconnectn2016-06-10T21:34:24,367: [client:stm=0x63c5c0] send_error_response: [state-leave, /data/users/wez/FOO, {name: hg.update, metadata: {rev: hash1 hash2, distance: 123, status: ok, partial: false}}] failed: state hg.update is not assertedn```nnthis doesn't make sense because the the first line happens 20 secondsnbefore the second, but can't possibly run before the latter.nnI haven't found a way to reproduce this even intermittently, let alonenreliably, so this diff adds some belt and suspenders stuff around thencleanup of this so that we can hopefully get a better read on thisnif/when it happens in the future.nnTest Plan: make integration + CIn",36.0,30.0,"cmds/state.c,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,listener.c,CAS_DELIMITER",3.0,2.0,2.0,0.37901444138648777,11.0,411.33333333333326,133.0,75.0517824074074,2465.0,1.005855206174749,995.0,Corrective,True,,
00d60ff136624b3a8329b6ebc8b2ccb3ea13e1fc,07205141444d38f61a70ee83d6ce21e09603b6a0,Wez Furlong,wez@fb.com,Tue Jun 14 08:02:41 2016 -0700,1465916561,"add our own pidfile handlingSummary: we've dodged the need to do this for ourselves thus far,nbecause we've relied on launchd and gimli to manage it for us.nnWhen not using either of these, there is potential for multiplenCLI process to want to attempt to bring up the watchman servernat the same time.  This is partially successful: two watchman serversnstart up, fight over the socket, start to crawl the saved watchesnfrom the state.nnIf they don't exhaust the inotify resources on the machine, about anminute later, one of them will realize that it doesn't own the socketnany more and will terminate.nnAdding a pid file and locking it prevents us from wasting resources innthis scenario, so that's what we're doing.nnTest Plan: `make integration` continues to run (I added appropriatenpidfile flags to the instances that we spawn).nnRunning `./watchman` on my mac correctly updates the launchd commandnline; running `ps -ef` afterwards shows the appropriate `--pidfile`nargument.nnRunning `./watchman --foreground` while another watchman is running innthe background exits immediately with no output.  The error messagenabout the pidfile shows up in the watchman log:nn```n2016-06-14T08:06:17,131: [2057699328] Failed to lock pidfile /path/to/wez-state/pid: process 60717 owns it: Resource temporarily unavailablen```n",91.0,12.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,main.c,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER",3.0,3.0,3.0,0.3739612486186418,11.0,618.6666666666666,136.0,37.50970679012345,2468.0,1.0093036418911805,337.0,Feature Addition,False,,
07205141444d38f61a70ee83d6ce21e09603b6a0,2985377eaf8c8538b28fae9add061b67991a87c2,Wez Furlong,wez@fb.com,Tue Jun 14 15:20:27 2016 -0700,1465942827,add basic support for spawning from inetd-style supervisorsSummary: this allows defining a per-user service using systemd withoutnrequiring that we integrate explicitly against the systemd libraries.nnTest Plan: define socket and service units that look like this:nn```n[Unit]nDescription=Watchman socket for user %inn[Socket]nListenStream=/var/facebook/watchman/%i-state/socknAccept=falsenSocketMode=0664nSocketUser=%inSocketGroup=othergroupnn[Install]nWantedBy=sockets.targetn```nn```n[Unit]nDescription=Watchman for user %inAfter=remote-fs.targetnConflicts=shutdown.targetnn[Service]nExecStart=/usr/local/bin/watchman --foreground --inetdnExecStop=pkill -u %i -x watchmannRestart=on-failurenUser=%inGroup=usersnStandardInput=socketnStandardOutput=syslognSyslogIdentifier=watchman-%inn[Install]nWantedBy=multi-user.targetn```nnThen run:nn```nsudo systemctl enable watchman@wez.socknsudo systemctl enable watchman@wez.servicen```nnto instantiate it for my own user.  This causes systemd to listen on mynsocket path and spawn watchman on my behalf.nnRunning `watchman version` causes the process list to look somethingnlike this:nn```n[wez@dev5744]~% ps -ef | grep watchmannwez  1081616   1 97 15:15 ?00:00:07 /usr/local/bin/watchman --foreground --inetdn```nnRunning `watchman shutdown-server` will stop the process but keep things alive in systemd:nn```n% sudo systemctl --full |grep watchmann  system-watchman.slice loaded active activesystem-watchman.slicen  watchman@wez.socket   loaded active listening Watchman socket for user wezn```nnRunning watchman version again causes it to run via systemd as aboven,45.0,1.0,"listener.c,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.0494298516573752,11.0,929.3333333333336,362.0,2.4079938271604937,2471.0,1.5884945526739445,999.0,Feature Addition,False,,
2985377eaf8c8538b28fae9add061b67991a87c2,a4a84949129d7af28877d6729d1ca6c75cd23dc9,Wez Furlong,wez@fb.com,Wed Jun 15 09:30:57 2016 -0700,1466008257,"stave off a potential zombie hordeSummary: we had an incident where the new perf command was triggeringntoo frequently for some of our users and they wound up with a fullnprocess table consisting of zombies.nnThis code is supposed to reap all the children, but it was somehownnot effective.  Staring at this a bit, it seems possible that thenwaitpid() call may have gotten EINTR for some other signal thatnwas not in our signal set, and that didn't cause us to terminate.nnIn this situation, I think we may end up not realizing that we havensome children to reap and block for an extended period.nnI've restructured the loop so that we can only suspend executionnif we got an ECHILD condition from waitpid, which should onlynhappen when we have waited for all eligible children.nnTest Plan: make integration continues to succeed.nnThe nature of this issue is difficult to reproduce :-/n",23.0,1.0,"spawn.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,570.0,10.0,118.358125,2473.0,1.0084489341141556,1000.0,None,False,,
a4a84949129d7af28877d6729d1ca6c75cd23dc9,4c010e129dc2ac793114e33540943a68ebe04403,Wez Furlong,wez@fb.com,Wed Jun 15 17:01:18 2016 -0700,1466035278,refactor spawning into its own function,13.0,9.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1006.0,73.0,1.0700347222222222,2474.0,1.93454911250284,1001.0,None,False,,
4c010e129dc2ac793114e33540943a68ebe04403,8b6d68fcd302c78f1fa9dd0d610c5fe22a86c002,Wez Furlong,wez@fb.com,Wed Jun 15 18:04:07 2016 -0700,1466039047,"add site-specific spawn commandSummary: in some situations, the system administrator may desire to havencontrol over the context in which the watchman service is started.nnFor example, if may be desirable to force the service to spawn ansystem service that was automatically created for the current usernrather than just having watchman fork off a child.nnFor this situation we now provide a `spawn_watchman_service`nconfiguration key that is available in `/etc/watchman.json`.nIf this string is set, when the watchman CLI decides that it isnappropriate to spawn the watchman service, rather than using thendefault spawning action, it will instead invoke `spawn_watchman_service`nand forward all daemon appropriate watchman arguments to it.nnThe value of `spawn_watchman_service` will be used as `argv[0]` whennlaunching the spawner, so it must either be the full path to thenspawning program, or be something that posix_spawn is able to resolvenfrom the PATH of the current process.nnIf the spawner returns with a non-zero exit status, the watchman commandnthat invoked it will fail and report the problem to the user.nnThe stdout and stderr of the spawner program are redirected to thenwatchman log file.n",156.0,8.0,"main.c,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/site_spawn.py,CAS_DELIMITER,tests/integration/site_spawn_fail.py,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER",5.0,2.0,2.0,1.8896088746290984,11.0,232.6,91.0,0.2922569444444444,2477.0,6.132233962946218,341.0,Feature Addition,False,True,"[""3c7833c3b21a1d7279c06aff9153c9e71ed5da17""]"
8b6d68fcd302c78f1fa9dd0d610c5fe22a86c002,531a30958ca06240cb7e1bdc2e48008e453e7a58,Wez Furlong,wez@fb.com,Thu Jun 16 16:58:43 2016 -0700,1466121523,don't start multiple perf logging threadsfacepalmn,1.0,0.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,297.0,3.0,14.142905092592592,2480.0,1.0707068309836678,1003.0,None,False,,
531a30958ca06240cb7e1bdc2e48008e453e7a58,ce411a5f3cf1f21fc67146f5874c487d60e48c8d,Wez Furlong,wez@fb.com,Thu Jun 16 20:00:37 2016 -0700,1466132437,"take advantage of FSEventStreamSetExclusionPathsSummary: this isn't indexed from the main fsevents docs, but it is anpublic API; if you google for it, you will find it listed in changelogs.nnThe header file documents that it has a limit of 8 items.  From playingnaround with this, if we exceed the limit, the function call will failnwith no explanation.nnBecause of this limit, it is advantageous to list the highest valuenignores in the first 8 entries of the `ignore_dirs` configurationnin `.watchmanconfig`, and we therefore need an ordered list of thenignores; our current datastructures are unordered maps and that resultsnin a non-deterministic set of excluded paths on any given attempt tonwatch the same dir.nnI've added a kill switch in case we need to turn off this newnfunctionality.nnTest Plan: `make integration` succeeds.  I also added someninstrumentation to see what the behavior is; the exact path listed innthe exclusion paths array is delivered to our stream, but any childnpaths are ignored.  That's good enough for us.n",67.0,0.0,"configure.ac,CAS_DELIMITER,ignore.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER",4.0,2.0,2.0,1.19916605644848,11.0,246.0,119.0,74.39558449074075,2482.5,1.0406184612488107,1006.0,None,False,True,"[""1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf""]"
ce411a5f3cf1f21fc67146f5874c487d60e48c8d,810a67641622bc7d9aebfac852342552a334a56c,Wez Furlong,wez@fb.com,Fri Jun 17 12:54:56 2016 -0700,1466193296,ensure that we compute the pidfile before we write the plistwhoopsn,2.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1071.0,75.0,1.7852893518518518,2485.0,1.5601332909775754,1007.0,None,False,,
810a67641622bc7d9aebfac852342552a334a56c,2ba88e023fc8c0ec5da6d8b4037054de67970c15,Wez Furlong,wez@fb.com,Fri Jun 17 14:10:14 2016 -0700,1466197814,"poison when the system hits the number-of-files limitsIf the watchman process itself runs out of files, or if the systemnfile table is full, we will have missed some notifications and havenno way to self-remediate, so let's poison ourselves.nnThere isn't a great way to test this in CI :-/n",32.0,0.0,"root.c,CAS_DELIMITER,website/_docs/troubleshooting.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.5435644431995964,11.0,1531.0,207.0,155.26891203703704,2486.5,1.0579194986284346,205.0,Preventative,False,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
2ba88e023fc8c0ec5da6d8b4037054de67970c15,4a9e51021e271f1dce1bccc784830675cbcab878,Wez Furlong,wez@fb.com,Sun Jun 19 09:18:59 2016 -0700,1466353139,allow removing all watches while poisonedThis avoids needing to tell folks to remove their state file if theirnresource exhausation is due to having too many watches.n,19.0,5.0,"cmds/watch.c,CAS_DELIMITER,website/_docs/troubleshooting.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.5435644431995964,11.0,319.0,28.0,5.695277777777778,2488.5,1.0960183724508912,206.0,None,False,,
4a9e51021e271f1dce1bccc784830675cbcab878,381a5da3fb09633bc8552d7e7734d194d5f33e64,Wez Furlong,wez@fb.com,Sun Jun 19 20:31:02 2016 -0700,1466393462,make HINT_NUM_DIRS configurableI noticed that this was still a fixed #define in the header.nTurn it into a `.watchmanconfig` option with the same default value.nnThis allows us to better match the value for our various repos.n,29.0,7.0,"root.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER",6.0,3.0,3.0,2.2527152789797045,11.0,882.8333333333335,408.0,165.2453182870371,2492.5,1.0752491335217391,207.0,Corrective,True,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
381a5da3fb09633bc8552d7e7734d194d5f33e64,df33ffb409bd230184383feca24eef79c73ff6b7,Wez Furlong,wez@fb.com,Fri Jun 17 15:33:35 2016 -0700,1466202815,"eliminate a string copy in the fsevents callbackThis removes a stack buffer and a copy.  We used to require that we havena NUL terminated string for some flavor of the old ignore listnprocessing, but the new art based code doesn't have this restriction.nnOptimize slightly but avoiding a lock/signal if we ignored everythingnthat was in the notification callback, and by deferring the loggingnto the thread that consumes these.n",13.0,17.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,529.0,15.0,0.8145601851851851,2496.0,2.2276563698883174,70.0,Feature Addition,False,True,"[""67dc4a04976b675d9b2b0c9dc86153c5bfd27a46""]"
df33ffb409bd230184383feca24eef79c73ff6b7,2e2c3e66971954b8ed6d0805967813d94e5d1c62,Wez Furlong,wez@fb.com,Sun Jun 19 10:17:49 2016 -0700,1466356669,refactor: fsevents stream setupThis factors out the code that sets up the event stream for fsevents.nThis is prep work for a more intelligent re-sync operation for dealingnwith UserDropped events.n,96.0,54.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,525.0,16.0,1.7807175925925929,2497.0,1.561571359860647,71.0,None,False,True,"[""1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf"", ""67dc4a04976b675d9b2b0c9dc86153c5bfd27a46""]"
2e2c3e66971954b8ed6d0805967813d94e5d1c62,587fcd233521d318988d58526b75a281cbb474d9,Wez Furlong,wez@fb.com,Sun Jun 19 10:23:05 2016 -0700,1466356985,allow for passing a stream id when setting up the fsevents stream,4.0,3.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,567.0,17.0,0.003657407407407408,2498.0,274.4177215189873,72.0,None,False,True,"[""1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf"", ""dadf713335f2d0b048dbc09eb25efa020ccfc008""]"
587fcd233521d318988d58526b75a281cbb474d9,c5d181f44ed997100547a813db8bae53e6ad9253,Wez Furlong,wez@fb.com,Sun Jun 19 10:28:45 2016 -0700,1466357325,save the last good event id,18.0,2.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,568.0,18.0,0.003935185185185185,2499.0,255.1176470588236,73.0,None,False,,
c5d181f44ed997100547a813db8bae53e6ad9253,e0a478bfde8c48cd3e646fc947c70768f7ab55ec,Wez Furlong,wez@fb.com,Sun Jun 19 10:47:13 2016 -0700,1466358433,"track the fsevents stream in the state, not a local",6.0,6.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,584.0,19.0,0.012824074074074076,2500.0,78.9783393501805,74.0,None,False,True,"[""1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf""]"
e0a478bfde8c48cd3e646fc947c70768f7ab55ec,ce7c711a015a3ae3b0139a4f1f0344a0e1550ad7,Wez Furlong,wez@fb.com,Sun Jun 19 10:50:31 2016 -0700,1466358631,add config option to control whether we want to try to resync ourselves,4.0,0.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,584.0,20.0,0.002291666666666667,2501.0,437.3636363636364,75.0,Feature Addition,False,,
ce7c711a015a3ae3b0139a4f1f0344a0e1550ad7,adf35830e3d8cfc90f626259aa57c996fd6be4a6,Wez Furlong,wez@fb.com,Sun Jun 19 11:04:46 2016 -0700,1466359486,resync since last good event id on user-dropped,58.0,0.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,588.0,21.0,0.009895833333333331,2502.0,102.05263157894736,76.0,None,False,True,"[""1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf"", ""dadf713335f2d0b048dbc09eb25efa020ccfc008""]"
adf35830e3d8cfc90f626259aa57c996fd6be4a6,1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf,Wez Furlong,wez@fb.com,Sun Jun 19 11:22:03 2016 -0700,1466360523,"return failure reason as out parameter from fse_stream_makeDuring initial setup it is valid to directup updatenroot->failure_reason, but in the resync case, we don't want it to sticknin the root because we may treat that later on as a failure to recrawl.n",16.0,13.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,646.0,22.0,0.012002314814814816,2503.0,84.31726133076181,77.0,Corrective,True,True,"[""67dc4a04976b675d9b2b0c9dc86153c5bfd27a46"", ""dadf713335f2d0b048dbc09eb25efa020ccfc008""]"
1b5ad6e716faef44c5adb7cf02c715eecc9ca3bf,5fccbaed57c15545b58fac7e7c0c899f5df5b3d4,Wez Furlong,wez@fb.com,Sun Jun 19 14:16:02 2016 -0700,1466370962,"add integration test for the resyncThis asserts that the resync leaves us with a correct state,nand turns on this feature by default.nnI inspected the log files and can see that we receive the cookiennotifications for a prior cookie again after we've set up thenreplacement stream.  It looks good, but we can't easily make assertionsnon the log file contents in the test without a high chance of flakiness.n",126.0,1.0,"tests/integration/test_fsevents_resync.py,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER",2.0,2.0,2.0,0.9924284506025758,11.0,324.5,23.0,0.06041087962962963,2504.5,4.638327425998659,78.0,Feature Addition,False,,
5fccbaed57c15545b58fac7e7c0c899f5df5b3d4,3bcc382e83804425f13c6311e66cba565d89e0ba,Wez Furlong,wez@fb.com,Sun Jun 19 14:51:06 2016 -0700,1466373066,handle the case where the journal UUID changedThe docs for FSEventsCopyUUIDForDevice have more commentary on thenrules behind this.nnThe TL;DR is that we need to ensure that the UUID matches the lastnone we saw before we can legitimately re-sync from the last_goodnevent id.n,48.0,0.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,717.0,24.0,0.02435185185185185,2506.0,42.06463878326996,79.0,Non Functional,False,True,"[""67dc4a04976b675d9b2b0c9dc86153c5bfd27a46"", ""dadf713335f2d0b048dbc09eb25efa020ccfc008""]"
3bcc382e83804425f13c6311e66cba565d89e0ba,0ee480110aecbf121bb5271d257db00176ea6970,Wez Furlong,wez@fb.com,Sun Jun 19 15:09:59 2016 -0700,1466374199,"handle a couple of flags that may be set in fseventsLog when we resync, along with the eventid, so that we can get a feelnfor how many events we dropped.nnAlso remember when the event id overflows so that we don't bother tryingnto resync.n",24.0,0.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,765.0,25.0,0.013113425925925926,2507.0,77.25772285966461,80.0,None,False,,
0ee480110aecbf121bb5271d257db00176ea6970,2c18861ea0508fb7da8335c222e40fdea2705c1d,Wez Furlong,wez@fb.com,Mon Jun 20 15:17:30 2016 -0700,1466461050,ensure that we include num_results in the results,1.0,1.0,"query/eval.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,455.0,19.0,109.13243055555556,2508.0,1.0091631790377007,89.0,None,False,,
2c18861ea0508fb7da8335c222e40fdea2705c1d,049834c66634738eb40fd8678757a057524cf84d,Wez Furlong,wez@fb.com,Wed Jun 22 14:57:13 2016 -0700,1466632633,"Take another stab at the zombie problemSummary: we've seen some zombies hanging out under watchman.  Manuallynrunning `pkill -CHLD <pid-of-reaper-thread>` woke up the reaper toncollect them, so that implies that we have another race.nnFrom looking at the code a bit harder, the race condition is likely thatnthe threads that we spawn from the state file are started before we masknoff SIGCHLD.nnBecause posix and threads are awesome, this means that the kernel cannchoose to deliver SIGCHLD to an arbitrary thread that hasn't explicitlynblocked it.  This results in an EINTR somewhere, but not in the childngetting reaped.nnThis diff masks off SIGCHLD early, and arranges for the reaper to startnup before we spawn any threads, just to be sure that we have somethingnhanging around and ready to reap any children that might be start byntriggers loaded from the state file.n",17.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1073.0,76.0,5.084918981481481,2509.0,1.1966599671778155,1011.0,Corrective,True,,
049834c66634738eb40fd8678757a057524cf84d,5e7d4a0bdead2c98fd9f117229c5a3d0e3ba0cce,Wez Furlong,wez@fb.com,Wed Jun 22 21:38:01 2016 -0700,1466656681,"avoid blocking on write during shutdownSummary: we've seen a couple of instances where watchman has onenor more client threads blocked in write while the listener threadnis waiting for threads to finish.nnThe pre-condition appears to be that we need to have enough datanbuffered up prior to initiating shutdown (possibly in conjunctionnwith a tardy client on the other end of the socket) that the blockingnwrite blocks the thread for some period of time.  The precisenconditions are hard to gather from the data we've gotten so far.nnFrom inspecting the code, there are a couple of things we can donto reduce the chances of blocking forever:nnIf we've been waiting a bit, send a signal to shake the thread out of anblocking syscall.  That should bubble up as an EINTR and terminatenwhatever loop they were in, and then they should notice that we'renshutting down.  Why not send the signal immediately?  I'm slightlynworried that it might interrupt some of the normal tear down in thenclient thread if we send it too soon after signalling it vianclient->ping.nnTest Plan: it doesn't break make integration (I was concerned thatnwe'd make the shutdown a bit more aggro, but it seems ok).nnManually: `watchan --foreground` in one window, `tail -f log` in anothernwindow, and in a third window `watchman shutdown-server`.  The shutdownncommand completes with a valid shutdown response before the servernshuts down.n",15.0,3.0,"listener.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.7642045065086203,11.0,912.5,293.0,5.6543576388888885,2510.5,1.1047302634252518,1013.0,None,False,,
5e7d4a0bdead2c98fd9f117229c5a3d0e3ba0cce,3d9607fd34ef92be8991b328c2dbd53f0dd3a943,Wez Furlong,wez@fb.com,Fri Jun 24 14:58:05 2016 -0700,1466805485,"remove the symlink recheckerSummary: this never worked very well at any kind of scale and has beennturned off for a while, so let's just remove the code.n",1.0,116.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.0709989466364099,11.0,1950.5,373.0,3.2455266203703705,2512.5,1.1818776174041317,1015.0,None,False,,
3d9607fd34ef92be8991b328c2dbd53f0dd3a943,3c28c3a728c484a0aae0f18b4e02dc0aa8e20cd1,Wez Furlong,wez@fb.com,Fri Jun 24 15:35:19 2016 -0700,1466807719,refactor: move string functions to their own headerThis just moves them out and sorts them in their own headern,79.0,47.0,"watchman.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.9587118829771318,11.0,529.0,167.0,0.01292824074074074,2514.5,39.675022381378696,1017.0,None,False,,
3c28c3a728c484a0aae0f18b4e02dc0aa8e20cd1,e18e54a1f04872d8f69dd476d6c6083f4d8f2e70,Wez Furlong,wez@fb.com,Sat Jun 25 11:04:38 2016 -0700,1466877878,add w_check for always-enabled runtime assertionsw_check is like w_assert but is always enabled regardless of the NDEBUGnstatus of the build.n,7.0,5.0,"watchman_log.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,47.0,1.0,21.812407407407413,2516.0,1.0458454668172208,1018.0,Corrective,True,,
e18e54a1f04872d8f69dd476d6c6083f4d8f2e70,2edb62d353971bdbce17656cec7c30f201e58f3c,Dhruv Singhal,dhruvs@fb.com,Tue Jun 14 17:39:07 2016 -0700,1465951147,Added raw JSON-to-BSER conversion tests to the server side.,45.0,2.0,"tests/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,164.0,5.0,4.939733796296296,3.0,1.2024400587638504,2.0,Feature Addition,False,,
2edb62d353971bdbce17656cec7c30f201e58f3c,a4d739e91259361a978dbc90f52f9161862aaf35,Dhruv Singhal,dhruvs@fb.com,Wed Jun 15 13:52:17 2016 -0700,1466023937,Added raw native types to BSER conversion tests to the client side.,22.0,0.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,223.0,21.0,33.90262731481481,4.0,1.0294962390588245,1.0,Feature Addition,False,,
a4d739e91259361a978dbc90f52f9161862aaf35,dd15bb7cad2bd2ab7c27a0b60b729eafc1fbbbfd,Dhruv Singhal,dhruvs@fb.com,Fri Jun 10 17:46:54 2016 -0700,1465606014,Renamed BSER_STRING to BSER_BYTESTRING on the server side.,15.0,15.0,"bser.c,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER",2.0,2.0,2.0,0.7219280948873623,10.0,851.0,17.0,15.362754629629633,5.5,1.5449204225280917,2.0,Preventative,False,,
dd15bb7cad2bd2ab7c27a0b60b729eafc1fbbbfd,93f687355a535b3cfe550ed1ab8ff79de6ec1885,Dhruv Singhal,dhruvs@fb.com,Mon Jun 13 17:49:48 2016 -0700,1465865388,Added a bser context variable to BSER functions.,99.0,48.0,"bser.c,CAS_DELIMITER,json.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,0.7578557924192271,11.0,603.75,195.0,25.11669849537037,8.5,1.0902353875904878,3.0,Feature Addition,False,,
93f687355a535b3cfe550ed1ab8ff79de6ec1885,4cfe8ba1ca2dbf5f2c5aae36522074004d83b1ef,Siddharth Agarwal,sid0@fb.com,Thu Jun 30 10:02:00 2016 -0700,1467306120,tests: make them less flaky,6.0,9.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,245.0,22.0,14.840081018518514,336.0,1.0673850768572035,43.0,Preventative,False,,
4cfe8ba1ca2dbf5f2c5aae36522074004d83b1ef,45c0b90b6cf9a1489318b622e1a26d911558f3e9,Siddharth Agarwal,sid0@fb.com,Thu Jun 30 14:09:18 2016 -0700,1467320958,tests/bser.t: fix memory leaksAs detected by ASAN.n,2.0,0.0,"tests/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,210.0,7.0,16.846875,337.0,1.059358189575218,93.0,Preventative,False,,
45c0b90b6cf9a1489318b622e1a26d911558f3e9,d9b08003e8c581489d3e556d95eaac9e468aeb07,Dhruv Singhal,dhruvs@fb.com,Thu Jun 16 14:25:41 2016 -0700,1466112341,Renamed STRING to BYTESTRING on the client side.,13.0,13.0,"python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER",2.0,1.0,1.0,0.9957274520849256,10.0,739.5,32.0,20.39304398148148,11.5,1.0975794382910145,4.0,Preventative,False,,
d9b08003e8c581489d3e556d95eaac9e468aeb07,c876b3d77cdd58ebec730677722c2d71b4e1cf72,Dhruv Singhal,dhruvs@fb.com,Tue Jun 28 14:42:09 2016 -0700,1467150129,Trimming lines to 80 char in python/pywatchman/pybser.py,30.0,16.0,"python/pywatchman/pybser.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,422.0,20.0,12.011435185185185,13.0,1.0832539979263591,5.0,None,False,,
c876b3d77cdd58ebec730677722c2d71b4e1cf72,cd878e32a03a1e49b97e73e38305b19d4b5f7a84,Dhruv Singhal,dhruvs@fb.com,Thu Jun 16 11:46:19 2016 -0700,1466102779,Added fields to bser_t to act as serialization context on the client side.,6.0,3.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,1057.0,14.0,-0.1106712962962963,14.0,-8.035766576030117,6.0,Feature Addition,False,,
cd878e32a03a1e49b97e73e38305b19d4b5f7a84,46567be73fab1a77d77bc0ce94ebe063547ec7c0,Dhruv Singhal,dhruvs@fb.com,Tue Jun 21 13:55:40 2016 -0700,1466542540,Added BSER version switching logic to the server.,30.0,6.0,"json.c,CAS_DELIMITER,main.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.5100027572690504,11.0,887.0,262.0,4.877357253086419,16.0,1.1143701800803554,6.0,Feature Addition,False,,
46567be73fab1a77d77bc0ce94ebe063547ec7c0,90c35a8fb8e5aafa6546374519cf1ef0608c1983,Dhruv Singhal,dhruvs@fb.com,Tue Jun 21 14:32:17 2016 -0700,1466544737,Made BSERv2 use a different magic string.,8.0,2.0,"bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,684.0,7.0,7.862835648148147,18.0,1.1271805802319574,7.0,None,False,,
90c35a8fb8e5aafa6546374519cf1ef0608c1983,edf918c2f2ae6ddb2ee5e5faf45434cfb0a1be81,Dhruv Singhal,dhruvs@fb.com,Thu Jun 23 16:13:56 2016 -0700,1466723636,Added logic for negotiating BSERv2. Split BserCodec into BserCodec and Bser2WithFallbackCodec.,131.0,38.0,"bser.c,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",6.0,3.0,4.0,1.95397481325373,11.0,591.0,121.0,5.5504340277777775,21.5,1.111811991195096,4.0,Feature Addition,False,,
edf918c2f2ae6ddb2ee5e5faf45434cfb0a1be81,1c129de348492d6375b0047b8d31283918ec8094,Dhruv Singhal,dhruvs@fb.com,Wed Jun 29 16:38:13 2016 -0700,1467243493,Modified the client side code to account for the capabilities bitvector.,104.0,55.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",4.0,1.0,2.0,1.7844271740228368,11.0,662.75,95.0,6.0168634259259255,26.5,1.086562266161656,14.0,None,False,True,"[""b9121307e0d1e24f2be6ba65b38337f1e0a9bc3c"", ""1fc7676f7362f03282e63b6a322ab74e4855dace""]"
1c129de348492d6375b0047b8d31283918ec8094,fd10c5fb9b377fb13d121a55927b8824541cfb86,Dhruv Singhal,dhruvs@fb.com,Fri Jul 1 15:02:19 2016 -0700,1467410539,Modified the server side code to account for the capabilities bitvector.,52.0,16.0,"bser.c,CAS_DELIMITER,json.c,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,1.1209313516066193,11.0,621.0,204.0,7.2699131944444435,30.5,1.0670689423510145,11.0,None,False,True,"[""1fc7676f7362f03282e63b6a322ab74e4855dace""]"
fd10c5fb9b377fb13d121a55927b8824541cfb86,223c17ca5400b363316248d90adbcb038e89686f,Dhruv Singhal,dhruvs@fb.com,Fri Jul 1 15:07:12 2016 -0700,1467410832,Fixed tests to work with the new capabilities and BSER v2.,23.0,7.0,"runtests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",4.0,2.0,2.0,1.9838711132181528,11.0,301.25,71.0,18.4234375,34.5,1.0246768065562917,8.0,Corrective,True,True,"[""dd504ffb5b061d2c2154f22640efc865b5c84beb"", ""2d78fdf1cc458c77bb785e866c5d23e3230ff210""]"
223c17ca5400b363316248d90adbcb038e89686f,d8eee03d4ccc779feba55cfc7754d0ad46f67267,Siddharth Agarwal,sid0@fb.com,Tue Jul 5 16:00:42 2016 -0700,1467759642,pywatchman: don't require BSERv2 for python 3 yetWe can only turn this on after the server starts advertising support fornBSERv2.n,3.0,4.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,881.0,34.0,5.97394675925926,338.0,1.1673935239630415,44.0,None,False,,
d8eee03d4ccc779feba55cfc7754d0ad46f67267,09d44ebdf8c398e61d5367742a5c7c25bff5f642,Dhruv Singhal,dhruvs@fb.com,Tue Jul 5 16:29:16 2016 -0700,1467761356,Changes the default codec back to BSER v1. Renames BSER v2 codec as experimental-bser-v2.,14.0,9.0,"python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",3.0,2.0,2.0,1.4910138707589942,11.0,503.66666666666674,66.0,2.7112731481481482,38.0,17.925544522898893,10.0,None,False,,
09d44ebdf8c398e61d5367742a5c7c25bff5f642,05dd2660bb0b06059a2a712bd3f32dc9867562e9,Dhruv Singhal,dhruvs@fb.com,Wed Jul 6 16:03:58 2016 -0700,1467846238,Fixed a bug in w_string_compare due to assuming that the strings are null-terminated.,9.0,1.0,"string.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,676.0,31.0,43.007222222222225,40.0,1.0232519085941638,13.0,Corrective,True,,
05dd2660bb0b06059a2a712bd3f32dc9867562e9,053ec69d79e2500f85a08f44b4a362c92785fe52,Daniel Tschinder,daniel@tschinder.de,Tue Jul 5 12:06:53 2016 +0200,1467713213,Update nodejs documentationUse === when comparing subscriptionnDo the check that compares the subscription before looping over files.nUse forEach instead of forn,9.0,7.0,"website/_docs/nodejs.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,363.0,2.0,324.1865046296296,0.0,0.0,0.0,Non Functional,False,,
053ec69d79e2500f85a08f44b4a362c92785fe52,152b501ef40e7b83de088d0c679fd99c24c92ebe,Ori Peleg,nospam@orip.org,Sun Jul 3 15:14:34 2016 +0300,1467548074,Add missing dependencies to Gemfile,2.0,0.0,"website/Gemfile,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,2.0,1.0,322.69015046296295,0.0,0.0,0.0,Feature Addition,False,,
152b501ef40e7b83de088d0c679fd99c24c92ebe,3a81c1a90b6ec46cba1203c711be6bec9ee33139,Ori Peleg,nospam@orip.org,Sun Jul 3 15:21:31 2016 +0300,1467548491,fix link to watch-project,1.0,1.0,"website/_docs/cmd.watch.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,61.0,1.0,322.69497685185183,1.0,1.0030989016617358,1.0,Corrective,True,,
3a81c1a90b6ec46cba1203c711be6bec9ee33139,4f4c0447ed50837243ff0200c1b2747714b0ccd9,Damien,damien@dam.io,Tue Jun 28 19:49:33 2016 +0200,1467136173,Fix broken link for inotify_add_watch failure error,1.0,1.0,"website/_docs/troubleshooting.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,267.0,4.0,9.062893518518518,0.0,0.0,0.0,Corrective,True,,
4f4c0447ed50837243ff0200c1b2747714b0ccd9,d92e034f07879acfa266f99df17a03636271b87f,Wez Furlong,wez@fb.com,Sat Jul 9 10:45:05 2016 -0700,1468086305,documentation and version bump,94.0,3.0,"configure.ac,CAS_DELIMITER,website/_data/current_release.json,CAS_DELIMITER,website/_docs/cli-options.markdown,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",6.0,3.0,4.0,1.8075942756377423,11.0,198.8333333333333,141.0,95.11051118827162,2519.5,1.0096563841900863,89.0,Non Functional,False,,
d92e034f07879acfa266f99df17a03636271b87f,f313e138a08cfce8ad7cfa1e44e083bfebbfa65a,Wez Furlong,wez@fb.com,Sat Jul 9 10:50:57 2016 -0700,1468086657,add docs for the symlink_target field,8.0,1.0,"website/_docs/cmd.query.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,155.0,3.0,131.72108796296294,2523.0,1.0075917988187373,212.0,Feature Addition,False,,
f313e138a08cfce8ad7cfa1e44e083bfebbfa65a,2095301ec877590f6cee49884fe7a66628959c6b,mcprentiss,mcprentiss@gmail.com,Thu May 26 17:51:53 2016 -0500,1464303113,updates to README.mdspelling fixn,1.0,1.0,"thirdparty/libart/README.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,42.0,1.0,4.300185185185185,0.0,0.0,0.0,Corrective,True,,
2095301ec877590f6cee49884fe7a66628959c6b,cf7fe4b2bdb524e49b72b7c9b7a06989a53c200a,Dhruv Singhal,dhruvs@fb.com,Fri Jul 8 16:28:49 2016 -0700,1468020529,Adds back bser.pdu_len. Refactors code to use common path for bser.pdu_info and bser.pdu_len.,44.0,14.0,"python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER",2.0,1.0,1.0,0.42368057157091055,11.0,785.0,40.0,8.993472222222222,41.5,1.0833938195913704,17.0,Feature Addition,False,True,"[""b9121307e0d1e24f2be6ba65b38337f1e0a9bc3c""]"
cf7fe4b2bdb524e49b72b7c9b7a06989a53c200a,b9121307e0d1e24f2be6ba65b38337f1e0a9bc3c,Dhruv Singhal,dhruvs@fb.com,Fri Jul 8 16:36:40 2016 -0700,1468021000,Reorders return value of bser.pdu_info to match the order in the BSER header. Fixes tests.,19.0,11.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",4.0,1.0,2.0,1.4256051990169438,11.0,682.25,103.0,3.0037413194444444,44.5,1.2699285101321165,21.0,Corrective,True,,
b9121307e0d1e24f2be6ba65b38337f1e0a9bc3c,08b85fdebac49773d06138c7526ce7a3c8f11019,Dhruv Singhal,dhruvs@fb.com,Tue Jul 19 15:13:09 2016 -0700,1468966389,Fixes Travis failing due to Homebrew reinstalling pyenv.,2.0,2.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,31.0,22.0,61.9130787037037,47.0,1.016151676203758,0.0,Corrective,True,,
08b85fdebac49773d06138c7526ce7a3c8f11019,f3e69138fd7af21b77afc33eb44576c37e64fcc9,Cotizo Sima,cotizo@fb.com,Thu Jun 30 19:39:41 2016 +0100,1467311981,adding the java library,5059.0,3.0,".gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,java/.buckconfig,CAS_DELIMITER,java/.buckversion,CAS_DELIMITER,java/.nobuckcheck,CAS_DELIMITER,java/BUCK,CAS_DELIMITER,java/LICENSE,CAS_DELIMITER,java/README.md,CAS_DELIMITER,java/src/com/facebook/watchman/Callback.java,CAS_DELIMITER,java/src/com/facebook/watchman/CapabilitiesStrategy.java,CAS_DELIMITER,java/src/com/facebook/watchman/Deserializer.java,CAS_DELIMITER,java/src/com/facebook/watchman/SerializedStreamMessageSupplier.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanClient.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanClientImpl.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanConnection.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanException.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanSocketBuilder.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanSocketUnavailableException.java,CAS_DELIMITER,java/src/com/facebook/watchman/bser/BserConstants.java,CAS_DELIMITER,java/src/com/facebook/watchman/bser/BserDeserializer.java,CAS_DELIMITER,java/src/com/facebook/watchman/bser/BserSerializer.java,CAS_DELIMITER,java/src/com/facebook/watchman/environment/ExecutableFinder.java,CAS_DELIMITER,java/src/com/facebook/watchman/environment/FileFinder.java,CAS_DELIMITER,java/src/com/facebook/watchman/unixsocket/ReferenceCountedFileDescriptor.java,CAS_DELIMITER,java/src/com/facebook/watchman/unixsocket/UnixDomainSocket.java,CAS_DELIMITER,java/src/com/facebook/watchman/unixsocket/UnixDomainSocketLibrary.java,CAS_DELIMITER,java/test/com/facebook/watchman/CapabilitiesTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/WatchmanClientTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/WatchmanConnectionTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/WatchmanTestBase.java,CAS_DELIMITER,java/test/com/facebook/watchman/bser/BserDeserializerTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/bser/BserSerializerTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/environment/ExecutableFinderTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/environment/FileFinderTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/fakes/FakeWatchmanClient.java,CAS_DELIMITER,java/test/com/facebook/watchman/util/TemporaryPaths.java,CAS_DELIMITER,java/third-party/guava/BUCK,CAS_DELIMITER,java/third-party/guava/README,CAS_DELIMITER,java/third-party/hamcrest/BUCK,CAS_DELIMITER,java/third-party/hamcrest/README,CAS_DELIMITER,java/third-party/immutables/BUCK,CAS_DELIMITER,java/third-party/immutables/README,CAS_DELIMITER,java/third-party/jna/BUCK,CAS_DELIMITER,java/third-party/jna/README,CAS_DELIMITER,java/third-party/jsr-305/BUCK,CAS_DELIMITER,java/third-party/jsr-305/README,CAS_DELIMITER,java/third-party/junit/BUCK,CAS_DELIMITER,java/third-party/junit/README,CAS_DELIMITER,java/third-party/mockito/BUCK,CAS_DELIMITER,java/third-party/mockito/README,CAS_DELIMITER,java/third-party/nuprocess/BUCK,CAS_DELIMITER,java/third-party/nuprocess/README,CAS_DELIMITER,java/third-party/objenesis/BUCK,CAS_DELIMITER,java/third-party/objenesis/README,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",57.0,3.0,21.0,4.889430483366239,12.0,4.684210526315789,101.0,12.316319241390516,28.0,0.9838584621434796,1.0,Feature Addition,False,True,"[""d645f1b1fd496058a8cd3ec85e2c220be9f1073c"", ""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
f3e69138fd7af21b77afc33eb44576c37e64fcc9,532c5f9f89cbd634a09f78a5fcae66e6cff38e25,Ben Hamilton,beng@fb.com,Wed Jul 20 13:08:30 2016 -0700,1469045310,"Consume any number of consecutive slashes in patternThis is to match Python's built-in `glob()` behavior.nnPreviously, globbing a pattern like `a//b/c` would not match thenpath `a/b/c`. Since Unix treats mutiple slashes the same as onenslash, wildmatch should too.n",10.0,1.0,"query/match.c,CAS_DELIMITER,tests/wildmatch_test.json,CAS_DELIMITER,thirdparty/wildmatch/wildmatch.c,CAS_DELIMITER",3.0,3.0,3.0,1.3221793455166668,9.0,214.3333333333333,11.0,350.63158564814813,34.0,1.0017763691006525,3.0,None,False,,
532c5f9f89cbd634a09f78a5fcae66e6cff38e25,62ea2c3201364ad0b2ef27f550b915d791e4fa4a,Dhruv Singhal,dhruvs@fb.com,Mon Jul 18 16:53:21 2016 -0700,1468886001,Extended w_string_t to include a field that indicates if it is known Unicode. Added some helper functions.,95.0,12.0,"string.c,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.7843112002044088,11.0,381.0,33.0,18.044241898148147,48.5,1.0554027649939264,15.0,Feature Addition,False,,
62ea2c3201364ad0b2ef27f550b915d791e4fa4a,b6599bda54f63203a54d012df9c689c43dcd932d,Dhruv Singhal,dhruvs@fb.com,Wed Jul 6 10:33:53 2016 -0700,1467826433,Made w_string_t the backing store for Jansson's json_string_t.,103.0,129.0,"Makefile.am,CAS_DELIMITER,string.c,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",8.0,3.0,3.0,2.1818134566819234,11.0,473.0,321.0,294.0844733796296,53.5,1.0136085085232025,19.0,None,False,,
b6599bda54f63203a54d012df9c689c43dcd932d,5a0cd4d244f00153a9d10d6fd9aaaba877fc2513,Dhruv Singhal,dhruvs@fb.com,Mon Jul 18 17:37:57 2016 -0700,1468888677,Converted w_capability_supported to use w_string_t.,6.0,8.0,"cmds/info.c,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",3.0,2.0,2.0,1.3787834934861756,10.0,157.33333333333334,47.0,105.38847222222222,59.0,1.0053337241463842,20.0,None,False,True,"[""b606dfb2ba861d732ed39ed4f57b02ea3a069002""]"
5a0cd4d244f00153a9d10d6fd9aaaba877fc2513,105e39c7ad8ae1519c07214cb40704b39f8afdea,Dhruv Singhal,dhruvs@fb.com,Thu Jul 14 16:52:59 2016 -0700,1468540379,Made clockspec use w_string from json itself.,1.0,1.0,"clockspec.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,204.0,1.0,147.7174884259259,61.0,1.006769679139931,21.0,None,False,,
105e39c7ad8ae1519c07214cb40704b39f8afdea,b606dfb2ba861d732ed39ed4f57b02ea3a069002,Dhruv Singhal,dhruvs@fb.com,Thu Jul 14 17:18:19 2016 -0700,1468541899,Fixes cmds/reg.c to use new string types.,7.0,5.0,"cmds/reg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,225.0,15.0,-4.013634259259258,62.0,0.750849246491992,2.0,Corrective,True,,
b606dfb2ba861d732ed39ed4f57b02ea3a069002,32f0ce1ac56762a5e9ba3d37868f30734d491de2,Dhruv Singhal,dhruvs@fb.com,Thu Jul 14 17:18:43 2016 -0700,1468541923,Fixes cmds/state.c to use new string types.,2.0,2.0,"cmds/state.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,355.0,4.0,31.17785879629629,63.0,1.0320740435234377,3.0,Corrective,True,,
32f0ce1ac56762a5e9ba3d37868f30734d491de2,e2c9a65614f1b95c75f4a90e6717a81e3524d875,Dhruv Singhal,dhruvs@fb.com,Fri Jul 15 11:29:11 2016 -0700,1468607351,Fixes cmds/subscribe.c to use the new string types.,14.0,11.0,"cmds/subscribe.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,343.0,25.0,135.76482638888888,64.0,1.0073656780375173,4.0,Corrective,True,,
e2c9a65614f1b95c75f4a90e6717a81e3524d875,0528fa57dd07c4370f0d35d4519ac1ae3a29b1ab,Dhruv Singhal,dhruvs@fb.com,Fri Jul 15 12:03:25 2016 -0700,1468609405,Fixes cmds/trigger.c to use the new string types.,7.0,6.0,"cmds/trigger.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,391.0,16.0,137.81278935185185,65.0,1.0072562205924651,5.0,Corrective,True,,
0528fa57dd07c4370f0d35d4519ac1ae3a29b1ab,ad2c757bdc79cc96597479a960ec3b40b60f298c,Dhruv Singhal,dhruvs@fb.com,Fri Jul 15 12:44:50 2016 -0700,1468611890,Makes envp.c use w_string_t's as byte strings.,5.0,5.0,"envp.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,144.0,2.0,562.0178703703704,66.0,1.0017793028526674,22.0,None,False,,
ad2c757bdc79cc96597479a960ec3b40b60f298c,d65b3908e79e69b58070f4da8539f7060ca95dc6,Dhruv Singhal,dhruvs@fb.com,Fri Jul 15 13:18:45 2016 -0700,1468613925,Deleted unused function w_ignore_add.,4.0,13.0,"ignore.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER",3.0,2.0,2.0,1.5485652260309184,11.0,129.0,11.0,31.066925154320987,68.0,1.0203520214995532,24.0,Feature Addition,False,,
d65b3908e79e69b58070f4da8539f7060ca95dc6,e805c44caa8da88242d32d5bae7a56ecb6881936,Dhruv Singhal,dhruvs@fb.com,Fri Jul 15 13:21:58 2016 -0700,1468614118,Fixes query/dirname.c to use the new string functions.,1.0,1.0,"query/dirname.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,155.0,2.0,351.86672453703704,70.0,1.0028419851331942,0.0,Corrective,True,,
e805c44caa8da88242d32d5bae7a56ecb6881936,fab7d82671616fb0f79fa56db14904a1cfd1f526,Dhruv Singhal,dhruvs@fb.com,Fri Jul 15 14:40:10 2016 -0700,1468618810,Fixes query/name.c to use the new string functions.,9.0,5.0,"query/name.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,175.0,8.0,561.9608796296296,71.0,1.0017794832990137,1.0,Corrective,True,,
fab7d82671616fb0f79fa56db14904a1cfd1f526,1bb9d3d047b69872f727be27e270c5748ed67d62,Dhruv Singhal,dhruvs@fb.com,Tue Jul 19 16:15:26 2016 -0700,1468970126,Fixes fstypes.c to use the new string functions.,7.0,7.0,"fstype.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,102.0,7.0,566.1489930555556,72.0,1.001766319488803,25.0,Corrective,True,,
1bb9d3d047b69872f727be27e270c5748ed67d62,67dc4a04976b675d9b2b0c9dc86153c5bfd27a46,Dhruv Singhal,dhruvs@fb.com,Tue Jul 19 16:28:56 2016 -0700,1468970936,Fixes watcher/fsevents.c to use the new string types.,21.0,12.0,"watcher/fsevents.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,789.0,26.0,30.054826388888888,73.0,1.0332725262512146,0.0,Corrective,True,True,"[""dadf713335f2d0b048dbc09eb25efa020ccfc008""]"
67dc4a04976b675d9b2b0c9dc86153c5bfd27a46,f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78,Dhruv Singhal,dhruvs@fb.com,Tue Jul 19 17:18:10 2016 -0700,1468973890,Fixes root.c to use the new string functions.,14.0,16.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,2728.0,208.0,25.097280092592587,74.0,1.0398449551628963,26.0,Corrective,True,,
f38a679e09d6c4bbbb0fcdad2ccd53a71c4a2f78,1efc4ce07ef72ca0a95c333d6dd6fede3a0d3612,Dhruv Singhal,dhruvs@fb.com,Tue Jul 19 17:19:39 2016 -0700,1468973979,Fixes watcher/win32.c to use the new string types.,1.0,1.0,"watcher/win32.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,434.0,10.0,142.03239583333334,75.0,1.0070406472701725,1.0,Corrective,True,,
1efc4ce07ef72ca0a95c333d6dd6fede3a0d3612,25651887a26f9d04e71b1bb799857abbbd25e7b1,Dhruv Singhal,dhruvs@fb.com,Tue Jul 19 17:21:07 2016 -0700,1468974067,Fixes watcher/inotify.c to use the new string types.,1.0,1.0,"watcher/inotify.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,480.0,17.0,29.86811342592593,76.0,1.0334805210406086,2.0,Corrective,True,,
25651887a26f9d04e71b1bb799857abbbd25e7b1,d645f1b1fd496058a8cd3ec85e2c220be9f1073c,Cotizo Sima,cotizo@fb.com,Wed Jul 27 19:55:55 2016 +0100,1469645755,"Fixing watchman.jar to include dependenciesBuilding the jar without bundling dependencies is confusing, since users wouldnhave to manually include them to prevent ClassNotFoundException. This PRnchanges the buck target type, so all the classes of our dependencies arenincluded in the final jar.nnBonus: watchman.jar is produced in a much friendlier location (buck-out/gen/watchman.jar).nnCloses https://github.com/facebook/watchman/pull/314n",12.0,5.0,"java/BUCK,CAS_DELIMITER,java/README.md,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",3.0,2.0,2.0,1.2607717938967942,12.0,47.0,35.0,27.01127314814815,58.0,1.022624298668166,2.0,Corrective,True,True,"[""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
d645f1b1fd496058a8cd3ec85e2c220be9f1073c,eaf7d9bb9d6378fcffdf88e2a8c7567f9cb1d7f9,Olivier Trempe,oliviertrempe@gmail.com,Mon Jul 18 15:57:33 2016 -0400,1468871853,pywatchman: prevent command window pop-up when used with gui applicationCloses https://github.com/facebook/watchman/pull/304n,14.0,4.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,880.0,37.0,9.847835648148148,0.0,0.0,0.0,None,False,,
eaf7d9bb9d6378fcffdf88e2a8c7567f9cb1d7f9,12a270d0212daa6cdbc44b6eefae3699e9ea107d,Dhruv Singhal,dhruvs@fb.com,Wed Jul 27 15:42:35 2016 -0700,1469659355,Added a flag to known unilateral responses to indicate that they are unilateralCloses https://github.com/facebook/watchman/pull/315n,8.0,0.0,"cmds/state.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,listener.c,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER",4.0,3.0,3.0,1.9056390622295665,11.0,592.25,198.0,17.244247685185183,78.5,1.0370871824288186,22.0,Feature Addition,False,,
12a270d0212daa6cdbc44b6eefae3699e9ea107d,ac0cc91e753c8e5b29b02eeb841c923c186d7e08,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 14:01:33 2016 -0700,1469134893,Fixes query/parse.c to use the new string types.,7.0,6.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,586.0,25.0,143.85344907407406,81.0,1.0069515191080691,2.0,Corrective,True,,
ac0cc91e753c8e5b29b02eeb841c923c186d7e08,b666def45588a49394d82d99828f5eea3816b57b,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 14:01:54 2016 -0700,1469134914,Fixes query/suffix.c to use the new string types.,1.0,1.0,"query/suffix.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,59.0,6.0,154.62869212962963,82.0,1.0064671050775085,3.0,Corrective,True,,
b666def45588a49394d82d99828f5eea3816b57b,a664d73e704619a4424f9306575713ede3bd8685,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 14:02:10 2016 -0700,1469134930,Fixes spawn.c to use the new string types.,1.0,1.0,"spawn.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,592.0,11.0,36.188344907407405,83.0,1.0276332062866824,28.0,Corrective,True,,
a664d73e704619a4424f9306575713ede3bd8685,456af1938173bd356ba43638dc5cfd6eb2c3cacc,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 14:33:51 2016 -0700,1469136831,Fixes tests/pending_test.c to use the new string type.,1.0,1.0,"tests/pending_test.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,145.0,3.0,41.811076388888885,84.0,1.0239171072923094,12.0,Corrective,True,,
456af1938173bd356ba43638dc5cfd6eb2c3cacc,48b86ac0ad4491e95844fa33f73d1273fc135c1c,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 15:23:25 2016 -0700,1469139805,Adds a typed function to convert plain strings to json_t in a typed fashion.,15.0,2.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER",2.0,1.0,1.0,0.6722948170756379,11.0,645.0,11.0,15.201064814814815,85.5,1.0493386489128746,4.0,Feature Addition,False,,
48b86ac0ad4491e95844fa33f73d1273fc135c1c,f5409e747b3e629b89a28f0393c43621416e65a3,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 15:24:59 2016 -0700,1469139899,Removes the (now) unused and deprecated untyped w_string creation API methods.,1.0,33.0,"string.c,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.7871265862012691,11.0,390.5,37.0,15.202152777777775,87.5,1.049335117924636,30.0,None,False,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
f5409e747b3e629b89a28f0393c43621416e65a3,2cc9dfdffa68437546d857774cc4c462381e5080,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 16:37:40 2016 -0700,1469144260,Cosmetic change to w_string_type_t enum.,5.0,1.0,"watchman_string.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,95.0,4.0,0.05047453703703704,89.0,20.81196973171291,31.0,None,False,,
2cc9dfdffa68437546d857774cc4c462381e5080,8a3d939446d4efb0f34409fbdea7a56651ba7cf9,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:36:07 2016 -0700,1469147767,Adds helpers for adding string to JSON objects.,21.0,0.0,"watchman.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1023.0,172.0,15.293217592592592,90.0,1.0653884634770618,32.0,Feature Addition,False,,
8a3d939446d4efb0f34409fbdea7a56651ba7cf9,c3decbcf37374e065793bd7b7dd759c549131db5,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cfg.c",4.0,2.0,"cfg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,308.0,12.0,43.04081018518519,91.0,1.0232337633910111,33.0,None,False,,
c3decbcf37374e065793bd7b7dd759c549131db5,a66fd8b0c1410701d5312ec42a06241dc20f9884,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in clockspec.c",1.0,1.0,"clockspec.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,204.0,2.0,7.0350578703703714,92.0,1.1421452415070683,34.0,None,False,,
a66fd8b0c1410701d5312ec42a06241dc20f9884,a8fe2ef4a9bc6c5d3bb9612ece11cc8a23cfa27f,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/debug.c",1.0,1.0,"cmds/debug.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,145.0,11.0,142.02474537037037,93.0,1.0070410265295122,8.0,Corrective,True,,
a8fe2ef4a9bc6c5d3bb9612ece11cc8a23cfa27f,56882bb9a2f85eec1b6bf085ce80321a25c92f73,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/find.c",1.0,1.0,"cmds/find.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,70.0,10.0,142.02474537037037,94.0,1.0070410265295122,9.0,None,False,,
56882bb9a2f85eec1b6bf085ce80321a25c92f73,ed01a6a6c7b756d7d4f31bd5999592be12c4823c,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/info.c",1.0,1.0,"cmds/info.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,153.0,12.0,3.003831018518518,95.0,1.3329082074973702,10.0,None,False,,
ed01a6a6c7b756d7d4f31bd5999592be12c4823c,47504aacbfedaec6b74994e5c3b53759378a5fa2,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/log.c",1.0,1.0,"cmds/log.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,76.0,4.0,337.4109375,96.0,1.0029637450623543,11.0,None,False,,
47504aacbfedaec6b74994e5c3b53759378a5fa2,55e5bb037990e26e32e13581751b6f87b3cfe503,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/query.c",1.0,1.0,"cmds/query.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,81.0,13.0,142.02474537037037,97.0,1.0070410265295122,12.0,None,False,,
55e5bb037990e26e32e13581751b6f87b3cfe503,2fe18faf3c05de3bbb4afb439905989a5aac2bb3,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/since.c",1.0,1.0,"cmds/since.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,79.0,13.0,142.02474537037037,98.0,1.0070410265295122,13.0,None,False,,
2fe18faf3c05de3bbb4afb439905989a5aac2bb3,6d10b2e71b7e3734f23cc89d648cb13dce0bdd78,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/state.c",4.0,4.0,"cmds/state.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,357.0,6.0,-5.916053240740743,99.0,0.8309683906977836,14.0,None,False,True,"[""98c802ff1182ccd89ea014d2978580ad16c9a883""]"
6d10b2e71b7e3734f23cc89d648cb13dce0bdd78,28880e2a749465ad4d5090e84b50650fe16ad54d,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/subscribe.c",3.0,3.0,"cmds/subscribe.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,348.0,27.0,-5.916053240740743,100.0,0.8309683906977836,15.0,None,False,,
28880e2a749465ad4d5090e84b50650fe16ad54d,ec2ecf65d9c633bc0ba4c24e98923cb02b9c98f4,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/trigger.c",2.0,3.0,"cmds/trigger.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,392.0,17.0,6.2361458333333335,101.0,1.16035545459101,16.0,None,False,,
ec2ecf65d9c633bc0ba4c24e98923cb02b9c98f4,bb0193c2695b769bc4d7f511f4efed10bd7048fb,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in cmds/watch.c",11.0,9.0,"cmds/watch.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,385.0,26.0,32.350335648148146,102.0,1.0309115803581237,17.0,None,False,,
bb0193c2695b769bc4d7f511f4efed10bd7048fb,c3e11d1eb11852a6d462be917c22d18dc1ec313d,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in listener-user.c",1.0,1.0,"listener-user.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,143.0,5.0,38.1950462962963,103.0,1.0261814056263356,35.0,None,False,,
c3e11d1eb11852a6d462be917c22d18dc1ec313d,0fcf9705139e8946859d4cdab3c9027245beb74a,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in listener.c",3.0,3.0,"listener.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,779.0,130.0,-5.916053240740743,104.0,0.8309683906977836,36.0,None,False,,
0fcf9705139e8946859d4cdab3c9027245beb74a,5dd00a3e33399491a17951c20210e8134df5c370,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in perf.c",1.0,1.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,298.0,4.0,35.03107638888889,105.0,1.0285460825953148,37.0,None,False,True,"[""5856eee026de9c4be444beff2e3edca32563124a""]"
5dd00a3e33399491a17951c20210e8134df5c370,b31970bccba7f8273eb1005b7b25c709aecc1d7a,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in query/fieldlist.c",12.0,11.0,"query/fieldlist.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,254.0,12.0,57.29864583333333,106.0,1.0174524194325418,4.0,None,False,,
b31970bccba7f8273eb1005b7b25c709aecc1d7a,533fe54e65b28903b55102c7e4e930efdf841f47,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in query/parse.c",3.0,2.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,587.0,26.0,0.15410879629629629,107.0,7.488922268118664,5.0,None,False,,
533fe54e65b28903b55102c7e4e930efdf841f47,b993633939a7e4e744e9a749e824f835336c902d,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 17:43:28 2016 -0700,1469148208,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in winbuild/backtrace.c",1.0,1.0,"winbuild/backtrace.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,63.0,2.0,568.2252546296296,108.0,1.0017598654615445,1.0,None,False,,
b993633939a7e4e744e9a749e824f835336c902d,16d6138e588d7b4b8d8d26a92155e78097ce79ec,Dhruv Singhal,dhruv@singhal.me,Thu Jul 21 18:01:50 2016 -0700,1469149310,"Changes json_string_nocheck to typed_string_to_json, annotating the strings with correct types in bser.c",1.0,1.0,"bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,697.0,10.0,20.12466435185185,109.0,1.0496902697364978,38.0,None,False,,
16d6138e588d7b4b8d8d26a92155e78097ce79ec,6a2f37a9069a6d4a76b2febb3e86cb8b7ebeff60,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:01:21 2016 -0700,1469214081,Changes json_string to typed_string_to_json in cmds/info.c,2.0,2.0,"cmds/info.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,153.0,13.0,0.7624189814814815,110.0,2.311614773883078,18.0,None,False,,
6a2f37a9069a6d4a76b2febb3e86cb8b7ebeff60,c8b88799738c21309382a272a03b85c4bc99d7f9,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:01:21 2016 -0700,1469214081,Changes json_string to typed_string_to_json in main.c,1.0,1.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1103.0,78.0,30.920613425925932,111.0,1.0323408849050042,39.0,None,False,,
c8b88799738c21309382a272a03b85c4bc99d7f9,ca9c6e8912262554fc311fa8349ac1abf8582309,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:01:21 2016 -0700,1469214081,Changes json_string to typed_string_to_json in opt.c,1.0,1.0,"opt.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,249.0,16.0,50.925567129629634,112.0,1.0196365019844458,40.0,None,False,,
ca9c6e8912262554fc311fa8349ac1abf8582309,0eadb313e88ea4007bfcb1a770918fd3021aeaef,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:01:22 2016 -0700,1469214082,Changes json_string to typed_string_to_json in perf.c,1.0,1.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,298.0,5.0,0.7624305555555555,113.0,2.3115948629201206,41.0,None,False,,
0eadb313e88ea4007bfcb1a770918fd3021aeaef,59d639ac16ecc1752c95ea9c75d40bace5cd2635,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:01:22 2016 -0700,1469214082,Changes json_string to typed_string_to_json in state.c,1.0,1.0,"state.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,130.0,6.0,568.8457175925928,114.0,1.0017579459053187,42.0,None,False,,
59d639ac16ecc1752c95ea9c75d40bace5cd2635,da9542fa51821480684decabcb463908974e37ac,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:01:22 2016 -0700,1469214082,Changes json_string to typed_string_to_json in tests/argv.c,2.0,2.0,"tests/argv.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,39.0,5.0,42.70518518518519,115.0,1.0234163602303477,13.0,Preventative,False,,
da9542fa51821480684decabcb463908974e37ac,dea9bfa8698d74252517bc26440731217e26c903,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 12:18:20 2016 -0700,1469215100,Eliminates untyped json string creation functions from Jansson.,3.0,24.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/load.c,CAS_DELIMITER,thirdparty/jansson/pack_unpack.c,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER",4.0,1.0,1.0,1.2292041910556644,11.0,751.0,16.0,622.121009837963,117.5,1.2872607328382646,8.0,None,False,,
dea9bfa8698d74252517bc26440731217e26c903,0e0518fbcb5b3df29a3a023bee7b059cda472c0e,Dhruv Singhal,dhruvs@fb.com,Fri Jul 22 15:36:23 2016 -0700,1469226983,"Adds support for bytestring ('s'), unicode strings ('u'), and mixed strings ('m') to Jansson's pack/unpack functions.",31.0,7.0,"thirdparty/jansson/pack_unpack.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,647.0,3.0,0.1375347222222222,120.0,8.270891189093664,9.0,Feature Addition,False,,
0e0518fbcb5b3df29a3a023bee7b059cda472c0e,1c2547c19c19610cec7a8c8f6611b919e9480802,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:54 2016 -0700,1469382474,Fixes Jansson's pack-unpack format strings in checksock.c,1.0,1.0,"checksock.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,80.0,1.0,277.8956481481481,121.0,1.0035984730479366,43.0,Corrective,True,,
1c2547c19c19610cec7a8c8f6611b919e9480802,339485da12ec2f7da1fd6ec8fa7714438418d82b,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in cmds/log.c,2.0,2.0,"cmds/log.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,76.0,5.0,2.711423611111111,122.0,1.368809947623865,19.0,Corrective,True,,
339485da12ec2f7da1fd6ec8fa7714438418d82b,3866fb3dd15c87ff4f8c14a2d0f168820906ea75,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in cmds/reg.c,1.0,1.0,"cmds/reg.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,227.0,16.0,9.728888888888893,123.0,1.1027866605756054,20.0,Corrective,True,,
3866fb3dd15c87ff4f8c14a2d0f168820906ea75,afaaf8820ef906e32c71030c4c2c219ec24d1d99,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in cmds/state.c,2.0,2.0,"cmds/state.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,357.0,7.0,2.711423611111111,124.0,1.368809947623865,21.0,Corrective,True,,
afaaf8820ef906e32c71030c4c2c219ec24d1d99,82e91478cd414829b95ce111b2077a816a3545f1,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in cmds/trigger.c,2.0,2.0,"cmds/trigger.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,391.0,18.0,2.711423611111111,125.0,1.368809947623865,22.0,Corrective,True,,
82e91478cd414829b95ce111b2077a816a3545f1,646a5f1bb45b822b251feb7687e868d1bc8010af,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in perf.c,2.0,2.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,298.0,6.0,1.948993055555556,126.0,1.513085460797064,44.0,Corrective,True,,
646a5f1bb45b822b251feb7687e868d1bc8010af,0da22350fe731ecac11edbbc01cf2d2a2d531b44,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in query/fieldlist.c,1.0,1.0,"query/fieldlist.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,255.0,13.0,2.711423611111111,127.0,1.368809947623865,6.0,Corrective,True,,
0da22350fe731ecac11edbbc01cf2d2a2d531b44,d1b25d5c9ff93226092b97e7bb80b5e71ea4f287,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in query/parse.c,6.0,6.0,"query/parse.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,588.0,27.0,2.711423611111111,128.0,1.368809947623865,7.0,Corrective,True,,
d1b25d5c9ff93226092b97e7bb80b5e71ea4f287,9ed19959ecaf5babf804629bca406d0ae2bce539,Dhruv Singhal,dhruvs@fb.com,Sun Jul 24 10:47:55 2016 -0700,1469382475,Fixes Jansson's pack-unpack format strings in query/type.c,1.0,1.0,"query/type.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,67.0,5.0,291.5020601851852,129.0,1.0034305074872016,8.0,Corrective,True,,
9ed19959ecaf5babf804629bca406d0ae2bce539,98c802ff1182ccd89ea014d2978580ad16c9a883,Siddharth Agarwal,sid0@fb.com,Fri Jul 29 14:10:21 2016 -0700,1469826621,fix my boo boo,1.0,1.0,"cmds/state.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,357.0,8.0,5.140578703703704,339.0,1.1945306273162428,16.0,Corrective,True,,
98c802ff1182ccd89ea014d2978580ad16c9a883,c092710854808431b478e97b767297b01538e395,Dhruv Singhal,dhruvs@fb.com,Mon Aug 1 11:43:54 2016 -0700,1470077034,Fixes a memory leak in the caching of raw C-string in a JSON object.,7.0,0.0,"thirdparty/jansson/value.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1001.0,8.0,9.976087962962962,130.0,1.1002396935264185,10.0,Corrective,True,,
c092710854808431b478e97b767297b01538e395,8c11be824783801dbed27d2e6f136939f0fcf14e,Wez Furlong,wez@fb.com,Sun Nov 1 16:49:25 2015 -0800,1446425365,save ~10% memory by embedding file->name in file structThis is a win because of the way that the watchman_file struct getsnbinned by the allocator; there's some slack space at the end of thenusable memory space that is about the right size to store a typicalnfile name.n,59.0,21.0,"query/eval.c,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/pcre.c,CAS_DELIMITER,query/suffix.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",10.0,3.0,3.0,2.3218282146963762,11.0,578.9,484.0,-177.0386053240741,2528.5,0.9981522741033604,1023.0,None,False,True,"[""b1aea7a96067e099b95d3cae7a5b5074e3238e56""]"
8c11be824783801dbed27d2e6f136939f0fcf14e,f77642393e318388225d82516935c4e57fd6b384,Wez Furlong,wez@fb.com,Sat Jul 30 16:55:07 2016 -0700,1469922907,"save 16 bytes per watchman_fileWe were storing a full `struct timeval` to record the time at which wenobserved a change (and creation), but only ever querying against then`tv_sec` portion of this.nnThis diff removes the timeval and stores a `time_t` instead, saving 16nbytes per `watchman_file` instance.n",14.0,18.0,"clockspec.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",7.0,3.0,3.0,2.706747562960808,11.0,792.0,455.0,162.9566980820106,2537.0,1.0250904369746678,1027.0,None,False,,
f77642393e318388225d82516935c4e57fd6b384,b1aea7a96067e099b95d3cae7a5b5074e3238e56,Wez Furlong,wez@fb.com,Sun Jul 31 00:12:37 2016 -0700,1469949157,"Reduce memory utilization around dir namesWe've traditionally maintained a map of full dir name -> dir structure.nAs the volume and depth of a watched tree increases, this results inna lot of duplicate path prefixes maintained in memory, bloating thenwatchman process.nnThis diff trades the O(1) lookup time complexity for O(depth-of-path-in-root)nfor a reduced memory footprint; we're now storing just a single pathncomponent in each directory and file.  This means that we have tonintroduce some helper functions to compute the effective directorynpath on demand.nnThis translates into about 40% memory savings (but see note below)nand should be more on OSX.  I've only done some light testing withnthis because my local repos are more sparse than is representative; Inwill look at this when I'm plugged into the ethernet.nnNote that inotify and kqueue watches maintain additional maps keyed byndirname; this diff does not change that, and there is potentiallynmore to be saved by looking at that in more detail.n",248.0,108.0,"cmds/debug.c,CAS_DELIMITER,pending.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",10.0,4.0,4.0,2.0493853406494202,11.0,670.5,510.0,92.96924537037034,2545.5,1.0169660575232071,1032.0,Corrective,True,True,"[""9f9a17a97d63bf9eab51c77de45d5982433994e5"", ""1b2c278937019db8809a8424884520a563937cfa""]"
b1aea7a96067e099b95d3cae7a5b5074e3238e56,bbd59571363f3c4931f2b68c8a034676b409a895,Wez Furlong,wez@fb.com,Tue Jul 19 13:57:25 2016 -0700,1468961845,"avoid spuriously updating directories on darwinSummary: the pantsbuild folks reported that they receive spuriousnnotifications for a parent directory when touching a child directory.nnIn tracing through the code, this is due to the logic in this diffnthat desires to trigger a stat on the parent directory.  This behaviornwas introduced in c6dbda20726d58f578bbca290c6a739c4e76d751 to ensurenthat we notice mtime updates for the parent.nnIn this situation, since the event that triggered for the child nodenhad VIA_NOTIFY set, we will propagate this to the stat_path call whennlooking at the parent and this will cause it to unconditionally marknthe directory node as changed (because the criteria is `via_notify ||ndid_file_change()`).nnI think the solution here is just to zero out the flags that we passndown and that is what I've done here in this diff.  The existingntwodeep.php integration test continues to pass for me on the mac so thisndoesn't obviously break things.  The diff that introduced this behaviornwas Linux specific though, so I'm interested to see what our Linux CInmakes of this.nnCloses https://github.com/facebook/watchman/issues/305nCloses https://github.com/facebook/watchman/issues/307n",10.0,2.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,2776.0,212.0,-11.427222222222225,2551.0,0.9124896689192474,1033.0,None,False,,
bbd59571363f3c4931f2b68c8a034676b409a895,d5a4891aba9c960f9657b624d676f651880de36b,Wez Furlong,wez@fb.com,Mon Jun 20 15:35:17 2016 -0700,1466462117,"count the number of files walked in a queryThis will help us understand if a slow query was due in part tontraversing many files; the num_results field only shows us thenfiltered count, not the input count.nnThis number is logged in the perf sample.nnCloses https://github.com/facebook/watchman/pull/289n",120.0,40.0,"cmds/subscribe.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,3.0,3.0,0.9322735112921258,11.0,402.5,85.0,-1.8878993055555569,2553.5,0.9554689838622884,1035.0,None,False,True,"[""f815a2679417d425bf7611b021ea8df0ea826068""]"
d5a4891aba9c960f9657b624d676f651880de36b,36ca8cd2f48f1911eba40bdb3365e896b1506ee1,Olivier Trempe,oliviertrempe@gmail.com,Wed Aug 3 13:10:40 2016 -0400,1470244240,fix windows timeoutFailing to acquire a critical section and then calling a WaitForSingleObjectndoes not return causing lots of timeouts under Windows.nnEnsure a critical section gets initialized before usennAlso: repetitive calls to make.bat are not giving an error anymorennCloses: https://github.com/facebook/watchman/pull/323n,74.0,26.0,"make.bat,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/pthread.c,CAS_DELIMITER,winbuild/pthread.h,CAS_DELIMITER",5.0,3.0,3.0,1.3633242943661519,11.0,452.8,49.0,235.73035185185185,3.0,1.0033454733788911,2.0,Corrective,True,,
36ca8cd2f48f1911eba40bdb3365e896b1506ee1,a1920f2ec225eb6eea022ad55b8c609ba6a66a8c,Wez Furlong,wez@fb.com,Wed Aug 10 13:30:32 2016 -0700,1470861032,appveyor: don't block on interactive prompts during cinstRefs: https://github.com/facebook/watchman/pull/325nnCloses: https://github.com/facebook/watchman/pull/328n,1.0,1.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,24.0,4.0,368.06298611111123,2556.0,1.0027169262809223,1036.0,None,False,,
a1920f2ec225eb6eea022ad55b8c609ba6a66a8c,fe5ae6b30707a0bc20a4b819ac93ba5f8cb99e2b,Wez Furlong,wez@fb.com,Thu Aug 11 10:40:22 2016 -0700,1470937222,"Add configuration option to suppress recrawl warningsAt FB we now use the perf reporting hooks to sample this centrally whichnmakes these user facing warnings unactionable noise, so we want to turnnthem off.n",47.0,0.0,"listener-user.c,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER",3.0,3.0,3.0,1.2527927289647427,11.0,237.0,18.0,46.71385416666666,2558.0,1.0215878538865748,213.0,Feature Addition,False,,
fe5ae6b30707a0bc20a4b819ac93ba5f8cb99e2b,38a2573d8e87c73e42c35266e140323010125539,Wez Furlong,wez@fb.com,Fri Aug 12 13:01:18 2016 -0700,1471032078,"perf: capture the slow query in the query perf sampleI thought we were already doing this, but apparently not.nThis captures a reference to the incoming query so that we can send itnout along with the perf sample if that query proves to be a slow query.nnTo accomodate some of the queries produced by buck and logged to the lognfile, we need to increase the size of the stack buffer that we use tonlog a line.n",14.0,3.0,"log.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.8512268158971918,11.0,385.0,94.0,60.21419849537037,2561.5,1.0060040047485803,1039.0,None,False,,
38a2573d8e87c73e42c35266e140323010125539,1fba779083a7387938671ab976ef33b2a820a93f,Wez Furlong,wez@fb.com,Mon Aug 15 10:06:54 2016 -0700,1471280814,migrate the match.php test to python,70.0,100.0,"tests/integration/match.php,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER",2.0,1.0,1.0,0.9774178175281716,8.0,50.0,3.0,187.4954398148148,2564.5,1.0026667315242108,345.0,Preventative,False,,
1fba779083a7387938671ab976ef33b2a820a93f,7de84d217fb84f5e7f7386a9495105f1b70e7e2a,Wez Furlong,wez@fb.com,Sat Aug 13 07:15:21 2016 -0700,1471097721,"Allow forcing the case sensitivity of a queryWe default to respecting the case sensitivity of the watched root.nIn some cases we are able to optimize a query if we know that thentree is treated as case sensitive, so allow a query to force thatnflag as appropriate.n",98.0,2.0,"query/parse.c,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,website/_docs/cmd.query.markdown,CAS_DELIMITER,website/_docs/expr.match.md,CAS_DELIMITER,website/_docs/expr.name.md,CAS_DELIMITER,website/_docs/expr.pcre.md,CAS_DELIMITER",7.0,3.0,3.0,2.5318161459175936,11.0,179.71428571428572,63.0,166.19575892857142,2569.0,1.198103094375677,217.0,None,False,,
7de84d217fb84f5e7f7386a9495105f1b70e7e2a,c9a3c99ccce44f8327896e44d17268275a40a1de,Wez Furlong,wez@fb.com,Sat Aug 13 11:46:30 2016 -0700,1471113990,"Add a cache for the parent path in the query contextA recent change made it O(depth-of-tree) to compute the wholename.nWe already cache the wholename in the query executor, but there arensome operations where we are also interested in the name of thenparent of a file node.nnThis diff adds a simple cache for the most recently looked up filenparent and its full name string.n",27.0,3.0,"query/eval.c,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",2.0,2.0,2.0,0.5665095065529053,11.0,371.0,47.0,0.9480555555555557,2573.5,1.7910928801640786,1040.0,Feature Addition,False,,
c9a3c99ccce44f8327896e44d17268275a40a1de,38a3ada9da5ff9d798526a8af5677e6e7c64e9f8,Wez Furlong,wez@fb.com,Fri Aug 12 11:12:33 2016 -0700,1471025553,"perf: Allow deferring computing hval in our string typeEager hval computation was helpful when strings were guaranteed to benused as keys in hash lookups, but we now have a number of code pathsnwhere the eager hashing is wasteful of CPU.nnThis diff trades the `hval` field of the struct for an inline functionnthat will compute it on demand.nnThis effectively removes the hash_bytes function from the profile ofnsome heavy watchman queries.n",34.0,18.0,"ht.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",3.0,1.0,1.0,1.0577422381270596,11.0,425.66666666666674,54.0,122.98029706790123,2576.0,1.0028074728388552,1043.0,None,False,,
38a3ada9da5ff9d798526a8af5677e6e7c64e9f8,bcd3061a47e47205a646083e6fd881af5b94aaac,Wez Furlong,wez@fb.com,Tue Aug 16 16:32:33 2016 -0700,1471390353,"windows: suppress warning C4214I recently added using bitfields to the string type, and the MS compilernis complaining, let's see if this will keep it quietnnRefs: https://github.com/facebook/watchman/pull/325n",1.0,1.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,295.0,28.0,13.26519675925926,2578.0,1.075385236883274,90.0,None,False,,
bcd3061a47e47205a646083e6fd881af5b94aaac,d3971dc1389b604bb6e77d8013cb4c71c3aacac7,Wez Furlong,wez@fb.com,Wed Aug 17 13:55:10 2016 -0700,1471467310,"avoid crash if we sample a root concurrently with a recrawlSince we call this function outside of a lock, there is a small windownof opportunity to read a NULL pointer for the watcher_ops member.n",18.0,9.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,298.0,7.0,24.130034722222234,2579.0,1.0414421285137672,1044.0,None,False,,
d3971dc1389b604bb6e77d8013cb4c71c3aacac7,e682f912d8b360c981e82cb2e99be622de78db26,Olivier Trempe,oliviertrempe@gmail.com,Tue Jul 19 08:42:17 2016 -0400,1468932137,pywatchman: fix for windows 7 and earlier not supporting GetOverlappedResultEx,174.0,70.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,893.0,39.0,-8.416875,6.0,0.881191059627237,1.0,None,False,,
e682f912d8b360c981e82cb2e99be622de78db26,c408d68fd13e38f631c525ae4c4eb3ca002b0fa4,Olivier Trempe,oliviertrempe@gmail.com,Wed Aug 3 08:04:11 2016 -0400,1470225851,pywatchman: support for Windows 7.No more use of GetOverlappedResultEx. Providing a custom implementationnof it using WaitForSingleObjectEx and GetOverlappedResult which arensupported since Windows XP API.nnSame implementation has been set into watchman source code to simplifynmaintenance.n,193.0,221.0,"listener.c,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,stream_win.c,CAS_DELIMITER",3.0,2.0,2.0,0.9273848675140112,11.0,848.3333333333335,179.0,60.647908950617285,8.0,1.0407020046369342,2.0,None,False,,
c408d68fd13e38f631c525ae4c4eb3ca002b0fa4,27ec150b035e956e7dc00b5c1c5fe815dcc27d80,Olivier Trempe,oliviertrempe@gmail.com,Wed Aug 10 15:11:57 2016 -0400,1470856317,Bring back GetOverlappedResultEx when available.Add configuration based on WATCHMAN_WIN7_COMPAT environment variable tonexecute GetOverlappedResult code path even if GetOverlappedResultEx isnavailable.n,102.0,64.0,"python/pywatchman/__init__.py,CAS_DELIMITER,stream_win.c,CAS_DELIMITER",2.0,2.0,2.0,0.6113457841625994,11.0,869.0,50.0,7.2970601851851855,10.5,1.1027811174591493,3.0,Feature Addition,False,,
27ec150b035e956e7dc00b5c1c5fe815dcc27d80,4977bf85acecef0d1d08f9c6797c6271915e3541,Olivier Trempe,oliviertrempe@gmail.com,Wed Aug 10 15:37:52 2016 -0400,1470857872,Add build configurations for appveyor,8.0,0.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,24.0,5.0,-0.03657407407407407,12.0,-26.34177215189873,4.0,Feature Addition,False,,
4977bf85acecef0d1d08f9c6797c6271915e3541,6a70518dbcb435dcd34ac43e1d854d16402f0202,Olivier Trempe,oliviertrempe@gmail.com,Thu Aug 11 16:22:28 2016 -0400,1470946948,Fix Make.bat always returning 0,4.0,0.0,"make.bat,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,35.0,7.0,8.133194444444445,13.0,1.122952919277993,5.0,Corrective,True,,
6a70518dbcb435dcd34ac43e1d854d16402f0202,fe6ee7463e591fdf0d5a0dcedf8fcfab593e5d4d,Olivier Trempe,oliviertrempe@gmail.com,Wed Aug 17 15:01:20 2016 -0400,1471460480,Explicitly ckecking for WATCHMAN_WIN7_COMPAT=1,3.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER,stream_win.c,CAS_DELIMITER",2.0,2.0,2.0,0.9709505944546686,11.0,888.0,52.0,6.992627314814817,14.5,1.1072558233456866,6.0,None,False,,
fe6ee7463e591fdf0d5a0dcedf8fcfab593e5d4d,bac383c751b248ae742a2a20df3e8272238c0ae2,Wez Furlong,wez@fb.com,Wed Aug 17 16:33:39 2016 -0700,1471476819,"inotify: fix root cause of a flaky testFinally got to the bottom of this test failure:nn```nFAIL test_since.TestSince.test_sinceIssue2 [local, bser] (0.006s)nTraceback (most recent call last):n  File /usr/lib/python2.6/site-packages/unittest2/case.py, line 340, in runntestMethod()n  File /data/users/wez/watchman/tests/integration/test_since.py, line 67, in test_sinceIssue2nself.assertFileList(root, cursor='n:foo', files=expected)n  File /data/users/wez/watchman/tests/integration/WatchmanTestCase.py, line 251, in assertFileListnself.assertFileListsEqual(self.last_file_list, expected_files, message)n  File /data/users/wez/watchman/tests/integration/WatchmanTestCase.py, line 231, in assertFileListsEqualnself.assertEqual(list1, list2, message)n  File /usr/lib/python2.6/site-packages/unittest2/case.py, line 521, in assertEqualnassertion_func(first, second, msg=msg)n  File /usr/lib/python2.6/site-packages/unittest2/case.py, line 752, in assertListEqualnself.assertSequenceEqual(list1, list2, msg, seq_type=list)n  File /usr/lib/python2.6/site-packages/unittest2/case.py, line 734, in assertSequenceEqualnself.fail(msg)n  File /usr/lib/python2.6/site-packages/unittest2/case.py, line 415, in failnraise self.failureException(msg)nAssertionError: Lists differ: ['foo', 'foo/111', 'foo/bar', ... != ['foo/bar', 'foo/bar/222']nnFirst differing element 0:nfoonfoo/barnnFirst list contains 2 additional elements.nFirst extra element 2:nfoo/barnn- ['foo', 'foo/111', 'foo/bar', 'foo/bar/222']n+ ['foo/bar', 'foo/bar/222']n```nnThe issue is that, under concurrency, linux can be pretty tardy aboutndelivering the IN_CLOSE_WRITE notification for a file handle.nnFrom the logs in this test we see the IN_CLOSE_WRITE for `foo/111` getndelivered after the notifications about the creation of the `222` file andnafter we've started processing cookie notifications.  Since these notificationsnare coming from inotify we will unconditionally mark the file node as modifiednand that brings it forwards into the result set for the end of this test case.nnThis diff removes `IN_CLOSE_WRITE` from the notification mask.nnTest Plan: make integration passes more consistently.  Also ran the mercurial test suite with fsmonitor enabled:nn```nWATCHMAN_CONFIG_FILE=/dev/null PATH=/tmp/wez-wat-test/bin:$PATH ./run-tests.py --extra-config-opt=extensions.fsmonitor= -j 20n```nnand saw no unexpected failures (only things relating to largefiles, eol, subrepos and so on)n",1.0,1.0,"watcher/inotify.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,485.0,19.0,17.681273148148147,2580.0,1.0565570132660236,85.0,None,False,,
bac383c751b248ae742a2a20df3e8272238c0ae2,973a70886a6a929da9dc9bf8662ee0a03bee7b10,Wez Furlong,wez@fb.com,Tue Aug 16 14:34:22 2016 -0700,1471383262,Improve the wording for root_restrict errors.Also took the opportunity to port the PHP test to python.n,79.0,73.0,"root.c,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/rootrestrict.php,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER",4.0,2.0,2.0,1.6291413063268059,11.0,789.5,243.0,156.61275752314816,2582.5,1.0176979802903778,350.0,Preventative,False,True,"[""194e4c3b6b225ebfe46d22ee75a84742f76581d8"", ""a606ff703697835faa25399c5d2a26b23c12f94e"", ""5dfcdd908d02ad1f60e701072f41dfe4fbf5bbec""]"
973a70886a6a929da9dc9bf8662ee0a03bee7b10,194e4c3b6b225ebfe46d22ee75a84742f76581d8,Wez Furlong,wez@fb.com,Thu Aug 18 08:07:36 2016 -0700,1471532856,fixup restrictions test case on windowsWhen we have a proper normcase function we can remove this lowercasing.nnRefs: https://github.com/facebook/watchman/pull/321n,3.0,3.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,63.0,1.0,1.7314120370370367,2585.0,1.5775632712541947,351.0,Corrective,True,,
194e4c3b6b225ebfe46d22ee75a84742f76581d8,cc476197e09adb960eaf2d69e525c1de722c041b,Wez Furlong,wez@fb.com,Thu Aug 18 08:11:24 2016 -0700,1471533084,disable the dir move test on windowsIt's too flaky for reasons outside our control.n,7.0,0.0,"tests/integration/test_dir_move.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,58.0,2.0,97.57248842592593,2586.0,1.0102487905774706,352.0,Preventative,False,,
cc476197e09adb960eaf2d69e525c1de722c041b,9f9a17a97d63bf9eab51c77de45d5982433994e5,Wez Furlong,wez@fb.com,Thu Aug 18 10:37:15 2016 -0700,1471541835,"switch this parent existence check from a FATALWhen I added the new tree walking code for resolving dirs, I'd assumednthat this particular case wouldn't happen in practice, but I caught itnin an intermittent failure in one of our tests; the output is:nn```n2016-08-18T08:56:01,095: [fsevents /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] FSEventStreamCreate for path /private/var/tmp/watchmantestPvfoys/watchproject/1291310102 with latency 0.010000 secondsn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] fsevents: got /private/var/tmp/watchmantestPvfoys/watchproject/1291310102 0x20100 ItemCreated ItemIsDirn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] add_pending: /private/var/tmp/watchmantestPvfoys/watchproject/1291310102 VIA_NOTIFYn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] fsevents: got /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a 0x20100 ItemCreated ItemIsDirn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] add_pending: /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a VIA_NOTIFYn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] fsevents: got /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b 0x20100 ItemCreated ItemIsDirn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] add_pending: /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b VIA_NOTIFYn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] fsevents: got /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b/c 0x20100 ItemCreated ItemIsDirn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] add_pending: /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b/c VIA_NOTIFYn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] fsevents: got /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b/.hg 0x10500 ItemCreated InodeMetaMod ItemIsFilen2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] add_pending: /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b/.hg VIA_NOTIFYn2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] fsevents: got /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/.watchmanconfig 0x10500 ItemCreated InodeMetaMod ItemIsFilen2016-08-18T08:56:01,104: [notify /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] add_pending: /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/.watchmanconfig VIA_NOTIFYn2016-08-18T08:56:01,106: [client=0x61700000fc80:stm=0x60200000ce70] dispatch_command: watch-project (completed)n2016-08-18T08:56:01,106: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] processing 6 events in /private/var/tmp/watchmantestPvfoys/watchproject/1291310102n2016-08-18T08:56:01,106: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] w_lstat(/private/var/tmp/watchmantestPvfoys/watchproject/1291310102/.watchmanconfig) file=0x0 dir=0x0 res=0 Undefined error: 0n2016-08-18T08:56:01,106: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] file changed exists=1 via_notify=1 stat-changed=0 isdir=0 /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/.watchmanconfign2016-08-18T08:56:01,106: [statesaver] saving staten2016-08-18T08:56:01,106: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] While resolving dir /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/a/b, a was not found under /private/var/tmp/watchmantestPvfoys/watchproject/1291310102/n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] Fatal error detected at:n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 0   watchman0x000000010501037d w_log + 1213n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 1   watchman0x0000000105048868 w_root_resolve_dir + 968n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 2   watchman0x0000000105046330 w_root_process_path + 3216n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 3   watchman0x00000001050455f2 w_root_process_pending + 418n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 4   watchman0x0000000105051009 run_io_thread + 1577n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 5   libsystem_pthread.dylib 0x00007fff9706b99d _pthread_body + 131n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 6   libsystem_pthread.dylib 0x00007fff9706b91a _pthread_body + 0n2016-08-18T08:56:01,107: [io /private/var/tmp/watchmantestPvfoys/watchproject/1291310102] 7   libsystem_pthread.dylib 0x00007fff97069351 thread_start + 13n```nnIn this case we're looking at `a/b` before we've looked at `a`, but we do haven`a` scheduled, so it is safe to allow creating the intermediate dir node andncontinue, so that's what we're doing in this diff.n",17.0,8.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,2786.0,214.0,1.835335648148148,2587.0,1.5448594653566496,1046.0,Corrective,True,,
9f9a17a97d63bf9eab51c77de45d5982433994e5,40d04bb7b89931d42575ca3c4414bb5ea06473cb,Wez Furlong,wez@fb.com,Thu Aug 18 08:47:25 2016 -0700,1471535245,"move state saving into its own threadThere are a couple of code paths that are made tricky because they mayndeadlock around saving the state information.nnThis removes the source of the trickiness by having a dedicated threadnfor saving the state; whenever we need to save the state, we signal thenthread to wakeup and it can block and take its sweet time without fearnof impacting the other threads that have more important things to do.n",71.0,9.0,"listener.c,CAS_DELIMITER,state.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.32696086333891283,11.0,652.3333333333334,315.0,20.125945216049388,2589.0,1.0354483643520005,1049.0,None,False,,
40d04bb7b89931d42575ca3c4414bb5ea06473cb,2ccf29d01a262b825115d6221f707d1861170e7d,Wez Furlong,wez@fb.com,Thu Aug 11 11:37:12 2016 -0700,1470940632,"introduce a write lock holderThis is the first step towards removing the recursive giant lock that wenuse in the w_root_t.nnThis diff introduces a writeable lock holder type that we can passnaround instead of the w_root_t.  This allows helper functions tonexplicitly advertize the locking that they expect to be in place.nnThe locking functions have changed to:nn```nw_root_lock(&root, reason, &lock);ndo_something(&lock);nroot = w_root_unlock(&lock);n```nnThe `root` variable is NULL'd out for the duration that the lock isnheld; this is sort of like doing the follow C++-style assignment:nn```nlock = w_root_lock(std::move(root), reason);n```nnthis is so that the compiler can catch references to `root->` in thisnfirst sweep.nnI've tried to contain this to just the changes needed to support thisnnew locking protocol, although I did take the opportunity to change ancouple of functions to explicitly require a `write_locked_watchman_root`nparameter to demonstrate what this looks like.nnI'll follow up with diff(s) to cut most helper functions over tonaccepting a `write_locked_watchman_root`, then we should be in a betternposition to remove the recursive locking.  With that removed, we cannthen lock at reader-writer locking.n",265.0,194.0,"cmds/debug.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",10.0,4.0,4.0,2.3357789804810563,11.0,721.7,541.0,14.191730324074076,2595.5,1.0217048345461448,1052.0,None,False,True,"[""9f2fce0df71032e96cd9a6de0df3812280831120""]"
2ccf29d01a262b825115d6221f707d1861170e7d,7302be64b6d0b3afdabd334a6b736d3f195ade9a,Wez Furlong,wez@fb.com,Thu Aug 11 13:32:08 2016 -0700,1470947528,"locking: introduce unlocked_watchman_root typeThis is used to indicate a root that is not locked.nThis commit just tackles the first order dependencies/fan out fromnconverting the resolve_root_or_err function to populate annunlocked_watchman_root type.nnThis found 1 previously undiscovered bug in the initial subscriptionnresults: we should have been locking for the query that was being runnthere, and this may account for the occasional report of getting overnnotified around the time that we initiate making a subscription.n",269.0,199.0,"cmds/debug.c,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",17.0,4.0,4.0,3.7540620487109537,11.0,490.0,673.0,8.071232298474944,2609.0,1.7513570798287166,1058.0,None,False,True,"[""9f2fce0df71032e96cd9a6de0df3812280831120""]"
7302be64b6d0b3afdabd334a6b736d3f195ade9a,1e7c031e744b10a01ec8196cb0a14aa0e8a1a66e,Wez Furlong,wez@fb.com,Thu Aug 11 15:55:04 2016 -0700,1470956104,"Change lock/unlock functions to also operate on an unlocked_watchman_rootThis forces all code paths to consider whether they are initially lockednor not.  The root resolving functions now always return (as a byref, outnparam) an unlocked_watchman_root.  The locking functions require both anlocked root holder and an unlocked root holder to manage the locknappropriately.n",214.0,199.0,"cmds/debug.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",12.0,4.0,4.0,1.891855888416412,11.0,654.5,600.0,0.09925925925925927,2623.5,3.6053074723783687,1062.0,Feature Addition,False,True,"[""9f2fce0df71032e96cd9a6de0df3812280831120""]"
1e7c031e744b10a01ec8196cb0a14aa0e8a1a66e,9d9e42273fd47f34a65cdbfa51e6e0ed0c0e0568,Wez Furlong,wez@fb.com,Thu Aug 11 16:02:36 2016 -0700,1470956556,"change root lock to a non-recursive mutexTest Plan: first I switched it to an error checking mutex:nn```n$ git diffndiff --git a/root.c b/root.cnindex dbf5d95..bbca8c0 100644n--- a/root.cn+++ b/root.cn@@ -268,7 +268,7 @@ static w_root_t *w_root_new(const char *path, char **errmsg)n   root->refcnt = 1;n   w_refcnt_add(&live_roots);n   pthread_mutexattr_init(&attr);n-  pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_RECURSIVE);n+  pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_ERRORCHECK);n   pthread_mutex_init(&root->lock, &attr);n   pthread_mutexattr_destroy(&attr);n```nnthis passed the integration tests; the move to add w_query_execute_locked was what I think removed this dependency.n",5.0,7.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,2849.0,218.0,0.005231481481481481,2630.0,192.15044247787608,1063.0,Preventative,False,,
9d9e42273fd47f34a65cdbfa51e6e0ed0c0e0568,59b85303f9c617a14d0d162449bc909aab6fa478,Wez Furlong,wez@fb.com,Thu Aug 11 16:51:02 2016 -0700,1470959462,locking: propagate write_locked_root type to more functions,215.0,231.0,"cmds/subscribe.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",9.0,4.0,4.0,2.3341799685828053,11.0,805.3333333333335,574.0,1.3442554012345678,2635.0,8.083604722419453,1067.0,None,False,True,"[""f815a2679417d425bf7611b021ea8df0ea826068""]"
59b85303f9c617a14d0d162449bc909aab6fa478,ed45cc30a2e65c6a4c6b5ec7044e681a822412fa,Wez Furlong,wez@fb.com,Thu Aug 11 17:06:25 2016 -0700,1470960385,cookies: move sync timeout lock into cookie structThis allows us to switch the root lock to a rwlock.n,16.0,1.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.3227569588973983,11.0,1959.5,401.0,0.01068287037037037,2640.5,71.20585048754063,1069.0,None,False,,
ed45cc30a2e65c6a4c6b5ec7044e681a822412fa,53c5823a67459f7dabd4778a3f45c61f04872ae1,Wez Furlong,wez@fb.com,Thu Aug 11 17:30:05 2016 -0700,1470961805,"locking: switch root lock to a rwlockWe still only take a write lock at this time.nnNote that Darwin doesn't provide a timedwait function for rwlocks, so wenroll our own.n",42.0,35.0,"root.c,CAS_DELIMITER,timedlock.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.9991856975088048,11.0,1324.6666666666667,404.0,55.014054783950606,2643.0,21.285729713802095,1072.0,None,False,,
53c5823a67459f7dabd4778a3f45c61f04872ae1,7827eb670e801ec62d4c289d2b80eb8c22549f4d,Wez Furlong,wez@fb.com,Thu Aug 11 20:34:33 2016 -0700,1470972873,locking: add read lock acquisition functionsNothing calls these yetn,107.0,101.0,"root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.2570857541931742,11.0,1969.0,405.0,0.12810185185185186,2645.5,6.854716299241055,1074.0,None,False,,
7827eb670e801ec62d4c289d2b80eb8c22549f4d,0cdf114110e812dfd287c8fa4950ece94a31dbbc,Wez Furlong,wez@fb.com,Thu Aug 11 20:45:13 2016 -0700,1470973513,"locking: clockspec_eval needs a write lockEvaluation of a named cursor needs to update the cursor map.nnSince we're angling to allow running queries without holding a writenlock, I've added a read only variant of this function.  This is usednby the `since` expression term (not the `since` generator!) and cannotnupdate named cursors.nnThat turns out to be fine because we already detect and raise an errornduring expression parsing if the user is trying to use a named cursornin a since term.n",83.0,14.0,"clockspec.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,2.0,2.0,0.8802008550861082,11.0,513.75,226.0,6.122404513888887,2648.5,1.0612676906825564,1076.0,None,False,,
0cdf114110e812dfd287c8fa4950ece94a31dbbc,e9e9c5a7677c24f73db199e1cc29ebd075d2e11d,Wez Furlong,wez@fb.com,Thu Aug 11 21:05:13 2016 -0700,1470974713,"locking: query execution context holds a read lockThis swaps the root pointer in the query execution context with anread_locked_watchman_root pointer.nnSince we don't actually acquire read locks yet, and we have a writenlock, we need a supported way to safely cast anwrite_locked_watchman_root to a read_locked_watchman_root.nnThe w_root_read_lock_from_write() inline function is responsiblenfor doing this.nnThis is safe for a couple of reasons:nn1. The read and write lock holders are binary compatible with eachn   other; they both simply hold a root pointer.n2. The underlying unlock function pthread_rwlock_unlock works regardlessn   of the read-ness or write-ness of the lock, even though we haven   a separate read and write unlock functions.n3. We're careful to pass a pointer to the existing lock instancen   around rather than copying it around; that way don't lose track ofn   the fact that we unlocked the root.n",28.0,7.0,"query/eval.c,CAS_DELIMITER,query/since.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.4857722057021594,11.0,520.0,250.0,0.054545717592592594,2652.5,35.14582780754337,1078.0,None,False,,
e9e9c5a7677c24f73db199e1cc29ebd075d2e11d,834fac8ef99ad331b1fc64c5c58e98cf6be60ba2,Wez Furlong,wez@fb.com,Thu Aug 11 22:05:40 2016 -0700,1470978340,locking: allow queries to run with a read lockThis allows queries to run with a read lock if the since clockspecnevaluation doesn't require a write lock.  This is the case for allnclockspecs except for named cursor clockspecs which need write access tonbe able to update the cursor map.n,158.0,95.0,"cmds/subscribe.c,CAS_DELIMITER,perf.c,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,root.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",8.0,3.0,3.0,1.1873298079884909,11.0,766.5,527.0,19.909758391203702,2658.5,1.4550521993563748,1084.0,None,False,True,"[""f815a2679417d425bf7611b021ea8df0ea826068""]"
834fac8ef99ad331b1fc64c5c58e98cf6be60ba2,12115d5f27992535cea4cccb64fe999a373a1bff,Wez Furlong,wez@fb.com,Fri Aug 12 08:25:32 2016 -0700,1471015532,constify various function parameters,28.0,33.0,"cfg.c,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",8.0,3.0,3.0,2.57758277359318,11.0,757.25,553.0,2.9698480902777784,2666.5,1.0438678776111288,1088.0,None,False,,
12115d5f27992535cea4cccb64fe999a373a1bff,1b2c278937019db8809a8424884520a563937cfa,Wez Furlong,wez@fb.com,Fri Aug 12 08:31:58 2016 -0700,1471015918,fixup others watchers for some of these locking API changes,51.0,52.0,"watcher/inotify.c,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER",3.0,1.0,1.0,1.578987979140015,11.0,415.33333333333326,44.0,5.314575617283951,2672.0,1.0059562946031049,93.0,Corrective,True,,
1b2c278937019db8809a8424884520a563937cfa,6a79cee1ffef73a8efebcd71747426996f3ba57e,Wez Furlong,wez@fb.com,Fri Aug 12 10:40:58 2016 -0700,1471023658,remove lock from around last_cmd_timestamp,6.0,5.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,2910.0,225.0,0.09405092592592593,2674.0,11.632537533841989,1089.0,None,False,,
6a79cee1ffef73a8efebcd71747426996f3ba57e,e4a892ff4659dd965c277573675b505b0a40bb6f,Wez Furlong,wez@fb.com,Fri Aug 12 10:51:54 2016 -0700,1471024314,improve lock timeout messaging for write vs read,9.0,7.0,"query/eval.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,603.0,33.0,0.5321064814814814,2675.0,2.879323095662766,113.0,None,False,,
e4a892ff4659dd965c277573675b505b0a40bb6f,9f2fce0df71032e96cd9a6de0df3812280831120,Wez Furlong,wez@fb.com,Thu Aug 18 11:12:41 2016 -0700,1471543961,"fixup annotating with clockspecs, also uncovered a couple more races",40.0,23.0,"clockspec.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",7.0,2.0,2.0,2.6654484346534515,11.0,200.85714285714286,134.0,6.713842592592592,2679.0,1.055494485991198,1092.0,Corrective,True,,
9f2fce0df71032e96cd9a6de0df3812280831120,05889fd3d38d9788c4132cf76c7f798fda6aa2eb,Wez Furlong,wez@fb.com,Thu Aug 18 11:20:43 2016 -0700,1471544443,"constify parameters for ignore checkingRemoved watcher/helper.c which used to hold the ignore logic, and wasnused as a compatibilty cutover around the time we introduced the ARTnstuff.n",6.0,22.0,"Makefile.am,CAS_DELIMITER,ignore.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/helper.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",9.0,4.0,4.0,2.877387064296613,11.0,367.5555555555555,358.0,28.150760030864195,2687.0,1.0084295324487973,91.0,None,False,,
05889fd3d38d9788c4132cf76c7f798fda6aa2eb,0927586f144af3420afaecca28cc0512cfd8f864,Wez Furlong,wez@fb.com,Thu Aug 18 11:29:56 2016 -0700,1471544996,clean up read and write locking for set_warnings and triggers,22.0,20.0,"cmds/trigger.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.1901486291326555,11.0,1472.333333333333,438.0,4.056153549382716,2693.0,1.1091954914060371,1098.0,Perfective,False,,
0927586f144af3420afaecca28cc0512cfd8f864,86b31cf29989eec75eb32ed03d72711069d1aaa2,Wez Furlong,wez@fb.com,Thu Aug 18 16:31:54 2016 -0700,1471563114,migrate find.php -> test_find.py,69.0,67.0,"tests/integration/find.php,CAS_DELIMITER,tests/integration/test_find.py,CAS_DELIMITER",2.0,1.0,1.0,0.9998439936153068,8.0,33.5,8.0,188.89007523148152,2695.5,1.0026470421984175,355.0,Preventative,False,,
86b31cf29989eec75eb32ed03d72711069d1aaa2,d730990edfef5bf33b912e05babf6a367a47f5d6,Wez Furlong,wez@fb.com,Fri Aug 19 07:50:21 2016 -0700,1471618221,horrible monkey patch to help reduce some test flakiness on windows,27.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,315.0,27.0,2.7194328703703703,2697.0,1.3677237305231975,356.0,Preventative,False,,
d730990edfef5bf33b912e05babf6a367a47f5d6,94e713246d46286771c77308c99a5aaa24cd3d7c,Wez Furlong,wez@fb.com,Fri Aug 19 13:19:29 2016 -0700,1471637969,Fix build for non-SSE systemsRefs: https://github.com/facebook/watchman/issues/302n,26.0,2.0,"thirdparty/libart/src/art.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1119.0,10.0,69.81921296296296,2698.0,1.0143227051346235,58.0,Corrective,True,,
94e713246d46286771c77308c99a5aaa24cd3d7c,30f295efa1ed4d2759f723204d591bf1631511c5,Wez Furlong,wez@fb.com,Sat Aug 20 09:05:25 2016 -0700,1471709125,"Improve crawler reliability on windowsLooking into the logs from a windows build test failure:nn```n$ grep overhere inst_z1sqm/log | grep -i deniedn2016-08-20T00:25:39,937: [io C:UsersappveyorAppDataLocalTemp1watchmantestofdjxytest_find.TestFind.test_find.local.bsertmpmv0btc] w_lstat(C:UsersappveyorAppDataLocalTemp1watchmantestofdjxytest_find.TestFind.test_find.local.bsertmpmv0btcadiroverhere) file=0000000000000000 dir=0000000000000000 res=-1 Permission deniedn```nnI believe this is caused by our use of the mscrt `open` function, which doesn'tnhave a way to express FILE_SHARE_DELETE.nnThis diff is an attempt to deal with that by using our own implementation thatnopens a handle and then wraps it in an mscrt file descriptor.n",24.0,0.0,"winbuild/Makefile,CAS_DELIMITER,winbuild/stat.c,CAS_DELIMITER,winbuild/sys/stat.h,CAS_DELIMITER",3.0,1.0,2.0,0.6583514224564077,11.0,161.33333333333334,35.0,228.5945177469136,2700.0,1.17627595607289,94.0,Corrective,True,,
30f295efa1ed4d2759f723204d591bf1631511c5,8a9973fdcd6a170cd8c81981b14286a505f7773c,Wez Furlong,wez@fb.com,Sat Aug 20 23:26:18 2016 -0700,1471760778,fix leak of this env hash tableFound while inspecting some other coden,1.0,0.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,307.0,9.0,9.055995370370368,2702.0,1.1104240847198117,1099.0,Corrective,True,,
8a9973fdcd6a170cd8c81981b14286a505f7773c,20c1e268bf0b434576ce491262abcc0b2d719e1d,Wez Furlong,wez@fb.com,Thu Aug 18 13:33:45 2016 -0700,1471552425,fsevents: expand resync strategy* Set the default for fsevents_try_resync to truen* Also attempt the resync for KernelDropped eventsn* Generate a perf event for User and Kernel dropsn,30.0,17.0,"watcher/fsevents.c,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER",2.0,2.0,2.0,0.7045767128725937,11.0,565.0,37.0,3.606394675925927,2703.5,6.4814987082296565,218.0,None,False,,
20c1e268bf0b434576ce491262abcc0b2d719e1d,701f157e370a720003f5ddc051157a8c74b7ebde,Wez Furlong,wez@fb.com,Fri Aug 12 17:36:34 2016 -0700,1471048594,add glob generator,677.0,1.0,"Makefile.am,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/glob.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,website/_docs/file-query.md,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",8.0,5.0,5.0,1.2165911941986352,11.0,274.75,205.0,43.858467881944435,2708.5,0.857224111153629,95.0,Feature Addition,False,,
701f157e370a720003f5ddc051157a8c74b7ebde,fb68398f8c3d440ffd920143c3d945cca367de67,Wez Furlong,wez@fb.com,Sat Aug 20 08:16:44 2016 -0700,1471706204,add rmdir to windows monkeypatch list,1.0,1.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,342.0,28.0,1.0183217592592593,2713.0,1.9820078878874328,358.0,Feature Addition,False,,
fb68398f8c3d440ffd920143c3d945cca367de67,5856eee026de9c4be444beff2e3edca32563124a,Wez Furlong,wez@fb.com,Fri Aug 26 08:49:39 2016 -0700,1472226579,"if json_dumps fails, don't crashTerminating due to signal 11 Segmentation fault generated by pid=0 uid=0. address not mapped to object (0x0)n0   watchman0x0000000105d1ae1f crash_handler + 367n1   libsystem_platform.dylib0x00007fff8bfbf52a _sigtramp + 26n2   ??? 0x0000000000000000 0x0 + 0n3   watchman0x0000000105d3d4a2 typed_string_to_json + 18n4   watchman0x0000000105d20ac1 perf_log_thread + 481n5   libsystem_pthread.dylib 0x00007fff9961e99d _pthread_body + 131n6   libsystem_pthread.dylib 0x00007fff9961e91a _pthread_body + 0n7   libsystem_pthread.dylib 0x00007fff9961c351 thread_start + 13n",5.0,2.0,"perf.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,308.0,10.0,5.3912152777777775,2714.0,1.185486935408039,1102.0,Corrective,True,True,"[""b8b71aea60e8ab555052680b6754736d4def23be""]"
5856eee026de9c4be444beff2e3edca32563124a,6cf0bdd848a2724ca57db1ca3ab51037f44df1bd,Aaron Feldman,agf@fb.com,Mon Aug 1 16:44:15 2016 -0700,1470095055,Automatically watch symlink targetsTest Plan: Add unit tests that watch roots with with symlinksnnCheck that appveyor CI passes on GithubnnRefs: https://github.com/facebook/watchman/pull/347n,430.0,22.0,"cmds/watch.c,CAS_DELIMITER,root.c,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",6.0,3.0,3.0,1.7103501117953592,11.0,828.8333333333335,504.0,-2.9154957561728385,2.5,0.5955760884524944,2.0,Preventative,False,,
6cf0bdd848a2724ca57db1ca3ab51037f44df1bd,8acc14cfad1806faf89d0865b339e7a8df000080,Wez Furlong,wez@fb.com,Fri Aug 26 21:40:06 2016 -0700,1472272806,tweak some error handling and messaging around symlink auto-watching,39.0,30.0,"root.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,3105.0,228.0,25.20545138888889,2715.0,1.0396739572154945,1103.0,None,False,,
8acc14cfad1806faf89d0865b339e7a8df000080,8b33d256044d5a116e97f2c62e3d69aa6b4be80a,Wez Furlong,wez@fb.com,Fri Aug 26 10:04:11 2016 -0700,1472231051,"glob: ensure that the doublestar walking enables WM_PATHNAMEThis fixes `foo/**/*.h` to also match `*.h` directly inside `foo`.nnFixup test, and fix the ordering of the test assertion parameters ton(expected, actual).n",20.0,18.0,"query/glob.c,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER",2.0,2.0,2.0,0.3984592740952357,11.0,305.5,2.0,13.685844907407407,2716.5,1.0548011471030236,359.0,None,False,,
8b33d256044d5a116e97f2c62e3d69aa6b4be80a,4226eb9ff61d71536fa055ff197d1b4322045c00,Wez Furlong,wez@fb.com,Fri Aug 26 11:00:29 2016 -0700,1472234429,query: add dedup_results for the query engineThis prevents us from emitting the same file name multiple times if thenquery is configured in such a way that duplicates are possible.nndedup_results mode is automatically enabled when the glob generator isnused.n,89.0,5.0,"query/eval.c,CAS_DELIMITER,query/glob.c,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,website/_docs/file-query.md,CAS_DELIMITER",6.0,4.0,4.0,2.3736367590212493,11.0,384.83333333333326,102.0,9.162993827160491,2720.5,1.0434412759289298,220.0,None,False,,
4226eb9ff61d71536fa055ff197d1b4322045c00,be21da2d7fd7ea76bbe855f5dd5132d645473755,Wez Furlong,wez@fb.com,Fri Aug 26 14:37:16 2016 -0700,1472247436,"glob_generator: allow controlling WM_PERIOD, WM_NOESCAPEThis ports the `noescape` and `includedotfiles` flags from the `match`nterm to the glob generator.n",32.0,4.0,"query/glob.c,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,3.0,3.0,1.0529407605626349,11.0,288.0,36.0,0.1505439814814815,2725.0,5.059352656262012,1105.0,None,False,,
be21da2d7fd7ea76bbe855f5dd5132d645473755,f9b3148dd0d54e188146bfdb93e6db9dadaf1e85,Wez Furlong,wez@fb.com,Sat Aug 27 09:10:29 2016 -0700,1472314229,refactor: move root lock functions to root/lock.c,108.0,99.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/lock.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.077709790486859,11.0,920.25,342.0,7.444134837962962,2728.5,1.0585137293383038,96.0,None,False,,
f9b3148dd0d54e188146bfdb93e6db9dadaf1e85,9c6525099942f28ab55419cfc6f2f3d35604a296,Wez Furlong,wez@fb.com,Sat Aug 27 09:15:32 2016 -0700,1472314532,refactor: move symlink related functions from root.c -> root/symlink.c,193.0,182.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/symlink.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.090260271532722,11.0,941.0,536.0,5.1397824074074085,2733.0,115.07497186399584,97.0,None,False,True,"[""d17a4d6336b4d1dabf8f3f210eed24501d93d3f4""]"
9c6525099942f28ab55419cfc6f2f3d35604a296,81463277b1e611ca6ff182ff535834fa4365f74e,Wez Furlong,wez@fb.com,Sat Aug 27 09:20:29 2016 -0700,1472314829,refactor: io_thread -> root/iothread.c,170.0,156.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/iothread.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.152818566664736,11.0,905.4,540.0,0.00275,2738.0,151.3030303030303,98.0,None,False,,
81463277b1e611ca6ff182ff535834fa4365f74e,4e6e89379f6f8794e63bde34ed414767087bad62,Wez Furlong,wez@fb.com,Sat Aug 27 09:25:23 2016 -0700,1472315123,refactor: ageout -> root/ageout.c,180.0,167.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/ageout.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.1140976610672133,11.0,876.4,544.0,0.002722222222222223,2743.0,152.83673469387756,99.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc""]"
4e6e89379f6f8794e63bde34ed414767087bad62,8b575a0b09cfb4350a78273a4585f8f96c56d69e,Wez Furlong,wez@fb.com,Sat Aug 27 09:27:58 2016 -0700,1472315278,refactor: file -> root/file.c,115.0,106.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/file.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.0736953605832176,11.0,773.0,354.0,0.0013454861111111107,2747.5,326.16129032258067,100.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc""]"
8b575a0b09cfb4350a78273a4585f8f96c56d69e,8357c0057e3b05a7dd9fa9fafcdf6696365681f2,Wez Furlong,wez@fb.com,Sat Aug 27 09:34:45 2016 -0700,1472315685,refactor: notifythread -> root/notifythread.c,134.0,123.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/notifythread.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.184216456387542,11.0,823.8,551.0,0.0041273148148148146,2752.0,108.16367557620217,101.0,None,False,,
8357c0057e3b05a7dd9fa9fafcdf6696365681f2,2ce8019f1366394c76bd6dea00820417d34ff8eb,Wez Furlong,wez@fb.com,Sat Aug 27 09:37:32 2016 -0700,1472315852,refactor: process_triggers -> cmds/trigger.c,43.0,42.0,"cmds/trigger.c,CAS_DELIMITER,root.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.0801083874138002,11.0,1273.0,454.0,2.9752700617283945,2756.0,1.1120589174411404,1129.0,None,False,,
2ce8019f1366394c76bd6dea00820417d34ff8eb,85f77c07b2a83470c92090db166a73742effbfd2,Wez Furlong,wez@fb.com,Sat Aug 27 09:38:58 2016 -0700,1472315938,refactor: process_subscriptions -> cmds/subscribe.c,103.0,103.0,"cmds/subscribe.c,CAS_DELIMITER,root.c,CAS_DELIMITER",2.0,2.0,2.0,1.0,11.0,1303.0,272.0,4.467957175925926,2758.5,1.111914199461201,1130.0,None,False,,
85f77c07b2a83470c92090db166a73742effbfd2,d9dd9f1933d0dede9844b64dedc043b525c26b51,Wez Furlong,wez@fb.com,Sat Aug 27 09:44:08 2016 -0700,1472316248,refactor: dir -> root/dir.c,194.0,182.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/dir.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.0899846226908214,11.0,772.8,558.0,0.00424074074074074,2762.0,94.32968213742492,102.0,None,False,,
d9dd9f1933d0dede9844b64dedc043b525c26b51,eb534dfb74075a06a975b50533a6ad5da434718a,Wez Furlong,wez@fb.com,Sat Aug 27 09:52:33 2016 -0700,1472316753,"refactor: crawler and stat -> root/crawler.c, root/stat.c",384.0,363.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/crawler.c,CAS_DELIMITER,root/stat.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,2.0,2.0,1.6001091075430205,11.0,614.3333333333334,562.0,0.0038966049382716046,2767.5,88.9207920792079,103.0,None,False,True,"[""3375b0f03e116d6ea7120103a8a66c1721b9be0a""]"
eb534dfb74075a06a975b50533a6ad5da434718a,f22b6884ecbfdfa502b7b992a8df1ef876e5c1fb,Wez Furlong,wez@fb.com,Sat Aug 27 09:56:14 2016 -0700,1472316974,refactor: vcs related funcs to root/vcs.c,127.0,119.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/vcs.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.1018492357391674,11.0,668.0,566.0,0.0020462962962962965,2773.0,202.9909502262444,104.0,None,False,,
f22b6884ecbfdfa502b7b992a8df1ef876e5c1fb,727b208e4c4206a1bcc9d14a65bf42c5329ab4c5,Wez Furlong,wez@fb.com,Sat Aug 27 10:07:32 2016 -0700,1472317652,"refactor: is_path_absolute -> string.c, add w_string_t variant",55.0,44.0,"root.c,CAS_DELIMITER,root/symlink.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,string.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",6.0,1.0,1.0,1.8461532327654384,11.0,716.3333333333335,505.0,7.577133487654321,2778.5,26.05572215255765,1149.0,None,False,True,"[""b01da5dc012ce3a45d6c4b658fd07768fe425bed""]"
727b208e4c4206a1bcc9d14a65bf42c5329ab4c5,cafde32327b16f9cf8f63b005b777a84cf999ee0,Wez Furlong,wez@fb.com,Sat Aug 27 10:13:15 2016 -0700,1472317995,refactor: w_root_process_pending -> root/iothread.c,37.0,37.0,"root.c,CAS_DELIMITER,root/iothread.c,CAS_DELIMITER",2.0,1.0,1.0,1.0,11.0,804.5,242.0,0.020306712962962964,2782.5,139.25872163790405,1151.0,None,False,,
cafde32327b16f9cf8f63b005b777a84cf999ee0,dd2d176ed560545e01abad170f00046da236c64a,Wez Furlong,wez@fb.com,Sat Aug 27 10:14:48 2016 -0700,1472318088,refactor: poison -> root/poison.c,41.0,31.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/poison.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.1739420548086898,11.0,500.0,373.0,0.006715856481481482,2785.5,65.48713844616718,105.0,None,False,,
dd2d176ed560545e01abad170f00046da236c64a,5ceaaae4dab17d17631b212f384ba6354a203262,Wez Furlong,wez@fb.com,Sat Aug 27 10:26:18 2016 -0700,1472318778,refactor: root init/destroy -> root/init.c,220.0,215.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/init.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.0800045490601295,11.0,624.0,576.0,0.007398148148148147,2790.0,63.389165887596505,106.0,None,False,,
5ceaaae4dab17d17631b212f384ba6354a203262,7a86a33e26b7772ff3dea28ba386430eefe2f377,Wez Furlong,wez@fb.com,Sat Aug 27 10:39:30 2016 -0700,1472319570,refactor: split out root resolution and watchlist functions,609.0,595.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/resolve.c,CAS_DELIMITER,root/watchlist.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,2.0,2.0,1.5679045080087544,11.0,485.0,580.0,0.0061111111111111106,2795.5,57.06060606060606,107.0,None,False,True,"[""a606ff703697835faa25399c5d2a26b23c12f94e""]"
7a86a33e26b7772ff3dea28ba386430eefe2f377,56dc0adeafc5fe09164aad5ba1e159fe057ff8de,Wez Furlong,wez@fb.com,Sat Aug 27 10:42:30 2016 -0700,1472319750,refactor: move teardown to root/init.c,29.0,30.0,"root.c,CAS_DELIMITER,root/init.c,CAS_DELIMITER",2.0,1.0,1.0,0.9997927658541268,11.0,395.0,246.0,0.0066666666666666645,2799.5,278.5,1165.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc""]"
56dc0adeafc5fe09164aad5ba1e159fe057ff8de,786d7a48ee4cd25c12c6a296c75f7310854dc9e2,Wez Furlong,wez@fb.com,Sat Aug 27 10:44:47 2016 -0700,1472319887,refactor: move root threading functions to their own file,59.0,51.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/threading.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.128919502179782,11.0,285.0,383.0,0.0022309027777777787,2802.5,192.30855048619068,108.0,None,False,,
786d7a48ee4cd25c12c6a296c75f7310854dc9e2,36d1dacc9a3752ccd2239225d7e674fe2336b009,Wez Furlong,wez@fb.com,Sat Aug 27 10:46:11 2016 -0700,1472319971,refactor: move root cookie sync to its own file,130.0,120.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/sync.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.066476798769998,11.0,272.75,386.0,0.0007291666666666666,2806.5,601.0,109.0,None,False,,
36d1dacc9a3752ccd2239225d7e674fe2336b009,85deedc91b3fd9090f96319d8e65cf73dba766d7,Wez Furlong,wez@fb.com,Sat Aug 27 10:47:40 2016 -0700,1472320060,refactor: move more funcs to root/dir.c,48.0,49.0,"root.c,CAS_DELIMITER,root/dir.c,CAS_DELIMITER",2.0,1.0,1.0,0.9999233329473268,11.0,282.0,249.0,0.02257523148148148,2809.5,497.4673419952821,1173.0,None,False,,
85deedc91b3fd9090f96319d8e65cf73dba766d7,91d5fa620d1db57d1ea9a8cc2b528185e422e310,Wez Furlong,wez@fb.com,Sat Aug 27 10:49:01 2016 -0700,1472320141,refactor: move more funcs to root/threading.c,29.0,31.0,"root.c,CAS_DELIMITER,root/threading.c,CAS_DELIMITER",2.0,1.0,1.0,0.9991983542636398,11.0,191.0,250.0,0.0019386574074074074,2811.5,663.2885572139304,1175.0,None,False,,
91d5fa620d1db57d1ea9a8cc2b528185e422e310,0699f1e03cb736ee5118531efbf7107873657aa6,Wez Furlong,wez@fb.com,Sat Aug 27 10:51:02 2016 -0700,1472320262,refactor: move more funcs to root/file.c,59.0,59.0,"root.c,CAS_DELIMITER,root/file.c,CAS_DELIMITER",2.0,1.0,1.0,1.0,11.0,203.5,251.0,0.029542824074074082,2813.5,366.4870852591448,1177.0,None,False,,
0699f1e03cb736ee5118531efbf7107873657aa6,a92081532ad8d5af2938facdf0b312dd5763b0dd,Wez Furlong,wez@fb.com,Sat Aug 27 10:52:37 2016 -0700,1472320357,refactor: move more to iothread.c,53.0,54.0,"root.c,CAS_DELIMITER,root/iothread.c,CAS_DELIMITER",2.0,1.0,1.0,0.9999369937966904,11.0,215.5,253.0,0.01421875,2815.5,473.3192596876806,1179.0,None,False,,
a92081532ad8d5af2938facdf0b312dd5763b0dd,b1c60991f5d249715874b3cb4540cd05a66b556c,Wez Furlong,wez@fb.com,Sat Aug 27 10:54:20 2016 -0700,1472320460,refactor: reap related bits to root/reap.c,65.0,55.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/reap.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.11902876707226,11.0,195.0,393.0,0.0031278935185185186,2818.5,138.1262507264732,110.0,None,False,,
b1c60991f5d249715874b3cb4540cd05a66b556c,61aee873ce30d583ab551c97e10840fa93f3137b,Wez Furlong,wez@fb.com,Sat Aug 27 10:55:32 2016 -0700,1472320532,refactor: warning and error funcs to root/warnerr.c,81.0,71.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/warnerr.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,2.0,2.0,1.0990411674513252,11.0,181.75,396.0,0.000625,2822.5,701.0,111.0,None,False,True,"[""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
61aee873ce30d583ab551c97e10840fa93f3137b,42c9f07ef4ef7af1648565ab7600f3a77dfb17ae,Wez Furlong,wez@fb.com,Sat Aug 27 10:59:28 2016 -0700,1472320768,refactor: move the last of root.c elsewhere,43.0,57.0,"Makefile.am,CAS_DELIMITER,root.c,CAS_DELIMITER,root/file.c,CAS_DELIMITER,root/init.c,CAS_DELIMITER,root/threading.c,CAS_DELIMITER,root/watchlist.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",7.0,2.0,2.0,1.91620997523554,11.0,209.7142857142857,406.0,0.006708002645502646,2828.0,109.2329232028334,112.0,None,False,,
42c9f07ef4ef7af1648565ab7600f3a77dfb17ae,d03d2b58a96d113e54d12f39e7fa10f2750391b3,Wez Furlong,wez@fb.com,Sat Aug 27 11:05:39 2016 -0700,1472321139,fixup win32 build for root.c refactor,25.0,18.0,"root/symlink.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",2.0,2.0,2.0,0.27138958750811115,11.0,250.0,51.0,0.02232638888888889,2832.5,24.58638462077095,113.0,Corrective,True,,
d03d2b58a96d113e54d12f39e7fa10f2750391b3,9f5711a9913781a0b9f80643034df400bf2ef4ab,Wez Furlong,wez@fb.com,Sat Aug 27 12:05:27 2016 -0700,1472324727,"refactor: make w_root_delref accept an unlocked parameterAdds `w_root_delref_raw` for the couple of cases where we don'tntrack the root pointer via an explicitly typed lock (or unlocked)nholder, and fixes up the callers so that we're doingn`w_root_delref(&unlocked)` rather than `w_root_delref_raw(unlocked.root)`n",63.0,54.0,"cmds/debug.c,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,root/init.c,CAS_DELIMITER,root/iothread.c,CAS_DELIMITER,root/notifythread.c,CAS_DELIMITER,root/resolve.c,CAS_DELIMITER,root/symlink.c,CAS_DELIMITER,root/threading.c,CAS_DELIMITER,root/watchlist.c,CAS_DELIMITER,spawn.c,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER",20.0,3.0,3.0,4.064851691629801,11.0,334.9,470.0,6.268148148148147,2843.5,1.0149185397266929,1201.0,None,False,,
9f5711a9913781a0b9f80643034df400bf2ef4ab,9ba52a5ef117d6d56df8174c4f561bd0a2b248cc,Wez Furlong,wez@fb.com,Sat Aug 27 12:09:59 2016 -0700,1472324999,"remove conduit uri; we now prefer to do code review on GitHub(but mostly for the CI integration, not because we like it :-p)n",0.0,1.0,".arcconfig,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,12.0,10.0,443.0719675925926,2854.0,1.002256969686964,1202.0,None,False,,
9ba52a5ef117d6d56df8174c4f561bd0a2b248cc,0b0510a4aa48e96f9c64f196d31783335ced4bf1,Wez Furlong,wez@fb.com,Fri Sep 2 08:30:48 2016 -0700,1472830248,watchman: first cut at making it build with buck in fbcodeSummary:nWe can't just migrate wholesale to TARGETS because it is important tonkeep our existing autoconf and windows build pieces working externally.nnThis diff adds probe.py as a light-weight alternative to autoconf that we cannuse to probe certain things about the system and generate our config.h headernfile.nnWe're using some native BUCK rules so that we can specify a header prefix sonthat the includes will continue to work as-is without requiring an overhaul innhow the other build systems work with this code base.nnThis builds just the watchman binary for now.  Will follow up with plumbing in the tests.nnReviewed By: simpkinsnnDifferential Revision: D3799750nnfbshipit-source-id: ea7716ce521ec8766caf12b30771f964783a65f5n,605.0,14.0,"TARGETS,CAS_DELIMITER,probe.py,CAS_DELIMITER,root/dir.c,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/art_test.c,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,tests/run.sh,CAS_DELIMITER,tests/wildmatch_test.c,CAS_DELIMITER,thirdparty/TARGETS,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER,thirdparty/jansson/dump.c,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/load.c,CAS_DELIMITER,thirdparty/jansson/strbuffer.c,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,thirdparty/libart/src/TARGETS,CAS_DELIMITER,thirdparty/wildmatch/TARGETS,CAS_DELIMITER,watchman.h,CAS_DELIMITER",18.0,3.0,6.0,2.5384237083024463,11.0,284.72222222222223,239.0,186.83562885802468,2863.5,0.9098763117770668,1206.0,None,False,True,"[""32a29463e47e39a167a5cb792ab4c1a9dd37eac7""]"
0b0510a4aa48e96f9c64f196d31783335ced4bf1,d106d89d2be61ff1d9526e07ed4f886f0b56a187,Wez Furlong,wez@fb.com,Fri Sep 2 08:30:49 2016 -0700,1472830249,watchman: build watchman-wait and watchman-make in-treeSummary:nMade slightly more tricky because we don't want to physically renamenthe files to satisfy our par builder.nnReviewed By: simpkinsnnDifferential Revision: D3800658nnfbshipit-source-id: a953cc56cf4354deaa77e49b887b75c3ca19d9b5n,26.0,0.0,"python/bin/TARGETS,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER",2.0,1.0,2.0,0.9828586897127056,1.0,0.0,0.0,0.0,2873.5,0.0,64.0,None,False,,
d106d89d2be61ff1d9526e07ed4f886f0b56a187,df6939de14bed39dbb5d035984b99b825774a19e,Wez Furlong,wez@fb.com,Fri Sep 2 08:30:50 2016 -0700,1472830250,"watchman: run integration testsSummary:nThis isn't as simple as using the default python test runner in ournbuild infra, because we do some clever things to expand the tests tondifferent flavors of bser, json and so on.nnIn addition, this is not as simple as just running runtests.py in thensource tree because we want it to pick up the build version of bser.nnFor now the approach taken here is to build a par of the bitsnthat we can run, and then run that as a `buck_sh_test`.nnOnce that starts, we chdir into the source tree to discover the tests; they are not all bundled up in the par file.nn* fixup racy trigger test casen* fixup node and php tests to run in this environmentn* fix linkage of constructor-registered things that was undetected until the integration tests started workingnnReviewed By: simpkinsnnDifferential Revision: D3802973nnfbshipit-source-id: d1260269952689143a52c3f8ef45c60c5e5caebbn",105.0,13.0,"TARGETS,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER,python/tests/TARGETS,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/NodeTests.py,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/capabilities.js,CAS_DELIMITER,tests/integration/node_basic.js,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER",11.0,4.0,5.0,2.7704183365689747,11.0,218.54545454545453,146.0,164.50859848484845,2880.0,3928.275096745655,371.0,None,False,,
df6939de14bed39dbb5d035984b99b825774a19e,1c6aba6ebdc395595a86424c57baeca3bc1cfeb1,Wez Furlong,wez@fb.com,Fri Sep 2 09:46:15 2016 -0700,1472834775,watchman: fixup for strict C90 rulesSummary: This is failing on CircleCInnReviewed By: sid0nnfbshipit-source-id: 7c9581634a08993c1e0784a2c45a8aaf4ddaf161n,2.0,1.0,"tests/art_test.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,549.0,5.0,0.052395833333333336,2886.0,20.08548707753479,372.0,None,False,,
1c6aba6ebdc395595a86424c57baeca3bc1cfeb1,c223a622b59957b5a779c6caba4c088736e2bca8,Siddharth Agarwal,sid0@fb.com,Thu Sep 8 10:30:31 2016 -0700,1473355831,Use absolute path for ExecStop command and make it start reading /etc/watchman.json againSummary: I'm also removing the Conflicts= on shutdown.target because that already happens by default.nnReviewed By: weznnDifferential Revision: D3793343nnfbshipit-source-id: 94d162e0a547686e004664bca8fdd4a81390e0efn,1.0,1.0,"probe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,228.0,1.0,6.083136574074074,340.0,1.1643888786357246,129.0,None,False,True,"[""32a29463e47e39a167a5cb792ab4c1a9dd37eac7""]"
c223a622b59957b5a779c6caba4c088736e2bca8,c9a5e11a12b4d6e871d29a7cda22e52a49affa36,Wez Furlong,wez@fb.com,Thu Sep 8 14:13:01 2016 -0700,1473369181,watchman: adjust tests so that they can be run and collected by our internal CISummary:nThe main thrust of this diff is to change our funky test matrixnexpansion with a differently funky way to expand the test matrix.nnThe idea here is that we generate test classes for the various permutationsnof tests rather than re-using the same class and passing in parameters.nnThis allows our internal CI system to keep track of the individual tests moreneasily.nnThis is the same approach that we use in the eden tests.nnReviewed By: sid0nnDifferential Revision: D3835642nnfbshipit-source-id: c93a3328d8113d12e8aa1c59b772b44ff79c97a3n,905.0,785.0,"Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,python/tests/TARGETS,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/NodeTests.py,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/TempDir.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTapTests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/cat.py,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,tests/integration/test_auth.py,CAS_DELIMITER,tests/integration/test_capabilities.py,CAS_DELIMITER,tests/integration/test_dir_move.py,CAS_DELIMITER,tests/integration/test_find.py,CAS_DELIMITER,tests/integration/test_fsevents_resync.py,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,tests/integration/test_nodejs.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_php.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/test_trigger_chdir.py,CAS_DELIMITER,tests/integration/trig-cwd.py,CAS_DELIMITER,tests/integration/trigger-chdir.php,CAS_DELIMITER,tests/integration/trigger-max-files.php,CAS_DELIMITER,tests/integration/trigger-stdin.php,CAS_DELIMITER",37.0,4.0,5.0,4.123102502185198,11.0,180.21621621621625,443.0,63.87996152402401,2905.0,1.0086477624750294,401.0,None,False,True,"[""464d64308a39752dca6f51f313470cca75e2ad88"", ""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c"", ""3c7833c3b21a1d7279c06aff9153c9e71ed5da17"", ""40337279f28a2cf9d4518b01208fc84a29fa1c2c""]"
c9a5e11a12b4d6e871d29a7cda22e52a49affa36,7d7d15bf84dd6f6a027881da5b5d3e4a9d1d3d4a,Wez Furlong,wez@fb.com,Thu Sep 8 15:37:35 2016 -0700,1473374255,"watchman: fix opensource integration testsSummary:nWatchmanTapTests got renamed to test_php, so don't try andnimport it from runtests.pynnReviewed By: sid0nnfbshipit-source-id: 0f39112303b78e1fa8af66a1a77063e6796cff66n",0.0,2.0,"runtests.py,CAS_DELIMITER,tests/integration/test_php.py,CAS_DELIMITER",2.0,2.0,2.0,1.0,11.0,275.0,28.0,0.05872685185185185,2924.5,13.770989357508867,402.0,None,False,,
7d7d15bf84dd6f6a027881da5b5d3e4a9d1d3d4a,963a9a1f2f862be224642d4ba0762b138fbc2877,Wez Furlong,wez@fb.com,Thu Sep 8 15:41:57 2016 -0700,1473374517,"watchman: -make and -wait are python2 programs, not python3Summary:nA user reported this error during the rollout:nn```n  File /usr/local/fbcode/gcc-4.9-glibc-2.20-fb/lib/python3.5/argparse.py, line 1832, in take_actionnaction(self, namespace, argument_values, option_string)n  File watchman_make.py, line 88, in __call__nNameError: name 'basestring' is not definedn```nnRather than tackle making this python3 compatible, just build the par with python 2nnReviewed By: sid0nnDifferential Revision: D3837763nnfbshipit-source-id: b274335bd01281fa146be489d31adb73547773a7n",2.0,0.0,"python/bin/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,15.0,1.0,6.299398148148147,2926.0,1.1587453239947971,70.0,None,False,,
963a9a1f2f862be224642d4ba0762b138fbc2877,39b814a7b8d2ac08c3f80cf00f43a380be795643,Wez Furlong,wez@fb.com,Thu Sep 8 15:57:50 2016 -0700,1473375470,"watchman: also stop trying to import NodeTestsSummary: This didn't break on mac, but does on Linux and and WindowsnnReviewed By: sid0nnfbshipit-source-id: 9da2ea2b1c6ac207216415295f4a267287d6128fn",0.0,1.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,381.0,28.0,0.0140625,2927.0,72.1111111111111,1213.0,None,False,,
39b814a7b8d2ac08c3f80cf00f43a380be795643,93b67583c05033f9eaaa14f947e6d1cf7361a4a3,Wez Furlong,wez@fb.com,Fri Sep 9 10:32:02 2016 -0700,1473442322,watchman: fixup recent test tweaks for windowsSummary: Closes https://github.com/facebook/watchman/pull/356nnReviewed By: sid0nnfbshipit-source-id: 21223798900a435c90a8c148246d2f0877c46667n,15.0,8.0,"runtests.py,CAS_DELIMITER,tests/integration/TempDir.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_trigger_chdir.py,CAS_DELIMITER",4.0,2.0,2.0,1.9621441567855664,11.0,196.0,36.0,0.8283420138888888,2929.5,1.654191825561362,405.0,None,False,,
93b67583c05033f9eaaa14f947e6d1cf7361a4a3,25eb64b09ebf96d3cd3339b178f5173a5316b43d,Wez Furlong,wez@fb.com,Mon Sep 12 08:01:15 2016 -0700,1473692475,watchman: update website for 4.7 releaseSummary: I already published thisnnReviewed By: sid0nnDifferential Revision: D3847032nnfbshipit-source-id: a38b151692dcbcc40c02825a2b9b5386fea47c9an,36.0,3.0,"website/_data/current_release.json,CAS_DELIMITER,website/_docs/clockspec.markdown,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",4.0,1.0,2.0,1.5690838333922232,11.0,109.0,23.0,226.762349537037,2933.5,1.0049703992051424,224.0,None,False,,
25eb64b09ebf96d3cd3339b178f5173a5316b43d,a22c048355fbe07d00106e46501e889c29a70d0d,Max Burns,mburns@fb.com,Thu Sep 15 09:27:33 2016 -0700,1473956853,troubleshooting.markdownSummary:nPosion -> PoisonnCloses https://github.com/facebook/watchman/pull/359nnReviewed By: weznnDifferential Revision: D3861611nnPulled By: Max-Burnsnnfbshipit-source-id: b774881439bc9a72986b0cc574fd1ed2d5b2476bn,1.0,1.0,"website/_docs/troubleshooting.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,267.0,5.0,78.94305555555556,0.0,0.0,0.0,None,False,,
a22c048355fbe07d00106e46501e889c29a70d0d,d2aede1a4638a179f4fee550ec698dec744850e0,Wez Furlong,wez@fb.com,Thu Sep 15 09:50:44 2016 -0700,1473958244,watchman: fixup shipit configurationSummary: Trying to fixup a verification error in shipit.  The TL;DR is that some of the `.gitignore` entries in the watchman repo needed to be anchored to the root.nnReviewed By: fredemmottnnDifferential Revision: D3867483nnfbshipit-source-id: 63bf725951a4e2d6a1402416a6316c85f8dac926n,44.0,44.0,".gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,73.0,26.0,76.92434027777777,2936.0,1.012999786496562,1215.0,None,False,,
d2aede1a4638a179f4fee550ec698dec744850e0,03f4e4e6e9585964fa740907dc1f1d5277d35145,Wez Furlong,wez@fb.com,Fri Sep 16 09:37:05 2016 -0700,1474043825,"force launchd to unload plistSummary:nin https://github.com/facebook/watchman/issues/358 we ended upnin a state where the contents of the plist were correct but launchdnstill thought that it should be monitoring the older 4.6 binary.nnI don't know how we ended up in such a state, as we unload before wenwrite out the new plist.nnMy working theory is that the unload failed for some unknown reason butnwe carried on anyway.nnAlso, this nugget from the man page:nn> NOTE: Due to bugs in the previous implementation and long-standingn> client expectations around those bugs, the load and unload subcommandsn> will only return a non-zero exit code due to improper usage.n> Otherwise, zero is always returned.nnThis is a speculative diff to add the `-F` force flag in.  I have no waynto prove whether this will solve this, only that it doesn't breaknspawning watchman for me today.nCloses https://github.com/facebook/watchman/pull/360nnReviewed By: sid0nnDifferential Revision: D3874674nnPulled By: weznnfbshipit-source-id: daa7c1581940d286d601546d1ab892c2f1dbddccn",1.0,0.0,"main.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,1103.0,79.0,55.899814814814825,2937.0,1.0178891469195883,1216.0,None,False,,
03f4e4e6e9585964fa740907dc1f1d5277d35145,72b54559007a22c7ded8875da8d386c687c7b595,Wez Furlong,wez@fb.com,Fri Sep 16 09:37:12 2016 -0700,1474043832,fix a race in the sock_perms testSummary: Closes https://github.com/facebook/watchman/pull/362nnReviewed By: sid0nnDifferential Revision: D3874079nnPulled By: weznnfbshipit-source-id: e45a0168e5a6dcae5e85842f120075ef915856f0n,29.0,8.0,"tests/integration/test_sock_perms.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,181.0,3.0,99.703125,2938.0,1.0100297758971948,406.0,Corrective,True,True,"[""68e7db65ae2287346622f8026b92d9b8df7b72ca"", ""e2f0a00f2e7f9f7a73805c3e38cd399cfb264c30""]"
72b54559007a22c7ded8875da8d386c687c7b595,09027885021c2534a2c2280b883d8fbbe207cb38,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:20 2016 -0700,1474058720,refactor: move system header bits to watchman_system.hSummary: as abovennReviewed By: sid0nnfbshipit-source-id: 6c0e9f3d05ad9eae54f610a50f6c55b1228415a5n,177.0,156.0,"thirdparty/tap.c,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER",3.0,2.0,2.0,1.063459362688973,11.0,534.6666666666666,214.0,43.79938657407407,2940.0,1.0079182707373382,1218.0,None,False,,
09027885021c2534a2c2280b883d8fbbe207cb38,686f4a58e564b6a06c0b3862fdb44ab4535aaab6,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:21 2016 -0700,1474058721,Add configure checks for C++11 compilerSummary: as abovennReviewed By: sid0nnfbshipit-source-id: c393307652e1d8f36d37e0f244dcc49c960bc320n,633.0,22.0,".travis.yml,CAS_DELIMITER,acinclude.m4,CAS_DELIMITER,configure.ac,CAS_DELIMITER",3.0,1.0,1.0,0.4766336104361411,13.0,128.33333333333334,121.0,49.07081790123457,2943.0,1.0108017577934374,1221.0,Feature Addition,False,,
686f4a58e564b6a06c0b3862fdb44ab4535aaab6,bfb41aa61a9b9af752bcca315626df91e7e94700,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:22 2016 -0700,1474058722,mostly rename .c -> .cppSummary:nThis is roughly speaking the minimal change required to get thenmajority of the code building with a C++11 compiler.nnIt's still largely C code; a few type casts were needed to satisfynthe C++ compiler.nnReviewed By: sid0nnfbshipit-source-id: dcbc61fdf8b455055db203c45633f723a8af4648n,22118.0,22079.0,"Makefile.am,CAS_DELIMITER,argv.c,CAS_DELIMITER,argv.cpp,CAS_DELIMITER,bser.c,CAS_DELIMITER,bser.cpp,CAS_DELIMITER,cfg.c,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,checksock.c,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,clientmode.c,CAS_DELIMITER,clientmode.cpp,CAS_DELIMITER,clockspec.c,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/debug.c,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.c,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.c,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/log.c,CAS_DELIMITER,cmds/log.cpp,CAS_DELIMITER,cmds/query.c,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/reg.c,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/since.c,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.c,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.c,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.c,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.c,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,envp.c,CAS_DELIMITER,envp.cpp,CAS_DELIMITER,expflags.c,CAS_DELIMITER,expflags.cpp,CAS_DELIMITER,fstype.c,CAS_DELIMITER,fstype.cpp,CAS_DELIMITER,hash.c,CAS_DELIMITER,hash.cpp,CAS_DELIMITER,ht.c,CAS_DELIMITER,ht.cpp,CAS_DELIMITER,ignore.c,CAS_DELIMITER,ignore.cpp,CAS_DELIMITER,ioprio.c,CAS_DELIMITER,ioprio.cpp,CAS_DELIMITER,json.c,CAS_DELIMITER,json.cpp,CAS_DELIMITER,launchd.c,CAS_DELIMITER,launchd.cpp,CAS_DELIMITER,listener-user.c,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.c,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.c,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.c,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.c,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,opt.c,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,pending.c,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,perf.c,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/base.c,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.c,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.c,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/eval.c,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.c,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/glob.c,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.c,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.c,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.c,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.c,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.c,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.c,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.c,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.c,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,root/ageout.c,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/crawler.c,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.c,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.c,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.c,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.c,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/lock.c,CAS_DELIMITER,root/lock.cpp,CAS_DELIMITER,root/notifythread.c,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/poison.c,CAS_DELIMITER,root/poison.cpp,CAS_DELIMITER,root/reap.c,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,root/resolve.c,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/stat.c,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.c,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/sync.c,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/threading.c,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/vcs.c,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/warnerr.c,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,root/watchlist.c,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.c,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,state.c,CAS_DELIMITER,state.cpp,CAS_DELIMITER,stream.c,CAS_DELIMITER,stream.cpp,CAS_DELIMITER,stream_stdout.c,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_unix.c,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.c,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,string.c,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/argv.c,CAS_DELIMITER,tests/argv.cpp,CAS_DELIMITER,tests/bser.c,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,tests/ignore_test.c,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER,tests/log.c,CAS_DELIMITER,tests/log.cpp,CAS_DELIMITER,tests/log_stub.c,CAS_DELIMITER,tests/log_stub.cpp,CAS_DELIMITER,tests/pending_test.c,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER,thirdparty/tap.h,CAS_DELIMITER,thirdparty/wildmatch/wildmatch.h,CAS_DELIMITER,time.c,CAS_DELIMITER,time.cpp,CAS_DELIMITER,timedlock.c,CAS_DELIMITER,timedlock.cpp,CAS_DELIMITER,watcher/auto.c,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.c,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.c,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.c,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.c,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.c,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/depends.js,CAS_DELIMITER,winbuild/getopt.h,CAS_DELIMITER,winbuild/pthread.h,CAS_DELIMITER",184.0,7.0,8.0,6.983666084599321,11.0,134.40217391304347,1397.0,56.980718410326084,3036.5,1.0009759913780558,117.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc"", ""95510bf92299413c2d68c16327d6c92ebd10fe7d"", ""4a1714d48a9cde0a6dca308e1b0991be2845e9ae""]"
bfb41aa61a9b9af752bcca315626df91e7e94700,3f1c8a82daaf6be933000572aa9c723342edf838,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:24 2016 -0700,1474058724,"root: switch away from memset on recrawlSummary:nmemset'ing the guts won't play nicely with C++, so move this range ofnfields into an inner struct, and use placement new/delete to (re)initialize it.nnReviewed By: sid0nnfbshipit-source-id: 46a6cb955c8bbe722f8e9b0a5d96e8a83cabc8c3n",262.0,229.0,"clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,tests/art_test.c,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",27.0,5.0,5.0,4.163268096206003,11.0,350.0740740740741,237.0,0.5246917866941017,3142.0,5833.5896139461365,1340.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc"", ""8f6189688f0d5e0ddf1645864c15bbfa47d569c3""]"
3f1c8a82daaf6be933000572aa9c723342edf838,44fffe78c882cf6df56361fbacf8e20158c56205,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:25 2016 -0700,1474058725,refactor: break watchman.h into separate header filesSummary:nThis is adding some more header files and moving some declarationsnaround.nnReviewed By: sid0nnfbshipit-source-id: 9e760f1ff7ee3403fe2ce013abceca032c260060n,931.0,793.0,"watchman.h,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER,watchman_env.h,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_getopt.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,watchman_opendir.h,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_time.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",18.0,1.0,1.0,2.8050770490827044,11.0,83.27777777777777,247.0,26.84478523662552,3164.5,38401.001202146566,1358.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc"", ""02f0c0fbc62e26e683a6ea17004af5975259198f""]"
44fffe78c882cf6df56361fbacf8e20158c56205,b470a938cd01659e16aeb2afeafe8d6870360005,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:26 2016 -0700,1474058726,root: calloc/free -> new/deleteSummary: as abovennReviewed By: sid0nnfbshipit-source-id: 93370822bace3e8411ec3b151c1e650eb39e505dn,34.0,32.0,"root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",2.0,1.0,1.0,0.976020648236615,11.0,284.0,3.0,1.736111111111111e-05,3174.5,36001.0,1360.0,None,False,,
b470a938cd01659e16aeb2afeafe8d6870360005,6e32d6c43a33e29b9f97763a747939fe474035ad,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:27 2016 -0700,1474058727,string: malloc/free -> placement new/deleteSummary: as abovennReviewed By: sid0nnfbshipit-source-id: e6d1962c8c101c937436f538d325cb0637f3e829n,47.0,68.0,"string.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",4.0,2.0,2.0,0.5454417521681161,11.0,460.0,14.0,5.0378645833333335,3177.5,8984.648769686379,1362.0,None,False,True,"[""94322688ae5e298a658298a107f4b661863749b0""]"
6e32d6c43a33e29b9f97763a747939fe474035ad,e979cb6b8dd3afee2bd390623c3f42d6aecd5a5b,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:28 2016 -0700,1474058728,"string: add w_string smart pointerSummary:nAdds `w_string`, a smart pointer type that automatically tracksnreferences to `w_string_t` and that is implicitly convertible to `w_string_t*`nso that it can be passed to our existing suite of string related functions.nnAdded a couple of helper methods for ensuring null-termination and returningnthe dirname and basename.nnCut the new symlink tracking code over to use this new type; it simplifies thenmemory management of the strings themselves.nnReviewed By: sid0nnfbshipit-source-id: 7731ddd137a4e4ee74fa70d4414172c25b88f333n",305.0,110.0,"root/symlink.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",5.0,1.0,1.0,2.048816983795656,11.0,279.8,223.0,2.7777777777777776e-05,3182.0,12947.909090909092,1367.0,None,False,True,"[""4f953fcb31ec8d6398505e750a07117dee0db955"", ""76361c14609d930852a0ff044f73fd6baf5ab0ef"", ""d17a4d6336b4d1dabf8f3f210eed24501d93d3f4"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
e979cb6b8dd3afee2bd390623c3f42d6aecd5a5b,e16b9613c49b17e521a8e939abc7b725d9ad61a4,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:29 2016 -0700,1474058729,string: add easier cstring constructorSummary:nThis allows:nn```nw_string foo(foo);nw_string bar(bar);n```nnReviewed By: sid0nnfbshipit-source-id: 5a63353f8f1c83fb92a03adc099e77539eed768bn,12.0,0.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.9798687566511528,11.0,544.5,14.0,1.1574074074074072e-05,3185.5,64801.0,1369.0,None,False,True,"[""76361c14609d930852a0ff044f73fd6baf5ab0ef""]"
e16b9613c49b17e521a8e939abc7b725d9ad61a4,ccc2e335c1fae3037ce23cbad152322f8c651f00,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:30 2016 -0700,1474058730,"string: add w_string_piece classSummary:nthis is influenced by folly::StringPiece, but is close to the minimalnsubset that we use.nnIt is used by the pathCat method as a way to represent string storage from anvariety of sources and helps to avoid making intermediate copies just for thensake of concatenation.nnI also plan on using this in a follow-on diff relating to our hash maps.nnReviewed By: sid0nnfbshipit-source-id: 0f6af32c2baccbe9a811fed0042dc565b786a046n",197.0,43.0,"query/eval.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",7.0,2.0,2.0,2.0223524819460663,11.0,374.8571428571428,27.0,4.2989417989417985e-05,3190.0,6494.337519623233,1375.0,None,False,True,"[""b8b71aea60e8ab555052680b6754736d4def23be"", ""76361c14609d930852a0ff044f73fd6baf5ab0ef"", ""b01da5dc012ce3a45d6c4b658fd07768fe425bed"", ""0c2f57482e254422c5a19ff8aaa364b12bd4d116"", ""a10f6ba477cf77942dad0ef79844693217c46323"", ""d17a4d6336b4d1dabf8f3f210eed24501d93d3f4""]"
ccc2e335c1fae3037ce23cbad152322f8c651f00,17b30852b9cd48b6ce1887a5d360a8dde0338ee1,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:30 2016 -0700,1474058730,move cookie map to std::unordered_mapSummary: as abovennReviewed By: sid0nnfbshipit-source-id: 52bf9646580b88e08f9d306371855a8b212109d6n,53.0,29.0,"root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",7.0,1.0,1.0,1.9647374222466305,11.0,333.85714285714283,31.0,1.9841269841269838e-05,3197.0,7200.857142857143,1382.0,None,False,,
17b30852b9cd48b6ce1887a5d360a8dde0338ee1,c3a8f5554200be42b48016fd8aca1ae943caea6d,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:31 2016 -0700,1474058731,fixup inline define on windowsSummary: as abovennReviewed By: sid0nnfbshipit-source-id: fb3ecbf5e1efa395c9fa0a2cef0184b2b20e8be7n,4.0,0.0,"winbuild/config.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,191.0,17.0,69.12530092592593,3201.0,1.0144664831343244,118.0,Corrective,True,,
c3a8f5554200be42b48016fd8aca1ae943caea6d,564528316343569d51067708fe1f62d0d91e3eb6,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:32 2016 -0700,1474058732,MSVC doesn't support defaulting move constructorsSummary: So we need to write out the code for ourselves.nnReviewed By: sid0nnfbshipit-source-id: d679fb93901abd607a47caebbdc1afa8bdec12c4n,7.0,1.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,11.0,645.0,20.0,2.314814814814815e-05,3202.5,32401.0,1384.0,None,False,True,"[""76361c14609d930852a0ff044f73fd6baf5ab0ef""]"
564528316343569d51067708fe1f62d0d91e3eb6,932f6de4e4baa529bc2e1e2663448769d82e665e,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:33 2016 -0700,1474058733,workaround horrible struct stat situation on windowsSummary: as abovennReviewed By: sid0nnfbshipit-source-id: 3db52ddf9396f7f251572d135d8b9c37539d335en,1.0,0.0,"winbuild/sys/stat.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,96.0,4.0,27.19453703703704,3204.0,1.0367720913445988,119.0,None,False,,
932f6de4e4baa529bc2e1e2663448769d82e665e,5d47e2d6f7011b2e5278cb64ecc120c24e53bff0,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:34 2016 -0700,1474058734,improve C/C++ compat for our windows config.hSummary: as abovennReviewed By: sid0nnfbshipit-source-id: 87a3123acac53903ac9018f93795d53e26e0c592n,26.0,23.0,"watchman_system.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",2.0,2.0,2.0,0.9313043685793764,11.0,185.0,20.0,8.680555555555556e-05,3205.5,6481.0,120.0,None,False,,
5d47e2d6f7011b2e5278cb64ecc120c24e53bff0,9814ae56f3aa80f6758a461d1c6e71198ced48f9,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:35 2016 -0700,1474058735,"bite the bullet and make these all c++ tooSummary: Fighting with C vs C++ compilation on windows, just go all in.nnReviewed By: sid0nnfbshipit-source-id: 7bac42f61504192b569227ca5f721521c305a341n",2792.0,2788.0,"winbuild/Makefile,CAS_DELIMITER,winbuild/abort.c,CAS_DELIMITER,winbuild/abort.cpp,CAS_DELIMITER,winbuild/asprintf.c,CAS_DELIMITER,winbuild/asprintf.cpp,CAS_DELIMITER,winbuild/backtrace.c,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER,winbuild/dir.c,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER,winbuild/dirname.c,CAS_DELIMITER,winbuild/dirname.cpp,CAS_DELIMITER,winbuild/errmap.c,CAS_DELIMITER,winbuild/errmap.cpp,CAS_DELIMITER,winbuild/getopt_long.c,CAS_DELIMITER,winbuild/getopt_long.cpp,CAS_DELIMITER,winbuild/hostname.c,CAS_DELIMITER,winbuild/hostname.cpp,CAS_DELIMITER,winbuild/pathmap.c,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER,winbuild/posix_spawn.c,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER,winbuild/pthread.c,CAS_DELIMITER,winbuild/pthread.cpp,CAS_DELIMITER,winbuild/realpath.c,CAS_DELIMITER,winbuild/realpath.cpp,CAS_DELIMITER,winbuild/stat.c,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER,winbuild/susres.c,CAS_DELIMITER,winbuild/susres.cpp,CAS_DELIMITER,winbuild/time.c,CAS_DELIMITER,winbuild/time.cpp,CAS_DELIMITER",31.0,1.0,1.0,3.826112314975064,11.0,99.58064516129032,86.0,183.71438097371563,3222.0,215.3925809492503,151.0,None,False,,
9814ae56f3aa80f6758a461d1c6e71198ced48f9,4f953fcb31ec8d6398505e750a07117dee0db955,Wez Furlong,wez@fb.com,Fri Sep 16 13:45:36 2016 -0700,1474058736,fixup build on top of c++ changesSummary: closes https://github.com/facebook/watchman/pull/354nnReviewed By: sid0nnfbshipit-source-id: 3805c8d6f83921daa782b5d90a2cbbb888b1ee10n,28.0,29.0,"TARGETS,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,0.924463686699577,11.0,171.66666666666666,213.0,7.399888117283949,3239.0,1.0717966132180108,1387.0,Corrective,True,,
4f953fcb31ec8d6398505e750a07117dee0db955,94322688ae5e298a658298a107f4b661863749b0,Wez Furlong,wez@fb.com,Sat Sep 17 19:20:50 2016 -0700,1474165250,fixup operator delete issueSummary: found with ASANnnReviewed By: sid0nnfbshipit-source-id: 014c3925fbb5c542e4065817d939e326c7f75b43n,11.0,2.0,"string.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,995.0,7.0,1.2328472222222222,3241.0,1.8111305131527065,1388.0,Corrective,True,,
94322688ae5e298a658298a107f4b661863749b0,ba3d10f7b4d06ac88fd19928e04097a4ae82e7bb,Wez Furlong,wez@fb.com,Sat Sep 17 19:26:46 2016 -0700,1474165606,"check for an invalid relative_root during globbingSummary:nthis avoids a segfault in the case that the relative_rootncannot be resolved for the first step of a glob.nnTo facilitate this, we now actually look at the return value fromna generator and, (this is the slightly nasty bit), propagate then`errmsg` field from the `query` into the results object.  This isnslightly nasty because we would ideally put this directly in the resultsnobject.nnSince we're going to flip this to C++ very soon, I'd rather just makenthis code throw an exception than do the plumbing now in C.nCloses https://github.com/facebook/watchman/pull/363nnReviewed By: bhamiltoncxnnDifferential Revision: D3874088nnPulled By: weznnfbshipit-source-id: ccd14b7024863d0ea334d2d85929251715590a82n",20.0,2.0,"query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER",3.0,2.0,2.0,1.564405051741344,11.0,427.33333333333326,9.0,3.8973186728395057,3243.0,1.4327113311893898,421.0,None,False,,
ba3d10f7b4d06ac88fd19928e04097a4ae82e7bb,55c40cf7d43cc0913adf9041ff2d2dc329c0622c,Wez Furlong,wez@fb.com,Sat Sep 17 20:02:11 2016 -0700,1474167731,"defer shutting down configurationSummary:nASAN detected a use-after free; the race is where an iothread uses thenconfiguration to log a perf sample.  To avoid the race, defer shutting down thenconfiguration until after we've joined all of the threads.nnReviewed By: sid0nnfbshipit-source-id: 7b06ca4d080a6060dc969a6387c8bc2f4ec630ecn",1.0,1.0,"listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER",2.0,1.0,1.0,1.0,11.0,941.5,2.0,1.2616782407407408,3245.5,1.5944463301195313,1390.0,None,False,,
55c40cf7d43cc0913adf9041ff2d2dc329c0622c,b8b71aea60e8ab555052680b6754736d4def23be,Wez Furlong,wez@fb.com,Sat Sep 17 20:02:13 2016 -0700,1474167733,"fixup a couple of ASAN issuesSummary:ndetected by ASAN:nn1. path cat needs to explicitly return a `w_string` otherwise it will inflatenthe refcount when it is implicitly constructed.nn2. Don't delref the w_string; it will do so automaticallynn3. When building the json blob for a perf sample, steal the ref rather than addna new one.nnReviewed By: sid0nnfbshipit-source-id: e78bb85e206366a8a79a4be7181c8a3ab9c634cdn",3.0,4.0,"perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.3787834934861758,11.0,651.6666666666666,14.0,0.43834490740740745,3248.0,1.7768190526949013,1392.0,Corrective,True,,
b8b71aea60e8ab555052680b6754736d4def23be,eba7f3be42c619d0890b44c2a6226ee5fd9275ff,Wez Furlong,wez@fb.com,Sat Sep 17 20:02:14 2016 -0700,1474167734,"don't leak client states hashSummary:n```nDirect leak of 24 byte(s) in 1 object(s) allocated from:n#0 0x4bc6e0 in calloc ??:?n#1 0x7f3b47ba69e7 in w_hash_bytes ./watchman/hash.cpp:247n#2 0x7f3b47b969da in cmd_state_enter(watchman_client*, json_t*) ./watchman/cmds/state.cpp:126n#3 0x7f3b47b952d1 in dispatch_command ./watchman/cmds/reg.cpp:180n#4 0x7f3b47bb480c in client_thread(void*) ./watchman/listener.cpp:194n#5 0x7f3b473a37f0 in start_thread /home/engshare/third-party2/glibc/2.20/src/glibc-2.20/nptl/pthread_create.c:310 (discriminator 6)n```nnReviewed By: sid0nnfbshipit-source-id: 7d89e233485fc1ede7bcc0c8511fe710d2062ab4n",2.0,0.0,"cmds/state.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,369.0,2.0,1.2616898148148148,3250.0,1.7925878359783507,195.0,None,False,,
eba7f3be42c619d0890b44c2a6226ee5fd9275ff,76361c14609d930852a0ff044f73fd6baf5ab0ef,Wez Furlong,wez@fb.com,Sat Sep 17 21:05:36 2016 -0700,1474171536,fixup lint for stringsSummary: just some lint fixesnnReviewed By: sid0nnfbshipit-source-id: af21d4f721e83f1bf5bdd2a5ea98c217a6b74063n,18.0,15.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.5328350630342235,11.0,652.5,24.0,0.6748090277777778,3251.5,12.729928249251802,1394.0,Corrective,True,True,"[""83986c822e8a13d24593af55603548ee8555b272""]"
76361c14609d930852a0ff044f73fd6baf5ab0ef,c2331fe9104a8433d8994095bdd8b04e6d9aa704,Wez Furlong,wez@fb.com,Sat Sep 17 22:09:31 2016 -0700,1474175371,fixup for lack of noexcept on msvcSummary: sighnnReviewed By: sid0nnfbshipit-source-id: 633df60142cbfef0efa4d8f89b6e8e24e707f989n,4.0,0.0,"winbuild/config.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,197.0,19.0,1.3499652777777778,3253.0,1.7407597932045578,152.0,Corrective,True,True,"[""e02a8be6d327e64cdf8a45cf729f84bb2feee4d3""]"
c2331fe9104a8433d8994095bdd8b04e6d9aa704,77a5123abdddf97b25853983d062e1d8f2138cfc,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:16 2016 -0700,1474302316,"dirs -> unordered_mapSummary:nWorking towards fixing up the aging out logic.  This partiallynC++ifies the dir objects.nnThere's some work on the aging logic here, but ignore it; the leaf ofnthis series of diffs is what actually resolves that portion.nnReviewed By: farnznnDifferential Revision: D3884240nnfbshipit-source-id: 900f44d643375d7ff1672a6526a6f9d5dc4bb31dn",256.0,253.0,"query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",16.0,2.0,2.0,3.1182769942378865,11.0,283.0625,89.0,2.499956597222222,3261.5,1.1104867810725318,1408.0,None,False,True,"[""3375b0f03e116d6ea7120103a8a66c1721b9be0a"", ""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
77a5123abdddf97b25853983d062e1d8f2138cfc,b6f61fcecffd5bcb7fb1d91068525225bb509139,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:18 2016 -0700,1474302318,"change file list linkageSummary:nIn this form, we don't need to pass in a pointer to the head of thenlist when we remove a file entry.nnReviewed By: farnznnDifferential Revision: D3884243nnfbshipit-source-id: 04936195b7337d1b6be823276e53da795475363en",26.0,19.0,"root/ageout.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,1.0,1.0,1.2257468531484328,11.0,175.0,13.0,2.314814814814815e-05,3271.5,22501.0,1412.0,None,False,True,"[""58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc""]"
b6f61fcecffd5bcb7fb1d91068525225bb509139,58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:19 2016 -0700,1474302319,"change suffix list linkageSummary:nas with previous commit, this changes the linkage so that we don'tnneed to have a pointer to the list head to be able to remove a file node fromnthe list.nnReviewed By: farnznnDifferential Revision: D3884246nnfbshipit-source-id: 536f69b6632700b6d196f00d5ab5d5898ede8d94n",48.0,57.0,"query/eval.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,2.0,2.0,2.206570975239252,11.0,266.5,29.0,1.9290123456790123e-05,3276.5,16121.0,1417.0,Corrective,True,True,"[""f815a2679417d425bf7611b021ea8df0ea826068""]"
58c3e11c91d9b81f05d7ff3ab1f69cfea6f89cbc,051d4fd020e85ec9dddbdea121d413596b4695e6,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:20 2016 -0700,1474302320,remove the watcher file_free methodSummary:nNone of the watchers had an implementation of this and removing it allowsndestroying a file node without also passing in a pointer to a root.nnReviewed By: farnznnDifferential Revision: D3884250nnfbshipit-source-id: 99d84b47388d15da45a99d0b71af3e6ab22b9347n,4.0,33.0,"root/ageout.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",10.0,2.0,2.0,3.221399923020545,11.0,337.7,36.0,1.6916377314814817,3284.5,15841.093991246024,1422.0,None,False,,
051d4fd020e85ec9dddbdea121d413596b4695e6,21b20d8ebaf452b30e285dca20ac8c1e85fbda52,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:21 2016 -0700,1474302321,shift ownership of watchman_fileSummary:nPreviously we would use the latest_file index as the primarynway to track ownership of files.  This made things complicated whennit came to aging out old deleted nodes.nnThis diff builds on the short series that precedes it to move the ownership tonthe `files` hash in the containing directory so that there is just one way tondestroy a file.nnReviewed By: farnznnDifferential Revision: D3884253nnfbshipit-source-id: 47649fb35e0f2d17671435231688880d01746e64n,82.0,101.0,"query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER",10.0,2.0,2.0,2.9307593177053666,11.0,251.7,44.0,4.050925925925927e-05,3294.5,9547.095083863504,1430.0,None,False,True,"[""3375b0f03e116d6ea7120103a8a66c1721b9be0a""]"
21b20d8ebaf452b30e285dca20ac8c1e85fbda52,4d7f8fec88c2c150e368bfa1de644818b7a8d95b,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:22 2016 -0700,1474302322,"c++ify the perf samplerSummary:nReally all I wanted to do here was eliminate the w_string_delref fornthe root_path member (and replace it with the smart pointer), but after makingna pass over it, I found that that member wasn't even used!nnReviewed By: farnznnDifferential Revision: D3884968nnfbshipit-source-id: f9ee8b65079f349e0e56fae6aa6ce5fb1594a33cn",153.0,164.0,"cmds/reg.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER",11.0,4.0,4.0,2.7758579492526603,11.0,326.8181818181818,34.0,5.062233796296296,3305.0,1.119551851465288,1438.0,None,False,,
4d7f8fec88c2c150e368bfa1de644818b7a8d95b,b99d258ce9cbd0d4c26d264c1eaf47d22b8410ea,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:23 2016 -0700,1474302323,"add w_string::slice, change ctx->wholename to w_stringSummary:nPart of a crusade to eliminate `w_string_delref` from the majority ofnthe code; this changes the cached wholename to the smart pointer `w_string`ntype and adds a helper for creating a slice.nnReviewed By: farnznnDifferential Revision: D3884971nnfbshipit-source-id: 8ee29a28dcae0c82ea958c6fc2dafaa943f96c62n",11.0,10.0,"query/eval.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",4.0,2.0,2.0,1.6411537317874585,11.0,556.0,70.0,6.36574074074074e-05,3312.5,26722.818181818184,1441.0,Feature Addition,False,,
b99d258ce9cbd0d4c26d264c1eaf47d22b8410ea,31b6fffee337b1c59728412663c2ef526b20a350,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:24 2016 -0700,1474302324,"remove some calls to w_string_delrefSummary: Switch to w_string in some small, self-contained areasnnReviewed By: farnznnDifferential Revision: D3884975nnfbshipit-source-id: 4e92dbcbf4080397ee0769c0515c2a1e995808c4n",2.0,7.0,"query/eval.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9910760598382222,11.0,556.0,14.0,2.8935185185185186e-05,3315.5,51841.0,124.0,None,False,,
31b6fffee337b1c59728412663c2ef526b20a350,cf4c0cf24c8044bcf5ca2db21eb3ddcd5de4a042,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:25 2016 -0700,1474302325,add w_string::printf helperSummary:nThis is destined to eliminate w_string_make_printf.  It returns an`w_string` smart pointer.nnReviewed By: farnznnDifferential Revision: D3884977nnfbshipit-source-id: f64ba657ffd56bba05e9d66ba00768366da62b78n,36.0,0.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.41381685030363374,11.0,662.5,30.0,2.314814814814815e-05,3317.5,32401.0,1443.0,Feature Addition,False,,
cf4c0cf24c8044bcf5ca2db21eb3ddcd5de4a042,dadf713335f2d0b048dbc09eb25efa020ccfc008,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:26 2016 -0700,1474302326,"adopt w_string for failure_reason in fsevents watcherSummary: Wanted to eliminate the w_string_delref for this, but it expanded a little in scope.nnReviewed By: farnznnDifferential Revision: D3884979nnfbshipit-source-id: 03e4bb592afcaf95612ee0f69e823c073c158fben",34.0,34.0,"watcher/fsevents.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,804.0,4.0,4.629629629629629e-05,3319.0,21601.0,125.0,Corrective,True,,
dadf713335f2d0b048dbc09eb25efa020ccfc008,48a7bc63e68e21384751f56be37cefd1d3cb3e55,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:27 2016 -0700,1474302327,"w_root_t::root_path -> w_stringSummary:nThis is a pretty mechanical if verbose change to the smart pointer type.nnThere are a couple of different types of change in here:nn1. `printf(%.*s, root_path->len, root_path->buf)` -> `printf(%s, root_path.c_str())`n2. `printf(%s, root_path->buf)` -> `printf(%s, root_path.c_str())`n3. `root_path->len, root->path->buf` -> `root_path.size(), root_path.data()`nnReviewed By: farnznnDifferential Revision: D3884980nnfbshipit-source-id: f26a405ceb150c76b9ad4cdb924263a90e4cf8bdn",272.0,187.0,"cmds/state.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/lock.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",19.0,4.0,4.0,3.1639886416440164,11.0,313.89473684210526,71.0,1.120782772904483,3329.0,1.2549007859866084,1454.0,None,False,,
48a7bc63e68e21384751f56be37cefd1d3cb3e55,3d1ba2d4c8a223d35f4fb1559f578c5cb933c38a,Wez Furlong,wez@fb.com,Mon Sep 19 09:25:27 2016 -0700,1474302327,"eliminate trivial uses of w_string_delref under watchman/rootSummary: Stopped short of fanning out into the file and dir structs, but otherwise pretty straightforward.nnReviewed By: farnznnDifferential Revision: D3884982nnfbshipit-source-id: 304dc61548eaf79f5e3b7bab39c9a12ad3514e24n",79.0,111.0,"fstype.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",16.0,2.0,2.0,3.73756592454166,11.0,238.625,273.0,0.5286653645833334,3346.5,1.2364427148073232,1468.0,None,False,,
3d1ba2d4c8a223d35f4fb1559f578c5cb933c38a,60e6e92e93768a00052694e65d52285722ead4c7,Wez Furlong,wez@fb.com,Mon Sep 19 10:16:30 2016 -0700,1474305390,remove some unused localsSummary: linux compiler didn't pick this up earliernnReviewed By: farnznnfbshipit-source-id: d7d6a2247fca4d831ad4d22fe1280f8e23819657n,0.0,4.0,"query/glob.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER",4.0,2.0,2.0,2.0,11.0,280.5,25.0,0.03546874999999998,3356.5,15.671845370214596,1471.0,None,False,,
60e6e92e93768a00052694e65d52285722ead4c7,b39b2330cde2f40092c937aaa1c1c1edb5aee52f,Wez Furlong,wez@fb.com,Mon Sep 19 12:39:10 2016 -0700,1474313950,watchman-wait: don't choke for state-enter/state-leaveSummary:nNoticed that we get confused by a missing `files` key.  These cannoccur when you are using mercurial with the fsmonitor extension and it isninforming you of `hg.update` states.nnReviewed By: farnznnDifferential Revision: D3887959nnfbshipit-source-id: 0a9de7cc1c387cdf2aca4c3cff8030c178a9c014n,1.0,1.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,223.0,3.0,194.80413194444444,3359.0,1.0051333613410478,71.0,None,False,,
b39b2330cde2f40092c937aaa1c1c1edb5aee52f,5896d9189ce04d48b8c56d5e8d6098734be596f7,Wez Furlong,wez@fb.com,Mon Sep 19 14:12:05 2016 -0700,1474319525,watchman_file::symlink_target -> w_stringSummary: Eliminates some more w_string_delref calls.nnReviewed By: farnznnDifferential Revision: D3884986nnfbshipit-source-id: f58af47a4fd173c849d76c157f946a24ab1586c3n,13.0,18.0,"root/file.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",5.0,1.0,1.0,1.653542657810587,11.0,368.2,47.0,0.1991064814814815,3362.0,3.2934673956807834,1476.0,None,False,,
5896d9189ce04d48b8c56d5e8d6098734be596f7,5b34435fb26c28d235bf605b5ce59d0c21a5b6ef,Wez Furlong,wez@fb.com,Mon Sep 19 14:12:06 2016 -0700,1474319526,eliminated w_string_delref under watchman/rootSummary: This completes the removal of w_string_delref calls in the `watchman/root` dir.nnReviewed By: farnznnDifferential Revision: D3884988nnfbshipit-source-id: ce38d54dea662790dc111aa609cbc7bcb569ad90n,46.0,38.0,"root/file.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.0142555086092673,11.0,244.66666666666663,23.0,0.06636188271604937,3366.0,43202.67432126038,1479.0,None,False,True,"[""3375b0f03e116d6ea7120103a8a66c1721b9be0a""]"
5b34435fb26c28d235bf605b5ce59d0c21a5b6ef,0a4663df47de809aac778c386f823b79407ee619,Wez Furlong,wez@fb.com,Mon Sep 19 14:12:07 2016 -0700,1474319527,switch some function params from w_string_t* to const w_string&Summary: As abovennReviewed By: farnznnDifferential Revision: D3884992nnfbshipit-source-id: 7547775a4a8a62ef9f2b73154506583a4d8c5223n,53.0,40.0,"root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/poison.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,1.0,1.0,2.3103263522449216,11.0,169.83333333333334,32.0,0.6239969135802469,3370.5,2.980617836878596,1485.0,None,False,,
0a4663df47de809aac778c386f823b79407ee619,3f575f5610a0cf1747a9f06b99d76a2b01497e41,Charles Strahan,charles@cstrahan.com,Tue Sep 20 10:53:13 2016 -0700,1474393993,fix invalid conversionSummary:ne.g. invalid conversion from 'void*' to 'char*' [-fpermissive]nCloses https://github.com/facebook/watchman/pull/365nnReviewed By: sid0nnDifferential Revision: D3891558nnPulled By: weznnfbshipit-source-id: 8b941b38addd729489f07ea1a51f7684ca5f9111n,1.0,1.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,606.0,1.0,3.880451388888889,0.0,0.0,0.0,Corrective,True,,
3f575f5610a0cf1747a9f06b99d76a2b01497e41,2633b38cf26bc219fed426ebefd40c5de8c4159b,Wez Furlong,wez@fb.com,Mon Sep 26 13:05:12 2016 -0700,1474920312,migrate from gcc __sync intrinsics to std::atomicSummary: This makes it easier to move to Visual Studio 2015nnReviewed By: sid0nnDifferential Revision: D3918690nnfbshipit-source-id: 1107021651a880e2269b44ab2a53ada88d1d52a9n,27.0,39.0,"cmds/state.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",9.0,4.0,4.0,2.9865632636706696,11.0,408.5555555555555,297.0,7.5588567386831285,3378.0,1.041106590028084,153.0,None,False,,
2633b38cf26bc219fed426ebefd40c5de8c4159b,e02a8be6d327e64cdf8a45cf729f84bb2feee4d3,Wez Furlong,wez@fb.com,Mon Sep 26 13:05:14 2016 -0700,1474920314,"fix compilation on Visual Studio 2015Summary:nThis compiles and passes most tests in a local VM running VS 2015.nnSome C library changes defeat my hacky abort re-definition, so I've removed it.nnstruct timespec is now defined in time.h, so remove our local definition.nnnoexcept now means something.nnReviewed By: sid0nnDifferential Revision: D3918767nnfbshipit-source-id: 82767675e35f8371ab154a3f678cca3c3f651968n",35.0,34.0,"appveyor.yml,CAS_DELIMITER,make.bat,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/abort.cpp,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/sys/time.h,CAS_DELIMITER",7.0,3.0,4.0,2.51765048316355,11.0,253.14285714285717,108.0,118.41421626984129,3386.0,1.0078362894876942,157.0,Corrective,True,,
e02a8be6d327e64cdf8a45cf729f84bb2feee4d3,b7ba9a01797f79ea56c799a3063b45c1bab031b2,Wez Furlong,wez@fb.com,Mon Sep 26 13:05:15 2016 -0700,1474920315,"speed up compilation on windows by removing build depsSummary:nIt's faster to make clean and rebuild everything than to build thendeps, and most of the builds I'm doing are clean builds, so the builds werentaking more than twice as long as needed.nnReviewed By: sid0nnDifferential Revision: D3921548nnfbshipit-source-id: 6185f3fde7c69b139f7ddb2912ef87af3e7d7e2fn",1.0,32.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,340.0,53.0,1.1574074074074072e-05,3390.0,86401.0,158.0,None,False,,
b7ba9a01797f79ea56c799a3063b45c1bab031b2,e59f2f52e80147ee6639579efacae4b892af932a,Wez Furlong,wez@fb.com,Mon Sep 26 13:05:16 2016 -0700,1474920316,fix windows path normalization in this testSummary: there's some capitalization in my new windows VM and it was breaking this test :-/nnReviewed By: sid0nnDifferential Revision: D3921554nnfbshipit-source-id: a4e8023bfbb94c7f5e992c5fbc2fee7e119b23f2n,4.0,1.0,"tests/integration/absroot.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,56.0,7.0,636.0586226851852,3391.0,1.0015721821296573,422.0,Corrective,True,,
e59f2f52e80147ee6639579efacae4b892af932a,5510546a4df2a711cde4e53ccd9de0f35f879913,Wez Furlong,wez@fb.com,Tue Sep 27 13:51:14 2016 -0700,1475009474,pass more command line args to make on windowsSummary: I want to be able to run `make all py-integration` so we need pass more args throughnnReviewed By: farnznnDifferential Revision: D3921560nnfbshipit-source-id: 1abaaa90393ca7a12a3e01aee226b4179e43cd8fn,1.0,1.0,"make.bat,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,39.0,9.0,1.0319444444444446,3392.0,1.969044414535666,1494.0,None,False,,
5510546a4df2a711cde4e53ccd9de0f35f879913,61a073d8a08184cfd488ce5e141dff6bab56bcef,Wez Furlong,wez@fb.com,Tue Sep 27 13:51:16 2016 -0700,1475009476,"work around dumb exclusive handle latency on windowsSummary:nSomething in the VS 2015 `_mktemp` function means that wensometimes are unable to immediately open a handle on a newly generatednfile name (!)nnThis works around the issue by retrying after a brief pause.nnThis is very lame and we should pull in an implementation of mkostempnof our own to do a better job at this.nnFor now, this makes the integration tests pass.nnReviewed By: farnznnDifferential Revision: D3921573nnfbshipit-source-id: d3d1e4d0ec85734cebfafcafa7dbe95dc00cc6cdn",16.0,1.0,"state.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,190.0,1.0,11.004097222222226,3393.0,1.0908752421762096,1495.0,None,False,,
61a073d8a08184cfd488ce5e141dff6bab56bcef,2fc3a7f4c05dc6712daa4feb049f8fe8204efbbb,Wez Furlong,wez@fb.com,Tue Sep 27 13:51:17 2016 -0700,1475009477,"fix the php trigger tests on windowsSummary:nPython is not always associated with `.py` files on windows, and there is notn`#!` support on this system, so we must explicitly pass down the `python.exe`npath if we want these tests to run.nnReviewed By: farnznnDifferential Revision: D3921579nnfbshipit-source-id: 5a24d20492ef79edae897ff81b38ff2f65e6ec90n",6.0,0.0,"tests/integration/test_php.py,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,11.0,210.5,30.0,65.54427083333333,3394.5,1.0302326471593877,424.0,Corrective,True,,
2fc3a7f4c05dc6712daa4feb049f8fe8204efbbb,dee16f0c4f776bba068c69bd0c4f0f4db007eb43,Michael Lee,mzlee@fb.com,Tue Oct 4 11:07:27 2016 -0700,1475604447,Add load to parse a bser buffer from a file pointerSummary:nStep 1: refactor the header parsing into more reusable piecesnStep 2: Read into a local buffer and parsenCloses https://github.com/facebook/watchman/pull/348nnReviewed By: weznnDifferential Revision: D3811779nnPulled By: mzleennfbshipit-source-id: 5cab5982537403041aa6a23a7db31778e998eaa1n,222.0,55.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/load.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",5.0,1.0,2.0,1.7909422219573918,12.0,573.6,116.0,29.48637037037037,2.0,0.8148398802713537,4.0,Feature Addition,False,,
dee16f0c4f776bba068c69bd0c4f0f4db007eb43,89694475718484e3dd45dafda546ebd0938cd6e8,Wez Furlong,wez@fb.com,Fri Oct 7 02:50:53 2016 -0700,1475833853,"add missing initializer_list includeSummary:nFor whatever reason, this was only causing problems for whatever (outnof date) version of clang I had on my older mac laptop, but it is technicallynappropriate to have this in this header file.nnReviewed By: farnznnDifferential Revision: D3967938nnfbshipit-source-id: a99e672405c48ae14536f34027a2978a18c43affn",1.0,0.0,"watchman_string.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,322.0,21.0,10.573391203703702,3396.0,1.0945770359513147,1496.0,Feature Addition,False,,
89694475718484e3dd45dafda546ebd0938cd6e8,d5f72c3244480a309f81aa4dace4a00dc98ea00e,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:32 2016 -0700,1475847152,add shared_timed_mutex classSummary:nThis just defines a very simple shared_timed_mutex and shared_lock withna similar API to the C++14 equivalents.nnNothing uses them yet.nnReviewed By: farnznnDifferential Revision: D3937229nnfbshipit-source-id: c8dad959f5a05962fc1bb900a21238f44d0941f1n,176.0,0.0,"watchman_root.h,CAS_DELIMITER,watchman_shared_mutex.h,CAS_DELIMITER,watchman_time.h,CAS_DELIMITER",3.0,1.0,1.0,0.6239872115043731,11.0,133.66666666666666,14.0,10.475567129629633,3398.0,1.0727533405458871,1499.0,Feature Addition,False,,
d5f72c3244480a309f81aa4dace4a00dc98ea00e,ac809f65db11fc907c9e47ad6a7a3d613da570ef,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:34 2016 -0700,1475847154,"pull in a folly::Synchronized as watchman::SynchronizedSummary:nWe don't want to take a full on dependency on folly for ournopen source non-eden build, but do want to benefit from the work alreadyndone in folly.nnThis pulls in a slightly cut-down version of Synchronized and puts itnin the watchman namespace.nnThis in turn makes it easier to decompose the giant root lock into more fine grained components.nnReviewed By: farnznnDifferential Revision: D3937235nnfbshipit-source-id: 34e39e072e12ae2121b1210a157ead50321cd48dn",873.0,0.0,"watchman_root.h,CAS_DELIMITER,watchman_synchronized.h,CAS_DELIMITER",2.0,1.0,1.0,0.012842733428432269,11.0,156.0,14.0,1.1574074074074072e-05,3400.5,43201.0,1501.0,None,False,True,"[""4fdca25215fc923ddbeb29a0e74c62d17642b756""]"
ac809f65db11fc907c9e47ad6a7a3d613da570ef,04ab8b73a3cdb75275467654132aba583029c9e4,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:35 2016 -0700,1475847155,Synchronized<> watched_rootsSummary: This moves the global list of watched roots to use a `Synchronized<unordered_map>`.nnReviewed By: farnznnDifferential Revision: D3937279nnfbshipit-source-id: f0f5ee50dd9468ea1eeadc56a2cfca7c7744d25bn,96.0,126.0,"root/resolve.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,0.9061722441593004,11.0,309.6666666666667,22.0,9.53577160493827,3403.0,1.0419469198621187,1504.0,None,False,,
04ab8b73a3cdb75275467654132aba583029c9e4,74748eadd901bfede91ab60700673a41d06bec51,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:36 2016 -0700,1475847156,"use Synchronized<> to protect inotify stateSummary:nReplaces the manual pthread locking with Synchronized<>.nThis uncovered a missing lock around the move_map cleanup code.nnI didn't change the move maps themselves to `unordered_map` here as I wanted tonrestrict the scope of this change somewhat, but it is desirable to do that as anfollow up at some point.nnReviewed By: farnznnDifferential Revision: D3937336nnfbshipit-source-id: cfe2a7be9291292b37b90ba7b81cd2f88953135an",94.0,70.0,"watcher/inotify.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,476.0,6.0,17.879965277777778,3405.0,1.055928520243988,134.0,None,False,,
74748eadd901bfede91ab60700673a41d06bec51,b3ca8a87920f45d0b43771a57425b1c3781b71db,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:37 2016 -0700,1475847157,replace manual locking in spawn with Synchronized<>Summary: Pretty straightforward translation to the Synchronized wrapper stuff.nnReviewed By: farnznnDifferential Revision: D3937360nnfbshipit-source-id: 82ab4d4ecb098d25e11c43c080768a8617a51ed4n,32.0,56.0,"spawn.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,604.0,3.0,17.87997685185185,3406.0,1.0559284840403151,1505.0,None,False,,
b3ca8a87920f45d0b43771a57425b1c3781b71db,4437616f40141c6c609822085c1224192d7cdf64,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:38 2016 -0700,1475847158,add ctor/dtor for watchman_ignoreSummary:nrefactors the explicit initialization and destruction functions to benthe constructor and destructor for the type.nnReviewed By: farnznnDifferential Revision: D3937381nnfbshipit-source-id: d368b238b467cd1f96ecbf05dd9b6a3c92964f76n,13.0,39.0,"ignore.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER",4.0,2.0,2.0,1.362670379479908,11.0,151.75,20.0,25.481576967592588,3408.5,1.0272813565041323,1508.0,Feature Addition,False,,
4437616f40141c6c609822085c1224192d7cdf64,cfb70edfd747f0f8ee67d5fa31639fdc3b6ff129,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:38 2016 -0700,1475847158,add watchman_root::~watchman_root()Summary: Adds a formal destructor for the root object.nnReviewed By: farnznnDifferential Revision: D3937402nnfbshipit-source-id: e00b57c64271913b72ab4cfc5f2d93190cec6508n,13.0,9.0,"root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",2.0,1.0,1.0,0.4394969869215134,11.0,269.5,30.0,1.736111111111111e-05,3411.5,14400.5,1510.0,Feature Addition,False,,
cfb70edfd747f0f8ee67d5fa31639fdc3b6ff129,20a506e67f9f1d7df785af2d665498d7c74c1fcf,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:39 2016 -0700,1475847159,Synchronized<> query_cookiesSummary:nSwitch the locking for the cookie map to use Synchronized<>.nThis also decouples the map access from the main root lock.nnReviewed By: farnznnDifferential Revision: D3937421nnfbshipit-source-id: cf8efb185eec9208555c7ec5a185bd2f9168f97dn,50.0,58.0,"root/iothread.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.2156903818660638,11.0,235.3333333333333,28.0,11.853645833333333,3414.0,1.037599873327632,1513.0,None,False,,
20a506e67f9f1d7df785af2d665498d7c74c1fcf,75be744fd6e6c9151bc04ae5bb2d86a4546f7c01,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:40 2016 -0700,1475847160,"use Synchronized<> to protect trigger mapSummary:nrenames the trigger map from `commands` to `triggers` and cuts over tonusing `Synchronized` to protect it.nnThere are still a couple of bits of code that acquire the root lock aroundntriggers that we can't eliminate yet, but this gets us a bit closer to breakingnapart the giant root lock.nnReviewed By: farnznnDifferential Revision: D3937473nnfbshipit-source-id: 1992287a8d55a9932bbb49dfbf343773468c0697n",186.0,176.0,"cmds/trigger.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",8.0,2.0,2.0,2.036648506424549,11.0,271.875,260.0,8.750814525462962,3419.5,1.0286535730511064,1520.0,None,False,True,"[""359aceb996677df73baa906ef257a1db45d87885""]"
75be744fd6e6c9151bc04ae5bb2d86a4546f7c01,ac0796581c4b34ee3d982fd4308c4919931375a5,Wez Furlong,wez@fb.com,Fri Oct 7 06:32:41 2016 -0700,1475847161,client_state_assertions -> Synchronized<>Summary:nC++ifies the client_state_assertion type (the thing we use to trackn`state-enter` states) and switches the map to use Synchronized.nnAnother step towards decomposing the giant lock in the root.nnReviewed By: farnznnDifferential Revision: D3937502nnfbshipit-source-id: 1ee50ab5ba69eb3efb92b721c533d73bcb41665en,115.0,92.0,"cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,2.0,2.0,1.3117088178189151,11.0,306.25,28.0,12.32675347222222,3425.5,1.0414002764642365,1522.0,Preventative,False,,
ac0796581c4b34ee3d982fd4308c4919931375a5,eded555a196a973ece4231590221538f57028d37,Wez Furlong,wez@fb.com,Sat Oct 8 02:45:54 2016 -0700,1475919954,cursor map to Synchronized<>Summary: C++ify and Synchronize the cursor mapnnReviewed By: farnznnDifferential Revision: D3937522nnfbshipit-source-id: 017a3a79028c2a9453896aacc08505e31d95f70an,67.0,62.0,"clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",5.0,2.0,2.0,1.4996363069478649,11.0,214.6,48.0,12.698331018518518,3430.0,1.0235045761594082,1526.0,None,False,,
eded555a196a973ece4231590221538f57028d37,10d9e9d4c0870c5e7b54092030285b0d82f3790c,Wez Furlong,wez@fb.com,Sat Oct 8 02:45:56 2016 -0700,1475919956,c++ify query match resultsSummary:nThis sticks the results into a std::deque and simplifies some of the management around the results.nnThis will (indirectly) help with delegating the source of the query data to eden.nnReviewed By: farnznnDifferential Revision: D3937574nnfbshipit-source-id: e85b8dcce6a93dc37f38be52169be8899bde9042n,93.0,135.0,"cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",8.0,3.0,3.0,2.529587284390206,11.0,307.875,58.0,15.662310474537033,3436.5,1.0173848373823025,1528.0,None,False,,
10d9e9d4c0870c5e7b54092030285b0d82f3790c,1e01f1acd1769fb586d0765bf83aa079de148ae6,Wez Furlong,wez@fb.com,Sat Oct 8 02:45:57 2016 -0700,1475919957,"add InMemoryView classSummary:nThe intent is that we will locate the data needed tonkeep track of the filesystem in this class.  This initial diffnmoves just the tree, the recency index and the suffix indexnover.nnFollow-on diffs will move methods that are currently root-centricnto be methods of this class.nnReviewed By: farnznnDifferential Revision: D3937614nnfbshipit-source-id: babe4b71715e5fd8c388140d0c4224510d5fc233n",42.0,30.0,"InMemoryView.h,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",9.0,3.0,3.0,2.7620926094583957,11.0,307.3333333333333,87.0,4.116349022633745,3445.0,16320.906883998345,1535.0,Feature Addition,False,True,"[""f815a2679417d425bf7611b021ea8df0ea826068""]"
1e01f1acd1769fb586d0765bf83aa079de148ae6,cf4d6e34beb707b9bc54ddb60b9df5fe55ca98d4,Wez Furlong,wez@fb.com,Sat Oct 8 02:45:58 2016 -0700,1475919958,add InMemoryView::markFileChangedSummary:nThis moves most of the guts of the mark_file_changed function into a method of the InMemoryView.nnWe can't move it wholesale because this action also needs to ask the watcher layer to cancel a watch on a file.nI'll make some changes to the watcher layer in following diffs to make that easier to deal with.nnReviewed By: farnznnDifferential Revision: D3937670nnfbshipit-source-id: ec66840a81128c49801da1a325f015a0b19658e4n,52.0,21.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,2.0,2.0,1.6564633244704172,11.0,164.6,165.0,6.622409722222222,3452.0,17280.824608388702,159.0,Feature Addition,False,,
cf4d6e34beb707b9bc54ddb60b9df5fe55ca98d4,ae557d073ce99da55c26082dc8c67400da19a9a2,Wez Furlong,wez@fb.com,Sat Oct 8 02:45:59 2016 -0700,1475919959,refactor dir resolving into InMemoryView classSummary: Really just moving these functions to be methods of the view.nnReviewed By: farnznnDifferential Revision: D3937695nnfbshipit-source-id: 1d56a3705c6c7082245607c9ae0919b52e194ebfn,151.0,132.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",5.0,1.0,1.0,1.3838725007582924,11.0,162.4,52.0,1.851851851851852e-05,3457.0,35281.0,1544.0,None,False,,
ae557d073ce99da55c26082dc8c67400da19a9a2,de049841a075b836ff686e71db780e11676f124c,Wez Furlong,wez@fb.com,Sat Oct 8 02:51:47 2016 -0700,1475920307,"remove arcanist bitsSummary:nWe basically stopped using this stuff when the opensource branch ofnarcanist diverged from our internal one and broke the unit testing APIs.nnThe internal FB repo uses the arcanist settings from the containing project, sonwe don't need to keep any specific configuration around any longer.nnReviewed By: farnznnDifferential Revision: D3987023nnfbshipit-source-id: 5729e556097539323644cfd72821c663e8db6a6fn",2.0,28.0,".arcconfig,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER",3.0,1.0,1.0,1.5179159574361385,13.0,210.3333333333333,217.0,21.05417824074074,3461.0,1.0212974931087333,1547.0,None,False,,
de049841a075b836ff686e71db780e11676f124c,65db806ac92af720d290e7fa33f37ad60c884db1,Wez Furlong,wez@fb.com,Thu Oct 13 10:18:38 2016 -0700,1476379118,"add destructor to w_query_ctxSummary:nThis just tidies up the cleanup of this type.  This was originallynjust some tidying up that I had in my diff stack on the mac, but it turns outnthat this is the underlying cause of the test failures that we're tracking innthe attached task.nnReviewed By: farnznnDifferential Revision: D4013965nnfbshipit-source-id: 97a392b2856cbbfbc4c716e518b7f1bcc9dbec68n",26.0,21.0,"query/eval.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",2.0,2.0,2.0,0.9440870182837796,11.0,433.5,49.0,5.314369212962963,3463.5,1.1411269173097545,1548.0,Feature Addition,False,,
65db806ac92af720d290e7fa33f37ad60c884db1,e30899b5ce6539f9a9046ec114b1f4aa7e033101,Mathieu Baudet,mathieubaudet@fb.com,Fri Oct 14 08:34:24 2016 -0700,1476459264,Remove unused includes in watchman/root/init.cppReviewed By: weznnDifferential Revision: D3997970nnfbshipit-source-id: 2ffd748d6dc10fb0da8b65f3c7e2859762b29b66n,0.0,1.0,"root/init.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,204.0,19.0,6.241956018518517,0.0,0.0,0.0,None,False,,
e30899b5ce6539f9a9046ec114b1f4aa7e033101,6f17e29aac81de3b17c07342c78a55bfcf317789,Wez Furlong,wez@fb.com,Fri Oct 14 09:58:38 2016 -0700,1476464318,refactor watcher into Watcher classSummary:nthis is unfortunately a rather large diff because it has to touch all of thenwatcher implementations at once.nnThis is moving the disparate watcher_ops and state pointer into a virtual Watcher class.nnReviewed By: farnznnDifferential Revision: D4019867nnfbshipit-source-id: c5e2f29ef0af6e569c73b148d012dca6228a0629n,754.0,840.0,"cmds/watch.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",18.0,3.0,3.0,2.8647699709270262,11.0,274.1666666666667,128.0,18.66355516975309,3473.5,1.0090922861220386,1559.0,None,False,True,"[""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
6f17e29aac81de3b17c07342c78a55bfcf317789,71f0f3a39fb1e61ef9bcf4ff08fa6f3abdcc8ecb,Wez Furlong,wez@fb.com,Fri Oct 14 10:15:27 2016 -0700,1476465327,remove stopWatchFile methodSummary: None of the watchers had implemented it!nnReviewed By: farnznnDifferential Revision: D4019876nnfbshipit-source-id: 89f74a88f9cb1d8cc40b7027dd7e205266cbccf4n,1.0,9.0,"root/file.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",4.0,2.0,2.0,1.9709505944546688,11.0,166.25,22.0,0.01167824074074074,3484.5,45.598612487611504,1561.0,None,False,,
71f0f3a39fb1e61ef9bcf4ff08fa6f3abdcc8ecb,acfd2363ebb1208b36e8abf6e38ea4be6e170bd1,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:34 2016 -0700,1476474514,"thread the watcher through to the InMemoryViewSummary: This just makes it available, it is not yet consumed by the view.nnReviewed By: farnznnDifferential Revision: D4019884nnfbshipit-source-id: d2409d382698bfc649063297a573a83df980307fn",3.0,0.0,"InMemoryView.h,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,11.0,76.0,7.0,3.262395833333333,3487.5,1.1545310976328629,143.0,None,False,,
acfd2363ebb1208b36e8abf6e38ea4be6e170bd1,d53907578e7805a2f180a820600d0966ccfc4a2c,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:37 2016 -0700,1476474517,have the view trigger a file watchSummary:nMoves the initiation of a file level watch into the view class; itnwill call into the associated watcher at the appropriate time.nnReviewed By: farnznnDifferential Revision: D4019897nnfbshipit-source-id: d032629e1ea3880b46f2395acedbac4caa966c0dn,4.0,4.0,"InMemoryView.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER",2.0,1.0,1.0,1.0,11.0,170.5,15.0,3.2624305555555555,3489.5,1.1545298606288736,1564.0,None,False,,
d53907578e7805a2f180a820600d0966ccfc4a2c,8f91205f0babc5b189077adc44807ed09f9e383d,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:38 2016 -0700,1476474518,"move recrawl related state info into its own structSummary:nThis allows us to safely update and consume those portions,nand mostly removes the root lock dependency.nnReviewed By: farnznnDifferential Revision: D4019901nnfbshipit-source-id: ad1aac8b14ad605e74d29ae47387fab3ecf60ba4n",43.0,27.0,"listener-user.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,1.0,1.0,2.18858049094938,11.0,208.0,51.0,4.28856288580247,3493.5,1.039316459382995,1570.0,None,False,,
8f91205f0babc5b189077adc44807ed09f9e383d,673a17a19e5880fa468da06ff7a3d6e9847e627b,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:39 2016 -0700,1476474519,move pending tick information to InMemoryViewSummary:nThe name may be very slightly misleading; these values arenthe most recently observed ticks for subscriptions and triggers.nnReviewed By: farnznnDifferential Revision: D4019910nnfbshipit-source-id: b15e5d7e40518c99ebb28231c9878a4bb840645fn,17.0,14.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,2.0,2.0,2.4506595208889133,11.0,269.5,54.0,2.279959490740741,3499.5,9258.205373651708,1574.0,None,False,,
673a17a19e5880fa468da06ff7a3d6e9847e627b,7ddd21087be9c5b04143bb348e2d3f851faea294,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:41 2016 -0700,1476474521,remove w_root_mark_file_changed functionSummary: We can now replace this with the equivalent method in the InMemoryView.nnReviewed By: farnznnDifferential Revision: D4019919nnfbshipit-source-id: 22d9079290c03375cda9290ff61016aa129f3b78n,8.0,14.0,"root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,1.0,1.0,1.8910910066364843,11.0,201.0,59.0,0.059056712962962964,3504.5,7.350347129571428,1578.0,None,False,,
7ddd21087be9c5b04143bb348e2d3f851faea294,15f24d5917e5302a2a9d6c5aa681bc34d1b77b06,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:42 2016 -0700,1476474522,move w_root_mark_deleted to InMemoryViewSummary: as abovennReviewed By: farnznnDifferential Revision: D4019924nnfbshipit-source-id: f8b6ba6f3e99e3120575f304c2966f745e49d603n,46.0,39.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,1.0,1.0,2.085110945103651,11.0,156.33333333333334,60.0,4.157029320987655,3509.5,11058.156221390293,1584.0,None,False,,
15f24d5917e5302a2a9d6c5aa681bc34d1b77b06,f6e792c888c150e99ae8f938c4d09ab49b382019,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:43 2016 -0700,1476474523,w_root_resolve_file -> InMemoryView::getOrCreateChildFileSummary: as abovennReviewed By: farnznnDifferential Revision: D4019946nnfbshipit-source-id: bde1abd0802850fe9c715cfe5cb32e853f9943e5n,70.0,62.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,1.0,1.0,1.8033041839899704,11.0,165.5,67.0,4.190216049382714,3515.5,28081.01325840189,1590.0,None,False,True,"[""2ef7a30fd70fd246a35ecd486b24820d0d6beea0"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
f6e792c888c150e99ae8f938c4d09ab49b382019,99350c2c7d2bc72b83a03cd9598f3d9a8d1ed05a,Wez Furlong,wez@fb.com,Fri Oct 14 12:48:44 2016 -0700,1476474524,move last_age_XXX info to InMemoryViewSummary: as abovennReviewed By: farnznnDifferential Revision: D4019958nnfbshipit-source-id: 25c905067b3fb742cf8d73b284ca133a2651e363n,19.0,13.0,"InMemoryView.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/pthread.cpp,CAS_DELIMITER",6.0,2.0,2.0,2.2558269522460908,11.0,366.83333333333326,72.0,9.797719907407409,3521.5,14401.060173969283,161.0,None,False,,
99350c2c7d2bc72b83a03cd9598f3d9a8d1ed05a,1df3bff4761e639cd37d75037ea1126e3193da4e,Wez Furlong,wez@fb.com,Wed Oct 19 09:21:16 2016 -0700,1476894076,move age out logic to InMemoryViewSummary: as abovennReviewed By: farnznnDifferential Revision: D4019973nnfbshipit-source-id: 5c9fe2e1cdbc9b36fab4c636b9b8b98dc09ef590n,93.0,89.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER",3.0,1.0,1.0,1.2318337874301215,11.0,157.66666666666666,25.0,4.855929783950618,3526.0,1.1258483014434324,1597.0,None,False,,
1df3bff4761e639cd37d75037ea1126e3193da4e,38b60165fdab4ef3f3336499eeae6f24f8ea3a59,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:12 2016 -0700,1476915252,query expression terms -> virtual classesSummary:nUnfortunately a large diff because we can't really change these piecemeal.nn1. Introduce a `QueryExpr` virtual base class that has an `evaluate` method.n2. Switch from a naked pointer to the prior query term to `unique_ptr<QueryExpr>`n3. `const`ify the `watchman_file` parameter that is passed to the evaluator.nnI switched a couple of trivial things from `w_string_t*` to `w_string` as partnof this so that these expression classes didn't need to have explicitndestructors.nnReviewed By: farnznnDifferential Revision: D4019984nnfbshipit-source-id: ac0a786ccda7a0984b19e027189bee858b212169n,732.0,934.0,"query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",14.0,2.0,2.0,3.3496558711558397,11.0,195.5,68.0,28.297151951058197,3534.5,1.0075314302364482,1599.0,None,False,True,"[""df00277ebbef6bac65b3f8825469b4b3332a95f9"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
38b60165fdab4ef3f3336499eeae6f24f8ea3a59,085a9200da9109c45133bfa89a76192123041756,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:15 2016 -0700,1476915255,w_query* -> shared_ptr<w_query>Summary:nThis moves the reference counting out of the w_query internals and just uses shared_ptr.nnReally what I'm shooting for here is migrating this type from using `calloc`/`free` so that wencall the destructors for the `QueryExpr` diff that it follows.nnReviewed By: farnznnDifferential Revision: D4019989nnfbshipit-source-id: 4599787838ebd1fc2f0f30016b51b5f18ef0da33n,78.0,99.0,"cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",11.0,3.0,3.0,2.341464778871164,11.0,259.27272727272725,73.0,7.8278609006734,3547.0,1.027439936841362,1604.0,None,False,True,"[""95510bf92299413c2d68c16327d6c92ebd10fe7d""]"
085a9200da9109c45133bfa89a76192123041756,44447460bb93c3e88839509be051c84df8b6e6cb,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:16 2016 -0700,1476915256,avoid malloc/free for clockspecSummary:nASAN mode is rightly complaining that we're mixing delete with mallocnnow that we've started to use unique_ptr to hold some of these.  Go all in andnconvert all references to unique_ptr and avoid using malloc/free for thisndatatype.nnReviewed By: farnznnDifferential Revision: D4028121nnfbshipit-source-id: e54f0c3ef2986a83cd3a4a7a223ccf0d917d09dcn,28.0,45.0,"clockspec.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",8.0,3.0,3.0,2.5103168284436537,11.0,369.375,80.0,4.770363136574074,3556.5,1.15357715613689,1608.0,None,False,,
44447460bb93c3e88839509be051c84df8b6e6cb,188895955f84cd0d2b2ed596989530955d6034f6,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:17 2016 -0700,1476915257,"add make_unique helperSummary:nSince we're targeting C++11, we don't have `std::make_unique` available.nnThis adds a small helper in the `watchman` namespace for this.nnI had to move some of the constructors of the various expression terms to be public to allow this to work.nnReviewed By: farnznnDifferential Revision: D4020000nnfbshipit-source-id: f28e30885bf0c05df283ee08eea387ccac9905abn",75.0,36.0,"clockspec.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,make_unique.h,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER",18.0,4.0,4.0,4.0250287219379715,11.0,229.8333333333333,83.0,1.7391132973251031,3569.5,10135.846586691909,148.0,Feature Addition,False,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
188895955f84cd0d2b2ed596989530955d6034f6,b245c62ba8cc1f6efc9426eb38a35790ac088228,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:19 2016 -0700,1476915259,eliminate some duplicates of time_generatorSummary: Why have three copies of the same function when you can have only one?nnReviewed By: farnznnDifferential Revision: D4020007nnfbshipit-source-id: 3f1f82ba3d43647760b5cbe1c8c712499a0f5505n,18.0,81.0,"cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,3.0,3.0,1.6503871416802194,11.0,475.75,73.0,3.472222222222222e-05,3580.5,15001.0,1613.0,None,False,,
b245c62ba8cc1f6efc9426eb38a35790ac088228,c0c06a66d0abefe58dfd4df3cfa37c50e96a9899,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:20 2016 -0700,1476915260,generator -> std::functionSummary:nThis removes the gendata parameter and context; the generatorncan now encapsulate this in the std::function/lambda if it needs it.nnReviewed By: farnznnDifferential Revision: D4020018nnfbshipit-source-id: 86096581ebc00bd4b8ab933a10c1a265f253c0afn,40.0,51.0,"cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",7.0,3.0,3.0,1.7037500175510527,11.0,294.7142857142857,86.0,3.141534391534392e-05,3586.0,7359.531623175586,1615.0,None,False,,
c0c06a66d0abefe58dfd4df3cfa37c50e96a9899,a2b5de65bfcc13e831c4e8e444d9170cf2e16d6a,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:21 2016 -0700,1476915261,"move time_generator guts to InMemoryView::timeGeneratorSummary: Since this is operating on the view, this belongs as a method of the view.nnReviewed By: farnznnDifferential Revision: D4020033nnfbshipit-source-id: 363ff6c04a6dab5e7226069961867fb663c7a751n",42.0,28.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.3957622341231302,11.0,339.3333333333333,35.0,0.16346836419753089,3591.0,3.7188888432811154,197.0,None,False,,
a2b5de65bfcc13e831c4e8e444d9170cf2e16d6a,f815a2679417d425bf7611b021ea8df0ea826068,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:22 2016 -0700,1476915262,move suffix generator to InMemoryViewSummary: as abovennReviewed By: farnznnDifferential Revision: D4020050nnfbshipit-source-id: 7b2536eaa3c0ae15788858416250ac408f00fd15n,42.0,35.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.316760817976408,11.0,344.0,38.0,1.1574074074074072e-05,3594.0,52801.0,198.0,Corrective,True,True,"[""95510bf92299413c2d68c16327d6c92ebd10fe7d""]"
f815a2679417d425bf7611b021ea8df0ea826068,20b09cda0931b981d62da08568796ebc5c82e5e8,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:23 2016 -0700,1476915263,move dir_generator to InMemoryViewSummary: as abovennReviewed By: farnznnDifferential Revision: D4020061nnfbshipit-source-id: 69adce81f6f6e6e035c1b221cb92488d024b27d6n,139.0,128.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.2439482637235884,11.0,346.33333333333326,41.0,1.1574074074074072e-05,3597.0,52801.0,199.0,None,False,,
20b09cda0931b981d62da08568796ebc5c82e5e8,d0108db71711e7579a706f278f8ba24fae9ad075,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:25 2016 -0700,1476915265,"move glob generator to InMemoryViewSummary:nSince most of the glob stuff is located in the glob.cpp file, I'venkept it here and renamed the existing functions into the InMemoryView class.nnReviewed By: farnznnDifferential Revision: D4020069nnfbshipit-source-id: 77e66ccd3a3a880e0498b667c7e9ed2f1acf4ae5n",46.0,27.0,"InMemoryView.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.1439020593388132,11.0,326.5,80.0,7.551747685185185,3600.5,16201.01655247566,1623.0,None,False,,
d0108db71711e7579a706f278f8ba24fae9ad075,2031306190b22c05f17cb45e4433a4efd438e073,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:26 2016 -0700,1476915266,move all files generator to InMemoryViewSummary: as abovennReviewed By: farnznnDifferential Revision: D4020076nnfbshipit-source-id: b597684805b0eaff3a79d817b9e4407d74dd5d7fn,31.0,25.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.3445428168705804,11.0,356.0,46.0,1.9290123456790123e-05,3604.0,22561.0,202.0,None,False,,
2031306190b22c05f17cb45e4433a4efd438e073,4888bf790e617ace770307b6fcd07097c0c8aab0,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:27 2016 -0700,1476915267,constify all watchman_file in watchman_query.hSummary: Let's make sure we're not doing anything naughty with thesennReviewed By: farnznnDifferential Revision: D4020082nnfbshipit-source-id: 03f6877790edbb0082f50f376816d75ec9d3b5d6n,16.0,17.0,"query/eval.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",2.0,2.0,2.0,0.9993375041688848,11.0,314.5,66.0,1.736111111111111e-05,3606.5,57601.0,1626.0,None,False,,
4888bf790e617ace770307b6fcd07097c0c8aab0,49cc4003e05f1401695505c18828115ea3b412ab,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:28 2016 -0700,1476915268,add constructor/destructor for the pending listSummary: This makes it easier to move the pending list in the following diff.nnReviewed By: farnznnDifferential Revision: D4020093nnfbshipit-source-id: 38c6b693dde140bef33252af69972f748d8b1136n,18.0,50.0,"pending.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER",7.0,2.0,2.0,2.4883340517702046,11.0,209.14285714285717,44.0,17.392954695767195,3611.0,1.0210393011740504,1632.0,Feature Addition,False,,
49cc4003e05f1401695505c18828115ea3b412ab,b6d11e3211998fb1250e0053bc4ae1e8cdff3f23,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:29 2016 -0700,1476915269,"start moving io_thread bits into their own structSummary:nAs part of moving towards not requiring an InMemoryView, we also neednto identify the things that are used to build up that view.nnThis diff moves io_thread specific things into their own struct; in a follow-onndiff we will make starting the io thread a watcher specific thing.nnReviewed By: farnznnDifferential Revision: D4020100nnfbshipit-source-id: fe33109e4a1a32202e018c9e75caca2e8eb1c440n",27.0,19.0,"root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,1.0,1.0,2.394343190471339,11.0,209.16666666666663,81.0,1.7004243827160492,3617.5,30001.049007003163,1638.0,None,False,,
b6d11e3211998fb1250e0053bc4ae1e8cdff3f23,2f096a416ab5c0ffecf86c1ed8f4e13ddc58963c,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:31 2016 -0700,1476915271,refactor out the full crawl portion of the io threadSummary: This helps to split up the actions taken by the io thread.nnReviewed By: farnznnDifferential Revision: D4020111nnfbshipit-source-id: 4913693f5ec4ddaa1a98734dfa2a84098f0f470bn,51.0,43.0,"root/iothread.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,256.0,11.0,2.314814814814815e-05,3621.0,43201.0,1639.0,None,False,,
2f096a416ab5c0ffecf86c1ed8f4e13ddc58963c,3cabeeb062228ea4c1ff3e2da3abeff649d5791b,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:32 2016 -0700,1476915272,factor out settle actions as its own functionSummary: Continuing in the theme of splitting up the io thread processingnnReviewed By: farnznnDifferential Revision: D4020118nnfbshipit-source-id: 0ff98afc1860a91c9c2bd4758a4e6580612b730an,31.0,20.0,"root/iothread.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,264.0,12.0,1.1574074074074072e-05,3622.0,86401.0,1640.0,None,False,,
3cabeeb062228ea4c1ff3e2da3abeff649d5791b,a5e4d4bd4c32244fee6edbec422add57db55c782,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:33 2016 -0700,1476915273,insert_at_head_of_file_list -> InMemoryView::insertAtHeadOfFileListSummary: A simple refactor that aids in hiding the latest_file member in a follow-on diff.nnReviewed By: farnznnDifferential Revision: D4020128nnfbshipit-source-id: ba7de4641a889f67891b1bd3fe2fc74fea4fc66bn,6.0,7.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER",2.0,1.0,1.0,0.3912435636292557,11.0,345.0,25.0,8.101851851851852e-05,3623.5,9258.142857142857,1642.0,None,False,,
a5e4d4bd4c32244fee6edbec422add57db55c782,ce1967fb9e29193ad572f4ea82490d50509198ff,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:34 2016 -0700,1476915274,make various members of InMemoryView privateSummary:nWorking towards extracting the interface as a virtual base class; thisnwill help ensure that we're not reaching in where we shouldn't be.nnThe comments about ASAN related safety no longer apply since a recent change tonfixup the ownership of watchman_file.nnReviewed By: farnznnDifferential Revision: D4020136nnfbshipit-source-id: f0eba43e349d2986eb66d31f3f1ac0239fab24bdn,19.0,24.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER",3.0,1.0,1.0,1.2717289910992915,11.0,294.3333333333333,51.0,2.700617283950617e-05,3626.0,47315.28571428571,1645.0,None,False,,
ce1967fb9e29193ad572f4ea82490d50509198ff,fc2d663a7063f2f4aacda14d5bf300fc1a9f419c,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:35 2016 -0700,1476915275,"make most recent tick value a private member of InMemoryViewSummary:nInstead, expose its value via a public method.nnRefactor the trigger dispatching stuff to use this method but take not tonregress `TestTriggerIssue141` which asserts that newly registered triggers arenrun as soon as they are registered.nnReviewed By: farnznnDifferential Revision: D4020148nnfbshipit-source-id: 687b1bcc73e92b0222df91d2da5670d38f5bb10cn",18.0,16.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.987460181948644,11.0,391.0,45.0,0.00010127314814814816,3629.5,34288.731092436974,224.0,None,False,,
fc2d663a7063f2f4aacda14d5bf300fc1a9f419c,3a31755be5430f5a9010850b1a6bcfa0cbfebeee,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:37 2016 -0700,1476915277,move some more InMemoryView fields to privateSummary: Continuing the theme of the last couple of diffs.nnReviewed By: farnznnDifferential Revision: D4020156nnfbshipit-source-id: 0d96bf353724185c2c7c2a3bacf514d9dd0bf6d1n,22.0,12.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER",4.0,1.0,1.0,1.9542473996920808,11.0,253.75,49.0,0.06141493055555555,3633.5,17102.017667844524,1651.0,None,False,,
3a31755be5430f5a9010850b1a6bcfa0cbfebeee,3b571926f2e9b9a76b67cefec5a9568d0492ebaa,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:38 2016 -0700,1476915278,"change view to a unique_ptr<>Summary: We're going to extract out the interface as a virtual base, so we need to be able to reference it via a pointer.nnReviewed By: farnznnDifferential Revision: D4020168nnfbshipit-source-id: 4957eff80abb1af20c969aa434c6679ae44a9de2n",30.0,29.0,"clockspec.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",10.0,4.0,4.0,3.0218479245453915,11.0,211.1,145.0,2.040578703703704,3640.5,11917.065340194247,1658.0,None,False,,
3b571926f2e9b9a76b67cefec5a9568d0492ebaa,3d1c64ccfcd5cb76c04737d9a2da4b187c13c7c3,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:39 2016 -0700,1476915279,"cast view to InMemoryView explicitly in stat_pathSummary:nnot strictly needed here and now, but makes it easier forna follow on diff to change the view unique_ptr to a new base classnand not have to include all of the InMemoryView methods in it.nnReviewed By: farnznnDifferential Revision: D4025204nnfbshipit-source-id: 2311be0277ed66103f2849b6ffb7169c0f0ec669n",12.0,12.0,"root/stat.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,234.0,11.0,1.1574074074074072e-05,3646.0,86401.0,1659.0,None,False,,
3d1c64ccfcd5cb76c04737d9a2da4b187c13c7c3,06ac2db9fd8c96d0945c1f1c97b05cdf4d926aa5,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:40 2016 -0700,1476915280,remove w_root_resolve_dir_readSummary: Just call the methods of the view directlynnReviewed By: farnznnDifferential Revision: D4025212nnfbshipit-source-id: 8347ca1cece3308ac9ee7db0386b0909673e0febn,3.0,24.0,"root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",5.0,1.0,1.0,1.9211064542967689,11.0,169.0,71.0,7.092407407407408,3649.0,1.1262335000638086,1664.0,None,False,,
06ac2db9fd8c96d0945c1f1c97b05cdf4d926aa5,9a5fdd436d88441e90f252457b379c1e2b7a6031,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:41 2016 -0700,1476915281,add QueryableView base classSummary:nExtracts out the the interfacey portions of InMemoryView intonQueryableView and tracks this from the root.nnReviewed By: farnznnDifferential Revision: D4025269nnfbshipit-source-id: cc8553b511a77691dca6c8d5226b99202a2563d5n,145.0,23.0,"InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",12.0,3.0,3.0,2.4640655449889017,13.0,191.75,274.0,1.919682677469136,3657.5,1801.0759798359722,162.0,Feature Addition,False,,
9a5fdd436d88441e90f252457b379c1e2b7a6031,f08be33a82101705c7648e4edb15e37d625bfaab,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:43 2016 -0700,1476915283,move age_out to methods of watchman_rootSummary: This will help with taking out the main root lock laternnReviewed By: farnznnDifferential Revision: D4045048nnfbshipit-source-id: cd08f6ca942f58f8676462e7244a28964e698a06n,21.0,25.0,"cmds/debug.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,2.0,2.0,1.4213988886492546,13.0,190.75,64.0,2.8800549768518517,3665.5,1.0868046180306958,1677.0,None,False,,
f08be33a82101705c7648e4edb15e37d625bfaab,bfad472d7f9f5be042850b304d20fc228c9a2615,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:44 2016 -0700,1476915284,"move warning field into recrawl infoSummary: We only set this in a recrawl situation, and we should synchronize its access for safety anyway.nnReviewed By: farnznnDifferential Revision: D4045061nnfbshipit-source-id: 070d0a7e7e85073ec1d56b7dbb94330632b6a3ddn",6.0,17.0,"listener-user.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.565340216174067,13.0,175.33333333333337,48.0,0.0001273148148148148,3669.0,2766.830721003135,1680.0,None,False,,
bfad472d7f9f5be042850b304d20fc228c9a2615,817954c933f691c4d3be4f2eedbf1240bf770828,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:45 2016 -0700,1476915285,"factor cookie sync out into its own classSummary:nThis will aid in subsequent refactoring.nnOne important difference here is that we no longer need to acquire a write locknto the root; the cookie sync was abusing this to generate a serial number for anunique cookie file name.  We now just use a local atomic integer for thatnpurpose instead.nnAs a result of that, we no longer need to record the root number in thengenerated cookie name, so we're back to the original cookie format from beforenadding root numbers, which is closer to those asserted inn`tests/integration/othercookies.php`.nnReviewed By: farnznnDifferential Revision: D4045069nnfbshipit-source-id: 84bf0589cb2a4a58f571847649897c2f8ad4f070n",208.0,160.0,"CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",13.0,2.0,2.0,2.6769537156541885,13.0,276.61538461538464,303.0,3.6899670584045583,3677.0,2705.280182158978,163.0,None,False,True,"[""8d274f8c741d6c5773d96b932d41a27789a530fe""]"
817954c933f691c4d3be4f2eedbf1240bf770828,80ffe9297caa6519d040248d4e83dabca83a4840,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:46 2016 -0700,1476915286,jansson files -> cpp filesSummary:nJust about the minimum change needed to have these compile as cpp files.nnThere was a little fan out to some extern C linkage in the rest of the projectnthat we can now remove as a result of this change.nnReviewed By: farnznnDifferential Revision: D4045083nnfbshipit-source-id: 790b51d611112df1267a89519e676cacfd08c370n,4254.0,4310.0,"Makefile.am,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,tests/wildmatch_test.c,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER,thirdparty/jansson/dump.c,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/error.c,CAS_DELIMITER,thirdparty/jansson/error.cpp,CAS_DELIMITER,thirdparty/jansson/hashtable.c,CAS_DELIMITER,thirdparty/jansson/hashtable.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/load.c,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER,thirdparty/jansson/memory.c,CAS_DELIMITER,thirdparty/jansson/memory.cpp,CAS_DELIMITER,thirdparty/jansson/pack_unpack.c,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER,thirdparty/jansson/strbuffer.c,CAS_DELIMITER,thirdparty/jansson/strbuffer.cpp,CAS_DELIMITER,thirdparty/jansson/strconv.c,CAS_DELIMITER,thirdparty/jansson/strconv.cpp,CAS_DELIMITER,thirdparty/jansson/utf.c,CAS_DELIMITER,thirdparty/jansson/utf.cpp,CAS_DELIMITER,thirdparty/jansson/value.c,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",31.0,4.0,4.0,3.9730608780183214,13.0,199.4838709677419,447.0,240.25030503285538,3699.0,2788.0995016498027,164.0,None,False,,
80ffe9297caa6519d040248d4e83dabca83a4840,57980c57a7a2ad3aae7fcc39dc0763e91830a774,Wez Furlong,wez@fb.com,Wed Oct 19 15:14:47 2016 -0700,1476915287,"jansson typedef struct {} foo -> struct fooSummary:nWe don't need the typedef in C++, and we need to have a name to giventhese things constructors and destructors.nnReviewed By: farnznnDifferential Revision: D4045087nnfbshipit-source-id: 05838a4289bb2a68cfae4e7c0a49a01928e4de60n",23.0,25.0,"thirdparty/jansson/hashtable.h,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/strbuffer.h,CAS_DELIMITER",4.0,1.0,1.0,1.7641844496045105,13.0,144.5,15.0,692.5453125,3716.5,1.000675684186683,97.0,None,False,,
57980c57a7a2ad3aae7fcc39dc0763e91830a774,e0443f8cbe2e0ffd3e610d229f39ee753e821692,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:28 2016 -0700,1477008448,add ctor/dtor to jansson value typesSummary: increases c++inessnnReviewed By: farnznnDifferential Revision: D4045101nnfbshipit-source-id: 3f9c102390fa96deb39467a2d43d7377c6a8b3fen,117.0,138.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/strbuffer.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",4.0,1.0,1.0,0.6748911810405649,13.0,371.25,16.0,1.0782581018518518,3720.5,1.4830341586748723,101.0,Feature Addition,False,,
e0443f8cbe2e0ffd3e610d229f39ee753e821692,1f27e1fe7da1cb1f80359066bcfa410d889bca8c,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:30 2016 -0700,1477008450,"switch jansson hashtable -> std::unordered_mapSummary:nThis is mostly straightforward, but note:nn1. We're now totally unordered in the object storage (potentially a minor perfngain, but we're in no position to measure this right now).nn2. There were some tests that relied on some accidental determinismnin the way that the hashtable was ordered.  I've either added explicitnsorting or removed the test cases where no determinism is available (eg: thenbser serialization code does not support a way to request this)nnReviewed By: farnznnDifferential Revision: D4045118nnfbshipit-source-id: 2b9b4ecbc05d40661db50ab89f0c8fe3d5ebb477n",152.0,836.0,"Makefile.am,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,bser.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/hashtable.cpp,CAS_DELIMITER,thirdparty/jansson/hashtable.h,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",16.0,5.0,6.0,2.5039231203044303,13.0,420.875,290.0,33.48553964120371,3730.5,1.0630921435966445,165.0,None,False,True,"[""c3fcd80f94edfce439f5c55235e471954684a3b5"", ""28a70a81e70ea5919938958ce48112eafe24154c""]"
1f27e1fe7da1cb1f80359066bcfa410d889bca8c,539f99bfbbf763e4e0e4a253eee412ea7b2531d5,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:32 2016 -0700,1477008452,"introduce json_refSummary:nAdds a smart pointer holder for `json_t*` and make thenreference-owning functions return it.nnChanges the internals storage of the json object and array typesnto use json_ref.  The meat of the changes are in the jansson codento accomodate this.nnOutside of this, it is pretty mechanical, but pretty long:nn1. Prefer to use `auto` for the return values of the json functionsn2. Where we have `goto` crossing initialization and preventing then   use of `auto`, explicitly use `json_ref`.n3. Prefer to explicitly `std::move` values into functions liken   `set_prop` and `send_and_dispose_response`nnbigdiffnnReviewed By: farnznnDifferential Revision: D4045125nnfbshipit-source-id: 4efe225fc3c2baaa066b4648c9a30860237325cfn",885.0,1224.0,"bser.cpp,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/log.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,tests/argv.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER",50.0,6.0,6.0,4.262644101018669,13.0,300.1,561.0,13.581304166666666,3763.5,865.0043355784205,166.0,None,False,True,"[""e37ae3e7fccd04c9e6175949da18f3116ffe2315"", ""c3fcd80f94edfce439f5c55235e471954684a3b5""]"
539f99bfbbf763e4e0e4a253eee412ea7b2531d5,b67f257ab3a9ebbce44eaa615fc6799e9f07ff94,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:33 2016 -0700,1477008453,switch this subscription name to w_stringSummary:nI'm angling to remove `json_to_w_string_incref` and found that thisnwas still using the raw pointer type directly.nnReviewed By: farnznnDifferential Revision: D4045143nnfbshipit-source-id: 441cb017f41cfd11063c5750388c313f3784acf4n,42.0,37.0,"cmds/subscribe.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",4.0,3.0,3.0,0.8082200794868302,13.0,364.75,30.0,1.1574074074074072e-05,3790.5,45001.0,1728.0,None,False,,
b67f257ab3a9ebbce44eaa615fc6799e9f07ff94,8f230a4ed3a74cc0d0817697b233ae3481efb046,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:35 2016 -0700,1477008455,relative_root -> w_string in query resultsSummary: ... and remove another json_to_w_string_incref callnnReviewed By: farnznnDifferential Revision: D4045155nnfbshipit-source-id: eb4047e571ad36f9eccae932128eedff51113127n,17.0,32.0,"InMemoryView.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,2.0,2.0,1.389512280902948,13.0,465.6,99.0,0.4313912037037037,3795.0,1.6490712989506005,1730.0,None,False,,
8f230a4ed3a74cc0d0817697b233ae3481efb046,1a937dd6af8d84e2875797bc091f8b777b4aeca0,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:36 2016 -0700,1477008456,clockspec cursor name to w_stringSummary: Removes last call to json_to_w_string_increfnnReviewed By: farnznnDifferential Revision: D4045164nnfbshipit-source-id: a462fd0a2078fe87bbaae5e9f3e4cf77dfb6d9c1n,6.0,3.0,"clockspec.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,11.0,155.0,10.0,1.0785763888888888,3798.5,1.6954157670571557,1732.0,None,False,,
1a937dd6af8d84e2875797bc091f8b777b4aeca0,7f15fd1c9bb65abed5bde369ccc34b20cf6455e0,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:37 2016 -0700,1477008457,remove json_to_w_string_increfSummary: as abovennReviewed By: farnznnDifferential Revision: D4045177nnfbshipit-source-id: 646827367dec7b431ffb5f10e6dd14c9de3bc0d6n,0.0,14.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.3712323266408756,13.0,545.5,18.0,5.208333333333333e-05,3800.5,13441.0,118.0,None,False,,
7f15fd1c9bb65abed5bde369ccc34b20cf6455e0,d7f23645c409644df0e1475772bd31ae6dabd985,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:38 2016 -0700,1477008458,change json string storage to w_stringSummary: as abovennReviewed By: farnznnDifferential Revision: D4045183nnfbshipit-source-id: 1093e3abd2a13293d5823482e3a532dc19f18c6dn,2.0,5.0,"thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.8631205685666309,13.0,442.0,13.0,4.050925925925926e-05,3802.5,13372.428571428572,120.0,None,False,,
d7f23645c409644df0e1475772bd31ae6dabd985,9e3134829749f4533f969869baf732b63c886bab,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:39 2016 -0700,1477008459,json_to_w_string returns const w_string&Summary: and allows the caller to chose whether they want to own a ref or not.nnReviewed By: farnznnDifferential Revision: D4045203nnfbshipit-source-id: 69dd79b404b8b76b82e9506822945c158220c06bn,19.0,25.0,"cmds/reg.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",8.0,4.0,4.0,2.507797931951882,13.0,370.0,102.0,0.13489728009259258,3807.5,2375.321425142237,1734.0,None,False,True,"[""95510bf92299413c2d68c16327d6c92ebd10fe7d""]"
9e3134829749f4533f969869baf732b63c886bab,dabf37d3a835f7744d4723f51edfffd9f87c8d03,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:40 2016 -0700,1477008460,remove cached null-terminated string portion of json stringSummary:nWe don't need to hold storage for this; we can use existing methods ofnw_string to ensure that we're pointing to a version of the string withnappropriate termination.nnThis shaves a few words off our (transient) memory usage for large result sets.nnReviewed By: farnznnDifferential Revision: D4045211nnfbshipit-source-id: 7522be2e95059f434fdceeae45fa49b60a0548a7n,8.0,35.0,"thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.27138958750811115,13.0,436.0,16.0,1.736111111111111e-05,3812.5,36001.0,124.0,None,False,,
dabf37d3a835f7744d4723f51edfffd9f87c8d03,57393323d42ece8f5eee148701914b0c9de9f331,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:42 2016 -0700,1477008462,"remove typed_string_len_to_json -> templatizeSummary:nClean up the json string creation API very slightly by templatizingnand forwarding the w_string construction.nnWe'd ideally just fold this into a constructor on json_ref, but I'm trying notnto do too much work on this part of the API right now.nnReviewed By: farnznnDifferential Revision: D4045227nnfbshipit-source-id: 3b320f7bd44c1aa6b90fd00d6a8bc484bbf9566bn",7.0,13.0,"bser.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.3689955935892817,13.0,573.6666666666666,27.0,5.787037037037037e-05,3815.0,7016.384615384614,126.0,None,False,,
57393323d42ece8f5eee148701914b0c9de9f331,db6cbcdb75d5953d1ab290c9ca2e2db50420d9a6,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:43 2016 -0700,1477008463,"fix json string equality testing bugSummary:nJust noticed that this was using strcmp which won't have the correct resultsnfor sliced strings that have found their way into a json value.nnThis is unlikely to happen in practice, but it's worth fixing.  Also: we have ancouple of micro-optimizations for comparing w_string values, so this may end upnvery slightly perf positive.nnReviewed By: farnznnDifferential Revision: D4045252nnfbshipit-source-id: 75a7b219db77e2f84bea5f45ec7b1f6f73a2094cn",1.0,1.0,"thirdparty/jansson/value.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,736.0,10.0,1.1574074074074072e-05,3817.0,86401.0,127.0,Corrective,True,,
db6cbcdb75d5953d1ab290c9ca2e2db50420d9a6,39a106437ae5766504f38db427c127291772d206,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:44 2016 -0700,1477008464,"add Configuration helper classSummary:nIn order to move around the code used by InMemoryView, we need tonprovide access to the configuration.  Rather than pass a reference to the rootn(which is what we currently use to refer to the local configuration for anroot) into something contained in the root, the plan is to pass in anConfiguration object that holds a ref on the underlying json from then`.watchmanconfig` file.nnThis diff just adds the helper class; it will be adopted by a follow-on diff.nnReviewed By: farnznnDifferential Revision: D4045267nnfbshipit-source-id: 7d5d0c4b24ba662644912c12df8c40cfb34eb594n",86.0,0.0,"cfg.cpp,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER",2.0,1.0,1.0,0.6409441847875288,13.0,160.5,4.0,0.00013888888888888892,3818.5,5401.0,1737.0,Feature Addition,False,,
39a106437ae5766504f38db427c127291772d206,097f98aa436a2b69a62900e3557c7d0cbc80a0c2,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:45 2016 -0700,1477008465,more RAII-ish initialization of config_fileSummary: Tidies up loading the `.watchmanconfig` filennReviewed By: farnznnDifferential Revision: D4045280nnfbshipit-source-id: d063e0ff5d9492ec1eb89a8a6d8eb4bc59d0ed6en,10.0,7.0,"root/init.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,182.0,30.0,6.944444444444444e-05,3820.0,14401.0,1738.0,Feature Addition,False,,
097f98aa436a2b69a62900e3557c7d0cbc80a0c2,1a957c0a8b23b346ed0efa0adc1ccce2f9b28bd1,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:46 2016 -0700,1477008466,add configuration object to rootSummary: nothing consumes it yetnnReviewed By: farnznnDifferential Revision: D4045302nnfbshipit-source-id: 0eff695e74d5bf3700f29004881430bcb4ad7bcfn,3.0,0.0,"root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,13.0,233.0,69.0,8.680555555555556e-05,3821.5,46081.0,1740.0,Feature Addition,False,,
1a957c0a8b23b346ed0efa0adc1ccce2f9b28bd1,a190784dbb916cd14f768d407963862b79e0dd45,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:48 2016 -0700,1477008468,cut over from cfg_get_XXX(root) to root->config.getXXXSummary: Will follow up with removing the old accessor codennReviewed By: farnznnDifferential Revision: D4045316nnfbshipit-source-id: a3b91c2380b157b3288dab3d877ff8622f6d07c9n,23.0,22.0,"cmds/subscribe.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER",12.0,3.0,3.0,3.085971707296555,13.0,294.9166666666667,141.0,0.7191637731481482,3828.5,1101.3129509058156,154.0,None,False,,
a190784dbb916cd14f768d407963862b79e0dd45,fa10b36a283fc11093a66e9fff22e8e8918b049f,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:49 2016 -0700,1477008469,remove root parameter from config apiSummary: This forces callers to use Configuration for root-level configurationnnReviewed By: farnznnDifferential Revision: D4045345nnfbshipit-source-id: e4c3d98bb176fda7823c5634c163fedf17938727n,41.0,60.0,"cfg.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER",8.0,2.0,2.0,2.228071157928768,13.0,462.25,33.0,3.7826446759259262,3838.5,3438.92468620092,1753.0,None,False,,
fa10b36a283fc11093a66e9fff22e8e8918b049f,7bf4bc3a322fc3e602a0b520a19d4a55c929470e,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:50 2016 -0700,1477008470,pass cookies and config to InMemoryViewSummary: This makes it easier to move some functions aroundnnReviewed By: farnznnDifferential Revision: D4045366nnfbshipit-source-id: fc50e49e09f68de343b1919e29b82cedaf5c67fcn,30.0,8.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,1.0,1.0,1.898673580956053,13.0,292.0,107.0,0.2697048611111111,3844.5,1441.6952292401804,1757.0,None,False,,
7bf4bc3a322fc3e602a0b520a19d4a55c929470e,038407f48bfffe8b98fbfedac09161fa319d520c,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:51 2016 -0700,1477008471,remove stopWatchDir from watcher interfaceSummary: None of the watchers implemented it and removing it makes some refactoring easier.nnReviewed By: farnznnDifferential Revision: D4045386nnfbshipit-source-id: 0841446598c6c68520a04a35cfe58cb467ce720an,0.0,65.0,"root/dir.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",10.0,2.0,2.0,2.982833718837973,13.0,307.2,125.0,0.9522592592592594,3851.5,1.4895007273111165,1762.0,None,False,,
038407f48bfffe8b98fbfedac09161fa319d520c,5ab5c27c92634ba8c5cb6034642306730aee1e17,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:52 2016 -0700,1477008472,"move processPending -> InMemoryViewSummary:nThis is a logical move rather than a physical one; the implementationnremains in the same file for the moment.  Once we get further along with thisnstuff, I'll plan on creating a dir to hold these InMemoryView implementationnfunctions.nnReviewed By: farnznnDifferential Revision: D4045418nnfbshipit-source-id: 412b4900de8b52b4ecfdb689b8334a6685c16eean",56.0,35.0,"InMemoryView.h,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,1.0,1.0,1.7963955433983227,13.0,202.5,87.0,3.182870370370371e-05,3858.5,18524.636363636364,1766.0,None,False,,
5ab5c27c92634ba8c5cb6034642306730aee1e17,332f6d07c759c4826024eba71bcba5636a541c52,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:54 2016 -0700,1477008474,add start/stop threads concept to QueryableViewSummary: We will use this to move the io and notify threads into the InMemoryView in a later diff.nnReviewed By: farnznnDifferential Revision: D4045439nnfbshipit-source-id: ceff8cca86ea3434891c96e1c8428a20c897e4edn,16.0,0.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER",6.0,1.0,1.0,2.3522170014624826,13.0,188.3333333333333,81.0,0.5393537808641976,3863.5,6001.360521468633,1772.0,Feature Addition,False,,
332f6d07c759c4826024eba71bcba5636a541c52,a98eac52c1153f7d08594e0928efe7a1051d2736,Wez Furlong,wez@fb.com,Thu Oct 20 17:07:55 2016 -0700,1477008475,"implement signalThreads for inotify, kqueueSummary:nThis allows us to eliminate the pthread_kill that we currently use toninterrupt syscalls in the notify thread; that isn't portable and isn't a strongnenough semantic for the refactoring that we want to do.nnfsevents and win32 already implement this feature; this is just bringing us into parity.nnReviewed By: farnznnDifferential Revision: D4045463nnfbshipit-source-id: 901f23d496656921dba4a959513a032cb49c12fen",77.0,10.0,"watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.9999046950184836,13.0,395.5,19.0,4.629629629629629e-05,3867.5,16201.0,161.0,None,False,,
a98eac52c1153f7d08594e0928efe7a1051d2736,4fdca25215fc923ddbeb29a0e74c62d17642b756,Siddharth Agarwal,sid0@fb.com,Thu Oct 20 20:19:38 2016 -0700,1477019978,fix open source buildSummary: Closes https://github.com/facebook/watchman/pull/378nnReviewed By: weznnDifferential Revision: D4055035nnPulled By: sid0nnfbshipit-source-id: e317dcbcc48ed274c5b62e414b26ffe31f50a040n,1.0,1.0,"watchman_synchronized.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,872.0,1.0,13.574351851851851,341.0,1.0736683423940847,130.0,Corrective,True,,
4fdca25215fc923ddbeb29a0e74c62d17642b756,c44ea5c2346fe10278d75b05031e6669772bac7b,Siddharth Agarwal,sid0@fb.com,Fri Oct 21 15:12:48 2016 -0700,1477087968,"ht: fix w_ht_iter_del to not skip over entriesSummary:nThis was happening because if the first entry in a bucket was deleted, we'dnskip over that bucket entirely. Subtract 1 from the slot to make sure we retrynthe same slot.nnIncluded are both unit and integration tests demonstrating the issue.nnI believe I've ticked all the boxes (buck, Windows), but please let me know if I missed something.nCloses https://github.com/facebook/watchman/pull/379nnReviewed By: weznnDifferential Revision: D4057012nnPulled By: sid0nnfbshipit-source-id: 50ad60a6b1ea3a5272101fa8ab53be21c598ea92n",108.0,4.0,"Makefile.am,CAS_DELIMITER,ht.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/ht_test.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,3.0,4.0,2.2770050831988637,13.0,237.16666666666663,178.0,13.656927083333333,344.5,1.1985908025358392,96.0,None,False,,
c44ea5c2346fe10278d75b05031e6669772bac7b,a781b9f32dfed1e7d68a5b6432b52dc166533007,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:50 2016 -0700,1477170950,"move io/notifythread to InMemoryViewSummary:nThese two threads are closely coupled to maintaining the InMemoryView, so move them there.nnThere are some notable changes here:nn1. The lifetime management of the View has become more complex; since a recrawlncan cause a new View to be created from a method inside a View, we cannot joinnthese threads.  Instead we need to keep the View alive via a shared_ptr ref andnallow the threads to self terminate.nn2. We used to remove the root from the global watch list when the notifythreadnexited.  This used to only happen when the root was cancelled, but now that itnis part of the view it happens on a recrawl.  Because of this, the removal codennow happens inside w_root_cancel(), and this has a little bit of fanout to thenfunction that is used to delete all current watches.nnI took this opportunity to use std::thread to spawn these threads.nnReviewed By: farnznnDifferential Revision: D4045549nnfbshipit-source-id: f30fdf2c61d2bbe01f0c3159766f2fde55a70a2an",138.0,175.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",11.0,2.0,2.0,2.991197230151372,13.0,221.72727272727272,174.0,1.9786174242424244,3874.0,1.1435564824302402,1782.0,None,False,,
a781b9f32dfed1e7d68a5b6432b52dc166533007,658840e4e578e2c528e9da0eee13a41db5b7275d,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:52 2016 -0700,1477170952,remove unused functionSummary: The code that called this has all be folded in to InMemoryView.nnReviewed By: farnznnDifferential Revision: D4049136nnfbshipit-source-id: 79d72d7bbe80e8252fa855ddc152dc8c4802c37cn,0.0,16.0,"root/iothread.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",2.0,1.0,1.0,0.8960382325345575,13.0,264.5,61.0,2.314814814814815e-05,3880.5,32401.0,1784.0,None,False,,
658840e4e578e2c528e9da0eee13a41db5b7275d,4a74afb654d017c5d253deef05d8e5784473a87d,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:53 2016 -0700,1477170953,remove watchman_watcher_initSummary: This function does nothing any morennReviewed By: farnznnDifferential Revision: D4049202nnfbshipit-source-id: d509d9980e695335789086102f0e1455ff3f1b85n,0.0,5.0,"main.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",3.0,1.0,1.0,1.3709505944546687,13.0,485.0,17.0,1.2537384259259259,3883.0,1.4431170081560931,1787.0,None,False,,
4a74afb654d017c5d253deef05d8e5784473a87d,116cab2b1c26cd1881c54c6306821c2d5195c971,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:55 2016 -0700,1477170955,"reduce dependency on write_locked roots in clockspec codeSummary:nI'm angling to remove write_locked_watchman_root in favor ofnSynchronized<> access the various members of the root.nnThe clockspec code requires a write lock in the flavor of query execution thatnuses named cursors.  It doesn't really need a write lock on the root as itnobtains a write lock on the cursor map for itself, except for the two codenpaths that I've changed in this diff.nnThey were both incrementing the tick counter in the root with the thought thatnthis would avoid seeing the same results repeated over and over again.  Thisnturns out to be overly pessimistic for two reasons:nn1. The timeGenerator code will always return items that are >= the tick used as the basisn2. Query synchronization touches a file that will bump the tick counter anyway.nnI've removed the tick incrementing code from this portion.nThe cursor update code just needs to be able to sample the most recent tick value from the view.nnReviewed By: farnznnDifferential Revision: D4049300nnfbshipit-source-id: 9bd8800eefd0c52ee91a74e550d67074945596d8n",3.0,13.0,"clockspec.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,267.0,9.0,1.8807754629629636,3885.0,1.5316955796651055,1788.0,None,False,,
116cab2b1c26cd1881c54c6306821c2d5195c971,83429f07bca523f79323e4b86f8ed485fd077511,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:56 2016 -0700,1477170956,make clockspec_eval take only a read_locked_watchman_rootSummary:nWe're now back to just one flavor of this function.  It wasnmade possible by the addition of a slightly horrible const_castnthat we can remove once all write_locked refs have been replacednwith Synchronized<> accesses.nnReviewed By: farnznnDifferential Revision: D4049368nnfbshipit-source-id: f3aed53ac183467f05b70980750f3872135bf8e5n,28.0,110.0,"clockspec.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER",4.0,2.0,2.0,1.3675492288120652,13.0,206.25,45.0,1.6802690972222225,3887.5,21601.22176766867,1790.0,None,False,,
83429f07bca523f79323e4b86f8ed485fd077511,313a9687fc3dc433cd30a84b10ad750aa50545ef,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:57 2016 -0700,1477170957,"reduce the strength of the locking for vcs operation checksSummary:nThese functions are declared as needing a write lock, but a read lock will do.nnIn the long term we will probably re-phrase these as either a specializednmethod in the QueryableView base class, or phrase them as a file query.nnReviewed By: farnznnDifferential Revision: D4049397nnfbshipit-source-id: 7f63620a03de1c0d64dc063200d76d6e98b6dbecn",8.0,6.0,"cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,2.0,2.0,1.6644977792004616,13.0,304.5,79.0,1.4105555555555556,3891.5,1.2880128613042257,1792.0,None,False,,
313a9687fc3dc433cd30a84b10ad750aa50545ef,707a945e9429324e755328ed2b2e7f812a2cf236,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:58 2016 -0700,1477170958,reduce the strength of locking required for triggers/subscriptions/queriesSummary: As above; we don't really need a write locknnReviewed By: farnznnDifferential Revision: D4049446nnfbshipit-source-id: d4191ba585512a43e4f6eb3bb8fa8825d36cad10n,22.0,20.0,"cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",6.0,3.0,3.0,2.1254254744236603,13.0,341.3333333333333,116.0,0.9404301697530864,3896.5,25201.162453162106,1795.0,None,False,,
707a945e9429324e755328ed2b2e7f812a2cf236,9ff5f6ea6d7784d3c6589c7e01f19dd99a440a02,Wez Furlong,wez@fb.com,Sat Oct 22 14:15:59 2016 -0700,1477170959,subscriptions no longer need a write lockSummary: make these functions accept a read locknnReviewed By: farnznnDifferential Revision: D4049484nnfbshipit-source-id: de14f5091bfc3c17d94118eca5a7f07f629913a7n,22.0,27.0,"cmds/subscribe.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,2.0,2.0,0.8869622484143627,13.0,293.0,297.0,0.470245949074074,3901.5,24301.26581998081,1798.0,None,False,,
9ff5f6ea6d7784d3c6589c7e01f19dd99a440a02,aca4a96a263ac9c757d137e0caa5d6a9c703091b,Wez Furlong,wez@fb.com,Sat Oct 22 14:16:01 2016 -0700,1477170961,triggers no longer need write lockSummary: as abovennReviewed By: farnznnDifferential Revision: D4049510nnfbshipit-source-id: 1136d5010d59a254db2541872217cddc10fcfef6n,9.0,6.0,"cmds/trigger.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,2.0,2.0,1.3995812306460644,13.0,309.3333333333333,76.0,2.700617283950617e-05,3905.0,19475.285714285714,1800.0,None,False,,
aca4a96a263ac9c757d137e0caa5d6a9c703091b,76114acfb3605d137625bba81bcacd33f0ef09f7,Wez Furlong,wez@fb.com,Sat Oct 22 14:16:03 2016 -0700,1477170963,consider_reap -> read lockSummary: as abovennReviewed By: farnznnDifferential Revision: D4049542nnfbshipit-source-id: d77332c76afb823ea95df37cb48b48386ce3cb10n,4.0,5.0,"root/iothread.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.5304930567574826,13.0,194.0,72.0,5.1072800925925925,3908.0,14401.04351090719,1803.0,None,False,,
76114acfb3605d137625bba81bcacd33f0ef09f7,8ddd8033b9343e557d48d8588a5a76621b9d0432,Wez Furlong,wez@fb.com,Sat Oct 22 14:16:05 2016 -0700,1477170965,move stat_path -> InMemoryView::statPathSummary: as abovennReviewed By: farnznnDifferential Revision: D4049601nnfbshipit-source-id: 5d0a5b5165302649ba3462cbac23650f8e4e7438n,19.0,30.0,"InMemoryView.h,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,1.0,1.0,1.5710534492447783,13.0,229.25,110.0,0.470234375,3911.5,2711.854061817708,1807.0,None,False,,
8ddd8033b9343e557d48d8588a5a76621b9d0432,34fc1af8911b00f54774d1d12dff0bec404a35b2,Wez Furlong,wez@fb.com,Sat Oct 22 14:16:06 2016 -0700,1477170966,"statPath -> read_locked rootSummary:nThis is a little white lie really; we write state in the view, except for tracking symlinks.nThe purpose is to swing us through a refactor where we can remove write_locked and read_locked refs.nnReviewed By: farnznnDifferential Revision: D4049678nnfbshipit-source-id: 6aa10bc56b8248321d27e535ef33c6171ec54cd4n",22.0,14.0,"InMemoryView.h,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER",3.0,1.0,1.0,1.0529407605626349,13.0,217.66666666666663,65.0,1.1574074074074072e-05,3915.0,52801.0,1810.0,None,False,,
34fc1af8911b00f54774d1d12dff0bec404a35b2,1d0601ffe4f0aa9cbef77d16586470d6def479db,Wez Furlong,wez@fb.com,Sat Oct 22 14:16:07 2016 -0700,1477170967,handle_open_errno : no write_lockedSummary: don't need a write lock for thisnnReviewed By: farnznnDifferential Revision: D4049707nnfbshipit-source-id: 09112ad23b1b8492b0e67c444b8ab8883097d9a9n,26.0,18.0,"root/warnerr.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",7.0,2.0,2.0,2.1803914846449852,13.0,386.71428571428567,107.0,1.6120535714285715,3920.0,1.1987573136698362,1812.0,None,False,,
1d0601ffe4f0aa9cbef77d16586470d6def479db,d43256ae3e467659671adcc3ddbf50f556546f78,Wez Furlong,wez@fb.com,Sat Oct 22 14:16:08 2016 -0700,1477170968,take write_locked_root out of watcher interfaceSummary: don't need it any morennReviewed By: farnznnDifferential Revision: D4054712nnfbshipit-source-id: b2c886d6898a21d1331988c0c43bf2a4be493fe7n,21.0,26.0,"root/crawler.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",7.0,2.0,2.0,2.54066137598681,13.0,369.57142857142856,71.0,0.2687103174603174,3927.0,1.531689036565113,1814.0,None,False,,
d43256ae3e467659671adcc3ddbf50f556546f78,77383e4efdc796181290195652b1cc438ac8df30,Wez Furlong,wez@fb.com,Sat Oct 22 14:24:38 2016 -0700,1477171478,fix watchman-diag on linuxSummary: Need to ship it as a par file to match our new world ordernnReviewed By: farnznnDifferential Revision: D4059403nnfbshipit-source-id: 529b23d7a3665dc68406b54b5a1893bb68c9ff7an,8.0,0.0,"facebook/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,3931.0,0.0,0.0,Corrective,True,,
77383e4efdc796181290195652b1cc438ac8df30,b69a10ac2ed3fbc1ea94e9ddb085da5879bf9f59,Wez Furlong,wez@fb.com,Mon Oct 24 22:12:56 2016 -0700,1477372376,"remove json_pack API in favor of std::initializer_listSummary:nA couple of bugs in the past 6 months and during recent refactoringnhave been due to mismatches between the format string and parameters passed tonjson_pack.nnNow that we have the json_ref type, all uses of json_pack can be replaced withnobject or array construction from a list of parameters.nnThis diff introduces `json_object` and `json_array` functions that accept ansuitable list of parameters and return a json ref to the appropriatelynconstructed result, in a type-safe manner.nnReviewed By: farnznnDifferential Revision: D4064975nnfbshipit-source-id: 53a34fbd11598866784fb3c48703b9c73304303an",100.0,296.0,"InMemoryView.cpp,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",17.0,4.0,4.0,2.6719679588103107,13.0,308.1764705882353,158.0,3.8329044117647055,3940.0,1.0648579202330848,131.0,None,False,,
b69a10ac2ed3fbc1ea94e9ddb085da5879bf9f59,9a8f6477c79c39427348c45a67dd6ab06a8fe560,Wez Furlong,wez@fb.com,Tue Oct 25 15:44:30 2016 -0700,1477435470,remove most write_locked call sitesSummary:nWe're down to just two pieces of code that need to hold thenwrite lock; the crawling code and the age-out code.nnI'll work on removing that requirement in a follow-up.nnReviewed By: farnznnDifferential Revision: D4073388nnfbshipit-source-id: cbe3181d2f152ef2ecbb241437176967c4958ec6n,33.0,44.0,"cmds/debug.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER",7.0,3.0,3.0,2.623151460670769,13.0,308.0,64.0,4.136240079365079,3952.0,1.0769268448296896,173.0,None,False,,
9a8f6477c79c39427348c45a67dd6ab06a8fe560,8eb2f7e8bf13aaeaed1ec8dcc688f4b80ccde324,Wez Furlong,wez@fb.com,Tue Oct 25 15:44:31 2016 -0700,1477435471,"move markDirDeleted from handle_open_errnoSummary:nhandle_open_errno currently reaches in to the view to mark a dirndeleted.  This is posing some problems with refactoring because we'll need tonbe able to pass a write-locked ref to the view guts down into here.nnLooking at this function more closely, we see that it is only called to handlenerror paths in Watcher::startWatchDir implementations.  This particularnfunction is only called from inside crawler, in a method of InMemoryView.nTherefore is is valid to just move the markDirDeleted call up to the indirectncaller in the nullptr return code path.nnReviewed By: farnznnDifferential Revision: D4073395nnfbshipit-source-id: f786c6aee2fb974641e9595372cf57aeee0c4fabn",1.0,3.0,"root/crawler.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,13.0,102.5,22.0,3.061383101851852,3956.5,1.2449876151453187,1824.0,None,False,,
8eb2f7e8bf13aaeaed1ec8dcc688f4b80ccde324,fdb039717a673853ab29f53a7fa858c2c9639f06,Wez Furlong,wez@fb.com,Tue Oct 25 15:44:32 2016 -0700,1477435472,promote vcs_file_exists/vcs_op_in_progress to QueryableViewSummary:nMake these part of the interface; it helps both with refactoring awaynthe wlock and making this work with eden.nnReviewed By: farnznnDifferential Revision: D4073403nnfbshipit-source-id: bc70bbb071f082d72b57d077f4c02b4dc032a7ban,40.0,39.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER",7.0,2.0,2.0,2.091475110816441,13.0,264.7142857142857,94.0,2.331063161375661,3961.0,1.289300219133596,1829.0,None,False,,
fdb039717a673853ab29f53a7fa858c2c9639f06,3a843731b963f49d2e5cbeed24febe5b2e3f47c4,Wez Furlong,wez@fb.com,Tue Oct 25 15:44:34 2016 -0700,1477435474,make most of these InMemoryView methods privateSummary: This helps with refactoring to follownnReviewed By: farnznnDifferential Revision: D4073408nnfbshipit-source-id: efd7ab23f40a53d24235683ecf14c262e0a3a768n,34.0,34.0,"InMemoryView.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,177.0,26.0,2.314814814814815e-05,3965.0,43201.0,1830.0,None,False,,
3a843731b963f49d2e5cbeed24febe5b2e3f47c4,b46db3dfb7b92bafe00ba5ed80b48451f502d6b6,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:00 2016 -0700,1477523520,move lockable InMemoryView state into view_ memberSummary: Will followup and add Synchronized<> around this member.nnReviewed By: farnznnDifferential Revision: D4073422nnfbshipit-source-id: bc520054b619b849c7b6e1deb867b227e94e5ec1n,29.0,21.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER",2.0,1.0,1.0,0.8812908992306927,13.0,404.5,48.0,1.0190625,3966.5,1.7359649886825412,1832.0,None,False,True,"[""95510bf92299413c2d68c16327d6c92ebd10fe7d""]"
b46db3dfb7b92bafe00ba5ed80b48451f502d6b6,a7c9a7ab88677c56a8adaee75edd64c06c00179c,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:03 2016 -0700,1477523523,move insertAtHead helper to inner viewSummary: makes it easier for subsequent refactornnReviewed By: farnznnDifferential Revision: D4073428nnfbshipit-source-id: 995b3184f245b0f10dc5d57e5bf1b576592c65d4n,7.0,6.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER",2.0,1.0,1.0,0.7793498372920852,13.0,408.5,50.0,3.472222222222222e-05,3968.5,21601.0,1834.0,None,False,,
a7c9a7ab88677c56a8adaee75edd64c06c00179c,394b900cac363e3651fb9e38a130256e36e450e7,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:05 2016 -0700,1477523525,log stack trace for deadlocks in shared_mutexSummary: Detect errors during locking and W_LOG_FATAL them with a useful stack trace.nnReviewed By: farnznnDifferential Revision: D4073435nnfbshipit-source-id: 3f037ef219db865362c8265011b03d4945df458cn,17.0,4.0,"watchman_shared_mutex.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,151.0,1.0,19.402465277777786,3970.0,1.0515398422666078,1835.0,None,False,,
394b900cac363e3651fb9e38a130256e36e450e7,5f1efa0f9b64be33b99b8ce7da5c9bf93fbd9828,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:06 2016 -0700,1477523526,remove json_ref.get() methodSummary:nI'm going to re-purpose this as a replacement for json_object_get() inna follow-on diff.nnReviewed By: farnznnDifferential Revision: D4073459nnfbshipit-source-id: e53e28e969a9a715b0d47c233fab16c4b4aa0fb8n,9.0,13.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",3.0,1.0,1.0,1.4949188482339508,13.0,383.33333333333326,39.0,1.7494212962962965,3972.0,1.3493218656963284,134.0,None,False,True,"[""28a70a81e70ea5919938958ce48112eafe24154c""]"
5f1efa0f9b64be33b99b8ce7da5c9bf93fbd9828,cbed0dc8641845c5b48e2e200fc01e07db54fad5,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:08 2016 -0700,1477523528,add json_ref::get and json_ref::get_defaultSummary: These methods allow looking up json object values.nnReviewed By: farnznnDifferential Revision: D4073464nnfbshipit-source-id: 1c006a0619800ce56bba26521e97bcfbb2fc7b91n,40.0,7.0,"cmds/trigger.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.4830123133368809,13.0,484.33333333333326,44.0,0.3397376543209876,3975.0,1.9811715009393,136.0,Feature Addition,False,,
cbed0dc8641845c5b48e2e200fc01e07db54fad5,4a863eb417f0ec3a8d66b2a5270a7e46056e2d5c,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:09 2016 -0700,1477523529,command related functions accept const json_ref&Summary:nMove away from raw json_t* for the command handler callbacks andnassociated functions.nnReviewed By: farnznnDifferential Revision: D4073472nnfbshipit-source-id: 3214398acc91a8a8de33b0c19c809b15e27e289bn,117.0,98.0,"clientmode.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/log.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",17.0,3.0,3.0,3.6616939339467103,13.0,258.8235294117647,149.0,5.020795206971677,3985.0,1.0168420841256751,1840.0,None,False,,
4a863eb417f0ec3a8d66b2a5270a7e46056e2d5c,b601234075d740a09c36d67f4683195fafd00731,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:11 2016 -0700,1477523531,"remove set_prop inline helper; add json_ref::setSummary:nTidies up some more of our json value building code by adding a set method with two variations:nn1. A simple set(key, value&&)n2. A convenience for setting multiple keys and values, similar to the json_object construction syntax.nnReviewed By: farnznnDifferential Revision: D4073483nnfbshipit-source-id: 71f3e9719ed449affc45245b2903f5276f0905ecn",132.0,132.0,"clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/log.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",20.0,5.0,5.0,3.7686851404720247,13.0,304.25,394.0,0.6770804398148149,4003.5,6870.156606872877,1846.0,Feature Addition,False,True,"[""e37ae3e7fccd04c9e6175949da18f3116ffe2315""]"
b601234075d740a09c36d67f4683195fafd00731,3a4fbd615c1b1e3a635ea455eb950b70e047704b,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:12 2016 -0700,1477523532,"add json_ref array accessorsSummary:nAdds an overload for json_ref::get() to return an array index,nand json_ref::array() to return a const ref to the underlying vectornstorage for the array.nnThis diff only moves a handful of callers over to this new API;na follow-on diff will migrate more.nnReviewed By: farnznnDifferential Revision: D4073490nnfbshipit-source-id: 184082e2ae411c2e8742497536e96cd2b85563adn",26.0,5.0,"cmds/trigger.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.529237139029349,13.0,504.0,51.0,1.1574074074074072e-05,4015.0,52801.0,140.0,Feature Addition,False,,
3a4fbd615c1b1e3a635ea455eb950b70e047704b,2e1176f5f9d5c51ce697530c1e8a640d5dd4c365,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:13 2016 -0700,1477523533,C++ify glob codeSummary: Removes malloc/free and replace with vector and unique_ptrnnReviewed By: farnznnDifferential Revision: D4073507nnfbshipit-source-id: dff12f38f0295b8ac6399d391b3837a1a8166d91n,78.0,166.0,"query/glob.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,2.0,2.0,0.4766435497453831,13.0,454.66666666666674,63.0,3.930594135802469,4018.0,1.1274101254838793,1847.0,None,False,,
2e1176f5f9d5c51ce697530c1e8a640d5dd4c365,95510bf92299413c2d68c16327d6c92ebd10fe7d,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:14 2016 -0700,1477523534,query suffixes -> std::vectorSummary: Makes memory management more automaticnnReviewed By: farnznnDifferential Revision: D4073512nnfbshipit-source-id: 5a43bc93d12b51af895e416cf4d8a5234f419a6dn,18.0,32.0,"InMemoryView.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.0190231543328292,13.0,454.75,111.0,0.4374160879629629,4021.5,1965.0650201158364,1849.0,Corrective,True,True,"[""a8f616587f8f134491f7f565e5581e60db577d83""]"
95510bf92299413c2d68c16327d6c92ebd10fe7d,b337b4bf3cb2559f77e22c5600306000ce7639b6,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:15 2016 -0700,1477523535,query paths -> std::vectorSummary: Simplifies memory managementnnReviewed By: farnznnDifferential Revision: D4073518nnfbshipit-source-id: c5da5ec871c443d806cc2ae7f16112b9f008a12dn,11.0,33.0,"InMemoryView.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.57381411528173,13.0,451.25,115.0,1.1574074074074072e-05,4025.5,45001.0,1851.0,None,False,True,"[""a8f616587f8f134491f7f565e5581e60db577d83""]"
b337b4bf3cb2559f77e22c5600306000ce7639b6,e1b2f29551e36c978f627d388b049e566fb64f05,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:16 2016 -0700,1477523536,"client subscriptions -> unordered_mapSummary:nReasonably straightforward, except for the placement new/delete whichnI'll remove in the next diff.nnReviewed By: farnznnDifferential Revision: D4073531nnfbshipit-source-id: debbff8a2d2badf41d8f52ff124a861b013ed0d3n",88.0,90.0,"cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",5.0,2.0,2.0,1.8426059859443016,13.0,221.4,55.0,2.0084976851851852,4030.0,6337.068924424389,1854.0,None,False,,
e1b2f29551e36c978f627d388b049e566fb64f05,5701d5c8e93994eb9fa095a7a8be85c9fef60a16,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:18 2016 -0700,1477523538,"watchman_user_client -> proper c++ inheritanceSummary:nThis stuff is a bit fugly.  The intent was to re-use the gutsnof listener.cpp with the nascent direct-to-fsevents flavor of watchmannand have a registerable factory create a watchman_user_client or anwatchman_fsevents_raw_client depending on the context of the process.nnWe didn't quite get to implementing the latter.nnNow that we're in c++ land, we can tidy up the construction/destruction of thisnstuff by making it a virtual class.nnThis diff breaks the factory portion of this functionality, but that can benrestored when we get back to the direct server stuff.nnReviewed By: farnznnDifferential Revision: D4073535nnfbshipit-source-id: f43f1a8d9a2dab3308ba8db1d2186ef1311e682en",64.0,94.0,"clientmode.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",6.0,2.0,2.0,2.32567270490324,13.0,305.5,63.0,4.629629629629629e-05,4035.5,6232.328671328672,1858.0,None,False,,
5701d5c8e93994eb9fa095a7a8be85c9fef60a16,e96c5cfa4c97035f089808a326eef43f5b843e71,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:19 2016 -0700,1477523539,clients ht -> unordered_setSummary: Tidies this up a little bit.  I will follow up by making this synchronized.nnReviewed By: farnznnDifferential Revision: D4073542nnfbshipit-source-id: f879f16aaae9b36a5f1375ec151b003b4e572993n,86.0,119.0,"cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",5.0,2.0,2.0,1.5690741691554828,13.0,342.2,58.0,1.6203703703703704e-05,4041.0,37029.57142857143,1861.0,None,False,,
e96c5cfa4c97035f089808a326eef43f5b843e71,f410bb0151a88d6e0572f0ac74018ca0ff282cc2,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:20 2016 -0700,1477523540,"remove w_client_lock in favor of Synchronized<>Summary:nReasonably straightforward, but note that we need to usenrecursive_mutex for this because w_log can be called while holding the lock;nw_log needs to acquire the lock to send logging information to connected clients.nnReviewed By: farnznnDifferential Revision: D4073550nnfbshipit-source-id: b1adbeab52dc75cad787454bd00797c85f0641c0n",106.0,120.0,"cmds/log.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",7.0,2.0,2.0,1.9363058790844843,13.0,407.1428571428572,72.0,0.583004298941799,4047.0,4757.468652164625,1865.0,None,False,,
f410bb0151a88d6e0572f0ac74018ca0ff282cc2,18d9f61afbc7fc02a9de26cf5f5dcc6f48f4e75f,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:21 2016 -0700,1477523541,client states -> unordered_mapSummary: as abovennReviewed By: farnznnDifferential Revision: D4073552nnfbshipit-source-id: 20a478165a0beb7a949ed9bbd46e86c059d1b487n,9.0,21.0,"cmds/state.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,13.0,217.0,24.0,1.1574074074074072e-05,4051.5,64801.0,1866.0,None,False,,
18d9f61afbc7fc02a9de26cf5f5dcc6f48f4e75f,c09aba50ee799b00d8f809a97b34624c18e8868c,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:22 2016 -0700,1477523542,client_subscription::drop_or_defer -> unordered_mapSummary: as abovennReviewed By: farnznnDifferential Revision: D4073555nnfbshipit-source-id: fd1a15b61ba58fbc324ca35e50bd24c5d469ce14n,30.0,45.0,"cmds/subscribe.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",3.0,2.0,2.0,0.6959695858135279,13.0,217.3333333333333,51.0,2.700617283950617e-05,4054.0,23315.285714285717,1868.0,None,False,,
c09aba50ee799b00d8f809a97b34624c18e8868c,efef4afb83a2fc632cd8dab02d619e02837629ee,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:23 2016 -0700,1477523543,inotify: wd_to_name -> unordered_mapSummary: as abovennReviewed By: farnznnDifferential Revision: D4073557nnfbshipit-source-id: e1990c00c9d2b5ddc74528cd1885f0161076390fn,10.0,12.0,"watcher/inotify.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,494.0,14.0,4.080729166666667,4056.0,1.2450542437779195,176.0,None,False,,
efef4afb83a2fc632cd8dab02d619e02837629ee,99cd604c59b6ef7a48a0721273541f2e60bf2898,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:25 2016 -0700,1477523545,inotify: move_map -> unordered_mapSummary: makes things a bit nicernnReviewed By: farnznnDifferential Revision: D4073563nnfbshipit-source-id: c24ff71f721447a83a3cb8a5c67fca20ec475186n,24.0,62.0,"watcher/inotify.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,492.0,15.0,2.314814814814815e-05,4057.0,43201.0,177.0,None,False,,
99cd604c59b6ef7a48a0721273541f2e60bf2898,e3ca1314b78e9ab745c3e26d22accba3198064ca,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:26 2016 -0700,1477523546,client responses queue -> std::dequeSummary: Eliminates another instance of calloc/freennReviewed By: farnznnDifferential Revision: D4073567nnfbshipit-source-id: ddd3aed825100eb6d2d86b42918cdb7546f596cfn,17.0,46.0,"clientmode.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",3.0,1.0,1.0,1.184206952358718,13.0,274.0,25.0,6.944444444444444e-05,4059.0,7258.142857142858,1871.0,None,False,,
e3ca1314b78e9ab745c3e26d22accba3198064ca,eb410022e25142be24c052ec2a4778f4d05238d0,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:27 2016 -0700,1477523547,"remove calloc/free from pending listSummary:nThere's more that could be done here to get rid of the raw new/delete,nbut the art structure needs some work first.nnReviewed By: farnznnDifferential Revision: D4073575nnfbshipit-source-id: 47006e2965332a5107b15c40e42880a498cb5d36n",93.0,84.0,"pending.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER",3.0,2.0,2.0,1.3471651914125229,13.0,188.0,7.0,7.040200617283951,4062.0,1.0868040744067191,1873.0,None,False,,
eb410022e25142be24c052ec2a4778f4d05238d0,0b83034ea79cd585a1ba57a44182449a87817d44,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:28 2016 -0700,1477523548,basic c++ification of artSummary: Pretty much the minimal translationnnReviewed By: farnznnDifferential Revision: D4074550nnfbshipit-source-id: 0a308a6e6ceca55840f2b60c44c7c44b9cbacef7n,1767.0,1744.0,"Makefile.am,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/art_test.c,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/TARGETS,CAS_DELIMITER,thirdparty/libart/src/art.c,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",9.0,4.0,4.0,2.079537226984144,13.0,288.77777777777777,194.0,36.548616255144026,4068.0,1.0405187768457378,167.0,None,False,,
0b83034ea79cd585a1ba57a44182449a87817d44,2cbd49da1cae479048fa0a27076a1867ebe84932,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:29 2016 -0700,1477523549,art: rename size and root membersSummary: This helps with some API cleanup that followsnnReviewed By: farnznnDifferential Revision: D4074559nnfbshipit-source-id: 81289d6f8900923827edcf80e4d54f993fbd1236n,21.0,40.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.9904799742690308,13.0,680.0,6.0,1.1574074074074072e-05,4073.5,64801.0,146.0,None,False,,
2cbd49da1cae479048fa0a27076a1867ebe84932,f3e6cbc85530c4262f5484e20b498d0b6c807cf4,Wez Furlong,wez@fb.com,Wed Oct 26 16:12:31 2016 -0700,1477523551,"art: add proper constructorSummary:nRemove the init/destroy functions, add a clear() method and move thensize() function to be a method.nnReviewed By: farnznnDifferential Revision: D4074565nnfbshipit-source-id: fc128eb29434259fce581419a2e2516d9c9b9844n",26.0,104.0,"ignore.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",5.0,3.0,3.0,1.8465415081442045,13.0,483.2,15.0,3.8805648148148153,4077.0,1.05153903676431,148.0,None,False,,
f3e6cbc85530c4262f5484e20b498d0b6c807cf4,9fcf0eb72b25012d22cc34dcfbf3adfe221499b5,Wez Furlong,wez@fb.com,Thu Oct 27 08:08:56 2016 -0700,1477580936,art_insert -> art_tree::insertSummary: move this function to be a methodnnReviewed By: farnznnDifferential Revision: D4074573nnfbshipit-source-id: 36c20655eef6cfbc241589bcd01971d87049e584n,42.0,40.0,"ignore.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",5.0,3.0,3.0,1.9453705792933536,13.0,467.6,20.0,0.6641782407407407,4082.0,1.6875664372222707,150.0,None,False,,
9fcf0eb72b25012d22cc34dcfbf3adfe221499b5,c73c5419d6e55149e724ac400f9853c708b3e59c,Wez Furlong,wez@fb.com,Thu Oct 27 08:08:58 2016 -0700,1477580938,"art_search -> art_tree:search, art_delete -> art_tree::eraseSummary: make these into methodsnnReviewed By: farnznnDifferential Revision: D4074576nnfbshipit-source-id: 5d9cfab3cc18c7ecfa2af57b923c936ebb087efbn",72.0,73.0,"pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",4.0,3.0,3.0,1.6158956204004835,13.0,554.5,21.0,2.314814814814815e-05,4086.5,22501.0,152.0,None,False,,
c73c5419d6e55149e724ac400f9853c708b3e59c,5d16db20b7719a96eeac6badbfcee50c4f922115,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:00 2016 -0700,1477580940,art_longest_match -> art_tree:longestMatchSummary: make this a methodnnReviewed By: farnznnDifferential Revision: D4074584nnfbshipit-source-id: 9ff58a5b84ce51dda45e3ed42ad7a2bf92ee0daen,46.0,48.0,"ignore.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",4.0,2.0,2.0,1.1432416001986507,13.0,460.5,25.0,2.8935185185185186e-05,4090.5,13861.0,154.0,None,False,,
5d16db20b7719a96eeac6badbfcee50c4f922115,2baa4e43ba38d5785bc8a48b2258c4f1a4bda6fc,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:01 2016 -0700,1477580941,art_minimum -> art_tree and art_node::minimumSummary: Make these into methods of the appropriate classesnnReviewed By: farnznnDifferential Revision: D4074595nnfbshipit-source-id: 92c19b77e1a6d1b4d2a65b8863278c89e6863b57n,94.0,90.0,"tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",3.0,2.0,2.0,0.9205979980309,13.0,607.0,20.0,1.9290123456790123e-05,4094.0,22561.0,156.0,None,False,,
2baa4e43ba38d5785bc8a48b2258c4f1a4bda6fc,c0e60a4c313031cb7215577643463941faeb9e5e,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:02 2016 -0700,1477580942,art: move iteration funcs to be methodsSummary: as abovennReviewed By: farnznnDifferential Revision: D4074599nnfbshipit-source-id: 7ae5161ca32debd2972e9bac6e8f29b5ce3214a7n,46.0,55.0,"pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",4.0,3.0,3.0,1.4841110724313569,13.0,554.75,31.0,1.4467592592592593e-05,4097.5,27721.0,158.0,None,False,,
c0e60a4c313031cb7215577643463941faeb9e5e,cd4adb2c5fb87f1ba0458f6722a730b12c4a26f5,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:04 2016 -0700,1477580944,find_child -> art_node::findChildSummary: as abovennReviewed By: farnznnDifferential Revision: D4074614nnfbshipit-source-id: 2c4c59e99bce47b69b7c674a94a215f03fba036an,57.0,55.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.07360348308562402,13.0,662.0,20.0,2.314814814814815e-05,4100.5,32401.0,160.0,None,False,,
cd4adb2c5fb87f1ba0458f6722a730b12c4a26f5,6423d7b702eb43b3575bfabbbf9fe6ba24a37753,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:05 2016 -0700,1477580945,art: min -> std::minSummary: A bit noisy because the uint32_t-ness fanned out a bit to the API (which is good).nnReviewed By: farnznnDifferential Revision: D4074681nnfbshipit-source-id: 6bb65c7088c0a1b36b1e9481cf503796a78d0f13n,107.0,81.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.2998025130558692,13.0,663.0,22.0,1.1574074074074072e-05,4102.5,64801.0,162.0,None,False,,
6423d7b702eb43b3575bfabbbf9fe6ba24a37753,39d1ab2bf2cff11051152dee6e2f8cf1b3913620,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:06 2016 -0700,1477580946,art: check_prefix -> art_node::checkPrefixSummary: as abovennReviewed By: farnznnDifferential Revision: D4074684nnfbshipit-source-id: 72adfef7070897b82d135cf61561939dfa44597bn,16.0,12.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,13.0,676.0,24.0,1.1574074074074072e-05,4104.5,64801.0,164.0,None,False,,
39d1ab2bf2cff11051152dee6e2f8cf1b3913620,f4fd373a56d54e7164d2e3b6b927e79a768ed307,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:07 2016 -0700,1477580947,art: leaf_matches -> art_leaf::matchesSummary: as abovennReviewed By: farnznnDifferential Revision: D4074688nnfbshipit-source-id: 9a185b343cc58b80926adcbee40c71340a4d73ccn,18.0,17.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.3159971329784247,13.0,678.0,26.0,1.1574074074074072e-05,4106.5,64801.0,166.0,None,False,,
f4fd373a56d54e7164d2e3b6b927e79a768ed307,655ead076319821533baf2a3071a6ac6c6adbb77,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:08 2016 -0700,1477580948,art: make_leaf -> art_leaf::makeSummary: as abovennReviewed By: farnznnDifferential Revision: D4074695nnfbshipit-source-id: bd950ec71d561cc5832530dfc563e3bbb8f92c63n,18.0,14.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.4488644887230294,13.0,678.5,28.0,1.1574074074074072e-05,4108.5,64801.0,168.0,None,False,,
655ead076319821533baf2a3071a6ac6c6adbb77,1ac91bcd445834bb74f4535da1030a46814fb025,Wez Furlong,wez@fb.com,Thu Oct 27 08:09:10 2016 -0700,1477580950,art: longest_common_prefix -> longestCommonPrefixSummary: as abovennReviewed By: farnznnDifferential Revision: D4074704nnfbshipit-source-id: e2f4fc7aeee71ce1d88c56dd10dd5f0dcb5d1957n,6.0,4.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.7219280948873623,13.0,680.5,30.0,2.314814814814815e-05,4110.5,32401.0,170.0,None,False,,
1ac91bcd445834bb74f4535da1030a46814fb025,6e07cf6223d8bc968902ee047250ea01b4cddd41,Wez Furlong,wez@fb.com,Thu Oct 27 14:22:55 2016 -0700,1477603375,art: refactor add_child remove_childSummary:nThe obvious next step is for this to be a virtual class;nthere are a couple more methods that I want to clean up first.nnReviewed By: farnznnDifferential Revision: D4074719nnfbshipit-source-id: 230e7514ca278a88c26a90fd99f25a979c0bc3f2n,294.0,243.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.2634091848313596,13.0,681.5,32.0,0.2595486111111111,4112.5,3.8896321070234112,172.0,None,False,,
6e07cf6223d8bc968902ee047250ea01b4cddd41,679bac3898c8572ad21803363bb9565f7d33223a,Wez Furlong,wez@fb.com,Thu Oct 27 14:22:57 2016 -0700,1477603377,art: prefix_mismatch -> methodSummary: as abovennReviewed By: farnznnDifferential Revision: D4074728nnfbshipit-source-id: ccc5a774878ad8dce24f384317aec8fddc94b2ccn,11.0,9.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.6098403047164004,13.0,707.0,34.0,2.314814814814815e-05,4114.5,32401.0,174.0,None,False,,
679bac3898c8572ad21803363bb9565f7d33223a,14ce2d393803a723fd27f2f9fb7c0a050e409239,Wez Furlong,wez@fb.com,Thu Oct 27 14:22:59 2016 -0700,1477603379,art: recursive_XXX -> art_tree::recursiveXXXSummary: make these functions private methodsnnReviewed By: farnznnDifferential Revision: D4074743nnfbshipit-source-id: 34d34d107b69b2f6a6ff1a981ea04426b3ae4a91n,209.0,167.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.26570204198686304,13.0,708.0,36.0,2.314814814814815e-05,4116.5,32401.0,176.0,None,False,,
14ce2d393803a723fd27f2f9fb7c0a050e409239,9b0f89fa4435e8ec963a3249e0e59d7913ee7080,Wez Furlong,wez@fb.com,Thu Oct 27 14:23:00 2016 -0700,1477603380,art: leaf_prefix_matches -> art_leaf::prefixMatchesSummary: Also fixes up a weird flow around the Might be a leaf code path.nnReviewed By: farnznnDifferential Revision: D4074755nnfbshipit-source-id: 7e7067d6ea24d7d518fb10451eedbc471f472edan,12.0,12.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.2498822928331855,13.0,729.0,38.0,1.1574074074074072e-05,4118.5,64801.0,178.0,None,False,,
9b0f89fa4435e8ec963a3249e0e59d7913ee7080,a4eba6360b5f221c74de69ae55baf4a29e0e8451,Wez Furlong,wez@fb.com,Thu Oct 27 14:23:01 2016 -0700,1477603381,"art: make art_node a virtual classSummary:nThis better encapsulates some of the node specific logic.nnThere are still a couple of switches on node->type that could potentially benreplaced by virtual methods, but since that are part of tree traversals, itnseems like it will have a runtime cost to do so.nnReviewed By: farnznnDifferential Revision: D4074771nnfbshipit-source-id: cdfa36a972c5c015accbd2e9d1e4597f71799442n",182.0,215.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.4948043931591509,13.0,729.0,40.0,1.1574074074074072e-05,4120.5,64801.0,180.0,None,False,,
a4eba6360b5f221c74de69ae55baf4a29e0e8451,8f6189688f0d5e0ddf1645864c15bbfa47d569c3,Wez Furlong,wez@fb.com,Thu Oct 27 15:24:50 2016 -0700,1477607090,"fixup build on some OSS flavorsSummary:nSome builds are failing in travis due to missing PRIuPTR, so ensurenthat watchman_system.h has been included.nnAlso remove the original source for the tests that is totally out of date wrt.nthe rest of the changes we've made since it was imported.nnReviewed By: sid0nnDifferential Revision: D4091998nnfbshipit-source-id: d2ace8f17f5eb50d2bbd58a619ad64c3c296e023n",1.0,423.0,"tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/tests/test_art.c,CAS_DELIMITER",2.0,2.0,2.0,0.04324154504802915,13.0,457.0,7.0,79.2920196759259,4122.5,2.6552869088358486,181.0,Corrective,True,,
8f6189688f0d5e0ddf1645864c15bbfa47d569c3,fd5568248ab9d75b73b9b7f50b63f69df9158da6,Wez Furlong,wez@fb.com,Fri Oct 28 13:25:02 2016 -0700,1477686302,art_callback -> std::functionSummary:nEnables use of lamba for iterationnn(a later diff turns this into a functor)nnReviewed By: farnznnDifferential Revision: D4074780nnfbshipit-source-id: 7fd0649da3a163fb2e3e98457e5245a4bb9df47dn,3.0,1.0,"thirdparty/libart/src/art.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,237.0,23.0,0.9597337962962964,4124.0,2.041955596290445,182.0,None,False,,
fd5568248ab9d75b73b9b7f50b63f69df9158da6,790ee99d4e26adec892af34b87d396ef85864944,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:11 2016 -0700,1477960091,"art_tree::insert now returns void, erase booleanSummary:nThe semantics of the return value made it difficult to have this actnas a templatized container.nnReviewed By: farnznnDifferential Revision: D4074793nnfbshipit-source-id: ffa6d6870ef8b0764c9b8da9b6f21455959ca894n",39.0,71.0,"tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",3.0,2.0,2.0,1.286071317473014,13.0,639.6666666666666,50.0,3.7943672839506166,4126.0,1.1514492415024873,184.0,None,False,,
790ee99d4e26adec892af34b87d396ef85864944,b18cb4d9faa979721526123b94e780bfe0cff8c9,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:13 2016 -0700,1477960093,"art: cleanup some definitions ready for inliningSummary:nI want to templatize this, which means moving it to an -inl.hnfile.  Make some of this code a bit more friendly for being includednmore broadly.nnReviewed By: farnznnDifferential Revision: D4074849nnfbshipit-source-id: 55eb5bda683d7a5b512055184c60914325953512n",24.0,27.0,"thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.6722948170756379,13.0,709.0,45.0,2.314814814814815e-05,4128.5,32401.0,186.0,None,False,,
b18cb4d9faa979721526123b94e780bfe0cff8c9,6a160d36730413576f0130561d8807fff9793d0f,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:14 2016 -0700,1477960094,art: move leaf and node to inner classesSummary: This makes it easier to templatize on value typennReviewed By: farnznnDifferential Revision: D4074877nnfbshipit-source-id: 20d0794112b2da13ed15f26680822a325b1836e2n,236.0,236.0,"ignore.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",5.0,3.0,3.0,1.1661487616547412,13.0,480.0,69.0,1.7553495370370367,4132.0,1.1367253264507866,188.0,None,False,,
6a160d36730413576f0130561d8807fff9793d0f,781f9447067be3bfc824c15d4700f0093e032e35,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:15 2016 -0700,1477960095,"art: make ValueType templatizeableSummary:nI'm going to follow up with move construction and perfect forwarding;nthis is just the basics of storing typed values.nnNote that the search API returns a pointer to the stored item, which is ansemantic change from previously; when `ValueType=void*` this used to return thenvalue or nullptr (which was ambiguous).  It now returns the address of thenstored value, or nullptr if no item was found.nnReviewed By: farnznnDifferential Revision: D4075891nnfbshipit-source-id: 0a34773722d44a84c820be62c308b3aeb66c008cn",1375.0,1273.0,"Makefile.am,CAS_DELIMITER,ignore.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/TARGETS,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.cpp,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",11.0,4.0,4.0,1.5086096753767726,13.0,283.8181818181818,254.0,4.06053345959596,4140.0,1.1149148916121872,168.0,None,False,,
781f9447067be3bfc824c15d4700f0093e032e35,e5b13a255234c8027db03cfa666d2dbd28250492,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:17 2016 -0700,1477960097,"art: introduce DeleterSummary:nI'm angling to using unique_ptr to track the nodes, this is a firstnstep towards that.nnReviewed By: farnznnDifferential Revision: D4076453nnfbshipit-source-id: c782585ae04f75aef71e1cbe4a56b45bcc7aaba3n",20.0,13.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.7990485210442682,13.0,765.5,29.0,2.314814814814815e-05,4146.5,32401.0,194.0,None,False,,
e5b13a255234c8027db03cfa666d2dbd28250492,7d27360a0bc624fb40af573f9525735a46a27d55,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:18 2016 -0700,1477960098,leaf_key_at -> Leaf::keyAtSummary: tidy this up a littlennReviewed By: farnznnDifferential Revision: D4076501nnfbshipit-source-id: 22d09ede4126c927c60b0bfaf4d211ca3d86ce36n,8.0,13.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.2761954276479391,13.0,769.0,31.0,1.1574074074074072e-05,4148.5,64801.0,196.0,None,False,,
7d27360a0bc624fb40af573f9525735a46a27d55,8af77fec4c8a89f6e4069ed6d31d68c1ba262deb,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:19 2016 -0700,1477960099,"reorganize NodeXXXSummary:nGroups the class methods so that the Node4 methods are together,nNode16 methods together and so on, rather than being scattered throughout thenheader.nnReviewed By: farnznnDifferential Revision: D4076517nnfbshipit-source-id: 7f9204908da1e50d7e3e12681ba4e5360ec99e5cn",450.0,446.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,1242.0,3.0,1.1574074074074072e-05,4150.0,86401.0,197.0,None,False,True,"[""e77eb9597c4c094a0b0bbeef0b957b49b40b87eb""]"
8af77fec4c8a89f6e4069ed6d31d68c1ba262deb,47bbba7a96231a5caa7b8034f49da691945d0f53,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:21 2016 -0700,1477960101,"art: node children -> std::arraySummary:nThis encourages us to use std::move() and std::move_backward() tonoperate on the contents, which is an excellent pre-cursor to making them usenunique_ptrnnReviewed By: farnznnDifferential Revision: D4076542nnfbshipit-source-id: eed134541218ab1bd260b066ed2f536e3fa2ac93n",59.0,40.0,"tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",3.0,2.0,2.0,0.6779617320254558,13.0,668.6666666666666,44.0,4.243827160493827e-05,4152.0,11019.181818181818,199.0,None,False,,
47bbba7a96231a5caa7b8034f49da691945d0f53,8ea18174541edee18cc13e00ed85a38567dca147,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:22 2016 -0700,1477960102,"art: tidy up formatting of this bit of codeSummary:nThe vim modeline keeps messing with me, so remove it, and fix up thenformatting around this RECURSE_SEARCH label.nnI've also removed the top-of-scope `Leaf* l` variable in favor of variablesnmore closely scoped to their use; this will come in handy when adding smartnpointers in here.nnReviewed By: farnznnDifferential Revision: D4076563nnfbshipit-source-id: c1d97b5f9f62c10a366e2c69e7dfdf99a64bc050n",13.0,16.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,1260.0,5.0,1.1574074074074072e-05,4154.0,86401.0,200.0,None,False,,
8ea18174541edee18cc13e00ed85a38567dca147,9036a273911ccb35ac8b7db6ed512140ef5476fc,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:23 2016 -0700,1477960103,art: cut over to unique_ptr for nodesSummary:nThe storage is now all tracked via unique_ptr.nnThere's a little bit of fan out to the API; the `erase` method transfersnownership to the caller via the return value.nnReviewed By: farnznnDifferential Revision: D4076785nnfbshipit-source-id: ddc372e413cd6d5f9bff4704b5cf8d111f35ddb9n,198.0,226.0,"make_unique.h,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",3.0,2.0,2.0,0.7357235262430268,13.0,520.6666666666666,38.0,4.031053240740741,4156.0,1.0826915064466738,202.0,None,False,,
9036a273911ccb35ac8b7db6ed512140ef5476fc,5108372092dc878e6dcf7301acb1c094b65d62c6,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:24 2016 -0700,1477960104,"art: perfectly forward args for insertSummary:nThis allows move'ing data directly into the constructed leaf, and alsonworks for the default copy mode; the arguments are just forwarded to thenunderlying constructor.nnReviewed By: farnznnDifferential Revision: D4076799nnfbshipit-source-id: 4975f6131cf189ad23b58db5173d87c7eccd43fcn",39.0,33.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.8708644692353646,13.0,758.0,39.0,1.1574074074074072e-05,4158.5,64801.0,204.0,None,False,,
5108372092dc878e6dcf7301acb1c094b65d62c6,8d1f7c15b719516262cc5b3cae2c04a907943afd,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:25 2016 -0700,1477960105,art: rename recursiveInsert parameter nameSummary: This makes it reflect its purpose more accurately.nnReviewed By: farnznnDifferential Revision: D4076809nnfbshipit-source-id: ea32943a9870f1a25ec7d78646a4c85ac57b2f19n,12.0,7.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",2.0,1.0,1.0,0.4854607607459134,13.0,761.0,41.0,1.1574074074074072e-05,4160.5,64801.0,206.0,None,False,,
8d1f7c15b719516262cc5b3cae2c04a907943afd,08d7308e349c537d9e4b39761dd6774396d0feae,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:26 2016 -0700,1477960106,art: iteration now accepts functorsSummary: This tidies up iterators with state and makes them a little bit more type safe.nnReviewed By: farnznnDifferential Revision: D4076819nnfbshipit-source-id: cac72723214b6f3fbd6c8062ba7ae1617b67200an,133.0,164.0,"pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER",4.0,3.0,3.0,1.8231583693245583,13.0,598.25,65.0,5.208333333333334e-05,4163.5,5785.224598930481,208.0,None,False,,
08d7308e349c537d9e4b39761dd6774396d0feae,7009864ddaa203ae4e8099b2493bc77c05137656,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:28 2016 -0700,1477960108,move pending collection functions to be methodsSummary: This slightly improves encapsulation.nnReviewed By: farnznnDifferential Revision: D4081636nnfbshipit-source-id: ab32872c943c60d2a69d0d22fcae6ac5492c0445n,211.0,194.0,"InMemoryView.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER",13.0,3.0,3.0,2.079373610568773,13.0,318.61538461538464,170.0,5.911039886039887,4172.0,1.0567611046438494,1899.0,None,False,,
7009864ddaa203ae4e8099b2493bc77c05137656,36d547b766b8d2e00c7509cebe62e454cd7f008d,Wez Furlong,wez@fb.com,Mon Oct 31 17:28:29 2016 -0700,1477960109,"Synchronized<> pending collectionSummary:nAdopt Synchronized for locking.  `Synchronized<T, std::mutex>` has anspecialization that allows access to the underlying unique_lock so that we cannpass it to condition_variable.nnBreak up the pending collection into a base that is protected by the locknand make PendingCollection derived from Synchronized<Base> so that we cannadd a helper to wait on the condition variable.nnWe need to pass down a reference to the condition and the pinged predicate intonthe Base to allow its ping method to work both for the locked version and alsonbecause in one case we need to do a non-blocking (wrt. this mutex) ping whennwe're signalling threads.nnReviewed By: farnznnDifferential Revision: D4080776nnfbshipit-source-id: ce8df950e302b24ebb45469b5f782263a13fb941n",169.0,156.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",18.0,4.0,4.0,3.0046952712055486,13.0,342.5,314.0,1.2955812757201646,4187.5,4801.171210530827,1910.0,None,False,,
36d547b766b8d2e00c7509cebe62e454cd7f008d,96b82ccd8ffeec5f21768667f621fb996ebfb134,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:38 2016 -0700,1478038298,"art: templatize the KeyTypeSummary:nThe KeyType defaults to std::string, but we use w_string in thennon test-case uses.nnThis is a pretty straightforward change, but note:nn1. Most string types use signed chars and the guts of the tree coden   really want unsigned chars, so there are some casts to neededn   to satisfy this.nn2. The test code was including the NUL terminator in the insertedn   and searched values.  This used to be a hard requirement butn   I removed that when integrating it into the watchman coden   (see code comments above the `key_at` function).  Now thatn   we're passing down `std::string` keys in the test we needn   to fix up the test to avoid off-by-one errors with the keys.nnReviewed By: farnznnDifferential Revision: D4092354nnfbshipit-source-id: 1b4fea6e4bbc226cf4405bb33639900e0dd7978bn",257.0,284.0,"ignore.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,thirdparty/libart/src/art.h,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER",7.0,3.0,3.0,1.5522554128075348,13.0,373.28571428571433,93.0,0.9050165343915344,4200.0,1.4092608194437954,1914.0,None,False,,
96b82ccd8ffeec5f21768667f621fb996ebfb134,2fb2f300a3befbee52f8cc624a08ec97e8e1ab61,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:40 2016 -0700,1478038300,remove w_string_make_printfSummary:nIt was already mostly replaced by a static method of w_string_t;nthis completes that work.nnReviewed By: farnznnDifferential Revision: D4102012nnfbshipit-source-id: 3ba296791e77b426ceca03db7c42b0fb820bfce4n,9.0,58.0,"string.cpp,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",3.0,2.0,2.0,1.1623007990472551,13.0,517.0,46.0,16.399818672839505,4205.0,1.0436817250944979,1916.0,None,False,,
2fb2f300a3befbee52f8cc624a08ec97e8e1ab61,0bf1f9f9c1108ec051f51871ef3f1f7b02f625d9,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:42 2016 -0700,1478038302,improve portability of gcc printf format hintsSummary:nNoticed that these hints were missing from w_string::printf.nnFixed up a couple of format string type mismatches that this uncovered.nnReviewed By: farnznnDifferential Revision: D4102016nnfbshipit-source-id: 5ce31f74dbe99aa4f487792a2bad795ad5da0e1dn,22.0,11.0,"CookieSync.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",6.0,3.0,3.0,2.1471322867997618,13.0,401.66666666666674,73.0,10.144645061728397,4209.5,1.0543646492636227,1920.0,None,False,,
0bf1f9f9c1108ec051f51871ef3f1f7b02f625d9,7a9d768db0d964a60b34f649b82b4e8610e81f87,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:43 2016 -0700,1478038303,"add w_string::build as alternative to w_string::printfSummary:nThis is a type-safe way to build up a string from a variety ofnparameters.nnIt's not as powerful in terms of formatting flexibility as printf, but doesnmean that we don't need to think so hard about printf format strings.nnThe templates make this appear more complex than it really is; there arentwo sets of helper functions, one to measure how much (worst case) spacenis needed, and another to emit the string value into the buffer.nnReviewed By: farnznnDifferential Revision: D4102017nnfbshipit-source-id: 7e75cc6d6cd6c02e334b11bc0dfb68d83ab5c4e4n",407.0,7.0,"Makefile.am,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,3.0,3.0,1.4199091531145451,13.0,186.16666666666663,211.0,1.2947010030864197,4215.5,1.3027184794057811,169.0,Feature Addition,False,True,"[""188a7f2efb350bd68f1f488fe1c3153018c4980d""]"
7a9d768db0d964a60b34f649b82b4e8610e81f87,294cbcf74be412d93f89fdd3a6e1b6960e466d29,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:45 2016 -0700,1478038305,unordered_set and vector for ignore internalsSummary:nRemove w_ht_t usage from the ignore struct.  Promote some functions tonmethods.nnReviewed By: farnznnDifferential Revision: D4102088nnfbshipit-source-id: cb56e8fe1536c265669f31409ec8a0e7315bc024n,67.0,85.0,"ignore.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER",8.0,3.0,3.0,2.549984537409709,13.0,256.25,122.0,2.3533015046296293,4222.5,1543.9152203664353,1927.0,None,False,,
294cbcf74be412d93f89fdd3a6e1b6960e466d29,a4e704192eb6374584d527be9d6baa3be2f87128,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:46 2016 -0700,1478038306,query dedup -> unordered_setSummary: cut this over from w_ht_t to unordered_setnnReviewed By: farnznnDifferential Revision: D4102102nnfbshipit-source-id: f173d4456261cd258aa29fce30882eb554cd0eeen,6.0,10.0,"query/eval.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,13.0,307.0,82.0,5.957997685185185,4227.5,1.1258812170848786,1928.0,None,False,,
a4e704192eb6374584d527be9d6baa3be2f87128,4415d4f55611e2a6126268dccf8248ac75710522,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:47 2016 -0700,1478038307,"remove w_ht_t from expression term registrationSummary: Pretty straightforward, but care needs to be taken to avoid SIOF.nnReviewed By: farnznnDifferential Revision: D4102115nnfbshipit-source-id: 0100ba412dd3c67b1b459dfddc1e01cbbd731c88n",13.0,17.0,"query/parse.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,537.0,12.0,5.958009259259257,4229.0,1.1678412967294258,228.0,None,False,,
4415d4f55611e2a6126268dccf8248ac75710522,a47f920db4b6efff4c8bb560a9542f0a78dd98b7,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:48 2016 -0700,1478038308,"remove w_ht_t from command registrationSummary: Also straightforward, also needs to take care about SIOFnnReviewed By: farnznnDifferential Revision: D4102138nnfbshipit-source-id: 9633d8def4cb655b0fad939da1037b6d77f347b1n",39.0,53.0,"cmds/reg.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",2.0,2.0,2.0,0.15109697051711368,13.0,163.5,35.0,5.958090277777778,4230.5,1.1258792608090074,1929.0,None,False,,
a47f920db4b6efff4c8bb560a9542f0a78dd98b7,3696454b30bac3386a97e88ee1a7857f246f4615,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:49 2016 -0700,1478038309,name term: w_ht_t -> unordered_setSummary: very straightforwardnnReviewed By: farnznnDifferential Revision: D4102152nnfbshipit-source-id: d05be3a0d7fd82a15064238eeb6422f2d5f3e8c4n,13.0,16.0,"query/name.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,169.0,3.0,11.919560185185185,4232.0,1.0838957129679079,229.0,None,False,,
3696454b30bac3386a97e88ee1a7857f246f4615,c365f3306aa56f17d7a410f58e8da8525d6b9d02,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:50 2016 -0700,1478038310,environment dict w_ht_t -> unordered_mapSummary: Straightforward refactor of the dictionary data type used for this.nnReviewed By: farnznnDifferential Revision: D4102175nnfbshipit-source-id: cecd2ea98b493ffb1f3c40d7799b4e8e540ea00bn,68.0,75.0,"cmds/trigger.cpp,CAS_DELIMITER,envp.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,watchman_env.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",5.0,2.0,2.0,1.280475558425535,13.0,178.0,34.0,22.81500462962964,4235.0,1.044538011761332,1933.0,None,False,,
c365f3306aa56f17d7a410f58e8da8525d6b9d02,437607944d2d64c4ebe26579252a4fc6df27eadd,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:52 2016 -0700,1478038312,posix_spawn w_ht_t -> unordered_mapSummary: Turns the ht and separate mutex into a Synchronized<> unordered_map.nnReviewed By: farnznnDifferential Revision: D4102932nnfbshipit-source-id: 7f819422c7cf7f6f95ff8e9e249d2931ac158450n,11.0,19.0,"winbuild/posix_spawn.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,454.0,1.0,46.05991898148147,4238.0,1.0217108501732721,170.0,None,False,,
437607944d2d64c4ebe26579252a4fc6df27eadd,ce1a2ef9c721b2283e7d81ca7ac24fa81ecaa676,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:53 2016 -0700,1478038313,"kqueue w_ht_t -> unordered_mapSummary:nFairly straightforward, but with an annoying number of lines of codento manage the lifetime of the file descriptors that are maintained by one ofnthe maps.nnReviewed By: farnznnDifferential Revision: D4102193nnfbshipit-source-id: 278df70aaf8a69f99e41525a6b6557c51f75db23n",63.0,40.0,"watcher/kqueue.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,364.0,13.0,0.9051388888888888,4239.0,2.1048028233849934,189.0,None,False,,
ce1a2ef9c721b2283e7d81ca7ac24fa81ecaa676,e9b60601d851159b557f04a8d23937c143cea4bd,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:54 2016 -0700,1478038314,"remove w_ht_t from portfs watcherSummary: Straightforward, but untested.nnReviewed By: farnznnDifferential Revision: D4102204nnfbshipit-source-id: e6b60ebdf4c6015cf97f441a9ebd04ded74ffacan",32.0,68.0,"watcher/portfs.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,303.0,10.0,10.038726851851852,4240.0,1.0996142254648087,190.0,None,False,,
e9b60601d851159b557f04a8d23937c143cea4bd,63afc8b4178cde9950f66102c0a6ffa06f86992e,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:55 2016 -0700,1478038315,remove w_ht_t codeSummary: R.I.P.  You've served us well.nnReviewed By: farnznnDifferential Revision: D4102217nnfbshipit-source-id: 366cbfa410fa03a67727ee93ad9d9a196502a7b3n,1.0,675.0,"Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,ht.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/ht_test.cpp,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",7.0,3.0,3.0,1.5072782432876242,13.0,223.42857142857144,195.0,11.579593253968255,4244.0,1029.5851612838221,171.0,None,False,,
63afc8b4178cde9950f66102c0a6ffa06f86992e,42780719848212381566c5825d355deaf73d4614,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:56 2016 -0700,1478038316,"catch exceptions during command dispatchSummary:nNow that we're in c++ land we have to handle exceptions in a reasonable manner.nnThis is just one point where we need to capture an error and report it back tonthe client, lest we std::terminate and ruin everything.nnReviewed By: farnznnDifferential Revision: D4102606nnfbshipit-source-id: 468f07dbd621300466a4bc9ee8b5c9520c66d31dn",42.0,36.0,"cmds/reg.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,210.0,8.0,9.259259259259259e-05,4248.0,10801.0,295.0,None,False,True,"[""e37ae3e7fccd04c9e6175949da18f3116ffe2315""]"
42780719848212381566c5825d355deaf73d4614,cd4ec0b00eb0b3fd825b0b625a00dddc9f32700a,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:57 2016 -0700,1478038317,"query parsing now accepts const json_ref&Summary:nThis allows using the helper methods on the json_ref class toninterpret the contents of the json objects.nnThere's a little bit of fan-out:nn1. json_ref::get(0) is ambiguous; the 0 can be interpreted as eithern   size_t(0) or `const char*`.  It is possible to resolve thisn   ambiguity by sprinkling some `std::enable_if` in there, but itn   was simpler just to change the api; `json_ref::get` is now forn   object access and `json_ref::at` is for array index access.nn2. I was concerned about some uses of json_unpack that extractedn   json references, so I replaced with with explicit calls ton   json_ref to ensure that reference counting was performedn   correctly.  I do ultimately want to remove json_unpack, butn   didn't want to do too much of that in this diff.nnReviewed By: farnznnDifferential Revision: D4102609nnfbshipit-source-id: 50693dfebb3d39d94e77f560a08d01d0602260b3n",139.0,147.0,"cmds/info.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",18.0,4.0,4.0,3.606892751711536,13.0,198.77777777777771,190.0,7.989830889917695,4257.5,1.030536040629037,1938.0,None,False,,
cd4ec0b00eb0b3fd825b0b625a00dddc9f32700a,a636b788e9c28b940f19d39f7c573e86121a0b9d,Wez Furlong,wez@fb.com,Tue Nov 1 15:11:59 2016 -0700,1478038319,remove json_t* from all top level header filesSummary: Replace them with json_ref refs of appropriate const-ness.nnReviewed By: farnznnDifferential Revision: D4102649nnfbshipit-source-id: 08146dac106f50221324803be2b86fa6fc5b87d7n,130.0,113.0,"argv.cpp,CAS_DELIMITER,bser.cpp,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER,watchman_env.h,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",18.0,3.0,3.0,3.415550592659352,13.0,223.77777777777771,397.0,8.075414094650204,4275.5,1.010928495899342,1953.0,None,False,True,"[""2b6dfec299cf866c99919a0695234060378b8f9c"", ""e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8""]"
a636b788e9c28b940f19d39f7c573e86121a0b9d,9725801157a4ea1db719eea6659c2089c46237bb,Wez Furlong,wez@fb.com,Tue Nov 1 15:12:00 2016 -0700,1478038320,tidy up ownership of the pending list contentsSummary:nThis improves the API for stealing the contents and makes memorynmanagement of the contents automatic.nnThe items are now shared_ptrs and the list linkage is set up so that each itemnowns the next one and has a weak reference to the prior item.nnReviewed By: farnznnDifferential Revision: D4102688nnfbshipit-source-id: 654797bdc6034841e752be48eee08755ad4af159n,70.0,88.0,"pending.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER",5.0,2.0,2.0,1.7196345318945188,13.0,206.2,63.0,0.3622291666666667,4287.0,787.0067491598654,1957.0,None,False,True,"[""53f80386b7aa0d88d4cca9112df62657b916d5fb""]"
9725801157a4ea1db719eea6659c2089c46237bb,2b6dfec299cf866c99919a0695234060378b8f9c,Wez Furlong,wez@fb.com,Tue Nov 1 16:00:41 2016 -0700,1478041241,fix up sign of root_index parameterSummary: Some compilers are more strict about this than others.nnReviewed By: farnznnfbshipit-source-id: 37149ba42085bbaee5525214b3178a4bed866207n,2.0,2.0,"listener-user.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",2.0,1.0,1.0,1.0,13.0,117.5,46.0,0.033819444444444444,4290.5,23.17659137577003,1959.0,Corrective,True,True,"[""e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8""]"
2b6dfec299cf866c99919a0695234060378b8f9c,43f3ff4c2cbca823ac0a2d15f9551b81872326b0,Wez Furlong,wez@fb.com,Thu Nov 3 09:36:56 2016 -0700,1478191016,"re-jigger log subscriptionsSummary:nwhile analyzing the TSAN output for the build, it became apparent thatnwe have some potential lock inversion code paths around how we inject data intonthe client response streams.nnThis diff is the first part of resolving that issue.  There will be a follow-upndiff that changes the file change subscriber and state-enter plumbing to usenPubSub too.nnPreviously, if client had turned up debugging logging on their subscription, wenwould discover this by locking the set of clients and walking them.  This opensnup to risk of lock inversion if we are running a command that locks the clientnlist and then takes some other action (or even just logs something).nnTo resolve this, this commit introduces a PubSub helper class.  The purpose ofnthis class is to record a stream of json objects to be consumed by some numbernof subscribers.  If there are no subscribers, nothing needs to be recorded.nnIf there are subscribers, an immutable Item is logged to the stream and taggednwith a new serial number.nnEach Subscriber remembers the last serial number that it has observed, allowingnthe `getNext` method to return the next un-observed item on each subsequentncall.nnSubscribers are registered along with a callback that is intended to wake upnthe subscriber so that it can process the newly arrived items.nnThis diff cuts logging over to this new PubSub scheme.  The new Log classnmaintains two separate Publishers; one for debug level events and another fornerror level events.nnIt also establishes subscriber(s) for these dependent on the global log levelnflag.  These subscribers have a notification callback that sorts and logs anynpending items to the stderr stream, optionally aborting the process if we saw anFATAL level log.nnEach connected watchman client also establishes subscribers for the debug andnerror streams if the client issues a `log-level` command.  The notify callbacknfor these pings the client so that it can wake up and translate the log itemsninto its queue of responses to send to the peer.nnThere are a couple of important properties:nn* wlocks are needed only to amend the subscriber list or to append a new item.n* rlocks are held when a subscriber consumes items from the stream.n* The critical sections are short, non-interleaved and non-recursive.nnThere are some bonus side effects:nn* We can avoid formatting the bulk of the log string if there are non  subscribers for a given level.nnThere's a bit of fan-out from these changes:nn* We now track clients via shared_ptr so that we can safely managen  the Subscriber -> client flow that is required for the notifyn  routine for the clients.  Without this we would hit a use-after-freen  each time that we tear down a client.n* To facilitate this, we need to use std::thread to spawn the clientn  threads.  There's a slightly gross bit of code to capturen  pthread_self() at the start of the client thread to allow then  pthread_kill(SIGUSR1) stuff to work.  I want to remove thisn  at some point as it is not a portable way to wake up a thread.n* There's some circular log -> json -> string dependencies that meann  that we can't use the logging functions in some lower leveln  classes and helpers, so those had to be adjusted.nnReviewed By: farnznnDifferential Revision: D4108737nnfbshipit-source-id: e69bbfa13f42c28939855e7c19e84c0d4a5854e1n",706.0,304.0,"Logging.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,PubSub.cpp,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,TARGETS,CAS_DELIMITER,clientmode.cpp,CAS_DELIMITER,cmds/log.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/log.cpp,CAS_DELIMITER,tests/log_stub.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,watchman_preprocessor.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",24.0,5.0,5.0,3.5171864493364215,13.0,276.1666666666667,578.0,8.966684992283948,4303.5,1.0573853212222393,172.0,None,False,True,"[""5dfcdd908d02ad1f60e701072f41dfe4fbf5bbec""]"
43f3ff4c2cbca823ac0a2d15f9551b81872326b0,c5f116939248d2ef8b15fcfd35c03ca4348b10d1,Wez Furlong,wez@fb.com,Thu Nov 3 09:36:58 2016 -0700,1478191018,"subscriptions now use PubSubSummary:nI'm unreasonably excited about this change, as it means that we can inntheory be executing the subscription queries in parallel if there are multiplensubscriber client sessions (eg: Nuclide and hh_server).nn* Change state-enter, state-leave to broadcast the state changes.n* Change the call site for process_subscriptions to instead broadcast that the root is settled.n* The listener code listens for these broadcasts on a per-client basis and thenn  applies them to the appropriate client/subscription.nnI had to adjust the lifetime management so that a subscription instance holds anreference to the watched root, otherwise we can try to dispatch something fromna freed root.  This in turn meant that we had to move then`w_cancel_subscriptions_for_root` call from the root destructor to then`w_root_cancel` function, where the cancellation was initiated.nnI plan to change triggers to use a similar mechanism in a follow on diff.nnReviewed By: farnznnDifferential Revision: D4113621nnfbshipit-source-id: 2a8979624cc4324b8c27b4809282b0ffb37728d3n",291.0,270.0,"cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",9.0,2.0,2.0,1.9089297999033863,13.0,261.0,206.0,2.0015406378600824,4320.0,8801.146378531183,1983.0,None,False,True,"[""80b28abeb6e41919fc8da2d733a6a88a2c6079c4""]"
c5f116939248d2ef8b15fcfd35c03ca4348b10d1,1c8bcc385aafab1453604278c165c8e1ec478c6e,Wez Furlong,wez@fb.com,Thu Nov 3 09:37:00 2016 -0700,1478191020,move w_root_sync_to_now to methodSummary: Make this function a method.  Also turn the timeout parameter into std::chrono::milliseconds.nnReviewed By: farnznnDifferential Revision: D4123616nnfbshipit-source-id: 47508183fbf4da6bef508a3086344e467d493808n,30.0,30.0,"cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",11.0,3.0,3.0,2.8868726032781624,13.0,292.54545454545456,244.0,3.9820191498316495,4330.0,1.0642659670306478,1987.0,None,False,,
1c8bcc385aafab1453604278c165c8e1ec478c6e,1145479ddad8c4d9ad39b605a0e65052a562e34f,Wez Furlong,wez@fb.com,Thu Nov 3 09:37:01 2016 -0700,1478191021,w_root_schedule_recrawl -> methodSummary: make this a method of the rootnnReviewed By: farnznnDifferential Revision: D4123625nnfbshipit-source-id: 8bb992f5bf760c2526566af134ca35411eeb92aen,16.0,20.0,"cmds/debug.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",8.0,3.0,3.0,2.3627402784989338,13.0,347.75,148.0,2.1835257523148144,4339.5,1.0870466321838357,1989.0,None,False,,
1145479ddad8c4d9ad39b605a0e65052a562e34f,8d2a2102d7c7e40ebdad2fee3b247e6d777954b2,Wez Furlong,wez@fb.com,Thu Nov 3 09:37:04 2016 -0700,1478191024,w_root_cancel -> methodSummary: make this a method of the rootnnReviewed By: farnznnDifferential Revision: D4123633nnfbshipit-source-id: d61207ed70618359097d928a4eab4ffc7a36e346n,30.0,26.0,"root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",11.0,2.0,2.0,3.0836169753972325,13.0,306.27272727272725,189.0,2.27195707070707,4349.0,1.0759499433000579,1995.0,None,False,True,"[""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
8d2a2102d7c7e40ebdad2fee3b247e6d777954b2,64411b7989553a88ad80e389f6a1a497cc1f4eed,Wez Furlong,wez@fb.com,Thu Nov 3 09:37:05 2016 -0700,1478191025,process_pending_symlink_targets -> methodSummary: make this a method of the rootnnReviewed By: farnznnDifferential Revision: D4123648nnfbshipit-source-id: 73678776bc72e3775c1d18e89fc381ce734e7925n,5.0,7.0,"root/iothread.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.384431504340598,13.0,234.3333333333333,92.0,0.5891705246913579,4356.0,4115.662893625982,1998.0,None,False,,
64411b7989553a88ad80e389f6a1a497cc1f4eed,b64f5101645b4ea3ab38a3d69dc61ebcb074b154,Ben Hamilton,beng@fb.com,Thu Nov 3 09:49:32 2016 -0700,1478191772,"Include query command when raising errorsSummary:nPreviously, `pywatchman` clients had no way toninclude the context of the failing Watchman query commandnwhen something went wrong (for example, the `watchman`ndaemon crashed).nnThis diff:nn1. Moves the `cmd` field from `CommandError` into `WatchmanError`n2. Adds a new `WatchmanEnvironmentError` to allow including an errno and errmsgn3. Adds the ability to pass in a fake `Transport` for testsnnReviewed By: weznnDifferential Revision: D4120648nnfbshipit-source-id: 469a534001a50872919780b4405ccfd718decd05n",92.0,27.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,1.0,2.0,0.9504783262723792,12.0,639.0,73.0,29.945891203703702,36.5,1.025045172137246,7.0,None,False,,
b64f5101645b4ea3ab38a3d69dc61ebcb074b154,20074b9e812ade8f441013d04de26054f55befed,Wez Furlong,wez@fb.com,Thu Nov 3 21:03:07 2016 -0700,1478232187,"check that we don't fault when given an integer globSummary:nThis was a problem in the 4.7 release version of watchman, butnaccidentally got fixed when we migrated to using json_ref and w_string.nnReviewed By: bhamiltoncxnnDifferential Revision: D4128622nnfbshipit-source-id: ac94012e813c2bb2c90040893c6f4541a007edb4n",5.0,0.0,"tests/integration/test_glob.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,124.0,6.0,47.06690972222222,4358.0,1.0212463492058808,465.0,None,False,,
20074b9e812ade8f441013d04de26054f55befed,b01da5dc012ce3a45d6c4b658fd07768fe425bed,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:49 2016 -0700,1478271469,"fixup windows integration testsSummary:nthe recent change to the QueryableView class introduced paths liken'.hg/wlock' that we test as part of the defer_vcs mode in subscriptionnsettling.nnOn windows, our dirName method would only consider `` to be the dirnseparator, so this broke and the associated test started to fail.nnThis diff standardizes on using the `is_slash` inline to test for the dirnseparator so that we check for both forward and backward slashes and avoid thisnkind of problem in the future.nnIn addition, it makes the windows `` check windows platform specific so thatnthis doesn't impact performance on posix systems.nnI've tweaked the default concurrency to reduce the flakiness and enablednrunning this tests in our internal CI so that we catch this sort of problemnsooner in future.nnReviewed By: farnznnDifferential Revision: D4129637nnfbshipit-source-id: fadc7f5e41afef38b8e28acdd621da163506fdb4n",15.0,12.0,"string.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",4.0,3.0,3.0,1.5473556897883656,13.0,586.5,132.0,0.9311458333333332,4360.5,1.5593440876776692,173.0,Corrective,True,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
b01da5dc012ce3a45d6c4b658fd07768fe425bed,ae18b407c1e9bf8df75e180942ebf2e36eb436f6,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:51 2016 -0700,1478271471,reduce test concurrency on macSummary: Also skip the php integration tests if we can't find it.nnReviewed By: farnznnDifferential Revision: D4129876nnfbshipit-source-id: 0da061437576eb346c3f74c107e2ab3520d7abfbn,5.0,2.0,"runtests.py,CAS_DELIMITER,tests/integration/test_php.py,CAS_DELIMITER",2.0,2.0,2.0,0.8631205685666309,11.0,275.0,33.0,46.823744212962964,4363.5,1.0142848470083612,466.0,Preventative,False,,
ae18b407c1e9bf8df75e180942ebf2e36eb436f6,61b09f82d210b2cd12d5d9d037e16c8e0aceed15,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:52 2016 -0700,1478271472,"remove use of strcpySummary:nmeyering is on a crusade to eliminate it, and our internal lintersnare a bit aggro about it, commenting on every diff that touches these files.nnReplace these two call sites with the `memcpy` equivalent.nnReviewed By: farnznnDifferential Revision: D4128753nnfbshipit-source-id: 733ff1f587c9be6416fa4b3c3fb4319e699cdb5en",4.0,4.0,"listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,13.0,920.0,20.0,0.9311921296296296,4365.5,1.805425852374531,2003.0,None,False,,
61b09f82d210b2cd12d5d9d037e16c8e0aceed15,4e6693f31b7c9b98417698a90b835735233740dc,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:53 2016 -0700,1478271473,consider_reap -> methodSummary:nMake this a method.  Fess up and mark the last_reap_timestamp mutablenso that we can poke it even though we're a const method.nnReviewed By: farnznnDifferential Revision: D4123661nnfbshipit-source-id: 38a60c830fe95e0d81ec56d679c2d53affb17e27n,20.0,22.0,"root/iothread.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,0.8569957178540347,13.0,188.0,96.0,0.9311381172839508,4368.0,1.6563133341158538,2006.0,None,False,,
4e6693f31b7c9b98417698a90b835735233740dc,64e27c15da0f93eea19efcd38191aed695aa980f,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:55 2016 -0700,1478271475,move file and dir funcs to the correct headersSummary: These don't belong in root.hnnReviewed By: farnznnDifferential Revision: D4123667nnfbshipit-source-id: 403209e83f9f42231b73064cd03f77b72079953cn,5.0,4.0,"watchman_dir.h,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.3516441151533924,13.0,113.0,67.0,12.165034722222225,4371.0,1.0342944355010175,2009.0,None,False,,
64e27c15da0f93eea19efcd38191aed695aa980f,66a5bd6fb86886f675564e10c03b44bf5e77ee1c,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:56 2016 -0700,1478271476,"w_root_teardown, w_root_init -> methodsSummary: Make these methods of the rootnnReviewed By: farnznnDifferential Revision: D4123686nnfbshipit-source-id: 29b197b34add08a859308a6c2203759753924f85n",19.0,18.0,"root/init.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,0.9694142072857176,13.0,179.0,109.0,0.6207986111111111,4374.0,1.715913699053386,2012.0,None,False,,
66a5bd6fb86886f675564e10c03b44bf5e77ee1c,0c971606d1c02f39f81e17c6afc40530e123cce6,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:57 2016 -0700,1478271477,move more functions to watchman_root methodsSummary: and clean up some left over junk from the headernnReviewed By: farnznnDifferential Revision: D4123714nnfbshipit-source-id: 61fd48ac49d2ea1af57c838ea390b0a6b276967bn,35.0,52.0,"cmds/watch.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",9.0,2.0,2.0,2.679100685074026,13.0,219.11111111111111,404.0,0.8172003600823046,4380.0,1.5251206292684276,2020.0,None,False,,
0c971606d1c02f39f81e17c6afc40530e123cce6,68248971533197c2e9963bf99833634d6fdcd57c,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:58 2016 -0700,1478271478,w_root_trigger_list_to_json -> methodSummary: make this a method of the root too.nnReviewed By: farnznnDifferential Revision: D4123726nnfbshipit-source-id: 2fc37e677a3ba8859f72390dd0a77088a11ef0fdn,5.0,8.0,"cmds/trigger.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,2.0,2.0,1.738149333192866,13.0,280.25,312.0,0.6746585648148149,4386.5,1.3705601935232885,2023.0,None,False,,
68248971533197c2e9963bf99833634d6fdcd57c,fb88b403ed1506e48f59cd9105fcc6cf2ba88d69,Wez Furlong,wez@fb.com,Fri Nov 4 07:57:59 2016 -0700,1478271479,"remove MIN, MAX definesSummary: We're using std::min, std::maxnnReviewed By: farnznnDifferential Revision: D4123733nnfbshipit-source-id: 07b59e738808f61975b936a12f9699226a01a9f1n",30.0,37.0,"expflags.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,timedlock.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",9.0,1.0,1.0,1.7715319601141035,13.0,385.4444444444445,300.0,16.65625128600823,4393.0,1.0156177295431228,2032.0,None,False,,
fb88b403ed1506e48f59cd9105fcc6cf2ba88d69,f327f3a818f8fc56fcb0a4a3470f3c2bd5a19863,Wez Furlong,wez@fb.com,Fri Nov 4 07:58:01 2016 -0700,1478271481,"tidy up root constructor a little bitSummary:nThis moves us closer to RAII.  There are still a couple of aspects ofnthe initialization that need to return an error message, so I have not movednthose at this time.nnReviewed By: farnznnDifferential Revision: D4123740nnfbshipit-source-id: d21000d294c8cc82faf27d9124a2a1698e264663n",23.0,23.0,"root/init.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",2.0,1.0,1.0,0.7553754125614288,13.0,222.5,101.0,4.050925925925926e-05,4398.5,16972.428571428572,2034.0,None,False,,
f327f3a818f8fc56fcb0a4a3470f3c2bd5a19863,91ba028b95994200431dd4e196abab8263dead0b,Wez Furlong,wez@fb.com,Fri Nov 4 07:58:03 2016 -0700,1478271483,"inline w_cancel_subscriptions_for_root to root::cancel()Summary:nThis got a lot simpler, so we can just inline it in the placenwhere we cancel the root.nnReviewed By: farnznnDifferential Revision: D4123758nnfbshipit-source-id: 5af86e1d132d74e002e06758a98ed0071342ab7an",5.0,14.0,"cmds/subscribe.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.3235315761100483,13.0,216.3333333333333,266.0,0.3104668209876543,4401.0,2.0737143003503222,2036.0,None,False,,
91ba028b95994200431dd4e196abab8263dead0b,c93339932cb166df26aa216a3729d21253a85533,Wez Furlong,wez@fb.com,Fri Nov 4 07:58:04 2016 -0700,1478271484,move triggers over to PubSubSummary:nUses the same settle notification that we use to dispatch subscriptions.nnOther things to note:nn* Removed the global reaper thread that asynchronously collected child processesn  and re-launched them.n* Replaced it with one thread per trigger that waits for things to settle andn  then spawns and waits for its child.  This is much simpler.n* Moves a couple of global functions to be methods of the trigger classn* Note that triggers can now have their associated queries run in paralleln  with subscriptions and other triggers.nnReviewed By: farnznnDifferential Revision: D4123768nnfbshipit-source-id: 0745fd8766925e5e9a7a949318cd61375ddcc488n,266.0,369.0,"cmds/trigger.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER,winbuild/spawn.h,CAS_DELIMITER",13.0,3.0,3.0,1.982384294805972,13.0,358.46153846153845,427.0,35.58268607549857,4409.0,2002.074731908948,175.0,None,False,,
c93339932cb166df26aa216a3729d21253a85533,feca0562e5c888a037211ae0a08c74cb7ce2ef7a,Ben Hamilton,beng@fb.com,Fri Nov 4 10:35:39 2016 -0700,1478280939,Easy: Fix Python 2.6 incompatible testSummary: Mucked this up by using a Python 2.7 API in the test.nnReviewed By: weznnDifferential Revision: D4131576nnfbshipit-source-id: e641d9ff5f52bee6886a42bb95860ea9a481d562n,6.0,6.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,329.0,29.0,1.032025462962963,38.0,1.9689683403052696,8.0,None,False,True,"[""10e44569d542ac9a06c13d99133394cd376cdabf""]"
feca0562e5c888a037211ae0a08c74cb7ce2ef7a,e2dc7081e745fd2e6d59bf8e92d8000b9cc4ebb0,Wez Furlong,wez@fb.com,Wed Nov 9 22:02:11 2016 -0800,1478757731,try harder to report various kinds of errorsSummary:nFeed std::terminate and uncaught windows SEH errors into our regular FATAL logger.nnAlso definitively log when we've returned from the main loop.nnReviewed By: farnznnDifferential Revision: D4139998nnfbshipit-source-id: 886e6681e32276b611df0791ef2b9a4a85c128ean,18.0,0.0,"log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.5032583347756457,13.0,687.5,11.0,6.093530092592593,4416.5,1.117255913836607,2048.0,None,False,,
e2dc7081e745fd2e6d59bf8e92d8000b9cc4ebb0,0c7c27654f7ec20d81761c8980799f0e76950ccf,Wez Furlong,wez@fb.com,Wed Nov 9 22:02:13 2016 -0800,1478757733,"remove some stray bits of the reaper_threadSummary: I thought I got it all when I moved the triggers over to PubSub, but I missed these bits.nnReviewed By: farnznnDifferential Revision: D4140061nnfbshipit-source-id: ba6150472d274d3ba309c4aad5cdbc752b9c67d3n",0.0,4.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,732.0,16.0,5.627881944444447,4418.0,1.1776867407439398,2049.0,None,False,,
0c7c27654f7ec20d81761c8980799f0e76950ccf,03a3b28925f6d430131e2b80f456a408b231812e,Wez Furlong,wez@fb.com,Wed Nov 9 22:02:14 2016 -0800,1478757734,"tidy up watcher registration, constructionSummary:nSorry for the relatively large diff :-/nnIt's become very clear during refactoring this stuff that the InMemoryView isntightly coupled to the Watcher class, and that the Watcher class has nothing atnall to do with the QueryableView base class.  Since the eden watcher will notnhave an InMemoryView, we need to change the signature of the watchernregistration to decouple it from a specific view implementation.   This startednas the first step towards that, but has a bit of fan out:nn1. Move the registration out to a WatcherRegistry class.  This makes the Watchern   class cleaner with a more simple construction and gets rid of the initNewn   method that was a left-over from the C days.  It also makes it easier ton   link in a new watcher implementation; we don't need to manually editn   a central table to make it available, just link it into the build.nn2. The factory returns shared_ptr<Watcher> rather than unique_ptr<Watcher> ton   aid with some latent/undiscovered thread joining issues.  In the futuren   I will change this interface to have it return a QueryableView instead.nn3. In the windows watcher, eliminate use of pthread in favor of std::thread.n   This makes the constructor cleaner but also uncovered a thread joiningn   bug; sometimes the thread spawned by the watcher is the last remainingn   thread with a reference to the watcher instance and can't join withoutn   deadlock.nn4. Because there is some intermittent flakiness in the windows build, andn   because there is some architectural similarity between the windowsn   watcher and the fsevents watcher, I made similar changes to the fseventsn   watcher to help prove that they were not the cause.nn5. I fixed some redundant `close` calls in the kqueue watcher thatn   were revealed by switching it to use `Sycnhronized`.nn6. Made a lame attempt to keep portfs in sync, but we have no CI for thisn   platform, so it probably still does not compile.nnReviewed By: farnznnDifferential Revision: D4140069nnfbshipit-source-id: ab62c37d1a96ccfefa5125a39bb63cf9a53f4e53n",586.0,741.0,"TARGETS,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",13.0,2.0,2.0,2.7609503450307544,13.0,275.3076923076923,255.0,7.243150819088317,4425.0,1.0374838475551855,2056.0,None,False,True,"[""ef594615f2ced70e610ade467df66c8946c57b0d"", ""bf8e7361ed0711eba677a8557bce7a0c0d8b6569""]"
03a3b28925f6d430131e2b80f456a408b231812e,71d4f9eea5158fb9279b0591c6cdc96f918525ea,Wez Furlong,wez@fb.com,Wed Nov 9 22:02:15 2016 -0800,1478757735,"move these file functions to be methodsSummary:nand fixup construction of watchman_file.  Since this structnis variable size and has an embedded string at the end, we cannotnallow it to be constructed except via the provided factory method.nnDelete the copy and copy-assignment functions to prevent accidentally makingncopies, and tidy up destruction by adding a proper destructor and changing thenfunction that is called by the Deleter to simply perform a placement-deletenfollowed by releasing the storage.nnReviewed By: farnznnDifferential Revision: D4140703nnfbshipit-source-id: 481cdde21852aa69b01699a1ad3c58775a44d6bfn",92.0,69.0,"InMemoryView.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER",12.0,3.0,3.0,2.489507985774245,13.0,230.5,167.0,8.919712577160494,4437.5,1.0300878677567231,2061.0,None,False,True,"[""2ef7a30fd70fd246a35ecd486b24820d0d6beea0""]"
71d4f9eea5158fb9279b0591c6cdc96f918525ea,c6bbc844c94df2874c55a4366941d5509a83ac68,Wez Furlong,wez@fb.com,Wed Nov 9 22:02:17 2016 -0800,1478757737,"tidy up field list parsingSummary:nCentralize this (for the most part) in the main query parsing routine, and capture the field list into the returned query object.nnThere are two notable exceptions to this:nn1. Legacy query syntax (which has a fixed and very large list of fields)n2. Triggers (which have a specialized syntax for the stdin of the process)nnBoth of these cases will replace the default result of the query parse.nnThis is leading towards some changes in the way that we compute the querynresults that will make it easier to hold on them without holding a lock on thenunderlying InMemoryView.nnReviewed By: farnznnDifferential Revision: D4141003nnfbshipit-source-id: ea207309f94d11ac1af86b44131d6c93c3ea9aden",42.0,65.0,"cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",11.0,3.0,3.0,2.917369422228601,13.0,242.3636363636364,192.0,7.625223063973067,4449.0,1.0373652039853576,2065.0,None,False,,
c6bbc844c94df2874c55a4366941d5509a83ac68,5aefe449fd82516bb06b5e510ae82663a53200e1,Igor Sugak,sugak@fb.com,Thu Nov 10 10:33:03 2016 -0800,1478802783,"watchman/root/stat.cpp: fix -Wlogical-not-parenthesesSummary:nExposed by clang from the upstream:n```lang=bashnwatchman/root/stat.cpp:190:13: error: logical not is only applied to the left hand side of this bitwise operator [-Werror,-Wlogical-not-parentheses]nif (!root->inner.watcher->flags & WATCHER_HAS_PER_FILE_NOTIFICATIONS) {n^   ~nwatchman/root/stat.cpp:190:13: note: add parentheses after the '!' to evaluate the bitwise operator firstnif (!root->inner.watcher->flags & WATCHER_HAS_PER_FILE_NOTIFICATIONS) {n^n (  )nwatchman/root/stat.cpp:190:13: note: add parentheses around left hand side expression to silence this warningnif (!root->inner.watcher->flags & WATCHER_HAS_PER_FILE_NOTIFICATIONS) {n^n(  )n1 error generated.n```nnReviewed By: weznnDifferential Revision: D4155222nnfbshipit-source-id: b189bcd3a90b5278bc4e79322abc79a3ec76fd70n",1.0,1.0,"root/stat.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,236.0,23.0,0.5213888888888889,0.0,0.0,0.0,None,False,,
5aefe449fd82516bb06b5e510ae82663a53200e1,188a7f2efb350bd68f1f488fe1c3153018c4980d,lishaokai,kaitian521@gmail.com,Thu Nov 10 10:55:04 2016 -0800,1478804104,"w_string_suffix return NULL if ends with '.'Summary:n1. if a string ends with a '.', absolutely it dose not have suffixn2. `str->len - end >= sizeof(name_buf)` is more readable and comprehensiblen3. add unit test for w_string_suffix.nCloses https://github.com/facebook/watchman/pull/380nnReviewed By: farnznnDifferential Revision: D4124905nnPulled By: weznnfbshipit-source-id: e9b503e08416f9e19afd4b3e4884439e09d7bf3fn",30.0,2.0,"string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.6962122601251458,13.0,569.0,22.0,7.514097222222222,0.5,0.5332707965583209,0.0,Corrective,True,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
188a7f2efb350bd68f1f488fe1c3153018c4980d,19d04df270b0eac073866df5a255265e2edfecc1,Wez Furlong,wez@fb.com,Thu Nov 10 11:02:13 2016 -0800,1478804533,"change query results to a json arraySummary:nRather than build up an intermediate array holding references to thenwatchman_file and some auxilliary data, change the query executor to build thenjson values as the query runs.nnThis makes it easier in the move to eden, because we won't have to add lockingnon a per result basis in this model; the json values will be immutable once thenquery has run, whereas the current rule_match and file objects may be mutatednafter the lock on the internal view has been released.nnThis is a pretty straight-forward change from the deque of results except fornone case, which is where we append the list of file names to a spawned triggernprocess.  Triggers may be configured to pass a list of filenames via argv and anuser-defined list of fields that is not guaranteed to include the file name asna json blob on stdin.  The handle that case we're mildly abusing the filenamendedup mechanism to get a list of all of the file names in the result set.nI have mixed feelings about this, but it doesn't feel excessively terrible.nnReviewed By: farnznnDifferential Revision: D4142156nnfbshipit-source-id: 91b36ba891e085ce775038361eb3b42198d9253dn",100.0,93.0,"cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",11.0,4.0,4.0,2.828033688237938,13.0,312.45454545454544,237.0,1.8948853114478112,4460.0,1.4719080718719846,2067.0,None,False,,
19d04df270b0eac073866df5a255265e2edfecc1,6a23dd20ad7dbb79cf94aa3b766c7a2133a2ee8a,Wez Furlong,wez@fb.com,Thu Nov 10 11:02:16 2016 -0800,1478804536,remove watcher reference from the rootSummary:nThis moves the ownership into the view and fixes up some of the codenpaths to make this a little cleaner.nnReviewed By: farnznnDifferential Revision: D4147235nnfbshipit-source-id: a23122e0ca46bf93742562459f3c82d977f63c89n,25.0,30.0,"cmds/watch.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",9.0,3.0,3.0,2.904706545261817,13.0,299.1111111111111,216.0,2.9850514403292183,4470.0,1.0705149859465497,2074.0,None,False,,
6a23dd20ad7dbb79cf94aa3b766c7a2133a2ee8a,7fc01c78b023c81327170433e8f7cdf506297ffd,Wez Furlong,wez@fb.com,Thu Nov 10 11:02:17 2016 -0800,1478804537,"remove incorrect memsetSummary:nThis was responsible for this intermittent problem on windows.  Why this was intermittent and didn't crash all the time, I just don't know.nn```nFatal error detected at:n```nnReviewed By: farnznnDifferential Revision: D4160478nnfbshipit-source-id: 3144eafca541d0ec28532a5e1ecdc99ba853d5c7n",0.0,7.0,"perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER",3.0,2.0,2.0,1.3787834934861756,13.0,244.0,54.0,6.9293595679012325,4476.0,34561.01603483121,2076.0,None,False,,
7fc01c78b023c81327170433e8f7cdf506297ffd,e37ae3e7fccd04c9e6175949da18f3116ffe2315,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:36 2016 -0800,1479172596,"fix some boo-boos in command dispatcher / error handlingSummary:n* In the command dispatcher: makes the exit path more consistent in the mismatched owner case (makes sure that we reset the current command pointer),n* In send_error_response: add printf formatting attributes, fix up format strings, and fix a problem where we capture a nullptr json reference because we tried to move it twice.nnThe double move only seemed to matter in our optimized gcc build, and not with clang.nnReviewed By: sid0nnDifferential Revision: D4177989nnfbshipit-source-id: 27dd2a4a372763bffb63de42d09412fabad97596n",30.0,21.0,"cmds/reg.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",6.0,2.0,2.0,2.262868354322505,13.0,310.3333333333333,104.0,9.667658179012344,4480.5,1.0360378464117894,2079.0,Corrective,True,,
e37ae3e7fccd04c9e6175949da18f3116ffe2315,b3c8d7ce46680b84101152611636e6ce215b8789,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:39 2016 -0800,1479172599,"move the Watcher totally into the InMemoryViewSummary:nThe InMemoryView is now completely responsible for creatingnand interacting with the Watcher class.nnThe WatcherRegistry now constructs and returns a View instance.  Since thenconfiguration for specifying which implementation to use in then`.watchmanconfig` file uses the term watcher, we preserve this in the name ofnthe WatcherRegistry.  In the near future we will add an EdenView for the edennintegration.nnI can (but don't plan to do so immediately) follow up with a diff to rename thencurrent Watcher class to be something like `WatcherImpl` to (perhaps) improventhe clarity of the naming.nnReviewed By: farnznnDifferential Revision: D4160677nnfbshipit-source-id: c26c47d9ae3107c4f155b28d3a5086b16ac29490n",97.0,88.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",18.0,3.0,3.0,3.5673138494819288,13.0,279.1666666666667,398.0,6.060205118312759,4492.5,1.0282202072090976,2090.0,None,False,,
b3c8d7ce46680b84101152611636e6ce215b8789,ac49644e980d68e607d2d49d2612097c60a84ac4,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:40 2016 -0800,1479172600,remove some unused_parameter() decorationsSummary:nThis removes all of the completely unused parameters by removing the parameter names.nnThose that remain are conditionally unused depending on the platform and would need a larger change to remove.nnReviewed By: farnznnDifferential Revision: D4160642nnfbshipit-source-id: f05e0725d71d3162fa431adc53a4db7d44e9febcn,24.0,54.0,"bser.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,winbuild/pthread.cpp,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER,winbuild/time.cpp,CAS_DELIMITER",15.0,5.0,5.0,3.47517637894713,13.0,393.6,109.0,20.222084104938272,4509.0,1.0168790397013918,178.0,None,False,,
ac49644e980d68e607d2d49d2612097c60a84ac4,c5920bdb05e80269e0703e3ce65cfd588888520c,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:41 2016 -0800,1479172601,constify a few root fieldsSummary: and remove one that is no longer used since moving triggers to PubSub.nnReviewed By: farnznnDifferential Revision: D4160770nnfbshipit-source-id: 6fa26bdc2bc24d6a8c849a8a5c61891bb927327en,4.0,7.0,"watchman_root.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,247.0,66.0,2.314814814814815e-05,4517.0,43201.0,2099.0,None,False,,
c5920bdb05e80269e0703e3ce65cfd588888520c,cfe5d21fcf0676f74532bf7c3ef7bd62593aba0d,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:43 2016 -0800,1479172603,tidy up recording recrawl warningsSummary: Makes this a little bit cleaner and reduces the amount of state needed to track this.nnReviewed By: farnznnDifferential Revision: D4160777nnfbshipit-source-id: 143687603037e2e37c2c3378de72de05c4e7fbd3n,22.0,38.0,"listener-user.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,0.8046914649480891,13.0,147.66666666666666,102.0,1.4200462962962968,4519.0,4115.442204131535,2102.0,None,False,,
cfe5d21fcf0676f74532bf7c3ef7bd62593aba0d,285e51829dc28292d9f37825e584b019d7a77a73,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:44 2016 -0800,1479172604,"add view::waitUntilReadyToQuery methodSummary:nThis is likely only really needed for InMemoryView.nnPrior to this diff there is a potential race condition where watch initiationncan return a watch response to the client before the initial crawl is complete.nThis was because nothing was checking to see if the root was ready to query, itnwas just coincidence that it tended to be ready due to the way that the globalnroot lock was acquired.  This is an issue that impacts buck from time to time,nwhich was worked around by running `watch-project` twice in a row(!).nnThis diff avoids this issue by adding a more formal mechanism for some numbernof clients to synchronize with the (re)crawl state of the InMemoryView.nnI've used C++11 `std::shared_future` for this.nnReviewed By: farnznnDifferential Revision: D4160794nnfbshipit-source-id: b1b99544a6883fe7f3ef79cf2739c899e0443656n",53.0,4.0,"InMemoryView.h,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,2.0,2.0,1.7607297696304485,13.0,205.0,167.0,5.015432098765432e-05,4523.5,7130.846153846153,2107.0,Feature Addition,False,,
285e51829dc28292d9f37825e584b019d7a77a73,9e28e507f707a430abbb199387230c413273f280,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:46 2016 -0800,1479172606,source of truth the tick counter in the in-memory viewSummary:nThis is more closely associated with the implementation of the view.nnThe root number will move into the view in a later diff.nnReviewed By: farnznnDifferential Revision: D4160728nnfbshipit-source-id: bcffac83404c0487d863a007d9215007222db68fn,43.0,51.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",13.0,3.0,3.0,3.434433831021713,13.0,341.76923076923083,374.0,1.9930119301994305,4533.0,1688.9537346552315,2116.0,None,False,,
9e28e507f707a430abbb199387230c413273f280,847aa20be76a55f1392d0ace94029191b0c6296b,Wez Furlong,wez@fb.com,Mon Nov 14 17:16:47 2016 -0800,1479172607,effectively remove the root lockSummary:nThis NOPs the root lock functions.  Their operation is replacednby adding Synchronized<> to the InMemoryView internal view state.nnI'm going to follow up with an API change to replace the differentnroot references with a more simple shared_ptr.nnReviewed By: farnznnDifferential Revision: D4160802nnfbshipit-source-id: b252848601de7e1ca3f87373e1eb9f9a057e8dc8n,155.0,103.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/lock.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER",7.0,2.0,2.0,2.1210016882874085,13.0,292.42857142857144,158.0,8.738685515873016,4543.0,18515.37963740544,2122.0,None,False,True,"[""3375b0f03e116d6ea7120103a8a66c1721b9be0a""]"
847aa20be76a55f1392d0ace94029191b0c6296b,06c491e6e89ad95e339be2785488b71fbd532523,Siddharth Agarwal,sid0@fb.com,Tue Nov 15 08:58:32 2016 -0800,1479229112,factor out code to get group struct from group nameSummary: Also add a few `n` as `w_log` expects.nnReviewed By: weznnfbshipit-source-id: 09802c128a5a749b9fe706968915218f2573f83fn,33.0,14.0,"main.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.7467366074830679,13.0,629.0,234.0,8.269728009259259,348.5,1.1218763518359458,134.0,None,False,,
06c491e6e89ad95e339be2785488b71fbd532523,d20865ae65533a0dd0ab61f93cc6fcc93b0d5855,Siddharth Agarwal,sid0@fb.com,Tue Nov 15 08:58:35 2016 -0800,1479229115,"bail on socket gid mismatchSummary:nAs the comments explain, this can happen when group membershipnchanges.nnAdd some tests to cover this, and also another test for the usernnot being in the group in the first place.nnCloses https://github.com/facebook/watchman/pull/387nnReviewed By: weznnDifferential Revision: D4179896nnPulled By: sid0nnfbshipit-source-id: 084494e70875b90e97fce0235f984bdc8dfb5e2cn",82.0,0.0,"listener.cpp,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER",3.0,2.0,2.0,1.2283491776835571,13.0,374.33333333333326,44.0,42.830733024691355,351.0,1.5171153104176345,98.0,None,False,True,"[""e2f0a00f2e7f9f7a73805c3e38cd399cfb264c30""]"
d20865ae65533a0dd0ab61f93cc6fcc93b0d5855,646ee5e36db1a96d67d0391ce7e321cf2f18afe6,Wez Furlong,wez@fb.com,Tue Nov 15 14:05:26 2016 -0800,1479247526,physically remove the root lockSummary:nWe now track the root via a shared_ptr.nnThis diff is largely changing the following to shared_ptr<w_root_t>:nn* `w_root_t*`n* `unlocked_watchman_root`n* `read_locked_watchman_root`n* `write_locked_watchman_root`nnThere are a couple of bootstrapping code paths that need to continue usingn`w_root_t*` because they happen too early to capture a working `shared_ptr`nreference.nnThere are a couple of FIXME's that I'll tackle in the very next diff: there arensome slighly unsafe reads to produce clockspec strings.nnReviewed By: farnznnDifferential Revision: D4160823nnfbshipit-source-id: 3471af892fd8adc749a5b0c3df25397e72947848n,525.0,948.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/lock.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",48.0,6.0,6.0,4.712458237003312,13.0,221.22916666666663,1049.0,6.187530381944447,4570.5,1.0469721417461642,179.0,None,False,True,"[""d17a4d6336b4d1dabf8f3f210eed24501d93d3f4"", ""e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8""]"
646ee5e36db1a96d67d0391ce7e321cf2f18afe6,61ff1b0de0c986e2b91d34e4df46c0902e805425,Wez Furlong,wez@fb.com,Tue Nov 15 14:05:28 2016 -0800,1479247528,move root number + helpers into InMemoryViewSummary:nThis addresses most of the FIXMEs introduced by the prior diff bynmoving the root number and tick counter into the synchronized internal viewnstate in the InMemoryView.nnHelper methods have been added to the QueryableView to obtain the currentnclock string and to obtain a pair representing the root number and ticknvalue.nnI've introduced a couple more FIXMEs related to the clock strings thatnI'm going to resolve in the next diff by adjusting the return valuenfrom the query functions.nnReviewed By: farnznnDifferential Revision: D4160844nnfbshipit-source-id: 27908ee38325914f2be79f4c8c27b51df6da9b50n,104.0,118.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",17.0,4.0,4.0,3.2426287289235063,13.0,257.4705882352941,480.0,0.012557870370370377,4603.0,6592.664317979988,2164.0,None,False,,
61ff1b0de0c986e2b91d34e4df46c0902e805425,08781bca2cdf6406c87190a6c16adcb0e11af9e2,Wez Furlong,wez@fb.com,Tue Nov 15 14:05:29 2016 -0800,1479247529,"tidy up some ClockPosition usageSummary:nThis makes it easier to transform a clock position into a fullynqualified clock string, and cuts the query result root number and ticks over tonClockPosition.nnReviewed By: farnznnDifferential Revision: D4160872nnfbshipit-source-id: 455aa253611a8c37f33f1a1db5aadd95a85b5245n",75.0,84.0,"clockspec.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",9.0,3.0,3.0,2.6871906982683265,13.0,200.5555555555556,213.0,2.186213991769548e-05,4616.0,17809.861726508785,2168.0,None,False,,
08781bca2cdf6406c87190a6c16adcb0e11af9e2,331915ddcf99c0032a16b65f8360bd61f00d2b6a,Wez Furlong,wez@fb.com,Tue Nov 15 14:05:31 2016 -0800,1479247531,"add skeleton eden watcherSummary: This does nothing useful right now, it's just the skeleton.nnReviewed By: farnznnDifferential Revision: D4160891nnfbshipit-source-id: 16050cdb9c81cf14367eece182e8c19b5e4e2256n",113.0,1.0,"TARGETS,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.6699960320994333,13.0,106.0,7.0,2.8344733796296286,4621.5,1.1763996104508605,223.0,Feature Addition,False,True,"[""1b9ec6edea6d6bbf11882ede77411a6f9e323b2a""]"
331915ddcf99c0032a16b65f8360bd61f00d2b6a,9619ff88d3504938e079a38c7778504cf6b66d06,Wez Furlong,wez@fb.com,Tue Nov 15 14:17:13 2016 -0800,1479248233,"fixup integration tests on python 2.6Summary:nSeeing this on travis:nn```nFAIL unittest2.loader._FailedTest.test_php (0.000s)nTraceback (most recent call last):n  File /Users/travis/.pyenv/versions/2.6.9/lib/python2.6/site-packages/unittest2/case.py, line 67, in testPartExecutornyieldn  File /Users/travis/.pyenv/versions/2.6.9/lib/python2.6/site-packages/unittest2/case.py, line 625, in runntestMethod()n  File /Users/travis/.pyenv/versions/2.6.9/lib/python2.6/site-packages/unittest2/loader.py, line 51, in testFailurenraise self._exceptionnImportError: Failed to import test module: test_phpnTraceback (most recent call last):n  File /Users/travis/.pyenv/versions/2.6.9/lib/python2.6/site-packages/unittest2/loader.py, line 456, in _find_test_pathnmodule = self._get_module_from_name(name)n  File /Users/travis/.pyenv/versions/2.6.9/lib/python2.6/site-packages/unittest2/loader.py, line 395, in _get_module_from_namen__import__(name)n  File /Users/travis/build/facebook/watchman/tests/integration/test_php.py, line 74, in <module>nclass PHPTestCase(unittest.TestCase):n  File /Users/travis/build/facebook/watchman/tests/integration/test_php.py, line 76, in PHPTestCasenunittest.skipIf(php_bin is None, 'php not installed')nAttributeError: 'module' object has no attribute 'skipIf'n```nnTransplant in the unittest2 import that we use in the other tests that use skipIf.nnReviewed By: sid0nnDifferential Revision: D4165578nnfbshipit-source-id: c106d769d690ae2d79936dfaa3d76166ee78d601n",4.0,1.0,"tests/integration/test_php.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,172.0,4.0,11.30511574074074,4623.0,1.0884555295967695,469.0,Corrective,True,,
9619ff88d3504938e079a38c7778504cf6b66d06,89299b7cb6c11ef40f2d7f5769e99506cbcc3151,Wez Furlong,wez@fb.com,Thu Nov 17 15:56:16 2016 -0800,1479426976,"increase startup timeout in test harnessSummary: This is an occasional source of flakiness, especially when running with ASAN or TSAN.nnReviewed By: sid0nnDifferential Revision: D4187000nnfbshipit-source-id: 223396d4032edd15fdd9f642184ce5ae5a9c4e6an",5.0,3.0,"arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,13.0,498.0,73.0,36.20171296296297,4624.5,1.0140370582507463,470.0,Preventative,False,True,"[""9b932d071d2157cf56ca3ac7990c9bc22121b101""]"
89299b7cb6c11ef40f2d7f5769e99506cbcc3151,67b967cf11c542b7bede07fa7792f659bb733e79,Wez Furlong,wez@fb.com,Fri Nov 18 12:46:01 2016 -0800,1479501961,"tidy up some dir path concatenation; return w_stringSummary:nWas running a memory profiler and was worried that we might be at risknof leaking around these strings, so moved the return values to w_string toneliminate that fear.nnReviewed By: farnznnDifferential Revision: D4167915nnfbshipit-source-id: bf487c975c5a82fc51420c761c381e54a81de8e3n",28.0,56.0,"InMemoryView.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",10.0,3.0,3.0,2.8416643371526837,13.0,402.2,274.0,8.665519675925927,4630.5,1.0561692003028431,2176.0,None,False,,
67b967cf11c542b7bede07fa7792f659bb733e79,2ef7a30fd70fd246a35ecd486b24820d0d6beea0,Wez Furlong,wez@fb.com,Fri Nov 18 12:46:02 2016 -0800,1479501962,"fix memory usage regressionSummary:nSince moving to using maps, we've been using more memory than we wouldnlike.   This is because the caller of this function builds up the fullndirectory path string and then passes a slice with the baseName of it in here.nWhen we first register the child we will use that baseName slice, keeping aliventhe longer path name as a side effect.nnThis diff avoids that by using the baseName slice for the lookup, but storingnthe file->getName() string as the key in the case that we missed on lookup.nnReviewed By: farnznnDifferential Revision: D4171999nnfbshipit-source-id: a189129c95a3d707ecb227562b2dcc29b2047c8an",10.0,5.0,"InMemoryView.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,638.0,34.0,1.1574074074074072e-05,4636.0,86401.0,2177.0,Corrective,True,,
2ef7a30fd70fd246a35ecd486b24820d0d6beea0,ed4f2ea33c9d82da3d0c76e13452136131482416,Wez Furlong,wez@fb.com,Fri Nov 18 12:46:04 2016 -0800,1479501964,"add port of folly/ScopeGuard.hSummary:nThis helps to resolves some of the old C-style goto cleanup,nespecially now that we're in the middle of transitioning to a world with C++nexceptions.nnWe can't simply depend on folly at this time; hopefully the dependency andnbuild situation improves over the next few months and we can just do that.nIn the meantime, include a port of the appropriate functionality.nnCut over the command dispatcher which was the most recently observed (D4177989)npiece of code that really needs this.  We can incrementally cut other bits ofncode over as we discover them.nnReviewed By: farnznnDifferential Revision: D4180389nnfbshipit-source-id: 1996a6f5ac8a2e38b6a7f7c6b2f6d72b422658a5n",371.0,15.0,"cmds/reg.cpp,CAS_DELIMITER,watchman_scopeguard.h,CAS_DELIMITER",2.0,2.0,2.0,0.4300382124938831,13.0,108.5,10.0,1.9060648148148147,4637.5,1.2623205654465521,2178.0,Feature Addition,False,,
ed4f2ea33c9d82da3d0c76e13452136131482416,10e44569d542ac9a06c13d99133394cd376cdabf,Wez Furlong,wez@fb.com,Fri Nov 18 13:02:22 2016 -0800,1479502942,fix up one more python 2.7ismSummary: Looks like we missed this last onennReviewed By: sid0nnDifferential Revision: D4204833nnfbshipit-source-id: 74f2d4826c87049717a05373525e848f0a14930an,10.0,6.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,329.0,30.0,14.14355324074074,4639.0,1.0707035907440492,73.0,Corrective,True,,
10e44569d542ac9a06c13d99133394cd376cdabf,7fc8551e162a222cefbc3bd5afc132092b5d32f5,Dawson Botsford,dawsonb@uber.com,Tue Nov 29 12:47:25 2016 -0800,1480452445,whitelist index.js. This leaves out tests from npm installsSummary:nRead more about this feature here: https://docs.npmjs.com/files/package.json#filesnCloses https://github.com/facebook/watchman/pull/375nnReviewed By: mostafaewedannDifferential Revision: D4206539nnPulled By: weznnfbshipit-source-id: b0d060912ad3745d52ab16a608735ba2c6d1e967n,3.0,0.0,"node/bser/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,30.0,2.0,462.20233796296304,0.0,0.0,0.0,Preventative,False,,
7fc8551e162a222cefbc3bd5afc132092b5d32f5,a4b1e95725fdbac43a911a8f7bc53f817e1a7c59,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:33 2016 -0800,1480461153,"refactor: reuse FileDescriptor, add Pipe classSummary:nMoves the FileDescriptor class out from the kqueue watcher and expandsnit a little so that we can use it to own file descriptor references in morenplaces.  Adds a Pipe helper class that is simply a pair of FileDescriptors withna read and write end.nnThis allows us to remove a few explicit destructors and reduces the chances ofnleaking descriptors.nnI took the opportunity of making use of the Linux `pipe2` function, whichnallows us to atomically create a pipe with the CLOEXEC bit set.nnImportant! the pipes that we create in this way have the non-blocking bit set.nThis matches the behavior of the event object that we set up in `w_event_make`,nwhich is really the successor for the explicit pipe use case in watchman; we'renusing pipes as objects that we can notify and wake up a `poll()`.  I think thesenpipes *should* already have been set to non-blocking, so this is likely a bugnfix.  I may well eat my words, but I'm pretty confident that this is a positivenchange.nnReviewed By: farnznnDifferential Revision: D4181762nnfbshipit-source-id: add07a515353dca9bab950097e0693c00d9453abn",230.0,135.0,"FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,Pipe.cpp,CAS_DELIMITER,Pipe.h,CAS_DELIMITER,configure.ac,CAS_DELIMITER,probe.py,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",11.0,3.0,3.0,2.769633016452662,13.0,245.63636363636363,359.0,18.37107323232323,4645.0,0.8415786747022064,180.0,None,False,True,"[""32a29463e47e39a167a5cb792ab4c1a9dd37eac7""]"
a4b1e95725fdbac43a911a8f7bc53f817e1a7c59,80cce721a0c269a5e4479d2d2fc8e175910e48a3,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:36 2016 -0800,1480461156,refactor: c++ify watchman_streamSummary:nTurn watchman_stream into a virtual class.nnThe close method is subsumed by the destructor; the others are pretty straightforward.nnReviewed By: farnznnDifferential Revision: D4183211nnfbshipit-source-id: ed35027fd0af21af2569781cbfaf2cd39ff190dbn,235.0,333.0,"stream.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,2.0,2.0,1.9666162042704007,13.0,271.5,79.0,75.16564236111113,4653.5,1.0068184872394554,181.0,None,False,,
80cce721a0c269a5e4479d2d2fc8e175910e48a3,8dcd980306e24d061ad7f8b46b354637942d74d3,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:37 2016 -0800,1480461157,"c++ify watchman_eventSummary:non Windows we used to just cast HANDLE <-> w_evt_t because they were both pointernsized.  Now that we have a virtual base class we need to wrap up the event,nso there's a little bit more code in there.nnon unix use a pipe for the API-created event object and used to make a fakenone of those to use together with the poll equivalent API.  I've teased outnthe fake event object to make it clearer how it is used.nnReviewed By: farnznnDifferential Revision: D4183220nnfbshipit-source-id: 639cfcac46a005b004312bc9560c76f95ce799b1n",124.0,91.0,"stream.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",4.0,1.0,1.0,1.5407537691729336,13.0,290.5,13.0,1.1574074074074072e-05,4658.5,45001.0,2194.0,None,False,,
8dcd980306e24d061ad7f8b46b354637942d74d3,53ebc695aeda49fc67519a591ddf07bdaffa3ce3,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:38 2016 -0800,1480461158,w_event_make returns unique_ptrSummary:nbeefs up how we create and track these event objects.nnRemoves the C functions for operating on the event; just call the methods directly.nnReviewed By: farnznnDifferential Revision: D4183224nnfbshipit-source-id: d1ce35886a47a8f5b474eb7bf23ddd7bf19ad88cn,19.0,40.0,"cmds/log.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,stream.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",10.0,2.0,2.0,2.945835431827499,13.0,299.5,136.0,9.650811342592592,4665.5,1.0174335653065207,2201.0,None,False,,
53ebc695aeda49fc67519a591ddf07bdaffa3ce3,b15cd8cf590a08f6cf38b9dff214bb7ff3ae9062,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:40 2016 -0800,1480461160,use unique_ptr to own watchman_streamSummary: Eliminates w_stm_close in favor of simply holding the stream in a unique_ptr.nnReviewed By: farnznnDifferential Revision: D4183237nnfbshipit-source-id: 47b5deb4e8579e510ed3e8a00be155bc694c6750n,112.0,130.0,"CookieSync.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,stream.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",13.0,1.0,1.0,3.2775254424814264,13.0,324.07692307692315,350.0,8.806402243589742,4677.0,1.0142996914051603,2214.0,None,False,True,"[""68e7db65ae2287346622f8026b92d9b8df7b72ca""]"
b15cd8cf590a08f6cf38b9dff214bb7ff3ae9062,23cc5072a7f74a65258143b53d8e537d6c028c22,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:41 2016 -0800,1480461161,remove w_stm_xxx accessor functionsSummary: Just call the methods on the stream instead.nnReviewed By: farnznnDifferential Revision: D4183238nnfbshipit-source-id: abf92e844ba8edb98c5c696b1bfb7a9ba0af321en,8.0,72.0,"json.cpp,CAS_DELIMITER,stream.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",3.0,1.0,1.0,1.1567796494470397,13.0,248.0,17.0,8.447854938271604,4685.0,1.0394577662611493,2217.0,None,False,,
23cc5072a7f74a65258143b53d8e537d6c028c22,d9963dcabff101bd4fe6f56c56b348d1d6253387,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:42 2016 -0800,1480461162,move FileDescriptor through w_stm_fdopenSummary: This tidies up the error handling edge case a littlennReviewed By: farnznnDifferential Revision: D4184031nnfbshipit-source-id: a089b897a9f570a500aa9f4731057f353665e552n,42.0,56.0,"listener.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",4.0,1.0,1.0,1.6911822972023274,13.0,318.75,44.0,2.025462962962963e-05,4688.5,22886.714285714286,2221.0,None,False,,
d9963dcabff101bd4fe6f56c56b348d1d6253387,64b6c08ddb6dfc47830ab7664154c63d20ac19ab,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:43 2016 -0800,1480461163,remove w_stm_fileno and w_stm_handleSummary: Replace these with methods on the stream.nnReviewed By: farnznnDifferential Revision: D4185197nnfbshipit-source-id: b3ad1b4cf8d46e87c6f2aa35ff930e6bbee69e98n,24.0,20.0,"spawn.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",5.0,1.0,1.0,2.233430181888638,13.0,306.8,47.0,3.472222222222223e-05,4693.0,11446.194805194807,2226.0,None,False,,
64b6c08ddb6dfc47830ab7664154c63d20ac19ab,937625f5155ed3bee99ef9e680b9eecc97f41723,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:44 2016 -0800,1480461164,"add Win32Handle classSummary:nThis is similar to the FileDescriptor class but holds win32 HANDLEnobjects.nnIn an effort to appease our coding style linters, I've opted to store thenhandle value in an `intptr_t` rather than using the `HANDLE` type.  Thisnmeans that we can avoid pulling `windows.h` which is something that impactsninclude ordering.nnThe choice of `intptr_t` mirrors the return value of the library functionn`_get_osfhandle` which extracts the HANDLE value from a file descriptor.nnThe downside of this is that we need to cast the handle value when passingnit to the underlying win32.  I think this is a reasonable tradeoff to make.nnReviewed By: farnznnDifferential Revision: D4185035nnfbshipit-source-id: 79afcaa9ef7fb3d15d80a4be087c5ae145be9295n",241.0,146.0,"Win32Handle.cpp,CAS_DELIMITER,Win32Handle.h,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER,winbuild/spawn.h,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER",10.0,2.0,2.0,2.5739384294841647,13.0,260.8,125.0,6.560112268518517,4700.5,11753.422827623306,185.0,Feature Addition,False,,
937625f5155ed3bee99ef9e680b9eecc97f41723,1a4153f507be0ca98fa4dd010d2fa7c6a4cd7585,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:45 2016 -0800,1480461165,"add error_category / error_conditionSummary:nI'm concerned about our current partially implemented exceptionnhandling and how it mixes with old school error code returns.  I'd like tonchange some of our filesystem utility functions to throw std::system_error, andnI'd also like to change them to target the watchman_stream layer rather thannhaving our windows build do some nasty #define stuff to interpose our ownnposix-like functions.  That means that those streams would then ideally thrownwindows system error codes rather than posix errno error codes.nnIt's a PITA to manually figure out how to map those different error codes,nso this diff adds some error_category's that allow using relatively simplenequality tests in code.  For example, rather than checking to see if we gotna generic_error() ENOENT, or a windows system_error() FILE_NOT_FOUND,nwe can perform a simple `code == watchman::error_code::no_such_file_or_directory`ncheck and have the error category take care of figuring out the answer.nnThis allows the mapping logic to be neatly encapsulated in the error_categoryncode.nnThis diff also adds an error category for inotify results; these are in thenposix errno namespace but have different messages that we'd like to rendernfor the user.nnThis diff changes the `handle_open_errno` and `set_poison_state` functions tonaccept a `std::error_code` rather than the current `errno, reason` pair;n`std::error_code` can furnish the reason and be simply compared against the newn`watchman::error_code` enum.nnI'd like to ultimately be able to remove `watchman/winbuild/errmap.cpp` innfavor of this logic.nnReviewed By: farnznnDifferential Revision: D4191352nnfbshipit-source-id: 8a98afdb38d08d979ef9fc681df959890d2e25a5n",327.0,85.0,"Makefile.am,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,error_category.cpp,CAS_DELIMITER,root/poison.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_error_category.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",13.0,4.0,4.0,2.803753420108732,13.0,236.15384615384616,392.0,10.64409277065527,4712.0,554.8641589869978,186.0,Feature Addition,False,True,"[""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
1a4153f507be0ca98fa4dd010d2fa7c6a4cd7585,bbd0dc36a368107cc5be57bca463a27a09c2c040,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:46 2016 -0800,1480461166,cancel root if exception bubbles up in io/notify threadsSummary: Log the exception message and cancel the rootnnReviewed By: farnznnDifferential Revision: D4201423nnfbshipit-source-id: d10a81170d4b21faaab5b62a25bf5e7d64740c65n,14.0,4.0,"InMemoryView.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,643.0,35.0,11.101898148148148,4719.0,1.090074686927911,2239.0,None,False,,
bbd0dc36a368107cc5be57bca463a27a09c2c040,c2dec8337b62adbf8f50983e6a54726aa59163e0,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:48 2016 -0800,1480461168,refactor w_dir_openSummary:nThis function will now throw std::system_error if it fails.nThe functions that operate on the dir handle are now methods.nnThe windows dir reading code now targets this layer instead of tryingnto implement the `opendir(3)` interface.nnThis makes the code around this stuff a bit nicer; the `handle_open_errno`nfunction is now only called from a single place to process exceptions thatnmight be thrown from the watcher startWatchDir method.nnReviewed By: farnznnDifferential Revision: D4201434nnfbshipit-source-id: fc60a55d2ccc5defbac3810949cdfff218aa7d1en,272.0,370.0,"InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_opendir.h,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER,winbuild/dirent.h,CAS_DELIMITER",19.0,4.0,4.0,2.9864577884925176,13.0,291.42105263157896,442.0,59.21449134990254,4729.0,1.01709663761473,188.0,None,False,True,"[""68e7db65ae2287346622f8026b92d9b8df7b72ca"", ""77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c""]"
c2dec8337b62adbf8f50983e6a54726aa59163e0,64cb3c652164af11fc88ebb840855fe3194265c5,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:49 2016 -0800,1480461169,"improve windows fault trapping and reportingSummary:nthere are several different things we need to set to have anstronger chance that our process will terminate when it faults, rathernthan popping up a dialog box in some weird service context: set those.nnFor unhandled SEH exceptions, CaptureStackBackTrace() doesn't seemnto successfully unwind through the SEH trampoline, so we need tonadd an auxilliary function that will return the set of frames givennand system exception pointer.nnLet's ensure that we initialize the symbol handler before invokingnany of the debug helpers; it seemed to help increase the chances ofngetting reliable symbole information.nnIncrease the size of the possible symbol name; demangled C++ names,nespecially those for STL containers are very long; if the buffer isnnot long enough, the symbol resolver just sets the name to an emptynstring.nnAdd the error reason in place of the symbol name if we're unable tonresolve it.nnReviewed By: farnznnDifferential Revision: D4201457nnfbshipit-source-id: 384de72d7f49f74fb7c92bdbfea200e27d87a473n",130.0,16.0,"log.cpp,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,2.0,2.0,1.1515411510179498,13.0,180.66666666666663,29.0,33.67257330246914,4740.0,1.031724427187832,190.0,None,False,,
64cb3c652164af11fc88ebb840855fe3194265c5,57b96911e6c1aef95c4b04d85905c0db45d60063,Wez Furlong,wez@fb.com,Tue Nov 29 15:12:50 2016 -0800,1480461170,"watchman_file::getName -> return string_pieceSummary:nRunning down an intermittent problem in the win32 buildnand I'm concerned that our embedded w_string trickery is causing problemsnby making a false promise to consumers of getName() that the string willnbe valid for the lifetime of the reference.nnUpdate: confirmed that this was the problem after beefing up our errornreporting; seemed to only intermittently impact windows, presumably due tondestruction ordering and allocator layout differences.  Stack trace is below.nnTo avoid this, redefine this method to return a string_piece, forcingncallers to allocate storage or otherwise consider the lifetime.nnTo facilitate this I've moved around a couple of string helper functions sonthat they operate on string_pieces.nnI had to update the subscription test: now that we're more reliably tearingndown roots, we can deliver cancellation notices more reliably, and this wasncausing an intermittent failure when the subscription payload with a missingnfiles key was processed in this test.nn```n2016-11-17T22:32:54,032: [client=0000020B66990360:stm=0000020B65C1CF70] Unhandled win32 exception.  Fatal error detected at:n```nnReviewed By: farnznnDifferential Revision: D4201462nnfbshipit-source-id: a35462f8adbebcc19610005c9ad2dfd2205bed43n",147.0,139.0,"InMemoryView.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",19.0,3.0,3.0,3.119414557605119,13.0,272.10526315789474,373.0,14.644844054580894,4751.0,1137.8564993460775,2263.0,None,False,,
57b96911e6c1aef95c4b04d85905c0db45d60063,a330d105a36ce3154f39d3e32558138118a0f9a1,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:04 2016 -0800,1480474504,remove pthread usage from checksock.cppSummary: Just use std::thread for this bitnnReviewed By: farnznnDifferential Revision: D4203934nnfbshipit-source-id: 7e9ffbbde8a09e3d6a22da6c942f798f482a194fn,3.0,9.0,"checksock.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,74.0,5.0,0.15444444444444444,4761.0,7.474820143884893,2264.0,None,False,,
a330d105a36ce3154f39d3e32558138118a0f9a1,023c8a00de87c3dfd05289a1cdd796b4e50fcc81,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:06 2016 -0800,1480474506,remove pthread usage from cfg.cppSummary: Use Synchronized<> instead.nnReviewed By: farnznnDifferential Revision: D4203937nnfbshipit-source-id: e0c05bcc637d854983aa21b101cbf04eb43e0558n,32.0,26.0,"cfg.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,366.0,6.0,28.196608796296296,4762.0,1.0354652577983543,2265.0,None,False,True,"[""3a2bd8dab53171c172891be41c057fb53b19d294""]"
023c8a00de87c3dfd05289a1cdd796b4e50fcc81,3e310bd4a65f7939a830e5e1e927b32c8fe53ff9,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:08 2016 -0800,1480474508,"remove client shutdown hackSummary:nDon't try to send a signal to a blocked client thread,nor the listener thread.nnThis was a hacky attempt at working around a blocking problemnduring shutdown that we (can) now solve a different way.nnThis is part of it: knock the listener out of the accept loopnon shutdown.  The remaining part is not requiring that wenenable blocking mode when we write data from the serializernlayer.  I've seen a few stack traces where this signallingnapproach clearly wasn't working anyway, so it's not terriblento remove that portion without proposing a better fix innthe same diff.nnReviewed By: farnznnDifferential Revision: D4203947nnfbshipit-source-id: f33226f67251494e1d1acfbaf007df627aeaa7dan",68.0,95.0,"launchd.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",5.0,1.0,1.0,1.02445412318262,13.0,436.8,285.0,14.974921296296294,4765.0,1.013411112163938,2270.0,None,False,,
3e310bd4a65f7939a830e5e1e927b32c8fe53ff9,7679828dff9f0f0bed3e2a02c0275e3cb50884bb,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:09 2016 -0800,1480474509,remove pthread usage from state.cppSummary: Another job for Synchronized<> and condition_variablennReviewed By: farnznnDifferential Revision: D4203951nnfbshipit-source-id: 330913abefdc94e1f79193116bc845c23900d873n,22.0,26.0,"state.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,188.0,7.0,0.15447916666666667,4768.0,7.473364801078894,2271.0,None,False,,
7679828dff9f0f0bed3e2a02c0275e3cb50884bb,56ed65c7d76500339c1bb71cb1ae7da3d5d84645,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:11 2016 -0800,1480474511,"(mostly) remove pthread usage from log.cppSummary:nReplace TLS stuff with the C++11 native thread_localnexcept on macOS, where it is not supported.nnThis is fine: my ulterior motive is to remove the win32 pthreadnport, and this helps with that.nnReviewed By: farnznnDifferential Revision: D4203956nnfbshipit-source-id: 35e8c017cc6245852ecacb2ecf732ddf253185e3n",32.0,9.0,"log.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,336.0,5.0,0.1544212962962963,4769.0,7.475790736021586,2272.0,None,False,,
56ed65c7d76500339c1bb71cb1ae7da3d5d84645,d427e7cbe6fce74505d7a1e97b1607a223a78d1b,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:12 2016 -0800,1480474512,remove pthread usage from tap.cSummary: Flip this over to C++ and just use std::mutexnnReviewed By: farnznnDifferential Revision: D4203961nnfbshipit-source-id: 781b92a8214be4e4428385d1e4b68c5accb2af8cn,443.0,459.0,"Makefile.am,CAS_DELIMITER,thirdparty/TARGETS,CAS_DELIMITER,thirdparty/tap.c,CAS_DELIMITER,thirdparty/tap.cpp,CAS_DELIMITER,thirdparty/tap.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,3.0,3.0,1.1694223403544002,13.0,195.66666666666663,204.0,39.54964313271604,4772.5,2.0844687493918967,191.0,None,False,,
d427e7cbe6fce74505d7a1e97b1607a223a78d1b,9b559cac4ebad0e24c1a7ea0219561240a7f661b,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:13 2016 -0800,1480474513,"c++ify watchman_json_bufferSummary:nPrimary motive was to give this a destructor, but couldn't resistnmaking the functions have more meaningful method names.nnReviewed By: farnznnDifferential Revision: D4203969nnfbshipit-source-id: 787e3953003e9b48f10f3178d07865b83c8f5392n",276.0,325.0,"checksock.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER",8.0,2.0,2.0,1.58010912541673,13.0,420.125,97.0,4.970295138888889,4779.5,1201.0687270224958,2280.0,None,False,True,"[""1fc7676f7362f03282e63b6a322ab74e4855dace""]"
9b559cac4ebad0e24c1a7ea0219561240a7f661b,6cafb2ac687bb8a474b61e33d75ecf7894d4d776,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:14 2016 -0800,1480474514,"refactor windows path conversionSummary:nUse std::wstring in place of explicitly allocated WCHAR pointers.nnNote that at least one of the code paths does a slightly wasteful doublenallocation so that it can return a strdup'd buffer.nnThat's fine for now; in a follow on diff, I will change the API so that itncan return the w_string directly.nnReviewed By: farnznnDifferential Revision: D4205567nnfbshipit-source-id: 3f35c82406b6f4b555a0dbd5c1ca72bbf32a3120n",141.0,244.0,"fstype.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER,winbuild/realpath.cpp,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER",12.0,4.0,4.0,3.00284060485647,13.0,354.0,129.0,21.775248842592593,4789.5,1.0094443927001668,196.0,None,False,True,"[""a2f147851bec260e011e7e6d809b56d43b700bc4"", ""1bf0e4d321c11c43ebce71bb9fed0c12b1d7845f"", ""ef594615f2ced70e610ade467df66c8946c57b0d""]"
6cafb2ac687bb8a474b61e33d75ecf7894d4d776,dcfe87c7ef348d489f9b42fee2c8112f499778f2,Wez Furlong,wez@fb.com,Tue Nov 29 18:55:15 2016 -0800,1480474515,"add watchman::to<std::string> helper functionSummary:nThis reuses the w_string::build() machinery to implementna function that is similar to `folly::to<std::string>`; the variadicnarguments are appended to a container of the specified type.nnWhile we primarily use w_string for our filename paths, there are a number ofnerror handling flows that currently use a pretty uglyn`ignore_result(asprintf())` construction to pass a formatted error message backnout to the caller.nnI'd like to eliminate this `asprintf` usage and replace it with exceptionnthrowing.  It feels simplest to move a string generated by this function intonsuch an exception.nnWith that done, we can also remove the asprintf port that we have floatingnaround for windows.nnReviewed By: farnznnDifferential Revision: D4209509nnfbshipit-source-id: f68805d94b614d51044dba23273419adb3e32bafn",30.0,1.0,"tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,2.0,2.0,0.907165767573082,13.0,368.5,37.0,9.66673611111111,4796.5,1.0517237818346006,2286.0,Feature Addition,False,True,"[""0c2f57482e254422c5a19ff8aaa364b12bd4d116""]"
dcfe87c7ef348d489f9b42fee2c8112f499778f2,cea54945fdb38e2e426f601c1861b1aabfb4d58c,Daniel Tschinder,daniel@tschinder.de,Wed Nov 30 11:09:32 2016 -0800,1480532972,Correct install docs for python/pcre optionsSummary:nSince commit 561b623756283b6ee1ed4153c32ebbbc12eafb74 `python` is enabled by default and `pcre` also seems to be enabled by default.nThis commit corrects the install docs to correctly state that the options are enabled by default and adds the options to disable python.nCloses https://github.com/facebook/watchman/pull/391nnReviewed By: farnznnDifferential Revision: D4246305nnPulled By: weznnfbshipit-source-id: 32b41032a2165e50eedaa3080fd02ab6b2330418n,6.0,4.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,183.0,4.0,79.17241898148148,1.0,1.0126306611931852,1.0,Non Functional,False,,
cea54945fdb38e2e426f601c1861b1aabfb4d58c,286617c6c1040fd6e4c7ffe76158a1126bec28be,Wez Furlong,wez@fb.com,Wed Nov 30 11:12:48 2016 -0800,1480533168,remove use of pthreads from perf.cppSummary: Cut it over to Synchronized<> + condition_variablennReviewed By: farnznnDifferential Revision: D4203932nnfbshipit-source-id: 040b7dec78e0b0c1c1bd7ed874b77d9311dfc071n,60.0,27.0,"perf.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,281.0,19.0,14.880092592592593,4798.0,1.0672038828910115,2287.0,None,False,,
286617c6c1040fd6e4c7ffe76158a1126bec28be,cbb7523863f9554ec3fec9ec0ff4e4a99f242d5c,Wez Furlong,wez@fb.com,Wed Nov 30 11:12:50 2016 -0800,1480533170,remove pthread port for win32Summary:nWe can just use C++14 features for everything on win32.nOn Linux and macOS we continue to use pthread for the shared_mutex bits.nnReviewed By: farnznnDifferential Revision: D4203965nnfbshipit-source-id: 64c3bfbc485e5aa14ee781e3268f63b272c90954n,10.0,1560.0,"watchman.h,CAS_DELIMITER,watchman_shared_mutex.h,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/pthread.cpp,CAS_DELIMITER,winbuild/pthread.h,CAS_DELIMITER",6.0,2.0,2.0,0.8463026183661413,13.0,395.5,312.0,21.28469328703704,4801.5,1.2637174770659136,199.0,None,False,,
cbb7523863f9554ec3fec9ec0ff4e4a99f242d5c,b549331bffed814df322b65a40af0014fd249cd5,Wez Furlong,wez@fb.com,Wed Nov 30 11:12:52 2016 -0800,1480533172,"avoid deadlock on shutdownSummary:nNow that root::cancel() attempts to get a write lock on the list of watchednroots, we can't iterate that set for read and call cancel on each withoutndeadlocking.nnThis diff makes a copy under the lock and then asks them all to cancel after releasing it.nnReviewed By: farnznnDifferential Revision: D4249618nnfbshipit-source-id: ca4ae0ce50b6f1c7f3f9099bb0f539e0b7efd10en",15.0,4.0,"root/watchlist.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,275.0,17.0,14.880162037037033,4805.0,1.0672035692562338,2291.0,None,False,,
b549331bffed814df322b65a40af0014fd249cd5,331d3ca3307cfc17fcf16f2386b05fb0c126b8b0,Wez Furlong,wez@fb.com,Wed Nov 30 11:12:53 2016 -0800,1480533173,"remove data race from json serializerSummary:nI was seeing `PERF: (null)` lines getting logged for slow happenings and wanted to figure out why the `json_dumps` call was failing.nnI traced this to the serializer code recursion protection.  In this situationnwe were serializing the same json object to string buffers from two threadsnconcurrently. This code isn't and cannot be made thread safe without doingnsomething like maintaining a set of seen references.  We don't performnrecursion detection in the bser serializer, where we do the bulk of ournserializing, so I don't see the value in this -> removed it.nnWhile I was in there, I made the reference count an atomic variable so that wencan at least have safe inc/dec ops on that.nnReviewed By: farnznnDifferential Revision: D4250083nnfbshipit-source-id: 1dbfb71e46a26c1f4ba280c63c89f8b0098d623bn",62.0,72.0,"perf.cpp,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",5.0,2.0,2.0,0.637379382870337,13.0,388.2,75.0,23.12882638888889,4808.0,3457.012012518809,224.0,None,False,,
331d3ca3307cfc17fcf16f2386b05fb0c126b8b0,61c0433b8dbcf09ab0b31c1fe61f4bb21859c8b4,Wez Furlong,wez@fb.com,Wed Nov 30 16:21:44 2016 -0800,1480551704,remove unused variableSummary: this is breaking the CircleCI buildnnReviewed By: sid0nnfbshipit-source-id: 9f65b6d16b5719481dc10b8816a77e09d5d51105n,0.0,2.0,"thirdparty/jansson/dump.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,385.0,4.0,0.21447916666666667,4811.0,5.6624575036425435,225.0,None,False,,
61c0433b8dbcf09ab0b31c1fe61f4bb21859c8b4,f95673d7797fab22feba7d8dd507617f0e2e7e75,Wez Furlong,wez@fb.com,Wed Nov 30 16:38:25 2016 -0800,1480552705,"bump reported version number to 4.8Summary:nWe're not ready to do an external 4.8 release just now,nbut we are prepping for an internal beta of the recent changesnand want to make it easy to disambiguate those builds internally,nso let's bump it up.nnReviewed By: sid0nnfbshipit-source-id: 7289ab0158365088ef9d4c470e7a66a1acd86fb0n",2.0,2.0,"configure.ac,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",2.0,2.0,2.0,1.0,13.0,257.0,132.0,0.9823090277777776,4812.5,1.72636537976713,200.0,None,False,,
f95673d7797fab22feba7d8dd507617f0e2e7e75,3bdab23817ed30ddf7e2f89cd5acc9de2f21b5c3,Wez Furlong,wez@fb.com,Thu Dec 1 10:51:18 2016 -0800,1480618278,"fix pcre build with buck, tweak test running with buckSummary:nWe weren't actually linking in the pcre support; the linkernwas stripping it out.  This restores it by adding the link_wholenflag.nnI've also set the integration tests to bias towards localndevelopment; when the SANDCASTLE env var is not set, runningn`buck test watchman/... -- REGEX` will run just the selectedntests rather than running all of them and only outputing thenselected results.  The SANDCASTLE env var is set in our CInsystem.nnReviewed By: farnznnDifferential Revision: D4257835nnfbshipit-source-id: 01d0e851a582d73b3179cd2921175577fb3f887en",6.0,4.0,"TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,0.4689955935892812,13.0,133.0,12.0,15.865144675925924,4814.5,1.0472734766979457,475.0,Corrective,True,,
3bdab23817ed30ddf7e2f89cd5acc9de2f21b5c3,7ab1c21bd2ec88299980828f38eda739575fb68f,Wez Furlong,wez@fb.com,Fri Dec 2 10:04:48 2016 -0800,1480701888,"add handy constant for dir sepSummary:nWe already have a constant for the separator char, this isnthe equivalent for the separator string; it is useful when usingnw_string::build or watchman::to<std::string> to compose path names.nnReviewed By: sid0nnDifferential Revision: D4261450nnfbshipit-source-id: fa8129d6d6466ddca9708488ec76783cf4ce7af5n",6.0,0.0,"watchman_system.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,174.0,5.0,1.9527546296296296,4816.0,1.5120971087850732,2295.0,Feature Addition,False,,
7ab1c21bd2ec88299980828f38eda739575fb68f,344595e9bc4ab9aa3a3b36be473c51e807dbc169,Wez Furlong,wez@fb.com,Fri Dec 2 10:04:50 2016 -0800,1480701890,add couple of stringpiece helpersSummary: advance is borrowed from folly::Range::advance.  Also implement the != operator.nnReviewed By: sid0nnDifferential Revision: D4261478nnfbshipit-source-id: de81acdc2862213ec9f9f5f70ce9f530e2b55ddan,14.0,0.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.8631205685666309,13.0,806.5,61.0,2.6316608796296297,4817.5,1.2849907092152255,2297.0,Feature Addition,False,,
344595e9bc4ab9aa3a3b36be473c51e807dbc169,d9167a0789f776e761f3c22b05b6f6a1deff1d14,Wez Furlong,wez@fb.com,Fri Dec 2 10:04:51 2016 -0800,1480701891,"avoid making two w_strings in this codepathSummary:nSince we already know the offset we want, we can justnuse a string piece and build the correct final string.nnI added a helper for profiling here too; if you set `bench: true`nin your query spec, the query will be run 100 times in a loopnbefore really running and returning it.  This is helpful toneliminate some of the noisy overheads during query dispatch.nnReviewed By: sid0nnDifferential Revision: D4261518nnfbshipit-source-id: a653b4fe0d4bf4f535584c94632232f03a2f2b9dn",18.0,5.0,"query/eval.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,328.0,44.0,2.7861226851851852,4819.0,1.3589217392749282,271.0,None,False,,
d9167a0789f776e761f3c22b05b6f6a1deff1d14,fb15dd447b1ed57fb7cd067dfe54f7055a7a6157,Wez Furlong,wez@fb.com,Fri Dec 2 10:04:53 2016 -0800,1480701893,avoid n fields x m results string dupsSummary:nWe can cut these out now that we can just pass a w_stringnref through as a key.  This adds up to be a lot of discrete allocationsnfor a fresh instance result in a large repo.nnReviewed By: sid0nnDifferential Revision: D4261626nnfbshipit-source-id: 160217c69b7bfbd98798e400c9d7b4b8592167e4n,62.0,45.0,"query/fieldlist.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",4.0,2.0,2.0,0.7281400523059021,13.0,366.75,62.0,6.954629629629631,4821.5,1.0404909335736567,228.0,None,False,,
fb15dd447b1ed57fb7cd067dfe54f7055a7a6157,75645d13508e872bb7f2acef257e94be401131a5,Daniel Tschinder,daniel.tschinder@researchgate.net,Fri Dec 2 11:25:45 2016 -0800,1480706745,"Fix BSER for nodejsSummary:nThis fixes several issues with the nodejs implementation of BSER. Javascript is tricky as it treats all numbers as float, so there are some drawbacks of this implementation.nn* Fixed the MAX_INT16 and MAX_INT32 constants to be correct. They were both +1 which led to `argument is out of bounds` if trying to dump `32768` or `2147483648` as intn* Fixed detection of integers inside `dump_any()` by checking if it is an integer with the polyfill outline in this [MDN page](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill).n  * This has the drawback that a float cannot be enforced anymore, as `1.0` will also be detected as int because `1.0 === 1`n  * The only real solution to properly fix all cases which I can see, is to have a `new Double()` class or `new Integer()`class, which a user would need to supply to enforce the type.n* Changed `readInt()` when reading an 64bit integer to check if the value can be handled by node.js. If yes it returns the primitnCloses https://github.com/facebook/watchman/pull/393nnReviewed By: mostafaewedannDifferential Revision: D4261268nnPulled By: weznnfbshipit-source-id: b9d518ad416fac8242e9564b1beb52a539fcabc7n",28.0,8.0,"node/bser/index.js,CAS_DELIMITER,node/bser/test/bser.js,CAS_DELIMITER",2.0,1.0,2.0,0.9910760598382222,10.0,326.0,2.0,465.8975578703704,2.5,1.001609795946191,1.0,Corrective,True,,
75645d13508e872bb7f2acef257e94be401131a5,48915a54872a0901d8f12fabcd80cdc84792d8dd,Wez Furlong,wez@fb.com,Fri Dec 2 16:19:13 2016 -0800,1480724353,port these php tests to pythonSummary:nFor unknown reasons these tests caused a TSAN instrumentednbuild to fail to start up.  I suspect some weird environmental issuenwith hhvm (which we use in place of `php`) as a parent of thenspawned watchman processes in these tests.nnThis slays a dragon that was blocking converting more of the pythonntests over; the suspend/resume methods are now in the pythonntest machinery.nnReviewed By: farnznnDifferential Revision: D4254948nnfbshipit-source-id: 7205546a6e19e40550f16131845720321700fd77n,451.0,434.0,"tests/integration/TARGETS,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/fstype.php,CAS_DELIMITER,tests/integration/test_fstype.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER,tests/integration/trigger.php,CAS_DELIMITER,tests/integration/watchproject.php,CAS_DELIMITER",9.0,1.0,1.0,2.8379207167228344,13.0,127.77777777777777,101.0,132.5077919238683,4828.0,1.0994327082121622,484.0,Preventative,False,True,"[""68e7db65ae2287346622f8026b92d9b8df7b72ca"", ""646cfad6bfcd5b63d9c7994e6655725d03fc25bd"", ""52124910aef276fa6d78564df5bc5079c7335e07"", ""73913665c25fef0a33596e3d26719a41a5dc538f"", ""a606ff703697835faa25399c5d2a26b23c12f94e""]"
48915a54872a0901d8f12fabcd80cdc84792d8dd,5b23fbdb74fe507cbb217aece4eee7df403d6179,Wez Furlong,wez@fb.com,Mon Dec 5 10:11:34 2016 -0800,1480961494,remove two dead php test filesSummary: The test that depended on these was migrated to python a while back.nnReviewed By: sid0nnDifferential Revision: D4269174nnfbshipit-source-id: 104006cfe88c7a3599fb21da3e8b1404be85cd53n,0.0,38.0,"tests/integration/_capture.php,CAS_DELIMITER,tests/integration/_cat.php,CAS_DELIMITER",2.0,1.0,1.0,0.9919924034538556,8.0,19.0,3.0,566.334832175926,4833.5,1.0016132458872058,486.0,Preventative,False,,
5b23fbdb74fe507cbb217aece4eee7df403d6179,68e7db65ae2287346622f8026b92d9b8df7b72ca,Wez Furlong,wez@fb.com,Mon Dec 5 13:45:48 2016 -0800,1480974348,"fixup some issues on macOSSummary:n* We need to ensure that we zero-initialize the attrlist buffer or it will randomly fail.n* take care about printing out the moved stm pointer when creating a clientn* opendir related errors should use the string opendir, or one of the integration tests will fail on the mac.n* In addition, the test_sock_perm.py test can look for the server log file before it exists, so catch any exceptions that it may raise while waiting for the file to appear.n* When suspending watchman, avoid trying to suspend it if the pid number looks scary (this is just being defensive; I didn't see this in practice)nnReviewed By: sid0nnDifferential Revision: D4279351nnfbshipit-source-id: 2b6ac73992b2b97df83a4fb06dce89a88ab1cc06n",12.0,7.0,"listener.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER",4.0,2.0,2.0,1.799015670655122,13.0,446.0,61.0,8.665789930555555,4836.5,1.089318326854193,488.0,Corrective,True,,
68e7db65ae2287346622f8026b92d9b8df7b72ca,4ec86456fbd19a8f1d413e70007dd3f2827d2993,Wez Furlong,wez@fb.com,Mon Dec 5 14:30:08 2016 -0800,1480977008,"remove unused local variableSummary:nAddresses this warning:nn```npywatchman/bser.c: In function u00e2u0080u0098_pdu_info_helperu00e2u0080u0099:npywatchman/bser.c:961:25: warning: variable u00e2u0080u0098total_lenu00e2u0080u0099 set but not used [-Wunused-but-set-variable]n   int64_t expected_len, total_len;n ^n```nnReviewed By: mzleennDifferential Revision: D4279942nnfbshipit-source-id: 63eba0df2cfaeb99fe238056a81f7f19a41693fen",1.0,3.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,1171.0,21.0,62.182418981481476,4839.0,1.0160817159637647,74.0,None,False,,
4ec86456fbd19a8f1d413e70007dd3f2827d2993,234be7aa938f498b2a1785f6aacee6051edd77b6,Wez Furlong,wez@fb.com,Mon Dec 5 16:04:42 2016 -0800,1480982682,"we don't need strict symlink checks for the state dirSummary:nsimpkins noticed that this broke his symlink-redirected /var dir with the 4.8 pre-release.nnThis diff adds a flag to our opendir wrapper to skip the strict checks and justnuse regular `open` or `opendir` depending on the platform, then makes the statendir opening code pass false for that flag.nnReviewed By: simpkinsnnDifferential Revision: D4279666nnfbshipit-source-id: 88e798a27126961fb0a1c7e144edf9dcd4d378een",20.0,14.0,"main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,watchman_opendir.h,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.7699926200894214,13.0,447.5,26.0,4.473914930555557,4841.5,1.1191040189549155,201.0,None,False,,
234be7aa938f498b2a1785f6aacee6051edd77b6,24c80a29ac0f18297152b7b266d93f35aa34430f,Wez Furlong,wez@fb.com,Mon Dec 5 21:07:45 2016 -0800,1481000865,"make trigger_chdir less flakySummary:nCircleCI shows that this test was failing very quickly in some cases;nrather than waiting for one line out of the sequence of 2-3 lines, wait forneach of the lines that we expect to find.nnReviewed By: sid0nnDifferential Revision: D4279908nnfbshipit-source-id: d0fdc6b7ba8e30c34e76b24d91980ceb4d1286aen",5.0,5.0,"tests/integration/test_trigger_chdir.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,267.0,2.0,87.48313657407408,4844.0,1.0114307744230602,489.0,None,False,,
24c80a29ac0f18297152b7b266d93f35aa34430f,f57da7a3be4641ed4496dff60fef30d8ec9ac102,Wez Furlong,wez@fb.com,Mon Dec 5 21:28:06 2016 -0800,1481002086,fixup python 2.6 issueSummary:nMake these tests use unittest2 so that we have accessnto a richer set of test assertionsnnReviewed By: sid0nnfbshipit-source-id: 082546865a1d22d50cc8da057ace03c2e51c961fn,4.0,1.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,333.0,31.0,17.351203703703707,4845.0,1.0576328891687523,75.0,Corrective,True,,
f57da7a3be4641ed4496dff60fef30d8ec9ac102,d39c77693449583dcbb4d1701888f3dddd09ff4b,Wez Furlong,wez@fb.com,Mon Dec 5 22:00:21 2016 -0800,1481004021,"Attempt to fix appveyor buildsSummary:nLooks like the last successful run on appveyor was using PHPn7.0.9.  The current PHP release fails to install and breaks the build,nso let's try pinning to this last known good version.nCloses https://github.com/facebook/watchman/pull/398nnDifferential Revision: D4283477nnPulled By: weznnfbshipit-source-id: 77a33c6b5228ab7c8df7250cdfc931db551894fdn",1.0,1.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,34.0,7.0,70.41327546296296,4846.0,1.0142018673811872,2303.0,Corrective,True,,
d39c77693449583dcbb4d1701888f3dddd09ff4b,f4d81fadf07283b77ad88bf1667cb63466e0d8a3,Wez Furlong,wez@fb.com,Tue Dec 6 13:32:51 2016 -0800,1481059971,remove this dead functionSummary: It's no longer callednnReviewed By: sid0nnDifferential Revision: D4282996nnfbshipit-source-id: 0bbd40ec1eabc1458c75aa838e0744aa1806ec2cn,0.0,11.0,"query/eval.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,341.0,45.0,4.144444444444445,4847.0,1.2412868632707774,273.0,None,False,,
f4d81fadf07283b77ad88bf1667cb63466e0d8a3,63af5f9054911cf50d8da75561f0aa27cd9fc030,Wez Furlong,wez@fb.com,Tue Dec 6 13:32:54 2016 -0800,1481059974,protect the cookie.seen predicate writes with cookie.mutexSummary:nThis fixes up the cookie wakeups; we were just setting seen tontrue then notifying the waiter.  Since seen is not intrinsically atomicnthis may be observed by the waking thread.nnGuarding the write with acquiring and releasing the mutex makes this a littlenmore correct.nnReviewed By: sid0nnDifferential Revision: D4282316nnfbshipit-source-id: 293952340e758efec2e55aaa78099f2af4121386n,1.0,0.0,"CookieSync.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,116.0,3.0,6.930717592592592,4848.0,1.1442852037527511,2304.0,None,False,,
63af5f9054911cf50d8da75561f0aa27cd9fc030,0c2f57482e254422c5a19ff8aaa364b12bd4d116,Wez Furlong,wez@fb.com,Tue Dec 6 13:32:55 2016 -0800,1481059975,"fix regression in pathCatSummary:nPrior to c++ifying this code, the path cat function wouldnbe smart enough to not emit / for empty strings.  This got lostnalong the way and was breaking hh_server running against our wwwnrepo; hh_server would pass `relative_root: ` and because of thenbroken path cat function we would interpret that as / and causenall of its queries to never match anything.nnReviewed By: sid0nnDifferential Revision: D4282990nnfbshipit-source-id: 636aaabf950f00481260e1f7ef1a878b93cc2722n",21.0,3.0,"string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,13.0,572.5,29.0,5.460329861111113,4849.5,1.166426526811461,490.0,Corrective,True,True,"[""a10f6ba477cf77942dad0ef79844693217c46323""]"
0c2f57482e254422c5a19ff8aaa364b12bd4d116,ce039ce17a73fa066e246ac2e01cb7839dea0580,Wez Furlong,wez@fb.com,Wed Dec 7 17:19:01 2016 -0800,1481159941,deal with map being a lazy object in python 3.1+Summary:nWe have to force it into list form if we want assertEqual tonwork properly.nnShakes fist at python!nnReviewed By: sid0nnfbshipit-source-id: 95dc7037e7cca40800df8dfb62e6bc7d6f8a2161n,2.0,2.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,448.0,32.0,5.0415277777777785,4851.0,1.19835257169619,491.0,None,False,,
ce039ce17a73fa066e246ac2e01cb7839dea0580,a10f6ba477cf77942dad0ef79844693217c46323,Wez Furlong,wez@fb.com,Wed Dec 7 17:35:44 2016 -0800,1481160944,fixup dirname/basename methodsSummary:nNoticed that we were getting garbage for these on windows.nAdd a unit test and fix them up.nnReviewed By: sid0nnDifferential Revision: D4295097nnfbshipit-source-id: 4e8bc3e2346afa2967a6a70c858b2f3f8dd6b703n,42.0,6.0,"opendir.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.1228074058019706,13.0,583.3333333333334,38.0,1.4668209876543212,4853.0,1.3404499671818018,492.0,Corrective,True,,
a10f6ba477cf77942dad0ef79844693217c46323,5c33f1f384ab138da3e63fafd3bb1a64a2f734c7,Wez Furlong,wez@fb.com,Thu Dec 8 12:43:42 2016 -0800,1481229822,"remove some more php tests, tweak test normalization funcsSummary:nmigrate these to the equivalent python and fixup some normalizationnand comparison stuff; this gets the tests all passing correctly on windows andnlinux.nnReviewed By: sid0nnDifferential Revision: D4296801nnfbshipit-source-id: f995f12770ca81828bb991ae15f388f92cfe96afn",345.0,419.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/absroot.php,CAS_DELIMITER,tests/integration/age.php,CAS_DELIMITER,tests/integration/bigpcre.php,CAS_DELIMITER,tests/integration/bsdish.php,CAS_DELIMITER,tests/integration/pcre.php,CAS_DELIMITER,tests/integration/test_absroot.py,CAS_DELIMITER,tests/integration/test_age_file.py,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,tests/integration/test_bsdish.py,CAS_DELIMITER,tests/integration/test_find.py,CAS_DELIMITER,tests/integration/test_pcre.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER",15.0,1.0,1.0,3.6759282312010098,13.0,110.6,91.0,151.45338117283953,4862.0,1.0839369703852673,507.0,Preventative,False,True,"[""9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c""]"
5c33f1f384ab138da3e63fafd3bb1a64a2f734c7,4ce4775cc9c8045df8185f467c77300c3a108c56,Wez Furlong,wez@fb.com,Thu Dec 8 12:43:45 2016 -0800,1481229825,add FileDescriptor::isNonBlock() methodSummary: This just tests whether the descriptor is set to non-blocking modennReviewed By: sid0nnDifferential Revision: D4282279nnfbshipit-source-id: b71b0dd288f30658b665a339cc1558c546db2be3n,11.0,0.0,"FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER",2.0,1.0,1.0,0.8453509366224365,13.0,63.0,2.0,8.896666666666668,4870.5,1.084301236418134,2309.0,Feature Addition,False,,
4ce4775cc9c8045df8185f467c77300c3a108c56,34162731dcbe9f6d549cbcda0abfc31a2394bd21,Wez Furlong,wez@fb.com,Thu Dec 8 12:43:46 2016 -0800,1481229826,"add timeout when writing in blocking mode on unixSummary:nI don't know if we strictly need this because I saw what looked like anblocked write when looking at the output of quickstack, but later realized thatnquickstack was printing a nonsensical stack trace anyway.nnI'm putting it up for review anyway because I don't always trust the kernelnto give timely notifications for dead connections.nnIf the descriptor is opened in blocking mode, we'll try to write out thensupplied buffer whenever `poll(2)` tells us that writing will not blocknand propagate back any errors.  We use a timeout on the `poll` call tonavoid blocking forever.nnI've only added this for unix systems at this time.nnReviewed By: sid0nnDifferential Revision: D4282285nnfbshipit-source-id: 3a3ee4beefbcd2322536fe626d170319fcbcc132n",27.0,0.0,"stream_unix.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,234.0,7.0,8.8965625,4872.0,1.112402964628192,2310.0,Feature Addition,False,,
34162731dcbe9f6d549cbcda0abfc31a2394bd21,c5d14f1b129b1133f6ce13bdf6f250a141745fd9,Wez Furlong,wez@fb.com,Thu Dec 8 12:43:47 2016 -0800,1481229827,"expose the client pid in our stream layerSummary:nWhile troubleshooting the source of some queries it is valuable to benable to determine the process id of the peer, so add a method that returns thenpid of the peer if known.nnWe already had code to query the peer credentials on Linux and Mac, so thisnjust moves it to the constructor and makes the existing ownership checkna simple accessor for that that, then adds a method to return the processnID from that same state.nnReviewed By: sid0nnDifferential Revision: D4282299nnfbshipit-source-id: fcfa7a10723d088b4a33a756110933dc39ee0605n",42.0,16.0,"stream_stdout.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER",4.0,1.0,1.0,0.838657161306103,13.0,291.0,35.0,6.633796296296296,4874.5,1.079796341003727,2314.0,None,False,True,"[""99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb""]"
c5d14f1b129b1133f6ce13bdf6f250a141745fd9,ce4f339e15a7aa13d37b6128835db19d7a6d85a2,Wez Furlong,wez@fb.com,Thu Dec 8 12:43:49 2016 -0800,1481229829,add the client pid to the client thread nameSummary:nThis causes it to show up in the debug logs.nnAlso add it to the perf samples that we collect.nnReviewed By: sid0nnDifferential Revision: D4282305nnfbshipit-source-id: 6ddd75260df277505c7490b2a24e7a677103965an,13.0,2.0,"cmds/reg.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8366407419411673,13.0,468.0,41.0,5.849519675925926,4877.5,1.0999331564979102,2315.0,Feature Addition,False,,
ce4f339e15a7aa13d37b6128835db19d7a6d85a2,47964a9181c0c737b3e5b04e2e367d965b76c03b,zphricz,zack.hricz@oculus.com,Fri Dec 9 11:08:30 2016 -0800,1481310510,"Forced bser module import by using pdu_infoSummary:nBecause demandimport lazily import bser, this fallback approach doesn't actually seem to work. I ran into issues with it when trying to get watchman working on windows when I didn't have the compiled bser module.nCloses https://github.com/facebook/watchman/pull/399nnReviewed By: weznnDifferential Revision: D4301527nnPulled By: zphricznnfbshipit-source-id: 612c4040b9c41462d516b4ef20edf269a5126d4dn",3.0,0.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,1014.0,46.0,36.09650462962963,0.0,0.0,0.0,None,False,,
47964a9181c0c737b3e5b04e2e367d965b76c03b,359aceb996677df73baa906ef257a1db45d87885,Wez Furlong,wez@fb.com,Tue Dec 13 11:43:59 2016 -0800,1481658239,fix a couple of nits found by othersSummary:nTwo problems:nn1. MoveEvaluationOrder problem with the watchlist found by philwilln2. Unused include in log_stub.cpp found by matbdnnfbshipit-source-id: bbf0e11c292a8b80adef2985e9ef43310dd921d6n,2.0,3.0,"root/watchlist.cpp,CAS_DELIMITER,tests/log_stub.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9709505944546686,13.0,147.5,20.0,26.57575231481481,4879.5,1.0478047846203862,508.0,Corrective,True,,
359aceb996677df73baa906ef257a1db45d87885,1fc7676f7362f03282e63b6a322ab74e4855dace,Siddharth Agarwal,sid0@fb.com,Tue Dec 13 14:07:13 2016 -0800,1481666833,turn BSERv2 capabilities bitvector into a fixed length intSummary:nThis is based on dhruvsinghal's work:nnhttps://github.com/facebook/watchman/commit/fb4c3d92989dfe62dba2f4a8313fffb74ed86ce9nhttps://github.com/facebook/watchman/commit/9940fc02486835ac8b4a118ec7f094bcd4d027a1nnWe decided to make this a fixed length int because it's much simpler to deal with.nnThere are no compat constraints because BSERv2 isn't out of its experimental phase.nnReviewed By: weznnDifferential Revision: D4318546nnfbshipit-source-id: 4bbc31a1c67925cf90837e6dec5270e60d769471n,23.0,18.0,"bser.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER",4.0,2.0,2.0,1.8348314131557568,14.0,727.0,60.0,30.20475694444444,354.5,1.0215239074382896,46.0,Corrective,True,,
1fc7676f7362f03282e63b6a322ab74e4855dace,a4034cbdd085d4b073278bfc380f310df9c412af,Siddharth Agarwal,sid0@fb.com,Tue Dec 13 14:07:16 2016 -0800,1481666836,switch bser_bytestring to using a w_string_pieceSummary: This is a nice microoptimization that also makes the code easier to read.nnReviewed By: weznnDifferential Revision: D4321366nnfbshipit-source-id: b207348299f2f066f245eadcddc271820accdf7bn,8.0,8.0,"bser.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,680.0,7.0,3.472222222222222e-05,357.0,28801.0,138.0,Preventative,False,,
a4034cbdd085d4b073278bfc380f310df9c412af,1275ff8649148daab7f87ea629c2c34dc6d185c4,Siddharth Agarwal,sid0@fb.com,Tue Dec 13 14:07:17 2016 -0800,1481666837,"BSERv2: allow emitting unicode strings on the serverSummary:nThis is based on dhruvsinghal's work:nnhttps://github.com/facebook/watchman/commit/9996a3e6804a40b474a58678c3830256330d78bennThis will allow us to finally start emitting Unicode strings on the server, so that we can get rid of all our Python 3 compatibility stuff.nnReviewed By: weznnDifferential Revision: D4318629nnfbshipit-source-id: 5fe860d76b90d89a6b1f62a377c3264eedffdc58n",116.0,23.0,"bser.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER",9.0,2.0,2.0,2.1722908200263187,14.0,405.66666666666674,139.0,9.715102880658435,362.0,9601.03318610164,146.0,None,False,,
1275ff8649148daab7f87ea629c2c34dc6d185c4,1aa41a02b07b8c9991566977af8006b20f769623,Siddharth Agarwal,sid0@fb.com,Tue Dec 13 14:07:18 2016 -0800,1481666838,run pywatchman/bser.c through clang-formatSummary: I had to disable clang-format for a few blocks here and there that weren't treated well. But reformatting all this in one go will make my life easier when I make changes to this code.nnReviewed By: weznnDifferential Revision: D4318690nnfbshipit-source-id: 18594a5dac99a822541e458375c50137cf506229n,215.0,190.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,1170.0,23.0,5.787037037037037e-05,367.0,17281.0,47.0,None,False,,
1aa41a02b07b8c9991566977af8006b20f769623,8fbd9f076eb846874544f5e571e63da0ce0dee78,Siddharth Agarwal,sid0@fb.com,Tue Dec 13 14:07:20 2016 -0800,1481666840,BSERv2: handle deserializing UTF-8 strings in Python clientsSummary:nThis is the other side to D4318629. Based on dhruvsinghal's work:nnhttps://github.com/facebook/watchman/commit/f74934639be36724aad3af89051de4517b243f7annReviewed By: weznnDifferential Revision: D4318697nnfbshipit-source-id: 16cfdf7a76e35d4376c54b7f2e206a02ebc3ee3dn,22.0,2.0,"python/pywatchman/bser.c,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER",2.0,1.0,1.0,0.8708644692353646,14.0,838.0,51.0,5.208333333333333e-05,368.5,26401.0,49.0,None,False,,
8fbd9f076eb846874544f5e571e63da0ce0dee78,3cc6b8d901b4d9efc817c2ee3a4042e1a3843dd4,Wez Furlong,wez@fb.com,Tue Dec 13 14:13:41 2016 -0800,1481667221,"improve perf for subscriptions and triggersSummary:nWe noticed that client threads could apparently spin calling PubSub::getNext.nnLooking at the `log-level debug` output while this is happening in one of our bignrepos shows that the trigger assessment is very aggressively calling getNext inna loop, closely followed by the approximately 10 subscriptions that are alsonassociated with this repo.  These dispatches have mostly nothing to do innthese situations; the wakeups are just due to the settle notifications thatnare exponentially backing off.  So if you have a default or relatively smallnsettle period configured in the root, you'll see these run quite hot for a whilenuntil the sleep interval backs off sufficiently.nnTo help avoid this being so busy, rather than calling getNext() in a loop wencan call the getPending() method to return the vector of all pending itemsnin a chunk (which only requires one lock call to get all items).nnThen we can process that chunk and collect whether the settle payload appears,ndispatching the trigger or subscription just once for the batch of items.nnReviewed By: sid0nnDifferential Revision: D4302635nnfbshipit-source-id: 7f187f0578d17f1dc2a932e1ff8337fc0e3ed514n",45.0,38.0,"PubSub.cpp,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER",5.0,2.0,2.0,1.887613269527821,14.0,353.6,66.0,21.64714583333333,4883.0,1.0135402130023259,2320.0,None,False,True,"[""00ebe08677d320a28e2587ede33d0183a8efe73e""]"
3cc6b8d901b4d9efc817c2ee3a4042e1a3843dd4,fc65f19c39d93b2211e1f77f802b66436eabed81,Siddharth Agarwal,sid0@fb.com,Wed Dec 14 13:10:59 2016 -0800,1481749859,"run tests/bser.cpp through clang-formatSummary: Want to make some changes, and want to separate out reformatting from functional changes.nnReviewed By: weznnDifferential Revision: D4322400nnfbshipit-source-id: 2890c7dfafb51cb26c1ff8b86753d3bedef1da23n",147.0,66.0,".clang-format,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9804344190803832,13.0,92.0,4.0,27.438697916666666,370.5,0.5091112195177507,99.0,Preventative,False,,
fc65f19c39d93b2211e1f77f802b66436eabed81,dbe101d854679be75427241017afb67167a70c33,Siddharth Agarwal,sid0@fb.com,Wed Dec 14 13:11:03 2016 -0800,1481749863,tests/bser.cpp: NULL -> nullptrSummary: It's nicer and silences the lint warnings.nnReviewed By: weznnDifferential Revision: D4322471nnfbshipit-source-id: 64a60daf25c913953d856a15e642e796cea6b3f2n,6.0,6.0,"tests/bser.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,176.0,5.0,4.629629629629629e-05,372.0,21601.0,100.0,Preventative,False,,
dbe101d854679be75427241017afb67167a70c33,a2f147851bec260e011e7e6d809b56d43b700bc4,Wez Furlong,wez@fb.com,Wed Dec 14 20:26:46 2016 -0800,1481776006,fix off-by-one for wide string size on windowsSummary:nThis would cause us to build a string with a garbage trailingnNUL wide byte and then later fail to match or open files or dirs. :-(nnReviewed By: sid0nnDifferential Revision: D4332123nnfbshipit-source-id: ace6616031c1642188f134bf64dab6e7921756e9n,1.0,1.0,"winbuild/pathmap.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,165.0,2.0,15.063564814814816,4886.0,1.0663853485077126,202.0,Corrective,True,,
a2f147851bec260e011e7e6d809b56d43b700bc4,285b0bc02d8d7268e353f699cc1a370277a92b84,Wez Furlong,wez@fb.com,Wed Dec 14 20:26:48 2016 -0800,1481776008,"don't throw for ENOENT on windows in is_canonical_basenameSummary:nIf an exception escapes the iothread code path uncaught, we'll cancel the root.nnFor deleted files this is a benign error condition; it's just a TOCTOU.nnReviewed By: sid0nnDifferential Revision: D4332130nnfbshipit-source-id: 9bb8afa0316569b670971475e00a25c97cacde0fn",7.0,1.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,594.0,8.0,7.1187962962962965,4887.0,1.1404731865301825,2321.0,None,False,,
285b0bc02d8d7268e353f699cc1a370277a92b84,c77452ac07232dbf36c65a2567cc7180d92b0450,Wez Furlong,wez@fb.com,Wed Dec 14 20:26:49 2016 -0800,1481776009,"fix pywatchman client timeout on windowsSummary:nWe were using the inherited NOP setTimeout method.  Hook this up,nconverting to the milliseconds integers that we need for the windows API.nnReviewed By: sid0nnDifferential Revision: D4332140nnfbshipit-source-id: aa59a43de462245c6147cc0a24c6db2662f849b0n",4.0,0.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,1017.0,47.0,5.387719907407408,4888.0,1.1856072730553664,76.0,Corrective,True,,
c77452ac07232dbf36c65a2567cc7180d92b0450,2d54bfef1f3a05b22505f82970a81a988d2eefc6,Wez Furlong,wez@fb.com,Wed Dec 14 20:26:50 2016 -0800,1481776010,"pywatchman: normalize root paths for subscription dataSummary: Without this, using the client can be non-deterministic, particularly on Windows, but potentially also on mac.nnReviewed By: sid0nnDifferential Revision: D4332147nnfbshipit-source-id: 3a9c11e81e24cfa21018c3153a53bddc198115e5n",5.0,4.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,1021.0,48.0,1.1574074074074072e-05,4889.0,86401.0,77.0,None,False,,
2d54bfef1f3a05b22505f82970a81a988d2eefc6,11d341d853322d79f9fdea5e58325f407f396bc3,Lubo Astinov,lubo@fb.com,Thu Dec 15 00:02:54 2016 -0800,1481788974,add canonical path normalizer for python test suiteSummary:nThis allow us to determine the true case of the path on thenfilesystem in the test suite so that we can reduce/remove casennormalization in the harness.  It also helps to unlock addingna reasonable error message for https://github.com/facebook/watchman/issues/225nnFixes https://github.com/facebook/watchman/pull/321nnDifferential Revision: D4315444nnfbshipit-source-id: 2dc483aef7a6cee561e2527c3ea9ccb6e73e76c6n,109.0,38.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/TempDir.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/ignore.php,CAS_DELIMITER,tests/integration/invalidroot.php,CAS_DELIMITER,tests/integration/path_utils.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER",9.0,2.0,2.0,2.1321863924737565,14.0,199.3333333333333,118.0,189.52950102880658,4.0,0.8922531517617581,7.0,Feature Addition,False,True,"[""e013d4474e3071afc541ae0f1ba81013c9fd15fd"", ""a606ff703697835faa25399c5d2a26b23c12f94e""]"
11d341d853322d79f9fdea5e58325f407f396bc3,49b4d89cc119da2199542590ca1db9f261b6c8b1,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:53:51 2016 -0800,1481820831,tests/bser.cpp: use std::stringSummary: This allows us to simplify a bunch of memcmps.nnReviewed By: weznnDifferential Revision: D4328805nnfbshipit-source-id: 3d9358bee7b263e6587a3c6fdce8324c7f369060n,31.0,26.0,"tests/bser.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,176.0,6.0,0.8213888888888888,373.0,2.2174501183632063,101.0,Preventative,False,,
49b4d89cc119da2199542590ca1db9f261b6c8b1,fe8a9f6679a38539d9bb9bb5221a6c3d97689ea8,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:53:54 2016 -0800,1481820834,"add some more tests for BSER decodingSummary:nI noticed we had very few tests for BSERv2 string emitting, so I wrote some. More will be coming when I can get mixed strings working.nn(I'm not sure I can C++ fully yet, so suggestions would be welcome.)nnReviewed By: weznnDifferential Revision: D4325146nnfbshipit-source-id: 611ec7d777f2913e0b4e5b9d09fa0719d2a17618n",141.0,23.0,"bser.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER",3.0,2.0,2.0,0.36115613088672016,14.0,333.0,22.0,1.1882600308641973,375.0,1.4675370214999806,149.0,Feature Addition,False,,
fe8a9f6679a38539d9bb9bb5221a6c3d97689ea8,3bde49121712fd23c4be0d8d9437a4dcc0ae2adf,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:53:55 2016 -0800,1481820835,reformat jansson/utf.cppSummary: Reformat this file because otherwise it's super annoying to deal with multiple indent levels in the same file.nnReviewed By: weznnDifferential Revision: D4325242nnfbshipit-source-id: e672f0195bf8012978a01b963a7e8ebfac63940an,124.0,151.0,"thirdparty/jansson/utf.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,190.0,1.0,56.7771875,377.0,1.0176127075685106,0.0,None,False,,
3bde49121712fd23c4be0d8d9437a4dcc0ae2adf,f8390953d22ea7a51d7d30cd13ed8cc25213c11d,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:53:56 2016 -0800,1481820836,"add escaping for mixed stringsSummary:nThis is based on dhruvsinghal's work:nnhttps://github.com/facebook/watchman/commit/0577568c641b6dcceeca6d52f1f82133b99141cdnnI added a whole bunch of tests to make sure nothing goes wrong.nnModulo bugs, I believe this is the final thing we need before we can expose this and start making our tests better.nnReviewed By: weznnDifferential Revision: D4325642nnfbshipit-source-id: d0186d2dbcc0778c1f802be62b24071a4a5e3c1dn",126.0,21.0,".clang-format,CAS_DELIMITER,bser.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/utf.cpp,CAS_DELIMITER,thirdparty/jansson/utf.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",8.0,3.0,3.0,2.173396974256702,14.0,408.125,112.0,188.5287326388889,381.5,1.3457166958889275,153.0,Feature Addition,False,,
f8390953d22ea7a51d7d30cd13ed8cc25213c11d,89b3bee48b855a19e98e06ecddab5c652a4a6b6c,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:53:58 2016 -0800,1481820838,"expose BSERv2 capability, use it by default, force it on on py3Summary:nWe also need to fix up some test harness stuff in the same commit. In upcoming diffs we're going to get rid of a lot more Unicode normalization cruft.nnSee https://github.com/facebook/watchman/wiki/Better-Unicode-handling-plan for the overall plan. This is now mostly implemented, with a couple of parts still missing.nnReviewed By: weznnDifferential Revision: D4325659nnfbshipit-source-id: a235e0d1a3682f1645097d3bbcd6760c96ad4d45n",96.0,48.0,"json.cpp,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",3.0,3.0,3.0,0.5822573718433871,15.0,698.3333333333335,92.0,0.8900192901234568,387.0,1.4567010974143584,104.0,None,False,,
89b3bee48b855a19e98e06ecddab5c652a4a6b6c,6386ba3225182a5886e8ea4ca2779d250142ebf5,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:53:59 2016 -0800,1481820839,unicode: cleanup decodeBSERUTF8 and assertEqualUTF8StringsSummary: These are no longer necessary now that we return Unicode strings by default on Python 3.nnReviewed By: weznnDifferential Revision: D4332224nnfbshipit-source-id: a7cce95eb50d7a696cd66efcb886d505659f3a01n,33.0,40.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER",6.0,1.0,1.0,2.3504031082545143,15.0,281.0,75.0,36.43107638888889,391.5,14401.014969021711,110.0,None,False,,
6386ba3225182a5886e8ea4ca2779d250142ebf5,3b80de795202cdedd8e0f8981b32df5de8142d90,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 08:54:00 2016 -0800,1481820840,"unicode: clean up normRecursiveSummary: Now that we return Unicode strings on Python 3 by default, this isn't necessary.nnReviewed By: weznnDifferential Revision: D4332258nnfbshipit-source-id: cf17e7d13c2d7501f0237beecac146a6b84b0743n",4.0,35.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER",3.0,1.0,1.0,1.198183947911799,15.0,348.0,58.0,1.1574074074074072e-05,396.0,52801.0,113.0,None,False,,
3b80de795202cdedd8e0f8981b32df5de8142d90,4712e816e5741f9c6120f7a2c8fe3d3e89ed2b2e,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 12:30:38 2016 -0800,1481833838,"buck: fix dependency cycleSummary: `watchman:string` depends on `utf.cpp` in `jansson`, but `jansson` depends on `watchman:string`.nnReviewed By: weznnDifferential Revision: D4334434nnfbshipit-source-id: c0def2774dda1b019b6e46a0394254dbcf5a53een",31.0,24.0,"TARGETS,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,0.3054005708792004,13.0,137.0,12.0,34.95918981481481,398.5,1.0426903708341226,4.0,None,False,,
4712e816e5741f9c6120f7a2c8fe3d3e89ed2b2e,9eb576b90e8f4e8f8a86aea7abd6f8e4558359c5,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 12:32:32 2016 -0800,1481833952,unicode: remove conv_path_to_bytesSummary: This is no longer necessary because we now return Unicode strings by default on Python 3.nnReviewed By: weznnDifferential Revision: D4332277nnfbshipit-source-id: 8de739b286442ee79c29bcd68fabfeffa1960d14n,26.0,15.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,1.0,1.0,0.5349436990971067,15.0,390.0,52.0,0.15175925925925926,400.5,5.942037827943867,115.0,None,False,True,"[""405c0cb888b5f39945b1079fa60e9a4ed28a5059""]"
9eb576b90e8f4e8f8a86aea7abd6f8e4558359c5,eb05fb1708f092243819b3e62f5b818b8d8738f9,Wez Furlong,wez@fb.com,Thu Dec 15 14:11:48 2016 -0800,1481839908,remove unused windows realpath implementationSummary: This is just dead codennReviewed By: farnznnDifferential Revision: D4334330nnfbshipit-source-id: ec4499da219016ce70b1d499817adb8490d8eacfn,0.0,37.0,"winbuild/realpath.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,113.0,2.0,15.803171296296293,4890.0,1.063278438311579,203.0,None,False,,
eb05fb1708f092243819b3e62f5b818b8d8738f9,f25723337b13ffacaaa12ce5e1bfe1d2a31db0c9,Wez Furlong,wez@fb.com,Thu Dec 15 14:11:51 2016 -0800,1481839911,"standardize on / dir separators on all platformsSummary:nThis removes the WATCHMAN_DIR_SEP constant and instead just forces usnto use / as a directory separator, even on Windows.nnThis is for our internal representation of paths only; when we translate ourninternal multi-byte string to WCHAR we will replace the separators with thentypical windows backslash.nnIn the future, I want to clean up our suite of functions that operate onnpaths and introduce a more strongly typed way of working with them.nnFor now, this seems sufficient to catch the edges.nnNote that this causes watchman to always emit relative file lists with forwardnslashes on Windows.  Previously those paths would use backslashes.  I believenthat this is benign because Windows doesn't really care, but may ticklenoverzealously pedantic path libraries in some environments.  I don't know ifnsuch a thing exists.nnAdding mostafaeweda for Nuclide as the most likely client that might care about thisnnReviewed By: farnznnDifferential Revision: D4334456nnfbshipit-source-id: c05ddf30a6808179cceb5869dccf739feaed8953n",76.0,74.0,"CookieSync.cpp,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,ignore.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER",19.0,5.0,5.0,3.8629473540053656,15.0,422.4210526315789,419.0,13.909722222222221,4900.0,1.0158324252735829,205.0,None,False,,
f25723337b13ffacaaa12ce5e1bfe1d2a31db0c9,a2c5145baa5250777752720e027a4f777c8efe56,Yiqiu Liu,yiqiuliu0511@gmail.com,Thu Dec 15 14:11:52 2016 -0800,1481839912,add casing problem detection and testSummary:n1. Add code into root.c to detect casing problem in case insensitive operation system.n2. Create NodeJS test case.js to test this functionality.nCloses https://github.com/facebook/watchman/pull/311nnDifferential Revision: D4333005nnReviewed By: sid0nnPulled By: weznnfbshipit-source-id: 5dede5fde16edbd75c4366f7e6b25d4742aa20edn,59.0,0.0,"root/resolve.cpp,CAS_DELIMITER,tests/integration/case.js,CAS_DELIMITER",2.0,2.0,2.0,0.9747785474909672,16.0,139.5,15.0,5.787037037037038e-06,0.5,43200.5,0.0,Corrective,True,,
a2c5145baa5250777752720e027a4f777c8efe56,519c6e24f299dead76b72839cd73b4136f52cb52,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 21:22:53 2016 -0800,1481865773,travis: try upgrading to Python 3.5.2Summary:nThis is nice to have.nnCloses https://github.com/facebook/watchman/pull/401nnDifferential Revision: D4338621nnPulled By: sid0nnfbshipit-source-id: 9e67eac01b4c549327706ca7f16f2843e4bbd5e8n,2.0,2.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,32.0,24.0,168.44666666666666,402.0,1.0059365971425178,4.0,None,False,,
519c6e24f299dead76b72839cd73b4136f52cb52,520b6548cf4b1a8b1796e3fa745ebda23e687bf5,Siddharth Agarwal,sid0@fb.com,Thu Dec 15 21:23:28 2016 -0800,1481865808,"path_utils: return whatever type's passed inSummary:nAt the moment we always return a bytestring from this function, even if a Unicode string was passed in. Instead, return whatever type's passed in.nnCloses https://github.com/facebook/watchman/pull/403nnReviewed By: weznnDifferential Revision: D4338622nnPulled By: sid0nnfbshipit-source-id: cf212c6f023a75a0c87836e6c86f831622adee4dn",6.0,6.0,"tests/integration/path_utils.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,84.0,1.0,0.8892824074074074,403.0,2.124502173516933,116.0,None,False,,
520b6548cf4b1a8b1796e3fa745ebda23e687bf5,3375b0f03e116d6ea7120103a8a66c1721b9be0a,Wez Furlong,wez@fb.com,Mon Dec 19 14:01:26 2016 -0800,1482184886,"fix some bad loggingSummary:nTrying to run down some misbehavior and found that we were logging the parent directory name in this case rather than the actual directory name.nnFix up the logging, and rename this variable to make it clearer that it is the parent and not the dir object associated with the filename being examined.nnReviewed By: sid0nnDifferential Revision: D4342833nnfbshipit-source-id: 119ef9e0d0ddc3f8e7217e123c8defa21c0a3117n",14.0,12.0,"root/stat.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,236.0,32.0,19.950416666666666,4910.0,1.050124266410476,2334.0,Corrective,True,,
3375b0f03e116d6ea7120103a8a66c1721b9be0a,2944010a0c839bfe327a5ad770d5886a4f176479,Wez Furlong,wez@fb.com,Mon Dec 19 14:08:30 2016 -0800,1482185310,"speed up directory crawling on windowsSummary:nthis takes advantage of the pre-fetched file information that isnavailable to us from the particular flavor of directory walking that we use onnwindows; we've already fetched all of the stat-like information that wenrequest in our `lstat` implementation (see `watchman/winbuild/stat.cpp`),nso we can fill out that data in our readdir API and set the has-stat flagnto true.nnThis causes the directory crawler to avoid making an additional `lstat` call.nnI haven't benchmarked this on a real system yet, but I suspect the gains arenlikely to be larger than you might think; my gut feeling is that by pre-fetchingnthis information with the buffer size that we use, we are likely a good bitnmore expensive than the simplist `FindFilesXXX` API, only to thrash some cachesnwith the follow up `lstat` calls--those need to open handles and query two separatensets of information.nnSo I'm hoping that this has a pretty decent gain.nnReviewed By: farnznnDifferential Revision: D4338468nnfbshipit-source-id: cffc0b7cebf97d4e07614d05a79ee4c6a187525an",27.0,1.0,"winbuild/dir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,90.0,4.0,13.919305555555557,4911.0,1.0718426645646035,206.0,None,False,,
2944010a0c839bfe327a5ad770d5886a4f176479,83986c822e8a13d24593af55603548ee8555b272,Wez Furlong,wez@fb.com,Mon Dec 19 14:57:34 2016 -0800,1482188254,fix w_string_piece constructor to actually work with std::stringSummary: Allows std::string to be implicitly converted to std::string.nnReviewed By: sid0nnDifferential Revision: D4348075nnfbshipit-source-id: 05ea11a2476d6dda9b608206ad1afa9c261ad0d7n,1.0,1.0,"watchman_string.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,638.0,39.0,4.031747685185185,4912.0,1.2480313943440804,2335.0,Corrective,True,,
83986c822e8a13d24593af55603548ee8555b272,53f80386b7aa0d88d4cca9112df62657b916d5fb,Wez Furlong,wez@fb.com,Mon Dec 19 14:57:36 2016 -0800,1482188256,"fixup pending list linkage mutationSummary:nThe root cause of the divergence that we were seeing on Linux wasnthis; in the case where we'd append one list to another, we were not clearingnthe prev pointer before inserting it into its new owning pending list.   Whennwe later went to prune obsoleted nodes, we would end up with garbage linkagenthat would cause important nodes to not be visible in list and thus would notnget observed by processPath.nnIn addition, there was a funky use-after-move-assignment issue that could leadnto a similar issue.nnReviewed By: sid0nnDifferential Revision: D4348232nnfbshipit-source-id: 54916832bd814bb122b50d06f4dfda9182e15e78n",5.0,1.0,"pending.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,350.0,19.0,4.031770833333334,4913.0,1.2480299702880764,2336.0,Corrective,True,,
53f80386b7aa0d88d4cca9112df62657b916d5fb,dd504ffb5b061d2c2154f22640efc865b5c84beb,Siddharth Agarwal,sid0@fb.com,Tue Dec 20 11:38:08 2016 -0800,1482262688,make the debug-watchman option to runtests.py work on Python 3Summary: This is a silly `input` vs `raw_input` difference.nnReviewed By: weznnDifferential Revision: D4351504nnfbshipit-source-id: b733f4148e96c72baadc5e9638ac2440d5b3a5cfn,4.0,3.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,240.0,24.0,14.911342592592593,404.0,1.0670630423645933,117.0,Corrective,True,True,"[""2d78fdf1cc458c77bb785e866c5d23e3230ff210""]"
dd504ffb5b061d2c2154f22640efc865b5c84beb,cf8ff7d5afc64da7fc5d9bfc3bba14f3f6a184c6,Siddharth Agarwal,sid0@fb.com,Tue Dec 20 11:38:11 2016 -0800,1482262691,"allow building runtests.py with buckSummary:nThis is the old test runner -- it was incredibly useful to have around because it allows for neat features like keeping state if things fail, and attaching a debugger to watchman.nnWe build it as a `python_binary` because we don't yet know how to talk to the standard unittest infrastructure.nnReviewed By: weznnDifferential Revision: D4351509nnfbshipit-source-id: e6bd658dca95cd9dc453669f317dc06af79f5c18n",83.0,17.0,"TARGETS,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",4.0,3.0,3.0,1.7743887953205053,14.0,171.5,49.0,28.891791087962964,406.5,1.0587141361294363,118.0,Preventative,False,,
cf8ff7d5afc64da7fc5d9bfc3bba14f3f6a184c6,f2f88be1cff3d4c89f3545ebf94c2215d187138e,Siddharth Agarwal,sid0@fb.com,Tue Dec 20 11:38:12 2016 -0800,1482262692,return json_ref from json_array_getSummary: This is easy and makes upcoming code much simpler.nnReviewed By: weznnDifferential Revision: D4351531nnfbshipit-source-id: 04a9e8107645ee3313617b06d5955cfaddb18354n,15.0,16.0,"cmds/watch.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",7.0,5.0,5.0,1.9635310602117744,16.0,326.0,136.0,10.945724206349206,412.0,1.0518863321153709,6.0,None,False,,
f2f88be1cff3d4c89f3545ebf94c2215d187138e,33bde95d486de62feb08179fc74b9aa75c7cea59,Siddharth Agarwal,sid0@fb.com,Tue Dec 20 11:38:13 2016 -0800,1482262693,"json_ref: add accessor for objectSummary: Just like `array`, we'd like to be able to get access to the underlying map object.nnReviewed By: weznnDifferential Revision: D4351535nnfbshipit-source-id: f99d6407f891538b17d20f429d18d80e61731dd8n",22.0,0.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.9456603046006402,16.0,570.0,48.0,1.1574074074074072e-05,416.5,64801.0,8.0,None,False,,
33bde95d486de62feb08179fc74b9aa75c7cea59,80b28abeb6e41919fc8da2d733a6a88a2c6079c4,Siddharth Agarwal,sid0@fb.com,Tue Dec 20 11:38:15 2016 -0800,1482262695,add a debug command to pause subscriptionsSummary: We're going to use this in tests in upcoming diffs.nnReviewed By: weznnDifferential Revision: D4351539nnfbshipit-source-id: b565a3700a857513eb51c3e3b350236579dcfc99n,51.0,1.0,"cmds/debug.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",3.0,2.0,2.0,0.5500442656216225,14.0,321.0,64.0,11.546535493827164,419.0,1.0376243063509891,161.0,Corrective,True,,
80b28abeb6e41919fc8da2d733a6a88a2c6079c4,c88c50f9aaf7456a49a220d67cce0b1e756b2b29,Wez Furlong,wez@fb.com,Tue Dec 20 14:17:51 2016 -0800,1482272271,"add basic eden integration testSummary:nThis adds some plumbing for starting up an eden mount in the watchman test harness.nnIt fails at the moment, because watchman doesn't yet know how to identify that a given dir is an active eden mount point.nnDepends on D4323695nnReviewed By: simpkinsnnDifferential Revision: D4323716nnfbshipit-source-id: 53f164eddb741698e6ed0df2057fb2984559ff09n",232.0,17.0,"tests/integration/TARGETS,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",6.0,3.0,3.0,2.0547203287711566,14.0,66.5,32.0,15.181651234567905,4916.5,5.5183465717097455,2337.0,Feature Addition,False,True,"[""06357620921fdaa934595c095cc41b1dc17abdd9"", ""7854fa661b4a4466a5896a189719cda32f506e90"", ""fd590f255616a4f66d80e05c9f48a76dfc90ec9c"", ""8a954a42206e34fb1bd42aef432747b1de10c5f8""]"
c88c50f9aaf7456a49a220d67cce0b1e756b2b29,198e24b5d3bf11eda6eb3e3773617a54738f7b37,Wez Furlong,wez@fb.com,Tue Dec 27 10:00:49 2016 -0800,1482861649,add w_string_piece::operator<Summary:nSimilar to its counterpart in w_string.  This allows using a stringnpiece as a key in an ordered_map (you will need to ensure that the string piecenhas stable storage for the lifetime of the corresponding value though; you canndo this by embedding the key in the value).nnReviewed By: sid0nnDifferential Revision: D4352337nnfbshipit-source-id: 112a6c45ef3738f1d5943558a94978bc5c5e7672n,24.0,1.0,"string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",3.0,2.0,2.0,1.2022921890824148,15.0,610.0,75.0,13.101226851851854,4921.0,1.0472469690485535,2339.0,Feature Addition,False,,
198e24b5d3bf11eda6eb3e3773617a54738f7b37,69e906db4fabd7b75d99a9668bd3d63a58cec5c7,Siddharth Agarwal,sid0@fb.com,Tue Dec 27 13:57:25 2016 -0800,1482875845,subscribe: factor out defer/drop computationSummary: We're going to use this as part of the new `flush-subscriptions` feature I'm adding.nnReviewed By: weznnDifferential Revision: D4356475nnfbshipit-source-id: 0c44e6e7fdaeef596e571f500d87483af8d11525n,45.0,31.0,"cmds/subscribe.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,393.0,39.0,27.947766203703704,421.0,1.0357810349747192,20.0,None,False,,
69e906db4fabd7b75d99a9668bd3d63a58cec5c7,70a2b0e8bb4bc33d2e7ce1ff9a34792330fb57e4,Siddharth Agarwal,sid0@fb.com,Tue Dec 27 13:57:27 2016 -0800,1482875847,"subscriptions: add a new API to flush subscriptionsSummary:nIt is often useful for clients to be able to force a subscription sync, ignoring settle periods and other such things. At the moment there's no way for a client to do that -- this API provides clients an easy way.nnThe contract is as follows:nn* `sync_timeout` is required.n* `subscriptions` is optional -- by default it will sync all subscriptions matching the specified root.n* when the call to `flush-subscriptions` returns, subscriptions are guaranteed to be up to date as of the time the call was made.nnWe return any pending subscription data as unilateral PDUs. That makes it easy for any code currently processing subscriptions to keep doing what it does.nnReviewed By: weznnDifferential Revision: D4351547nnfbshipit-source-id: 957caf643943ff32aee1656b53ba261ce9ce726bn",404.0,5.0,"cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",3.0,3.0,3.0,1.000383712705333,16.0,530.3333333333334,77.0,6.385227623456791,423.0,14401.045043164282,9.0,None,False,True,"[""981452aff98ee5064c06a3a8cd39ff2394846114""]"
70a2b0e8bb4bc33d2e7ce1ff9a34792330fb57e4,06357620921fdaa934595c095cc41b1dc17abdd9,Siddharth Agarwal,sid0@fb.com,Tue Dec 27 16:41:42 2016 -0800,1482885702,Try fixing travisSummary: Closes https://github.com/facebook/watchman/pull/404nnDifferential Revision: D4369093nnPulled By: sid0nnfbshipit-source-id: 73fe73739194e65c22c0fe723f7437910a34f3dfn,0.0,1.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,98.0,1.0,7.099895833333332,425.0,1.1408471368417965,121.0,Corrective,True,,
06357620921fdaa934595c095cc41b1dc17abdd9,5f79d626fc416b8837c6e6e18463ce57f94788af,Siddharth Agarwal,sid0@fb.com,Tue Dec 27 17:35:52 2016 -0800,1482888952,stat: avoid dereferencing a null pointerSummary:n`file` might be `nullptr` at this point. The information is already exposed as `path` so there's no need for `file` to also be printed.nCloses https://github.com/facebook/watchman/pull/405nnReviewed By: weznnDifferential Revision: D4369333nnPulled By: sid0nnfbshipit-source-id: 78c6fdd0c62717ce03a4acebe337a8e14f13393en,1.0,3.0,"root/stat.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,238.0,33.0,8.148912037037038,426.0,1.1227157681240112,162.0,None,False,,
5f79d626fc416b8837c6e6e18463ce57f94788af,e23c3dec21d4cb29964af41ab437f303ece45b44,Siddharth Agarwal,sid0@fb.com,Tue Dec 27 22:39:27 2016 -0800,1482907167,"test_subscribe: drop checks for clocksSummary:nUnfortunately we can't rely on the clocks being exactly the same because on a slow enough machine, a tick might happen between the initial subscriptions and the debug-set-subscription-paused command.nnCloses https://github.com/facebook/watchman/pull/406nnReviewed By: weznnDifferential Revision: D4369676nnPulled By: sid0nnfbshipit-source-id: c8f5d2d91c85f88c55903f69fe6496f4a2ec1c83n",4.0,8.0,"tests/integration/test_subscribe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,16.0,617.0,16.0,0.3625,427.0,3.7586206896551726,122.0,Preventative,False,,
e23c3dec21d4cb29964af41ab437f303ece45b44,48af1dc523d6fde43e81bcb952cd1e1cfb31c852,Wez Furlong,wez@fb.com,Tue Jan 3 14:10:14 2017 -0800,1483481414,"avoid reference cycle for subscriptionsSummary: sid0 found this, looks like this was keeping the client object around after it has been disconnected.nnReviewed By: sid0nnDifferential Revision: D4377981nnfbshipit-source-id: 07e9abb69a434e56d8fb64adead668b538c72071n",5.0,2.0,"cmds/subscribe.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,16.0,547.0,41.0,7.008877314814815,4923.0,1.1426762026332349,361.0,None,False,,
48af1dc523d6fde43e81bcb952cd1e1cfb31c852,2d78fdf1cc458c77bb785e866c5d23e3230ff210,Siddharth Agarwal,sid0@fb.com,Wed Jan 4 15:23:14 2017 -0800,1483572194,fix --debug-watchman in test runnerSummary:n* Force concurrency to 1.n* Python 3 chokes on `input` because it doesn't figure out that `input` is actually a global. So use a different name.nCloses https://github.com/facebook/watchman/pull/411nnDifferential Revision: D4382107nnPulled By: sid0nnfbshipit-source-id: b6df183106b2108139a991da285fcde64e99e9e2n,9.0,5.0,"runtests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER",2.0,2.0,2.0,0.9852281360342516,14.0,313.5,57.0,15.156302083333333,428.5,1.049484403821768,123.0,Corrective,True,True,"[""9b932d071d2157cf56ca3ac7990c9bc22121b101""]"
2d78fdf1cc458c77bb785e866c5d23e3230ff210,c8eb4ef0e78c7af050b1c8656fd5dcbd3617cd84,Siddharth Agarwal,sid0@fb.com,Thu Jan 5 20:05:43 2017 -0800,1483675543,"pywatchman: bump version, add python version infoSummary:nCloses #396.nCloses https://github.com/facebook/watchman/pull/410nnReviewed By: weznnDifferential Revision: D4382081nnPulled By: sid0nnfbshipit-source-id: f2b4c3b61cffc7461025af3f9dc9818a126ad792n",9.0,2.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,37.0,13.0,241.2573611111111,430.0,1.0041449512478895,51.0,None,False,,
c8eb4ef0e78c7af050b1c8656fd5dcbd3617cd84,831325420afdc8e33ced2bd5f99644bb6a095957,Siddharth Agarwal,sid0@fb.com,Thu Jan 5 20:10:40 2017 -0800,1483675840,add a test to make sure dead subscriptions are reapedSummary:nThis catches the issue in D4377981.nnAlso disable a few copy constructors that we were worried about accidentally invoking.nnReviewed By: weznnDifferential Revision: D4380354nnfbshipit-source-id: 667749c8c766c7773728b53dbaf3ad6f055dd0b9n,181.0,18.0,"PubSub.cpp,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",6.0,3.0,3.0,2.4018267226351253,16.0,335.1666666666667,114.0,15.886130401234569,433.5,1.0196426096176758,125.0,Feature Addition,False,True,"[""09999d207ec28f45cb7243b8d68e46f7d92f25be""]"
831325420afdc8e33ced2bd5f99644bb6a095957,52d85e09e946b5c11cae40dc0f0f1eebe5d3ba8c,Siddharth Agarwal,sid0@fb.com,Thu Jan 5 20:13:53 2017 -0800,1483676033,docs: add docs for flush-subscriptionSummary:nAlso add a `.ruby-version` file for `rbenv` to read (the latest version 2.4.0 doesn't work at the moment).nCloses https://github.com/facebook/watchman/pull/409nnReviewed By: weznnDifferential Revision: D4380532nnPulled By: sid0nnfbshipit-source-id: 6d599a01795961353a7165d52626458bbadecb43n,90.0,0.0,"website/.ruby-version,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/cmd.flush-subscriptions.markdown,CAS_DELIMITER",3.0,1.0,3.0,0.1759644025509841,9.0,23.33333333333333,5.0,143.50655478395063,438.0,0.6682151828480828,3.0,Non Functional,False,,
52d85e09e946b5c11cae40dc0f0f1eebe5d3ba8c,e0e2ebeef9110e79b6f9bef668b573f25284dc17,Sergey Tyurin,tyurins@fb.com,Fri Jan 6 13:19:29 2017 -0800,1483737569,"Avoid possible NPE when subscription is removedSummary:nNPE can happen when a subscription is removed in the middlenof unilateral callback. The fix is to avoid accessing a map twice,njust use the first result.nnThis fix also prevents an NPE when a client adds a null listener.nCloses https://github.com/facebook/watchman/pull/413nnDifferential Revision: D4387491nnPulled By: weznnfbshipit-source-id: e82c91320812cc45cbfe109a148a948e56c4044dn",4.0,2.0,"java/src/com/facebook/watchman/WatchmanClientImpl.java,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,267.0,1.0,190.11097222222224,0.0,0.0,0.0,None,False,,
e0e2ebeef9110e79b6f9bef668b573f25284dc17,a76a0d4aa277123197774c112ad93a0edc2e6d25,Mick Killianey,mkillianey@fb.com,Fri Jan 6 13:49:14 2017 -0800,1483739354,"Don't swallow exceptions in WatchmanConnection.Summary:nDuring deserialization, the SerializedStreamMessageSupplier was swallowing exceptionsnand returning null.  It was doing this to adhere to the com.google.common.base.Supplierncontract.  Instead, use the java.util.concurrent.Callable interface, which is (essentially)nfunctionally identical, but has a signature that supports checked exceptions.nnSince the supplier is running in an executor, it is essential that the executor *not* swallow all exceptions, since that makes it immune to canceling by InterruptedExceptions.nCloses https://github.com/facebook/watchman/pull/412nnReviewed By: styurinnnDifferential Revision: D4387876nnPulled By: mkillianeynnfbshipit-source-id: 37bf7baaf6fcbfca60f2497a2d35eb5a2de99f70n",154.0,112.0,"java/BUCK,CAS_DELIMITER,java/src/com/facebook/watchman/SerializedStreamMessageSupplier.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanClientImpl.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanConnection.java,CAS_DELIMITER,java/test/com/facebook/watchman/WatchmanClientTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/WatchmanConnectionTest.java,CAS_DELIMITER,java/test/com/facebook/watchman/WatchmanTestBase.java,CAS_DELIMITER",7.0,1.0,3.0,2.329222650942821,12.0,199.14285714285717,9.0,159.11416832010585,3.0,0.8586922134299247,6.0,None,False,,
a76a0d4aa277123197774c112ad93a0edc2e6d25,4c17da623dfe24aaa7ec1f36fff534689ca6beac,Wez Furlong,wez@fb.com,Mon Jan 9 11:05:18 2017 -0800,1483988718,"Publisher::getPending is now O(my-unseen-items)Summary:nFollowing on from the prior diff, this changes the complexitynfrom O(oldest-unseen-item-for-all-subscribers) to O(my-unseen-items).nnAlso remove getNext(); all uses can be done with getPending.nnReviewed By: sid0nnDifferential Revision: D4379003nnfbshipit-source-id: 1a47e33ee33338ff73f8bf8c67d685b50a477f1bn",32.0,25.0,"PubSub.cpp,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,tests/log.cpp,CAS_DELIMITER",3.0,2.0,2.0,0.8994993921053323,16.0,110.66666666666669,8.0,24.78185956790124,4925.0,1.1425565532433195,513.0,None,False,,
4c17da623dfe24aaa7ec1f36fff534689ca6beac,2e3f4a0d16179d5dd079b9857a7b4ae852832786,Joel Marcey,joelm@fb.com,Mon Jan 9 11:57:33 2017 -0800,1483991853,Use pageid instead of id and use kramdown instead of redcarpetSummary:n`pageid` is the method to get the `id` of a pagenkramdown is the default markdown processor for GitHub pagesnnhttps://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0nnThe pageid change is necessary to prevent not being able to display the sidebar items on the docs page.nn<img width=1143 alt=screenshot 2017-01-07 17 40 27 src=https://cloud.githubusercontent.com/assets/3757713/21747596/68da56ce-d520-11e6-9537-ce0ec251f64f.png>nnvs.nn<img width=1043 alt=screenshot 2017-01-07 21 29 25 src=https://cloud.githubusercontent.com/assets/3757713/21747597/6ba6fff6-d520-11e6-9b86-12554080d2dd.png>nCloses https://github.com/facebook/watchman/pull/417nnDifferential Revision: D4392967nnPulled By: sid0nnfbshipit-source-id: c0410e3bc74a35f63d06c36e1e7283e5b470e257n,253.0,89.0,".gitignore,CAS_DELIMITER,website/Gemfile,CAS_DELIMITER,website/Gemfile.lock,CAS_DELIMITER,website/_config.yml,CAS_DELIMITER,website/_docs/BSER.markdown,CAS_DELIMITER,website/_docs/capabilities.markdown,CAS_DELIMITER,website/_docs/casefolding.markdown,CAS_DELIMITER,website/_docs/cli-options.markdown,CAS_DELIMITER,website/_docs/clockspec.markdown,CAS_DELIMITER,website/_docs/cmd.clock.markdown,CAS_DELIMITER,website/_docs/cmd.find.markdown,CAS_DELIMITER,website/_docs/cmd.flush-subscriptions.markdown,CAS_DELIMITER,website/_docs/cmd.get-config.markdown,CAS_DELIMITER,website/_docs/cmd.get-sockname.markdown,CAS_DELIMITER,website/_docs/cmd.list-capabilities.markdown,CAS_DELIMITER,website/_docs/cmd.log-level.markdown,CAS_DELIMITER,website/_docs/cmd.log.markdown,CAS_DELIMITER,website/_docs/cmd.query.markdown,CAS_DELIMITER,website/_docs/cmd.shutdown-server.markdown,CAS_DELIMITER,website/_docs/cmd.since.markdown,CAS_DELIMITER,website/_docs/cmd.state-enter.markdown,CAS_DELIMITER,website/_docs/cmd.state-leave.markdown,CAS_DELIMITER,website/_docs/cmd.subscribe.markdown,CAS_DELIMITER,website/_docs/cmd.trigger-del.markdown,CAS_DELIMITER,website/_docs/cmd.trigger-list.markdown,CAS_DELIMITER,website/_docs/cmd.trigger.markdown,CAS_DELIMITER,website/_docs/cmd.unsubscribe.markdown,CAS_DELIMITER,website/_docs/cmd.version.markdown,CAS_DELIMITER,website/_docs/cmd.watch-del-all.markdown,CAS_DELIMITER,website/_docs/cmd.watch-del.markdown,CAS_DELIMITER,website/_docs/cmd.watch-list.markdown,CAS_DELIMITER,website/_docs/cmd.watch-project.markdown,CAS_DELIMITER,website/_docs/cmd.watch.markdown,CAS_DELIMITER,website/_docs/compatibility.markdown,CAS_DELIMITER,website/_docs/configuration.markdown,CAS_DELIMITER,website/_docs/contributing.markdown,CAS_DELIMITER,website/_docs/cookies.markdown,CAS_DELIMITER,website/_docs/expr.allof.md,CAS_DELIMITER,website/_docs/expr.anyof.md,CAS_DELIMITER,website/_docs/expr.dirname.md,CAS_DELIMITER,website/_docs/expr.empty.md,CAS_DELIMITER,website/_docs/expr.exists.md,CAS_DELIMITER,website/_docs/expr.false.md,CAS_DELIMITER,website/_docs/expr.match.md,CAS_DELIMITER,website/_docs/expr.name.md,CAS_DELIMITER,website/_docs/expr.not.md,CAS_DELIMITER,website/_docs/expr.pcre.md,CAS_DELIMITER,website/_docs/expr.since.md,CAS_DELIMITER,website/_docs/expr.size.md,CAS_DELIMITER,website/_docs/expr.suffix.md,CAS_DELIMITER,website/_docs/expr.true.md,CAS_DELIMITER,website/_docs/expr.type.md,CAS_DELIMITER,website/_docs/file-query.md,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER,website/_docs/nodejs.markdown,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER,website/_docs/simple-query.md,CAS_DELIMITER,website/_docs/socket-interface.markdown,CAS_DELIMITER,website/_docs/troubleshooting.markdown,CAS_DELIMITER,website/_docs/watchman-make.md,CAS_DELIMITER,website/_docs/watchman-wait.md,CAS_DELIMITER,website/_includes/head.html,CAS_DELIMITER,website/_includes/nav_docs.html,CAS_DELIMITER",63.0,2.0,4.0,3.9437277136690265,14.0,81.52380952380952,144.0,390.29807429453246,31.0,0.9843985737180698,61.0,None,False,,
2e3f4a0d16179d5dd079b9857a7b4ae852832786,4a94da31a96dbf59e1893a8845edcd1b882abef0,Siddharth Agarwal,sid0@fb.com,Mon Jan 9 13:40:27 2017 -0800,1483998027,"fix permalink to docs/install.htmlSummary:nWith the new updates, the docs nav link at the top of  http://facebook.github.io/watchman/docs/install.html referred to `http://facebook.github.io/watchman/docs/docs/install.html`.nCloses https://github.com/facebook/watchman/pull/418nnDifferential Revision: D4394233nnPulled By: sid0nnfbshipit-source-id: 88b166ff4458070bb6660e24d347590a3ee491f9n",1.0,1.0,"website/_data/nav.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,15.0,1.0,513.083125,440.0,1.0019490019282935,4.0,Corrective,True,,
4a94da31a96dbf59e1893a8845edcd1b882abef0,3cf3b3eb16061fd7c2493bc954297f2a80eef926,Joel Marcey,joelm@fb.com,Mon Jan 9 15:48:41 2017 -0800,1484005721,Add rouge highlighting CSSSummary:nI forgot to add the CSS for code highlighting when we landednhttps://github.com/facebook/watchman/commit/2e3f4a0d16179d5dd079b9857a7b4ae852832786nCloses https://github.com/facebook/watchman/pull/419nnDifferential Revision: D4395246nnPulled By: sid0nnfbshipit-source-id: aae97e43896d8a61b7cd3079876a51860c0bc736n,122.0,89.0,"website/_sass/_syntax-highlighting.scss,CAS_DELIMITER,website/css/main.scss,CAS_DELIMITER",2.0,1.0,2.0,0.04341407633805841,9.0,76.5,2.0,513.1721759259259,63.5,1.0014614977880412,63.0,Feature Addition,False,,
3cf3b3eb16061fd7c2493bc954297f2a80eef926,2fff059b5a61ef7455982562b3f0588050b551de,Michael Bolin,mbolin@fb.com,Fri Jan 13 12:25:16 2017 -0800,1484339116,Fix what I believe is a typo: Mac OS instead of Max OSReviewed By: weznnDifferential Revision: D4412257nnfbshipit-source-id: c5b33fb82492a7084125c9d5b66a240751eb5cc0n,2.0,2.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,185.0,6.0,4.019247685185185,0.0,0.0,0.0,Corrective,True,,
2fff059b5a61ef7455982562b3f0588050b551de,13f643b0a484e657300a1ed7d2e6ca2bd670d136,Christopher Dykes,cdykes@fb.com,Fri Jan 13 14:20:27 2017 -0800,1484346027,"Codemod folly::make_unique to std::make_uniqueSummary: Folly will soon be dropping support for GCC 4.8, which means that `folly::make_unique` will be going away, so codemod away as much as possible before then.nnReviewed By: yfeldblumnnDifferential Revision: D4411221nnfbshipit-source-id: 31d61425f6595d0750ea2e4c95c7d42bb5a5d955n",1.0,1.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,137.0,2.0,24.00180555555556,0.0,0.0,0.0,None,False,,
13f643b0a484e657300a1ed7d2e6ca2bd670d136,210f2f5207699bc1c47075a833498b0ea7e9b7c4,Wez Furlong,wez@fb.com,Fri Jan 13 15:25:40 2017 -0800,1484349940,"Fix compilation on some flavors of visual studio 2015Summary:nI just tried building watchman on my PC at home with a fresh installnof the community edition of visual studio and hit this compilationnerror:nn```nC:Program Files (x86)Windows Kits8.1includeumDbghelp.h(1544):nerror C2220: warning treated as error - no 'object' file generatedn(compiling source file winbuildbacktrace.cpp)nC:Program Files (x86)Windows Kits8.1includeumDbghelp.h(1544):nwarning C4091: 'typedef ': ignored on left of '' when no variable isndeclared (compiling source file winbuildbacktrace.cpp)nC:Program Files (x86)Windows Kits8.1includeumDbghelp.h(3190):nwarning C4091: 'typedef ': ignored on left of '' when no variable isndeclared (compiling source file winbuildbacktrace.cpp)n```nnTurns out that the header does this:nn```ntypedef enum {n  hdBase = 0, // root directory for dbghelpn  hdSym,  // where symbols are storedn  hdSrc,  // where source is storedn  hdMax   // end markern};n```nnand since we're turning warnings into errors, this was thnCloses https://github.com/facebook/watchman/pull/408nnReviewed By: sid0nnDifferential Revision: D4393443nnPulled By: weznnfbshipit-source-id: dae8052ad373fb5ace97d65bf66f97be86b2bfbfn",2.0,0.0,"winbuild/backtrace.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,127.0,3.0,45.00892361111111,4927.0,1.0222178163743765,207.0,Corrective,True,,
210f2f5207699bc1c47075a833498b0ea7e9b7c4,05e7be1bd531b2cc5efdbea1b48079cb2d970d20,Andrew Gallagher,andrewjcg@fb.com,Sat Jan 14 01:43:00 2017 -0800,1484386980,codemod: fixup more build targets in TARGETSSummary:nRan script from:ndifferential/diff/21475830/nnReviewed By: GowntannDifferential Revision: D4419263nnfbshipit-source-id: 7631ea2c2cb3b6e27756ecc9da9e492b2a3b2dabn,1.0,1.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,247.0,11.0,24.586678240740753,0.0,0.0,0.0,None,False,,
05e7be1bd531b2cc5efdbea1b48079cb2d970d20,0ca3a3382ca65440ad77f3453cc8d8076caca212,Wez Furlong,wez@fb.com,Tue Jan 17 09:36:29 2017 -0800,1484674589,update copyright year in the CLI usage outputSummary: Just happened to notice while looking for stuff to cleanup.nnReviewed By: sid0nnDifferential Revision: D4418272nnfbshipit-source-id: edcfc633187a9db2584b3056db68a18e9ebfe63an,7.0,7.0,"opt.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,244.0,2.0,88.7284375,4928.0,1.011270343851147,2342.0,None,False,,
0ca3a3382ca65440ad77f3453cc8d8076caca212,dca542b35a5e1566434477370bf199a493100265,Wez Furlong,wez@fb.com,Tue Jan 17 15:10:53 2017 -0800,1484694653,"Remove version pinning from appveyor configSummary:nRefs: https://github.com/facebook/watchman/issues/423nnThis pinning was added because newer versions failed to install.nnhttp://help.appveyor.com/discussions/problems/5616-not-able-to-build-due-to-problem-in-chocolateyinstallps1#comment_41337217nnsuggests adding the `-i` flag to ignore deps, which is what we needed here to prevent the deps of php wanting to reboot the appveyor environment.nCloses https://github.com/facebook/watchman/pull/424nnDifferential Revision: D4425805nnPulled By: weznnfbshipit-source-id: ee3efec74a26bf86702603884d727b0730d68a2an",1.0,1.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,34.0,8.0,42.71564814814815,4929.0,1.0234106245217622,2343.0,None,False,,
dca542b35a5e1566434477370bf199a493100265,47a9e3ffd080dfc2b5432e3000e45d445083c544,Michael Bolin,mbolin@fb.com,Tue Jan 17 16:17:37 2017 -0800,1484698657,Change `relative_roots` to `relative_root` in code samples.Summary: This seems like a typo.nnReviewed By: weznnDifferential Revision: D4411711nnfbshipit-source-id: 51582f3758c4f4624ea1fdf32440b19f6cf1e57cn,3.0,4.0,"website/_docs/nodejs.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,365.0,4.0,8.180601851851852,1.0,1.122240394791201,1.0,None,False,,
47a9e3ffd080dfc2b5432e3000e45d445083c544,90494bbc591f9da3cbf1a3dd08f101cf101df098,Tony Abboud,tdabboud@hotmail.com,Fri Jan 20 08:05:41 2017 -0800,1484928341,add a --run option to execute a given scriptSummary:nThis option provides an alternative to the --makenflag. You can now specify a pattern and providenthe path to a script to run upon changes being detected.nEx:n`watchman-make -p '*.c' '*.h' --run my_script.sh`nnImplements #232nCloses https://github.com/facebook/watchman/pull/425nnDifferential Revision: D4442065nnPulled By: weznnfbshipit-source-id: e1e0d122856951eae65d177ebe25ce7cc80077efn,70.0,29.0,"python/bin/watchman-make,CAS_DELIMITER,website/_docs/watchman-make.md,CAS_DELIMITER",2.0,2.0,2.0,0.8306836355350677,14.0,160.0,4.0,182.37359375,0.5,0.5013708124891298,0.0,Feature Addition,False,,
90494bbc591f9da3cbf1a3dd08f101cf101df098,5843c94a9a04bbae471c3da99f5d482a65dc8b35,Mick Killianey,mkillianey@fb.com,Fri Jan 20 18:11:36 2017 -0800,1484964696,"In the Java client, allow the user to select a watchman binarySummary:nIn the Java client, the WatchmanSocketBuilder finds the first watchman binarynon the user's PATH and uses it by default.  This change allows the user of thenwatchman library to pass in a path to an arbitrary executable.  In theory, thisnallows a user of this library to use a version of `watchman` that isn't thenfirst instance on their path, or to use a binary that isn't called `watchman`.nnTesting:nManual testing.nCloses https://github.com/facebook/watchman/pull/422nnReviewed By: weznnDifferential Revision: D4418602nnPulled By: mkillianeynnfbshipit-source-id: 1dc6ba15ba00632424264a6343881eb315522312n",4.0,2.0,"java/src/com/facebook/watchman/WatchmanSocketBuilder.java,CAS_DELIMITER",1.0,1.0,1.0,0.0,12.0,151.0,1.0,204.31383101851853,7.0,1.0048944312532095,7.0,None,False,,
5843c94a9a04bbae471c3da99f5d482a65dc8b35,8c109ad93e97df43491402062a282d68264e298c,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:09 2017 -0800,1485190749,"refactor spawning into ChildProcess classSummary:nThis refactors a couple of call sites that spawn child processes tonuse a new ChildProcess class.nnThis class is similar to the python subprocess class and thus also thenfolly::Subprocess class.  It is a little different in that we're continuing tontarget our posix_spawn compatible approach.nnThe ChildProcess class makes it difficult to leak a child process and helpednuncover a couple of bugs in the trigger command where we could forget and nevernreap a child.nnThe main motivation for this is enabling reading output from the child process,nwhich is something that we'll need to do when we add more SCM integration.nnReviewed By: sid0nnDifferential Revision: D4402785nnfbshipit-source-id: 9ffb9bc95ba12197ac96b7d0d9f152992e68f2c7n",577.0,220.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER,winbuild/spawn.h,CAS_DELIMITER",11.0,4.0,4.0,2.346688173196364,15.0,232.63636363636363,291.0,40.47183080808081,4935.0,0.8233237130627891,210.0,None,False,True,"[""d17a4d6336b4d1dabf8f3f210eed24501d93d3f4"", ""e013d4474e3071afc541ae0f1ba81013c9fd15fd"", ""d2e57c97c32cec8f5149b89a855723d7d97ddfe6""]"
8c109ad93e97df43491402062a282d68264e298c,be1290a661b5fe8df4d22e0fe68a3378e45ed6b3,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:13 2017 -0800,1485190753,refactor main.cpp to use ChildProcessSummary: There are no longer any naked posix_spawn callsnnReviewed By: sid0nnDifferential Revision: D4402788nnfbshipit-source-id: e042e8113d37d27d61de56c4c81784d23f30454en,83.0,143.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,main.cpp,CAS_DELIMITER",3.0,1.0,1.0,0.2809477327032902,15.0,509.0,20.0,12.927662037037035,4942.0,10801.008594834146,2352.0,None,False,True,"[""3c7833c3b21a1d7279c06aff9153c9e71ed5da17""]"
be1290a661b5fe8df4d22e0fe68a3378e45ed6b3,60727f98758a43405eef2845229203e3d71463c2,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:15 2017 -0800,1485190755,refactor the launchd.plist constructionSummary:nSwitches from `fprintf` to `watchman::to<std::string>` and `fwrite` tonbuild the string.  This helps clarify where the parameters are substituted andnmakes the next diff much clearer.nnReviewed By: sid0nnDifferential Revision: D4417605nnfbshipit-source-id: b301a2f87fed891dc31485038a720227f3527bben,68.0,51.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,1017.0,19.0,2.314814814814815e-05,4944.0,43201.0,2353.0,None,False,,
60727f98758a43405eef2845229203e3d71463c2,83dab352fd593313b35f9ee605b5cb77bfa60887,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:16 2017 -0800,1485190756,"remove socket activation from launchd.plistSummary:nThis will help prevent a situation likenhttps://github.com/facebook/watchman/issues/358 from having a similar impact innthe future.nnLaunchd will still launch watchman at startup and keep it running if it fallsnover, but should get out of the way when we upgrade in the future.nnI'll look at adding some explicit unloading of the plist at installation timenin the homebrew recipe.nnReviewed By: sid0nnDifferential Revision: D4417672nnfbshipit-source-id: b4d4597107f26f2e4e51ecd540dfb36586cfa44cn",0.0,15.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,1034.0,20.0,1.1574074074074072e-05,4945.0,86401.0,2354.0,None,False,,
83dab352fd593313b35f9ee605b5cb77bfa60887,be9aabefa7511d656720cbdde96553fe144f8e38,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:19 2017 -0800,1485190759,remove w_argv_copy_from_jsonSummary: This has been superseded by the ChildProcess helper.nnReviewed By: sid0nnDifferential Revision: D4418027nnfbshipit-source-id: 2ce5297ccebb459fea8bb1e9c093b4a12466e4cdn,20.0,122.0,"Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,argv.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/argv.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER",8.0,3.0,3.0,2.3003375037815568,15.0,166.375,447.0,41.651328125000006,4949.5,1081.0171202951753,212.0,None,False,,
be9aabefa7511d656720cbdde96553fe144f8e38,09bf45d0c919acc60ed73184e8d76b0b347306f6,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:20 2017 -0800,1485190760,triggers now use ChildProcess::Environment rather than envhtSummary: Tidies up the code a bit and standardizes on the newer API for this stuffnnReviewed By: sid0nnDifferential Revision: D4424941nnfbshipit-source-id: b3f117f73120a8a551cf4cf96414d5345582f1e8n,23.0,22.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",5.0,2.0,2.0,1.624443162711522,15.0,254.6,70.0,0.00010879629629629627,4956.0,5242.716717325228,2362.0,None,False,,
09bf45d0c919acc60ed73184e8d76b0b347306f6,3aec455f146bdc625baec8e9f4d9074d8c0ae263,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:22 2017 -0800,1485190762,replace envp.cpp with ChildProcess::EnvironmentSummary:nThis moves the more significant portions of that code into thenEnvironment class and removes the old source files.nnReviewed By: sid0nnDifferential Revision: D4424984nnfbshipit-source-id: 672aef65e0d477b7ab8fb0e3edbff2038dcc799en,78.0,161.0,"ChildProcess.cpp,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,envp.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_env.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,2.0,2.0,1.4345701366321002,15.0,203.0,431.0,27.594340277777768,4961.5,10081.006039883012,213.0,None,False,,
3aec455f146bdc625baec8e9f4d9074d8c0ae263,ec480f1efbd2fef800b74a23628ce56cee63e0f3,Wez Furlong,wez@fb.com,Mon Jan 23 08:59:23 2017 -0800,1485190763,add tests to verify capturing output from ChildProcessSummary: as above.nnReviewed By: sid0nnDifferential Revision: D4424911nnfbshipit-source-id: 595457173c4b21d512a18fd17c360d529e72299bn,98.0,1.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/childproc.cpp,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",7.0,3.0,3.0,2.139898845580112,15.0,208.57142857142856,224.0,2.314814814814815e-05,4968.0,22050.10518053375,214.0,Feature Addition,False,,
ec480f1efbd2fef800b74a23628ce56cee63e0f3,ee0e85b2b891b58a3b88d6b4a0ba7e1d6d5fd6b9,David Aurelio,davidaurelio@fb.com,Thu Jan 26 10:21:15 2017 -0800,1485454875,"replace `console.log` with `console.error`Summary:n@publicnnTools using stdout to communicate machine-readable information to other processes are easily broken by using `console.log` (which prints to stdout). Switching to `console.error` will print to stderr instead, and not interfere with ipc.nnReviewed By: weznnDifferential Revision: D4461585nnfbshipit-source-id: 2b550b4ca5d26a36f7bf0c7181d924a7140a89afn",2.0,2.0,"node/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,322.0,13.0,359.5231597222222,0.0,0.0,0.0,None,False,,
ee0e85b2b891b58a3b88d6b4a0ba7e1d6d5fd6b9,527fe3958a20e8d04b44c144d8dcdb8691adad36,Mathieu Baudet,mathieubaudet@fb.com,Thu Jan 26 11:52:55 2017 -0800,1485460375,"watchman: remove unused includesSummary:nFound with the include analyzer, using default settings.nOne manual fix to prioritize the portability header over explicit includes (unlike the default behavior of the tool).nnReviewed By: weznnDifferential Revision: D4452434nnfbshipit-source-id: 8d9983faa9a0f2edc910d0cde17bf99a9ce9d4b3n",0.0,7.0,"tests/art_test.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.3787834934861756,16.0,328.3333333333333,21.0,72.17499614197531,2.0,1.008131709331992,1.0,None,False,,
527fe3958a20e8d04b44c144d8dcdb8691adad36,72edb9cfe5f3ac44253e3bc27fd5f7af85bcabbb,Wez Furlong,wez@fb.com,Thu Jan 26 12:45:52 2017 -0800,1485463552,"stub basic all files query against edenSummary:nThis is the bare minimum to get a NOP eden query running in thenwatchman code base.  This required abstracting the cookie synchronizationnmethod into the QueryableView, as eden doesn't require cookie files; allnqueries we present to its thrift interface reflect the state of the filesystemnat the time that they are issued.nnI've also added some overly verbose logging for the various eden watcher methodncalls that I will ultimately remove.nnReviewed By: simpkinsnnDifferential Revision: D4372489nnfbshipit-source-id: bcf597adc0bfb63cff6b743497fe6cd2d6a068fen",36.0,15.0,"InMemoryView.h,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",5.0,3.0,3.0,1.3274827613023248,14.0,96.2,59.0,50.33157407407407,4974.0,1.0076183393875255,242.0,None,False,True,"[""1b9ec6edea6d6bbf11882ede77411a6f9e323b2a"", ""ad78240013d1719eaa4e805bf3972555b4940490""]"
72edb9cfe5f3ac44253e3bc27fd5f7af85bcabbb,f382dbf836e6536d03012269ee7b6c65e5a98016,Wez Furlong,wez@fb.com,Thu Jan 26 16:29:46 2017 -0800,1485476986,implement eden all-files querySummary:nThis hooks up a rough first pass at the all-files generatornfor the eden watcher.nnI'm going to follow up in another diff with a nicer layer than the FakeDirsnclass that is in this diff.nnReviewed By: simpkinsnnDifferential Revision: D4372493nnfbshipit-source-id: 6b0081eda1a4d1fbc65cb4dd7dd66a70ee001edan,158.0,8.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.0605217438906132,14.0,89.66666666666669,8.0,10.100895061728394,4978.0,1.0331711656416056,243.0,None,False,True,"[""1b9ec6edea6d6bbf11882ede77411a6f9e323b2a"", ""7854fa661b4a4466a5896a189719cda32f506e90""]"
f382dbf836e6536d03012269ee7b6c65e5a98016,0c255cd015ff863fa964c4f295e1cb53ce00fec0,Wez Furlong,wez@fb.com,Fri Jan 27 17:55:58 2017 -0800,1485568558,MSVC finds this detail namespace usage ambiguousSummary: So let's qualify it better.nnfbshipit-source-id: 913b1572773b042442543d4a1ba14a2e7ba2b2e8n,3.0,3.0,"watchman_string.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,639.0,41.0,31.329965277777767,4980.0,1.031918324553947,2375.0,None,False,,
0c255cd015ff863fa964c4f295e1cb53ce00fec0,00ebe08677d320a28e2587ede33d0183a8efe73e,Wez Furlong,wez@fb.com,Sat Jan 28 16:40:41 2017 -0800,1485650441,fix double logging bugSummary:nThere was a race where two threads may try to process the pending listnto print to the output/error log.nnFixed with a simple mutex.nnfbshipit-source-id: 56ba9e6021e2b8aa855ad840d03e43b92f4d7b72n,6.0,1.0,"Logging.h,CAS_DELIMITER,log.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,14.0,238.0,8.0,66.21901041666666,4981.5,1.0095666819925946,2377.0,Corrective,True,,
00ebe08677d320a28e2587ede33d0183a8efe73e,39ad88ec130c5e522c9fa0cbc7df4b52fd87a573,Wez Furlong,wez@fb.com,Mon Jan 30 11:30:14 2017 -0800,1485804614,version bumps for npmSummary:nI've published these already to npmnCloses https://github.com/facebook/watchman/pull/427nnReviewed By: mostafaewedannDifferential Revision: D4472320nnPulled By: weznnfbshipit-source-id: 76ad0483a1f03fbfed3f27ecdf8c629f0a43e959n,3.0,3.0,"node/bser/package.json,CAS_DELIMITER,node/package.json,CAS_DELIMITER",2.0,1.0,2.0,0.9182958340544896,10.0,34.0,16.0,215.41461226851848,4983.5,1.009232046659614,37.0,None,False,,
39ad88ec130c5e522c9fa0cbc7df4b52fd87a573,cbc6fed609118b00cc1b694cae599ab92ed4ab67,Wez Furlong,wez@fb.com,Mon Jan 30 13:21:51 2017 -0800,1485811311,"introduce FileResult abstractionSummary:nThis enables the eden watcher to provide data to the query evaluatornwithout having to build out a set of watchman_dir and watchman_file objects.nnThis is a fairly mechanical change to replace uses of watchman_file withnFileResult and provide an implement of FileResult for InMemoryView that justnwraps through to the underlying watchman_file instance.nnFor the eden watcher, the FileResult implementation uses the FileInformationnthat we get back from eden.  It doesn't provide all possible fields yet; thosenwill be fleshed out as the integration proceeds.nnReviewed By: simpkinsnnDifferential Revision: D4373691nnfbshipit-source-id: 95e791013048b35587fc6490da5d9c03b64462ben",211.0,162.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",17.0,3.0,3.0,3.490916797129082,16.0,205.5882352941176,265.0,59.36143654684096,4993.0,1.0044878857405288,2380.0,None,False,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
cbc6fed609118b00cc1b694cae599ab92ed4ab67,21d474c4efb9a0834897c662fe0b407947e770c1,Wez Furlong,wez@fb.com,Mon Jan 30 13:21:54 2017 -0800,1485811314,"flesh out eden glob generatorSummary:nThis is similar to the all files generator that we have already,nexcept that instead of a massive recursive glob we take the glob arraynprovided by the query and use that instead.nnReviewed By: simpkinsnnDifferential Revision: D4373856nnfbshipit-source-id: 1f80947e3e5089067dbc6f27f7ddb60aa8d44f4cn",91.0,1.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.774967267326726,16.0,147.0,9.0,1.9347858796296296,5002.5,1.2584276888570678,245.0,None,False,True,"[""1b9ec6edea6d6bbf11882ede77411a6f9e323b2a""]"
21d474c4efb9a0834897c662fe0b407947e770c1,af9d1914b2f759d8e58fef6a2a8cf2378d871169,Wez Furlong,wez@fb.com,Mon Jan 30 13:21:55 2017 -0800,1485811315,implement eden path generatorSummary:nThis implementation only supports depths of 0 and -1 for the pathngenerator because we translate to globs and ask eden to execute those.nnWe could support other depth constraints if we added support for that sortnof query to eden.  We'll punt on that for now and see if anyone asks fornthis before adding it.nnReviewed By: simpkinsnnDifferential Revision: D4373994nnfbshipit-source-id: ff9862dbc9f74d5645d606cec90e05f2ff9b4cf2n,138.0,3.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.969266918307088,16.0,192.0,11.0,1.1574074074074072e-05,5004.5,64801.0,246.0,None,False,True,"[""4966eb79c9cabbdab8ee4529a68b3024075f923b""]"
af9d1914b2f759d8e58fef6a2a8cf2378d871169,9e3f3836b1ba21f339210834e9c2121d79f43239,Wez Furlong,wez@fb.com,Mon Jan 30 13:21:57 2017 -0800,1485811317,"DRY in glob based eden generatorsSummary: Factors out the common execution portion from the allFiles, glob and path generators.nnReviewed By: simpkinsnnDifferential Revision: D4374021nnfbshipit-source-id: 413735e543f5bcb03b59f544ade961173f86aeaan",42.0,113.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,16.0,398.0,8.0,2.314814814814815e-05,5006.0,43201.0,247.0,None,False,True,"[""1b9ec6edea6d6bbf11882ede77411a6f9e323b2a"", ""a8f616587f8f134491f7f565e5581e60db577d83""]"
9e3f3836b1ba21f339210834e9c2121d79f43239,1b9ec6edea6d6bbf11882ede77411a6f9e323b2a,Wez Furlong,wez@fb.com,Mon Jan 30 13:21:58 2017 -0800,1485811318,"implement eden suffix generatorSummary:nWherein we discover that we can implement almost every non time basednquery in terms of glob.nnThis translates the suffix list into a recursive glob and asks eden to execute it.nIt differs from the InMemoryView implementation in two important ways:nn1. Eden matches the glob in a case sensitive fashion whereas Watchman InMemoryViewn   defines suffixes as case insensitive.n2. Eden walks the tree on demand so the cost of the query is O(repo), whereasn   Watchman InMemoryView builds an index and the cost of the query isn   O(number-of-files-with-suffix)nnI'm fine with both of these differences; we can look at adding an index/cachenof suffix information into eden if we truly need it, and the case sensitiventhing is not a major issue.nnReviewed By: simpkinsnnDifferential Revision: D4374077nnfbshipit-source-id: 35f816586ae76cbd411afafbb925df6aed1e91dcn",42.0,15.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.7424875695421236,16.0,224.0,14.0,2.314814814814815e-05,5007.5,25201.0,248.0,Corrective,True,True,"[""a8f616587f8f134491f7f565e5581e60db577d83""]"
1b9ec6edea6d6bbf11882ede77411a6f9e323b2a,ae2adb8ea9c93005758e84c87ffa5af633e6c6c2,Adam Simpkins,simpkins@fb.com,Tue Jan 31 14:40:17 2017 -0800,1485902417,"move integration tests to eden/integrationSummary:nMove the integration tests from eden/fs/integration up one directory, toneden/integration.nnThe main benefit is that this makes it easy to run just the edenfs unit testsnby running buck test eden/fs/....  These unit tests complete much morenquickly than the full set of integration tests, providing a faster test suitento re-run repeatedly during development.  The integration tests can be run withnbuck test eden/integration/..., and the full set of tests can still be runnwith buck test eden/...nnReviewed By: weznnDifferential Revision: D4490247nnfbshipit-source-id: 5ceb5a19526f56e1cb926f352fa30ad2f1212c05n",2.0,2.0,"tests/integration/TARGETS,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",2.0,1.0,1.0,1.0,14.0,115.5,12.0,23.469774305555553,0.5,0.5106519984702547,1.0,Preventative,False,,
ae2adb8ea9c93005758e84c87ffa5af633e6c6c2,37822086f20f40e14d2c8777af489c23e00bff41,Jacob Bower,jbower@fb.com,Wed Feb 1 12:21:50 2017 -0800,1485980510,Open source Watchman C++ client librarySummary:nMove the Watchman C++ client library out of HHVM and into the Watchman distribution proper and tidy up for open-sourcing.nnThe open-source build of Watchman should only include the client library by default only if Folly is available. Configure will hard fail if `--enable-cppclient` is used and folly is not present.nnThe open-source build of Watchman has now gained a hard dependency on libtool. This could kind of be softened but the dependency would still be present when running `autogen.sh` and this will probably spit out a bunch of whiney error messages with such a setup.nnReviewed By: weznnDifferential Revision: D4292974nnfbshipit-source-id: 589b5b25bb9487117e7a2b03d86c2e58b74d062fn,1380.0,8.0,".gitignore,CAS_DELIMITER,.hgignore,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,autogen.sh,CAS_DELIMITER,configure.ac,CAS_DELIMITER,cppclient/CLI.cpp,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER,cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanClient.h,CAS_DELIMITER,cppclient/WatchmanConnection.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.h,CAS_DELIMITER,cppclient/WatchmanResponseError.cpp,CAS_DELIMITER,cppclient/watchmanclient.pc.in,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER,tests/integration/test_cppclient.py,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/contributing.markdown,CAS_DELIMITER,website/_docs/cppclient.markdown,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER",20.0,4.0,5.0,3.340045154116801,17.0,61.05,292.0,93.43164467592592,9.5,0.950881017906451,3.0,None,False,True,"[""745f3f0b4af9036a3fed3d2b38f505689c155fd9"", ""45957b5aaef4e5f1bd74786da23af4bef4c7ab08"", ""adbddd3637259c66dd566e0c7bd959b13428cc7c"", ""c6236fef602465c0036c178101a771a7d3861121"", ""9801c81d517029fabb21f00e5c7b64054e040b0a"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
37822086f20f40e14d2c8777af489c23e00bff41,745f3f0b4af9036a3fed3d2b38f505689c155fd9,Jacob Bower,jbower@fb.com,Wed Feb 1 12:21:54 2017 -0800,1485980514,"Fix crash on error getting socket from WatchmanSummary:nTo get the default socket name from Watchman we execute the CLI binary and get the result. If something goes wrong an exception is typically thrown, however this can cause us to exit the current code block without waiting for the Subprocess to complete. This causes Subprocess to assert on destruction killing the whole process.nnSo, we now always wait on the Subprocess which is benign if the process is already finished.nnReviewed By: weznnDifferential Revision: D4297859nnfbshipit-source-id: e6c142a0c29c376c706dd4c125dfa4202b8523aen",7.0,2.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,386.0,1.0,4.629629629629629e-05,20.0,21601.0,8.0,Corrective,True,,
745f3f0b4af9036a3fed3d2b38f505689c155fd9,2ab4a0fd6e1adcc75df72d6adcbbaead123eea91,Wez Furlong,wez@fb.com,Wed Feb 1 21:20:51 2017 -0800,1486012851,"avoid deadlock when using since expression termSummary:nBuck recently changed to use a since expression term to elide filesnthat were transiently created and deleted in between buck queries.nnIt turns out that this can lead to the following deadlock:nn```n2653 Thread_8926422n+ 2653 thread_start  (in libsystem_pthread.dylib) + 13  [0x7fffa165e221]n+   2653 _pthread_start  (in libsystem_pthread.dylib) + 286  [0x7fffa165e9f7]n+ 2653 _pthread_body  (in libsystem_pthread.dylib) + 180  [0x7fffa165eaab]n+   2653 void* std::__1::__thread_proxy<std::__1::tuple<make_new_client(std::__1::unique_ptr<watchman_stream, std::__1::default_delete<watchman_stream> >&&)::$_0> >(void*)  (in watchman) + 437  [0x1093bcde5]n+ 2653 dispatch_command(watchman_client*, json_ref const&, int)  (in watchman) + 333  [0x109396c5d]n+   2653 cmd_query(watchman_client*, json_ref const&)  (in watchman) + 319  [0x1093956ff]n+ 2653 w_query_execute(w_query*, std::__1::shared_ptr<watchman_root> const&, w_query_res*, std::__1::function<bool (w_query*, std::__1::shared_ptr<watchman_root> const&, w_query_ctx*, long long*)>)  (in watchman) + 1057  [0x1093a9d21]n+   2653 execute_common(w_query_ctx*, watchman_perf_sample*, w_query_res*, std::__1::function<bool (w_query*, std::__1::shared_ptr<watchman_root> const&, w_query_ctx*, long long*)>)  (in watchman) + 330  [0x1093a95aa]n+ 2653 default_generators(w_query*, std::__1::shared_ptr<watchman_root> const&, w_query_ctx*, long long*)  (in watchman) + 92  [0x1093aa02c]n+   2653 watchman::InMemoryView::timeGenerator(w_query*, w_query_ctx*, long long*) const  (in watchman) + 230  [0x1093757e6]n+ 2653 w_query_process_file(w_query*, w_query_ctx*, std::__1::unique_ptr<FileResult, std::__1::default_delete<FileResult> >)  (in watchman) + 124  [0x1093a8afc]n+   2653 ListExpr::evaluate(w_query_ctx*, FileResult const*)  (in watchman) + 63  [0x1093a573f]n+ 2653 NotExpr::evaluate(w_query_ctx*, FileResult const*)  (in watchman) + 14  [0x1093a4f3e]n+   2653 ListExpr::evaluate(w_query_ctx*, FileResult const*)  (in watchman) + 63  [0x1093a573f]n+ 2653 SinceExpr::evaluate(w_query_ctx*, FileResult const*)  (in watchman) + 49  [0x1093af371]n+   2653 w_clockspec_eval(std::__1::shared_ptr<watchman_root> const&, w_clockspec const*, w_query_since*)  (in watchman) + 65  [0x109380801]n+ 2653 watchman::InMemoryView::getMostRecentRootNumberAndTickValue() const  (in watchman) + 25  [0x1093763e9]n+   2653 _pthread_rwlock_lock  (in libsystem_pthread.dylib) + 471  [0x7fffa165cf04]n+ 2653 __psynch_rw_rdlock  (in libsystem_kernel.dylib) + 10  [0x7fffa1575d02]n```nnthe `timeGenerator` frame already holds a read lock so the attempt to acquirenone again in `getMostRecentRootNumberAndTickValue` deadlocks.nnIt's not clear why this doesn't seem to universally deadlock everyone all thentime, but the resolution is pretty straightforward; we already stash a copy ofnthe root number and tick information in the query context, so we just need anvariant of the clock spec evaluator that takes the information from thereninstead of the more general (and now dangerous) `w_clockspec_eval` function.nnReviewed By: simpkinsnnDifferential Revision: D4499881nnfbshipit-source-id: 8f56f57954ec27a137b9d37eab0d29cf0b9bbda9n",53.0,2.0,"clockspec.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,2.0,2.0,1.2205986274645104,16.0,195.8,143.0,32.72051851851852,5011.0,1.0099077256064315,2383.0,None,False,,
2ab4a0fd6e1adcc75df72d6adcbbaead123eea91,352077d1398032cdebc3c8ca08934fe7cac512dc,Wez Furlong,wez@fb.com,Thu Feb 2 13:13:00 2017 -0800,1486069980,"cleanup clockspec evaluation some moreSummary:nfollowing on from D4499881, Eliminate the old w_clockspec_evalnfunction in favor of expanding the clockspec::evaluate() method a little bitnmore.nnI've also removed some remnants from the old C days by removingnthe query_execute_locked function.nnReviewed By: farnznnDifferential Revision: D4500316nnfbshipit-source-id: 22161187a00aa8755810993ab7f900c31a9a01d3n",66.0,132.0,"clockspec.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",7.0,3.0,3.0,1.5912162662791334,16.0,272.14285714285717,217.0,5.884598214285715,5017.0,1.2413951414593352,2387.0,Perfective,False,,
352077d1398032cdebc3c8ca08934fe7cac512dc,e17946002ecc4463f3672f2331778d1dbe70e04d,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:30 2017 -0800,1486092090,"implement since generator for edenSummary:nConnects the time based generator to the journal API inside eden.nnA couple of things to note here:nn1. We're delegating the current tick and root number concept to eden;n   these map to the sequenceNumber and mountGeneration fields inn   the eden JournalPosition data type.  This diff connects thesen   fields to the appropriate methods of the view.nn2. Fresh instance result sets with eden have very slightly differentn   semantics from InMemoryView.  The InMemoryView semantics are ton   yield a fresh instance result each time the clock string differsn   in the pid or rootNumber positions.  The way this maps to Edenn   means that we will yield a fresh instance result set whenevern   either watchman is restarted or Eden is remounted.  This is broadlyn   speaking OK although it is desirable to only yield a fresh instancen   result set when Eden is remounted, as the watchman process id changen   doesn't require a fresh instance result set with the Eden view.nnI've added a very basic ctime and otime clock value to the Eden FileResultnimplementation so that we don't crash when calling process_result; this isnsufficient to yield a correct list of names, but not sufficient to reason aboutnrelative ordering of changed files.  Eden doesn't currently provide accurateninformation for this purpose, so our hands our tied in this regard for thenmoment.nnReviewed By: farnznnDifferential Revision: D4374481nnfbshipit-source-id: b28a69a0dfe9b60bb4386c90e9defd763fa81da6n",215.0,14.0,"tests/integration/test_eden_since.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8881199406019215,16.0,171.0,10.0,1.6248379629629632,5021.5,0.6538614961605858,249.0,None,False,True,"[""2d729d2f37c6bd401dc21920fca7a7ea5f96309f"", ""4966eb79c9cabbdab8ee4529a68b3024075f923b""]"
e17946002ecc4463f3672f2331778d1dbe70e04d,b3927d96ef6bf3f3f1d8c265b594a8dc244872cf,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:33 2017 -0800,1486092093,add Result typeSummary:nI've been wanting something like this for a little while and it willnhelp with the light Futures implementation that follows.nnResult is most similar to folly::Try but is also slightly influenced by thenrust Result type.nnIt can hold a value or an error or be empty.nnReviewed By: farnznnDifferential Revision: D4469700nnfbshipit-source-id: 498b37d29649ee43b2517134094dda24a952d400n,461.0,1.0,"Makefile.am,CAS_DELIMITER,Result.h,CAS_DELIMITER,tests/ResultTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,3.0,3.0,1.294212183812523,17.0,151.0,208.0,4.4311180555555545,5025.0,1.4906736745252993,215.0,Feature Addition,False,,
b3927d96ef6bf3f3f1d8c265b594a8dc244872cf,c1c4012b5bcc7672be1490adbb66cfc8e4faf5d3,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:34 2017 -0800,1486092094,"add basic Future implementationSummary:nThe intent is to bridge the gap between std::future and folly::Futurenwithout taking on all of the dependencies of folly (we're not in a position tondo this yet, maybe later this year).nnIntroduces Promise and Future types.  Futures can be chained together usingn`.then` to build a staged processing pipeline.  A collection of Futuresncan be converted to a future and collected via collectAll.nnThis implementation doesn't have all of the fancy bells and whistles of itsnfolly counterpart; the lambda used in the `.then` clause must accept an`Result<T>&&` or things will likely explode at compile time with an inscrutablenerror message.nnThis is a relatively dumb implementation and won't perform as well as thenaggressively tuned implementation in folly::Future, but it will suffice for ournpurposes in watchman, where we want to compose some I/O intensive operations.nThe cost of the I/O is expected to dwarf the cost of the Future book keeping.nnReviewed By: farnznnDifferential Revision: D4469920nnfbshipit-source-id: 3311fabde5eef58264abf4133f039d41df3fdd41n",533.0,2.0,"Future.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,Result.h,CAS_DELIMITER,tests/FutureTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,3.0,3.0,1.2687003367265075,17.0,180.16666666666663,212.0,7.716049382716051e-06,5030.5,37200.833333333336,216.0,Feature Addition,False,,
c1c4012b5bcc7672be1490adbb66cfc8e4faf5d3,e1afcb125fd7fb13275ee2d11f10de1a04161194,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:36 2017 -0800,1486092096,"add a simple thread poolSummary:nFor the upcoming changes to support computing content hashes we need anway to read and hash several files concurrently.nnThis diff adds a simple ThreadPool class to manage this, and expands ournFutures implementation to add something similar to the folly::Future::via()ncall.nnReviewed By: farnznnDifferential Revision: D4469954nnfbshipit-source-id: aee3a9f44e0780f1f0d80b0a7a03b8ef62426861n",266.0,2.0,"Future.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,ThreadPool.cpp,CAS_DELIMITER,ThreadPool.h,CAS_DELIMITER,main.cpp,CAS_DELIMITER,tests/FutureTest.cpp,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",8.0,3.0,3.0,2.077458043116268,17.0,309.5,240.0,2.608045428240741,5037.5,8101.053919849144,217.0,Feature Addition,False,,
e1afcb125fd7fb13275ee2d11f10de1a04161194,d6a2ee57d2c2840c918ce679dc42ee4ba45bf809,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:38 2017 -0800,1486092098,FileResult::readLink now returns a futureSummary:nNothing takes of advantage of this yet; that will happen in a follow on diff.nnNote that queries involving readLink are rare.nnReviewed By: farnznnDifferential Revision: D4469976nnfbshipit-source-id: 02271e20113684eda6fd009517d3690701bf139fn,10.0,7.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,3.0,3.0,2.2066294029540403,16.0,382.2,162.0,2.001127314814815,5044.0,1.153328044841296,2401.0,None,False,,
d6a2ee57d2c2840c918ce679dc42ee4ba45bf809,ed72a23ae7e0b7183b6e664fe73da30f58add351,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:39 2017 -0800,1486092099,"allow query result rendering to use FuturesSummary:nSets up the plumbing to allow for concurrency/asynchrony in producingnthe results for a watchman query.  I've used the readLink FileResult method asnthe guinea pig (although it still does not actually do anything async).nnThere are now two code paths in the result rendering code; one where no futuresnare involved and where we can directly emit the results (just as before), andnone that knows how to handle futures.  I've split these code paths to avoidnsome of the heap overheads associated with the Future book-keeping.  For thenvery large result sets that are common in our usage, this avoids a great manynheap allocations in the common case.nnThe future aware path looks a little more complex than is strictly needed for ansimilar reason; we want to avoid creating a set of futures for each match andnkeeping them all around until the whole query completes.nnReviewed By: farnznnDifferential Revision: D4470002nnfbshipit-source-id: e1ced36c2c932b2810f37765a8dd63c7676ed37cn",134.0,31.0,"query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.5837917004376552,16.0,338.75,143.0,12.367792245370367,5048.5,2.9631347703261457,2402.0,None,False,True,"[""60811e5a7c83ed54d8e18ce474ea7feeea17906c""]"
ed72a23ae7e0b7183b6e664fe73da30f58add351,7e6c8339ac0811eb0d13584e744a77554f708523,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:40 2017 -0800,1486092100,"add LRUCache classSummary:nThe intention is to use this to cache computation of SHA1 contentnhashes for the InMemoryView.nnThe cache uses a hash map to look up an item, and an intrusive doubly linkednlist (really a tailq) to maintain the order for eviction purposes.  Thisnresults in most cache operations completing with a couple of O(1) operationsnrather than any logarithmic operations.nnThere's a slightly unsual get() function variant that constrains the number ofnconcurrent requests for the same key; in this pattern, the client passes bothnthe key and a function to compute the value for that key if the key is missing.nThis allows the cache to perform the computation just once even if there arenmultiple requests for the same key.  For example: multiple watchman clientsnhave subscribed for content hashes and a single change notifies both aboutna large number of files.  This allows us to (re)compute the hash for a givennfile just once and pass the results to both clients.nnReviewed By: farnznnDifferential Revision: D4479070nnfbshipit-source-id: 0e2d6af4695aaa4ada8b67388725ea75ede18737n",759.0,1.0,"LRUCache.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,tests/CacheTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",5.0,3.0,3.0,1.1009139967643768,17.0,163.4,216.0,3.240740740740741e-05,5053.0,11603.085714285715,218.0,Feature Addition,False,,
7e6c8339ac0811eb0d13584e744a77554f708523,c884bba3eb4ca7f03b4d9cf06774f3b50481c79d,Wez Furlong,wez@fb.com,Thu Feb 2 19:21:41 2017 -0800,1486092101,"add content hash as an available fieldSummary:nThis uses the Future and LRUCache plumbing from earlier in the diffnstack to provide a cache for the computed content hash of files in the root.nnThis is implemented only for InMemoryView at the moment; a follow-on diff willnadd the Eden equivalent.nnThis is purely a demand-fetched implementation at the moment; watchman willnonly compute/cache content hashes when a query explicitly requests it.nnWe cache using the filename, size and mtime as the key to avoid having to thinkntoo hard about invalidations if a given file is changing very rapidly.nnA follow-on diff will add some heuristics for cache warming.nnI've tried to avoid pulling in openssl on Windows and macOS.  On macOS there isna SHA1_Init() interface compatible SHA1 library available.  On Windows we usenthe crypto API.  On other systems, autoconf looks for libcrypto and adds it tonthe linker parameters if present.  The autoconf checks are intentionally a bitnweak to avoid forming a strong dependency on macOS.  Let's see how they do innthe legocastle run.nnReviewed By: farnznnDifferential Revision: D4500739nnfbshipit-source-id: e5c3ff82cc217cdf55373b02ffc16089e6e897cen",441.0,12.0,"ContentHash.cpp,CAS_DELIMITER,ContentHash.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_time.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",14.0,5.0,5.0,2.674921598784908,18.0,259.7142857142857,511.0,15.452323908730161,5062.5,3968.363986672688,219.0,Feature Addition,False,True,"[""72950c283a6b2d57ada6b8ab54ac4478a9fe6f32"", ""dba1542b6e8a8758017b32bc349cb0f80895d2b5""]"
c884bba3eb4ca7f03b4d9cf06774f3b50481c79d,802d37abe570fef81547cac3d346eef69b3ec93b,Wez Furlong,wez@fb.com,Fri Feb 3 17:57:15 2017 -0800,1486173435,"add content hash cache warming heuristicsSummary:nAdds some simple heuristics for warming up the cache:nn1. Enable/disable warmingn2. If enabled, limit to the N most recently changed files atn   settle time.n3. Optionally defer settling pending completion of hashingn   the file contents.nnI've added some diagnostics to the cache so that we can verifynthat the operations are happening when we think they are.nnReviewed By: farnznnDifferential Revision: D4505780nnfbshipit-source-id: ba6b6aecbf75a56a0f9ae71221e60b17a508623fn",266.0,1.0,"ContentHash.cpp,CAS_DELIMITER,ContentHash.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LRUCache.h,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER",7.0,2.0,2.0,1.9571317950117548,18.0,301.0,127.0,10.251772486772484,5073.0,1.350515476616832,534.0,Feature Addition,False,,
802d37abe570fef81547cac3d346eef69b3ec93b,bc5a0c4fd1d85f75884efe6d9ffa9ef1d045d84c,Wez Furlong,wez@fb.com,Tue Feb 7 14:39:35 2017 -0800,1486507175,"take version number up to 4.9Summary: With 4.8 just about in the bag, let's rev trunk up to the next version number.nnfbshipit-source-id: 93a1f259817de5e044b350287321f4410cf2216cn",2.0,2.0,"configure.ac,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",2.0,2.0,2.0,1.0,18.0,271.5,137.0,29.411678240740734,5077.5,1.1125778520747538,220.0,None,False,,
bc5a0c4fd1d85f75884efe6d9ffa9ef1d045d84c,5bbb042a4d4892a851c49b6f3dcda27acc36ff34,Jacob Bower,jbower@fb.com,Wed Feb 8 19:00:34 2017 -0800,1486609234,Add cppclient as dependency to Python unit testsSummary: Honestly I have no idea how this was working until now...nnReviewed By: weznnDifferential Revision: D4524051nnfbshipit-source-id: 0678b643f9d27dd0fd8a9b9ae0c1e7a6c8f61fe4n,2.0,0.0,"tests/integration/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,141.0,11.0,7.276898148148147,21.0,1.1374211895839828,3.0,Feature Addition,False,,
5bbb042a4d4892a851c49b6f3dcda27acc36ff34,df00277ebbef6bac65b3f8825469b4b3332a95f9,Wez Furlong,wez@fb.com,Thu Feb 9 11:03:33 2017 -0800,1486667013,fix since term when used with timestamps and oclockSummary:nhttps://github.com/facebook/watchman/issues/430 is the issue; this isna simple case of having the parameters in the wrong order when comparing them.nI've added a test case to cover this.nnReviewed By: simpkinsnnDifferential Revision: D4537009nnfbshipit-source-id: f8bb2d2ed0dcab2353819abafb192f58b8e04298n,17.0,1.0,"query/since.cpp,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER",2.0,2.0,2.0,0.5032583347756457,16.0,123.5,17.0,389.4629340277778,5079.5,1.072999718977087,535.0,Corrective,True,,
df00277ebbef6bac65b3f8825469b4b3332a95f9,5b9fe7d240080a62c266e28152d2cc32ae9f4295,Wez Furlong,wez@fb.com,Thu Feb 9 16:43:38 2017 -0800,1486687418,"avoid Python 3.6 ResourceWarnings in integration testsSummary:nsuppresses these:nn```nlib/python3.6/subprocess.py:761: ResourceWarning: subprocess 826016 is still runningn  ResourceWarning, source=self)n```nnDifferential Revision: D4539436nnfbshipit-source-id: 197c36e40851467064f238ec5610fcd994d18191n",5.0,4.0,"python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER",2.0,2.0,2.0,0.5032583347756457,15.0,657.5,76.0,46.190995370370366,5081.5,1.014289180709798,536.0,Preventative,False,,
5b9fe7d240080a62c266e28152d2cc32ae9f4295,b1a11e3c5f15347611f397c11ef182ae9959d415,Wez Furlong,wez@fb.com,Thu Feb 9 16:43:43 2017 -0800,1486687423,"raise test_sock_perms.py timeoutsSummary: This test is flaky, hoping this will helpnnfbshipit-source-id: 319be9bb6d0ddceef78c0854cabfc93d9f6d2dc3n",2.0,2.0,"tests/integration/test_sock_perms.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,247.0,6.0,66.12355324074075,5083.0,1.015123204228896,537.0,Preventative,False,,
b1a11e3c5f15347611f397c11ef182ae9959d415,9c38a692fcf1c66b39747d556f2d5961d0d774d8,Wez Furlong,wez@fb.com,Fri Feb 10 08:50:24 2017 -0800,1486745424,"remove some old unused stuff from watchman.hSummary:nTidying things up a little bit, these functions have beennsubsumed by methods of the FileDescriptor class.nnSpeculative equivalent adjustments for the solaris portfs watcher that we don'tncurrently have a way to build.nnReviewed By: simpkinsnnDifferential Revision: D4535695nnfbshipit-source-id: 7e6ff786cbdeb3b00764606b38aeb63acb60700en",18.0,58.0,"main.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,2.0,2.0,1.5676383908796316,17.0,472.0,270.0,32.76329475308643,5085.0,1.0516246225771213,2422.0,None,False,True,"[""99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb""]"
9c38a692fcf1c66b39747d556f2d5961d0d774d8,8bf1ef3ca65e2cf3e63ffb0f3c65a96f7a7c0ed0,Wez Furlong,wez@fb.com,Fri Feb 10 10:00:43 2017 -0800,1486749643,"refactor errmsg -> throw QueryXXXErrorSummary:nNow that we have exceptions we can tidy this up, so here we are.nnThis replaces the nasty looking `ignore_result(asprintf(&res->errmsg, foo %s, bar)))`npattern with `throw QueryParseError(foo , bar);`nnThere were two of these `errmsg` fields in the query stuff; one for parsenerrors and another for execution errors.  I've introduced a class for both ofnthese and adjusted the code to call the appropriate flavor.nnReviewed By: simpkinsnnDifferential Revision: D4527192nnfbshipit-source-id: 2e24b39c190cd7a4b055e563283a6713da346d38n",418.0,864.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,tests/integration/trigger-error.php,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",29.0,5.0,5.0,4.184503496485555,18.0,230.93103448275863,507.0,53.87162875159643,5101.0,1.01005555250939,2430.0,None,False,True,"[""970e0f1cfa61702b1167381b06c5c4a74326d986"", ""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
8bf1ef3ca65e2cf3e63ffb0f3c65a96f7a7c0ed0,503f6bc6a130d156378abecbc3b094714549539b,Wez Furlong,wez@fb.com,Thu Feb 16 09:03:17 2017 -0800,1487264597,"avoid a couple of crashesSummary:nCame across this crash:nn```nThread 1 (Thread 0x7f4080bff700 (LWP 3964088)):nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr.h:103nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:149nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:666nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:914nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr.h:93nhrg=<optimized out>) at third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/tuple:129nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/tuple:390n```nn```nThread 1 (Thread 0x7f3df3aed880 (LWP 199277)):nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:149nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:666nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:914nat third-party-buck/gcc-4.9-glibc-2.20-fb/build/libgcc/include/c++/trunk/bits/shared_ptr.h:93n```nnI don't have a repro for this, so this is a speculative diff to make the way we use these things a little safer.nnReviewed By: farnznnDifferential Revision: D4560661nnfbshipit-source-id: ea34cd4232242bee0255a2740c06557bc522b4b2n",20.0,11.0,"cmds/state.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",4.0,2.0,2.0,1.3134742745099717,14.0,312.0,151.0,71.82958622685184,5117.5,1.0064220938491837,2433.0,None,False,,
503f6bc6a130d156378abecbc3b094714549539b,464d64308a39752dca6f51f313470cca75e2ad88,Wez Furlong,wez@fb.com,Wed Feb 22 11:52:31 2017 -0800,1487793151,"fsevents dangling symlink bug was fixed in macOS 10.12Summary:nSo we can now run this test on that system!nnHowever, TravisCI is still running an older version of macOS, so we have to retain a conditional check.nnRefs: github.com/facebook/watchman/issues/172nnReviewed By: farnznnDifferential Revision: D4599318nnfbshipit-source-id: aec82e14466516ee3d8db5588582abbc4e7af4ddn",11.0,1.0,"tests/integration/test_symlink.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,304.0,4.0,69.12398148148148,5120.0,1.0144667592717862,539.0,Corrective,True,,
464d64308a39752dca6f51f313470cca75e2ad88,4caf2fae018303a76bf4d9a0f4b390069efeee2c,Wez Furlong,wez@fb.com,Thu Feb 23 11:41:56 2017 -0800,1487878916,"avoid crash when loading triggers from the state fileSummary:npetrosian had a trigger with no expression defined; when upgrading tonwatchman 4.8, the trigger run after the initial crawl on a big repo would takenlonger than out configured perf sampling threshold and log a perf sample.  Whenndoing this, it would segfault in json_dump because the query_spec contained anbogus JSON object with a nullptr value.nnThis diff fixes this by being a little more careful about constructing the query def.nn```nTerminating due to signal 11 Segmentation fault generated by pid=0 uid=0. address not mapped to object (0x0)n0   watchman0x000000010ce0b815 _ZL13crash_handleriP9__siginfoPv + 309n1   libsystem_platform.dylib0x00007fffc417abba _sigtramp + 26n2   ??? 0x0000000000000000 0x0 + 0n3   watchman0x000000010ce707e4 _ZL7do_dumpPK6json_tmiPFiPKcmPvES4_ + 2068n4   watchman0x000000010ce707e4 _ZL7do_dumpPK6json_tmiPFiPKcmPvES4_ + 2068n5   watchman0x000000010ce707e4 _ZL7do_dumpPK6json_tmiPFiPKcmPvES4_ + 2068n6   watchman0x000000010ce707e4 _ZL7do_dumpPK6json_tmiPFiPKcmPvES4_ + 2068n7   watchman0x000000010ce6fe2c _Z10json_dumpsPK6json_tm + 76n8   watchman0x000000010ce1b5ab _ZN20watchman_perf_sample3logEv + 1515n9   watchman0x000000010ce39a82 _ZL14execute_commonP11w_query_ctxP20watchman_perf_sampleP11w_query_resNSt3__18functionIFbP7w_queryRKNS5_10shared_ptrI13watchman_rootEES0_PxEEE + 834n10  watchman0x000000010ce39584 _Z22w_query_execute_lockedP7w_queryRKNSt3__110shared_ptrI13watchman_rootEEP11w_query_resNS1_8functionIFbS0_S6_P11w_query_ctxPxEEE + 244n11  watchman0x000000010ce017c3 _ZN24watchman_trigger_command10maybeSpawnERKNSt3__110shared_ptrI13watchman_rootEE + 387n12  watchman0x000000010ce2e1d8 _ZN24watchman_trigger_command3runERKNSt3__110shared_ptrI13watchman_rootEE + 488n13  watchman0x000000010ce30646 _ZNSt3__114__thread_proxyINS_5tupleIJZN24watchman_trigger_command5startERKNS_10shared_ptrI13watchman_rootEEE3$_1EEEEEPvSA_ + 102n14  libsystem_pthread.dylib 0x00007fffc4184aab _pthread_body + 180n15  libsystem_pthread.dylib 0x00007fffc41849f7 _pthread_body + 0n16  libsystem_pthread.dylib 0x00007fffc4184221 thread_start + 13n```nnReviewed By: farnznnDifferential Revision: D4604203nnfbshipit-source-id: 5f411bf0bba6ab84ad2965d0bb67165612a63a90n",5.0,2.0,"cmds/trigger.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,424.0,31.0,13.070289351851851,5121.0,1.0765094002955884,372.0,None,False,,
4caf2fae018303a76bf4d9a0f4b390069efeee2c,c3fcd80f94edfce439f5c55235e471954684a3b5,Wez Furlong,wez@fb.com,Mon Feb 27 15:47:48 2017 -0800,1488239268,fix parameter order for json_object_copySummary:nIn D4533545 I discovered that the order of parameters was reversed whennmaking a copy.  This diff makes that a compiler error and corrects the issue.nnReviewed By: bolinfestnnDifferential Revision: D4622735nnfbshipit-source-id: a37e0a469edd9a0f979db18cfbb7cdd5876b4102n,51.0,54.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.4537163391869448,16.0,582.0,51.0,65.62497685185184,5122.5,1.0110377453295434,230.0,Corrective,True,,
c3fcd80f94edfce439f5c55235e471954684a3b5,542f748aa4b8eccbe09ae8a99d7290e3cbf8b145,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:19 2017 -0800,1488411199,refactor some subscription functions to methodsSummary:nNo functional changes; just moves some static functions tonbe methods of the client subscription class.nnReviewed By: farnznnDifferential Revision: D4628498nnfbshipit-source-id: df15cd648fb7dd8e2a98bd67ffae2107cdd307c0n,37.0,38.0,"cmds/subscribe.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",2.0,2.0,2.0,0.5293608652873644,18.0,326.5,68.0,16.25091435185185,5124.5,1.0413834753332158,2434.0,None,False,,
542f748aa4b8eccbe09ae8a99d7290e3cbf8b145,76cf0739e6da68c6b6eaa16004515e932b55515c,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:22 2017 -0800,1488411202,rename w_clockspec -> ClockSpecSummary: this is purely a cosmetic changennReviewed By: farnznnDifferential Revision: D4628529nnfbshipit-source-id: eb3665161ec4fc8b91468a80fb5d92f306c3cfaan,26.0,25.0,"clockspec.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",7.0,3.0,3.0,2.4476365504511697,18.0,369.57142857142856,206.0,18.73826388888889,5129.0,1.019850883373714,2439.0,None,False,,
76cf0739e6da68c6b6eaa16004515e932b55515c,8d3b4e231b7bc399494b81d727cde15b20ed1706,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:23 2017 -0800,1488411203,remove union from clockspecSummary:nThere are some funky cases around union initialization that I ran intonwhen making some refactory changes further up in my diff stack.  The unionnisn't really needed here; the cardinality of clockspecs is low and we're onlyntalking about a few bytes difference.  Making these regular fields makes itneasier to add some more fields and correctly handle copy and assignment in thendiffs that follow.nnReviewed By: farnznnDifferential Revision: D4628526nnfbshipit-source-id: d8ab560603f40b725470b876995cb4b0f3d5b529n,9.0,18.0,"clockspec.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER",2.0,1.0,1.0,0.7642045065086203,18.0,125.0,32.0,1.1574074074074072e-05,5133.5,64801.0,2441.0,None,False,,
8d3b4e231b7bc399494b81d727cde15b20ed1706,4d22ed8ec30b211490edd73008116878b17ee8e1,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:25 2017 -0800,1488411205,"refactor w_clockspec json constructorSummary:nI'm adding a fat clockspec in a subsequent diff (will hold some sourcencontrol information as part of the basis), so doing some cleanup here as prep.nnMove this from a helper method to just being a more RAII-likenconstructor for the json object case.nnReviewed By: farnznnDifferential Revision: D4628528nnfbshipit-source-id: e7b7abaca22cc8fc3fe57873ebbb65e20a9b4058n",65.0,47.0,"clockspec.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER",4.0,2.0,2.0,0.7158790872615179,18.0,203.75,67.0,4.807780671296296,5136.5,10801.038999337974,2443.0,None,False,True,"[""d17a4d6336b4d1dabf8f3f210eed24501d93d3f4""]"
4d22ed8ec30b211490edd73008116878b17ee8e1,8791385a8feee2ad38a78c30673a61d1f67cd6a9,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:27 2017 -0800,1488411207,"switch query context from ClockPosition -> ClockSpecSummary:na prerequisite for holding the fatter clock values for SCM awarenqueries; the idea is that we can store additional contextual information in thenClockSpec (the since-mergebase and the mergebase-with fields).nnToday we assume that we can parse a simple string and return a simple stringnvalue for the clock based on a ClockPosition only.  This diff cuts us over tonusing a ClockSpec instead and adds a `toJson` method so that we can transformnthe spec into a json representation.nnAt this time we're still just returning simple string clocks, but in ansubsequent diff we can add more information to these things.nnReviewed By: farnznnDifferential Revision: D4628677nnfbshipit-source-id: 10fa8811789ec6789670cf0dc1b060ae0765ad70n",40.0,30.0,"clockspec.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",10.0,3.0,3.0,3.090471358823935,18.0,198.7,287.0,7.69245023148148,5143.5,4321.017766369532,2447.0,None,False,,
8791385a8feee2ad38a78c30673a61d1f67cd6a9,cb949e93018040c76458375b40538d8c4733e689,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:29 2017 -0800,1488411209,"add basic Mercurial scm awareness to since queriesSummary:nThis diff allows adding an `scm` constraint to a query.  This is implemented bynmaking the clockspec parser understand a fat clock, which is really just anclock with more information inside it than just a string.nnA fat clock is represented as a json object rather than just a string.  Thesenclocks are identical:nn```nc:0:0n{}n{clock: c:0:0}n```nnThis also makes it more convenient to specify a null clock value; just pass annempty object.nnFor SCM awareness we've allowed for the clock to contain an `scm` property withnsome parameters to influence the query.  For example, the client can pass innsomething like this on their initial query:nn```nsince: {n  scm: {nmergebase-with: mastern  }n}n```nnthis causes watchman to compute the mergebase with the specific commit.nnIf the mergebase is the same, then the query continues as a normal `since` query.nnIf the mergebase has changed, rather than computing a large list of everythingnthat got changed between the old revision and the new one, watchman will insteadnjust return the list of files that have been changed since the new mergebase,nfiltered by the query expression.nnThe goal of this feature is to minimize the size of the resultset for clientsnthat are aware of source control.nnIn the query response for such a query, watchman will populate the scm information:nn```n{n  files: [foo, bar],n  clock: {nclock: 'c:123:123:123',nscm: {n  'mergebase': 'HASH',n  'mergebase-with': 'master',n}n  }n}n```nnNote that the the clock value in the result set is a fat clock.  Generating thenfat clock value is handled by the `ClockSpec.toJson()` method; it will generate onenif the clockspec contains more than just a ClockPosition.  This can only happennif the client initiated a query using a fat clock spec as an input, so we shouldnbe good from a backwards compatibility standpoint.nnOn a subsequent query, the client will provide the `clock` parameter as the valuenof the `since` field as they would do normally.  Passing back the fat clock valuencauses the next query to continue to use the scm parameters:nn```nsince: {n  clock: 'c:123:123:123',n  scm: {n'mergebase': 'HASH',n'mergebase-with': 'master'n  }n}n```nnTo facilitate this, I've introduced a small SCM abstraction.  The interface requiresntwo methods to be implemented; one to return the current mergebase and another tonreturn the set of !ignored files changed since a specified mergebase.nnThe QueryableView is responsible for returning an instance of the SCM object.nPutting it at the view layer allows us to very specifically target Eden andnavoid running external commands for the eden watcher.nnThis diff only implements this functionality for Mercurial.  I plan to extend itnto handle git in a follow-on commit.nnSimilarly, I plan to add the equivalent functionality for subscriptions in another follow-on commit.nnReviewed By: bolinfestnnDifferential Revision: D4533545nnfbshipit-source-id: 4093c30954da6be6f75a820577f6deed96156fdcn",563.0,37.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,TARGETS,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,scm/SCM.cpp,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",15.0,6.0,6.0,3.0326095809126987,18.0,206.46666666666667,425.0,10.496604166666666,5156.0,1.0132422686641067,221.0,Feature Addition,False,True,"[""c476cd461703011e9e725d025bf19e648f9326d2"", ""72950c283a6b2d57ada6b8ab54ac4478a9fe6f32""]"
cb949e93018040c76458375b40538d8c4733e689,77b66dc8fbb281ccf50179063ba127eb66c0fbc3,Wez Furlong,wez@fb.com,Wed Mar 1 15:33:30 2017 -0800,1488411210,"make subscriptions scm awareSummary:nThis diff is mostly just the test case code, but there are a couplenof points worth calling out:nn1. Having fsmonitor enabled is required, otherwise the subscription willn   report the intermediate changes during the `hg update` operation andn   defeat the contract of the SCM aware query.  I've expanded then   test case to check for this.nn2. There was a subtle bug in the code that was updating the clock positionn   for a subscription; we could race with a concurrent mutation of the viewn   and we'd end up using the wrong basis for a subsequent update.  Thisn   would manifest very strangely: it would cause a subsequent non-subscriptionn   query to block and timeout.  I've fixed this by having the `runSubscriptionRules`n   method return the correct position back to its caller.   I had to plumbn   this value through in any case so that we can correctly thread the scmn   parameters through.nn3. The subscription query parser defaults to enabling `vcs_defer` andn   `defer: ['hg.update']`, as it doesn't make sense for these to notn   be set.nnReviewed By: farnznnDifferential Revision: D4632985nnfbshipit-source-id: b83d2b0fe8b41ec719222e4c6dc4d7e752587cbcn",399.0,19.0,"cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/cmd.subscribe.markdown,CAS_DELIMITER,website/_docs/file-query.md,CAS_DELIMITER,website/_docs/scm-query.md,CAS_DELIMITER",9.0,6.0,7.0,1.5218586546842512,18.0,197.0,143.0,14.49258101851852,5168.0,9685.7129369736,228.0,None,False,True,"[""c476cd461703011e9e725d025bf19e648f9326d2"", ""16a545d2e9ffdc75c1be7101e4384a99b0190110"", ""09bcc1f76a5a461de393cd37e1a8bf9696b92a1f"", ""72950c283a6b2d57ada6b8ab54ac4478a9fe6f32""]"
77b66dc8fbb281ccf50179063ba127eb66c0fbc3,5c312821651bf5fb9a66f51c17734cfd54f7d0ef,Wez Furlong,wez@fb.com,Wed Mar 1 19:34:10 2017 -0800,1488425650,fix buck deps for the eden integration testSummary: the implicit dep from the location macro seems to have stopped workingnnfbshipit-source-id: 5f2592547b332912ad5beea27526e9ef618be54fn,1.0,0.0,"tests/integration/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,143.0,12.0,21.023333333333333,5173.0,1.0475661962898366,542.0,Corrective,True,,
5c312821651bf5fb9a66f51c17734cfd54f7d0ef,208909ba11e9cbb2eeef0b248418acaa189657ac,Wez Furlong,wez@fb.com,Wed Mar 1 23:02:33 2017 -0800,1488438153,"enable StreamingEdenServiceSummary:nIn order to send realtime subscription information to watchmannwe need to use the thrift streaming data functionality.  Since thisnisn't supported in java we originally broke this out into its ownnthrift file.nnIt's now time to hook this up; this diff adds some plumbing so thatnour thrift server knows to implement this interface.nnThis was made a bit more complicated because the inheritance innthe thrift definitions causes some ambiguities in the header mapsnthat buck uses to manage the includes.nnI also had to rename the file from `eden.stream.thrift` to `streamingeden.thrift`nto avoid a problem with the period in the middle of the identifier.nnFor the server side of things, I've removed the `:thrift-cpp2` targetnand replaced it with `thrift-streaming` instead.nnThis diff doesn't implement the endpoint, it is just setting thingsnup for the follow-on diff that does.nnReviewed By: bolinfestnnDifferential Revision: D4640639nnfbshipit-source-id: b3625b0ff33a42945bf523944beed050f549a18cn",1.0,1.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,255.0,16.0,0.3118518518518518,5174.0,4.20665083135392,2456.0,None,False,,
208909ba11e9cbb2eeef0b248418acaa189657ac,d8b826e271ff075752c8c572d390bb50ce0355dd,Wez Furlong,wez@fb.com,Wed Mar 1 23:04:05 2017 -0800,1488438245,"Mercurial: add cache for merge base informationSummary:nThis adds a cache of merge base data.  The cache is invalidated by anchange of the mercurial `dirstate` file; this happens whenever an explicitnsource control operation takes place on the working copy and triggers wheneverna commit is made or an update operation has taken place (and likely a bit morenfrequently than that).   This makes it a quick and easy way to gate executingnmercurial commands to discover the merge base information.nnNote that symbolic commitIds passed in as the mergebase-with parameter cannchange their target without dirstate being updated.  For the purposes of thenfeature that this is used for in watchman, this is ok.nnWe invalidate the entire merge base cache whenever the dirstate file changes.nnReviewed By: farnznnDifferential Revision: D4634394nnfbshipit-source-id: 1bde83e0469948dc440c0ba90cd16bbd8545b6a7n",108.0,2.0,"scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",3.0,2.0,2.0,1.0846301856644192,18.0,112.66666666666669,5.0,0.3129089506172839,5176.0,2.9530096289945376,543.0,None,False,True,"[""8c7cadc0203cc219d2894f5dc8af0c8fa9cd2bbf""]"
d8b826e271ff075752c8c572d390bb50ce0355dd,8c7cadc0203cc219d2894f5dc8af0c8fa9cd2bbf,Wez Furlong,wez@fb.com,Fri Mar 3 08:36:17 2017 -0800,1488558977,"fixup windows compilationSummary:nWe don't have `stat()`, but do have `lstat()` available.nn```nscmMercurial.cpp(42): error C2440: '<function-style-cast>': cannot convert from 'initializer list' to 'stat'nscmMercurial.cpp(42): note: No constructor could take the source type, or constructor overload resolution was ambiguousnNMAKE : fatal error U1077: 'C:Program Files (x86)Microsoft Visual Studio 14.0VCBINamd64cl.EXE' : return code '0x2'n```nnDifferential Revision: D4650244nnfbshipit-source-id: 7c7b29ccd994a788d873866d4c150d835d2b7f28n",1.0,1.0,"scm/Mercurial.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,196.0,3.0,1.3973611111111108,5178.0,1.7156346287645363,7.0,Corrective,True,,
8c7cadc0203cc219d2894f5dc8af0c8fa9cd2bbf,5c734ef46a73a03514bee93122c013988b6f1780,Wez Furlong,wez@fb.com,Fri Mar 3 10:38:02 2017 -0800,1488566282,Fixup appveyorSummary:n1. Let's use an old version of PHP because the PHP choco package keepsngetting broken.nn2. Default the HGUSER env var to something because there is not localnhg configuration on the appveyor hosts.nn3. Skip scm test on windows because there's something about the ordernof notifications that the test doesn't expect.  I'll follow upnand dig into this soon (waiting on some hardware to test this)nnCloses https://github.com/facebook/watchman/pull/437nnDifferential Revision: D4651049nnPulled By: weznnfbshipit-source-id: ccd9a330bb50dd3ca8fac585cf07529fe17087ebn,17.0,3.0,"appveyor.yml,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,18.0,124.5,12.0,23.146215277777767,5179.5,1.0219589957939128,544.0,Corrective,True,,
5c734ef46a73a03514bee93122c013988b6f1780,e79a70341a42fec0b98ea11b66576385489092e2,Wez Furlong,wez@fb.com,Sat Mar 4 09:27:13 2017 -0800,1488648433,suppress some noisy test diagnosticsSummary: This has been bugging me for a whilennfbshipit-source-id: 58bd91a1f28af5a2ac95d3459ba32636ffbf992dn,18.0,18.0,"python/tests/tests.py,CAS_DELIMITER,thirdparty/tap.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,14.0,386.5,33.0,91.55247685185185,5181.5,1.0083804310222733,231.0,Preventative,False,,
e79a70341a42fec0b98ea11b66576385489092e2,c476cd461703011e9e725d025bf19e648f9326d2,Wez Furlong,wez@fb.com,Sat Mar 4 10:05:42 2017 -0800,1488650742,"fixup some flakiness on macSummary:nHGPLAIN was being set to `true` because the mac compiler was interpreting the `1` string as boolean true.nnIn addition, `WATCHMAN_SOCK` wasn't guaranteed to be set and inherited to thenchild `hg` processes in the harness on all platforms, so let's make sure thatnwe pass it down.nnDifferential Revision: D4653823nnfbshipit-source-id: 75846257a5821abfb606bd3611beda488a280f54n",22.0,7.0,"scm/Mercurial.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,2.0,2.0,0.5787946246321198,18.0,208.0,8.0,1.019820601851852,5183.5,1.7159088766720538,545.0,Corrective,True,True,"[""72950c283a6b2d57ada6b8ab54ac4478a9fe6f32""]"
c476cd461703011e9e725d025bf19e648f9326d2,b3dc11c39c27a4038a9c3663d4f8c5342fbb7fdf,Wez Furlong,wez@fb.com,Mon Mar 6 09:44:36 2017 -0800,1488822276,"tighten up accessing the view around a recrawlSummary:nWe have a data race where clients can attempt to operate on a viewnjust as a recrawl is in progress.  This is causing some of our integrationntests to be flaky.nnThis diff introduces a `view()` method on the root that acquires a readnlock on the recrawl info.  This ensures that we can't read a nullptrnview during the switcheroo that happens in setting up the new root.nnIt doesn't magically guarantee that the returned root is the active one,nbut at least it is a live object and not a nullptr.nnReviewed By: farnznnDifferential Revision: D4653767nnfbshipit-source-id: 6cfc99e278cbc083cd61b1ed683cbc677f8f300fn",86.0,72.0,"InMemoryView.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/ageout.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",18.0,4.0,4.0,3.3487275057138968,18.0,291.8333333333333,559.0,49.89661201131688,5193.5,1.0236770310175758,2470.0,None,False,,
b3dc11c39c27a4038a9c3663d4f8c5342fbb7fdf,fdf5b9b8fae9e56367ea6856b617bbf13235bb51,Wez Furlong,wez@fb.com,Mon Mar 6 10:16:52 2017 -0800,1488824212,"add ChildProcess::communicateSummary:nEquivalent to its python and folly namesakes, thisnallows consuming all of the output and error streams from anchild process without deadlocking.nnReviewed By: farnznnDifferential Revision: D4656211nnfbshipit-source-id: 7771749a14e3707b7dc7e73aca65bdc7505bc56cn",398.0,73.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/childproc.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",7.0,3.0,3.0,2.162766846206781,18.0,376.4285714285714,94.0,43.41037863756614,5206.0,1.0094066165533493,2474.0,Feature Addition,False,True,"[""713efe401e41605159645d5d788c274993afda30""]"
fdf5b9b8fae9e56367ea6856b617bbf13235bb51,d241978aaa6b6d7c5b7260bc9e6d699d3a1cea53,Jun Wu,quark@fb.com,Tue Mar 7 10:38:20 2017 -0800,1488911900,"redirect stdin to null when spawning hgSummary:nPreviously, watchman starts hg processes without stdin. However, Mercurialn(and/or Python) assumes fd 0 to be taken by stdin unconditionally.nnThat could be troublesome for whoever gets fd 0. For example,nn  - If chg opens the server socket, which is assigned fd 0, Python also thinksnfd 0 is a valid `sys.stdin`. It could complain fd 0 is not a socket fdnand refuse to `accept()`. Therefore every command will fail with cmdservernexited with status 255.n  - If blackbox opens `blackbox.log`, which gets fd 0, chg's `attachio` featurenwill replace fd 0 with some input channel. Then blackbox's output could benrouted to commandserver's input, which is plain wrong.nnThis patch fixes the issue by assigning stdin to `/dev/null` (or `NUL` onnWindows).nnReviewed By: weznnDifferential Revision: D4665563nnfbshipit-source-id: ca76ba7c36a06fc981fdab1d45f79c8f0c122231n",13.0,0.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.3346791410515946,18.0,320.6666666666667,17.0,1.0149074074074074,2.0,1.6021348417115224,1.0,None,False,,
d241978aaa6b6d7c5b7260bc9e6d699d3a1cea53,4a9a00ebe838f3d984c77542df2c997981be3597,Ilya Klyuchnikov,ilyaklyuchnikov@fb.com,Tue Mar 7 11:12:53 2017 -0800,1488913973,Java transport on windows via named pipes (initial implementation)Summary: The logic was copied from pywatchman client. The only difference: two waitable events (because java client spawns two threads - one for reading and one for writing).nnReviewed By: weznnDifferential Revision: D4659480nnfbshipit-source-id: 808f4a2729a9f52e0e4f757536a844f1f8d0f986n,560.0,223.0,"java/.buckversion,CAS_DELIMITER,java/BUCK,CAS_DELIMITER,java/pom.xml,CAS_DELIMITER,java/src/com/facebook/watchman/CapabilitiesStrategy.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanClientImpl.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanConnection.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanSocketBuilder.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanSocketUnavailableException.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanTransport.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanTransportBuilder.java,CAS_DELIMITER,java/src/com/facebook/watchman/WatchmanTransportUnavailableException.java,CAS_DELIMITER,java/src/com/facebook/watchman/unixsocket/UnixDomainSocket.java,CAS_DELIMITER,java/src/com/facebook/watchman/windowspipe/WindowsNamedPipe.java,CAS_DELIMITER,java/src/com/facebook/watchman/windowspipe/WindowsNamedPipeLibrary.java,CAS_DELIMITER,java/test/com/facebook/watchman/CapabilitiesTest.java,CAS_DELIMITER,java/third-party/jna/BUCK,CAS_DELIMITER",16.0,1.0,6.0,3.143696803862384,13.0,76.4375,16.0,107.84511429398148,7.5,0.9387817689184296,15.0,Feature Addition,False,,
4a9a00ebe838f3d984c77542df2c997981be3597,d8aaa5283e7557d2b6a6532b35e08732529116e1,Jim Meyering,meyering@fb.com,Wed Mar 8 17:26:29 2017 -0800,1489022789,"watchman/Future.h: avoid shadowing warningsSummary:nFix warnings exposed by gcc-4.9.x's -Wshadow-compatible-localnI plan to enable this for all of fbcode, soon.nSee https://fburl.com/bad-shadow for justification.nnRename two inner result to res and res2 respectively.nnThis avoids the following errors:nn  watchman/Future.h:311:61: error: declaration of 'watchman::Result<std::basic_fbstring<char>, std::__exception_ptr::exception_ptr>&& result' shadows a parameter [-Werror=shadow-compatible-local]n  watchman/Future.h:308:45: error: shadowed declaration is here [-Werror=shadow-compatible-local]nnReviewed By: weznnDifferential Revision: D4674208nnfbshipit-source-id: 29c5c93cc2837331f20e66a740942e2641536921n",4.0,4.0,"Future.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,459.0,2.0,33.92005787037037,0.0,0.0,0.0,None,False,,
d8aaa5283e7557d2b6a6532b35e08732529116e1,ac0b98649f0c0f3b13ad0de7ef1dcfbd1f17c632,Jim Meyering,meyering@fb.com,Wed Mar 8 17:29:59 2017 -0800,1489022999,"watchman/ContentHash.cpp: avoid shadowing warningsSummary:nFix warnings exposed by gcc-4.9.x's -Wshadow-compatible-localnI plan to enable this for all of fbcode, soon.nSee https://fburl.com/bad-shadow for justification.nnRename inner key to k.nnThis avoids the following errors:nn  watchman/ContentHash.cpp:46:49: error: declaration of 'const watchman::ContentHashCacheKey& key' shadows a parameter [-Werror=shadow-compatible-local]n  watchman/ContentHash.cpp:44:32: error: shadowed declaration is here [-Werror=shadow-compatible-local]nnReviewed By: weznnDifferential Revision: D4674207nnfbshipit-source-id: e6d896169acd0ecffbc33b12258124f86f55fe1dn",1.0,1.0,"ContentHash.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,173.0,2.0,32.98106481481481,1.0,1.0303204279672258,1.0,None,False,,
ac0b98649f0c0f3b13ad0de7ef1dcfbd1f17c632,76466d7595f3e80b11002b647b7f0118e1070ece,Jim Meyering,meyering@fb.com,Wed Mar 8 17:30:27 2017 -0800,1489023027,"watchman/thirdparty/jansson/load.cpp: avoid shadowing warningsSummary:nFix warnings exposed by gcc-4.9.x's -Wshadow-compatible-localnI plan to enable this for all of fbcode, soon.nSee https://fburl.com/bad-shadow for justification.nnMove declarations of outer value down, past inner declaration, to where used.nnThis avoids the following errors:nn  watchman/thirdparty/jansson/load.cpp:490:20: error: declaration of 'value' shadows a previous local [-Werror=shadow-compatible-local]n  watchman/thirdparty/jansson/load.cpp:465:12: error: shadowed declaration is here [-Werror=shadow-compatible-local]nnReviewed By: weznnDifferential Revision: D4674209nnfbshipit-source-id: c56ad7fdba92c9a2b11f878800edb22d641fae4bn",1.0,1.0,"thirdparty/jansson/load.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,1042.0,2.0,139.0575810185185,2.0,1.007191265608646,0.0,None,False,,
76466d7595f3e80b11002b647b7f0118e1070ece,cdac8007611f602d62d1fcc43ce9f8916c3e12be,Jim Meyering,meyering@fb.com,Wed Mar 8 17:31:44 2017 -0800,1489023104,"watchman/tests/art_test.cpp: avoid shadowing warningsSummary:nFix warnings exposed by gcc-4.9.x's -Wshadow-compatible-localnI plan to enable this for all of fbcode, soon.nSee https://fburl.com/bad-shadow for justification.nnRename outer line to lineno.nnThis avoids the following errors:nn  watchman/tests/art_test.cpp:224:70: error: declaration of 'line' shadows a previous local [-Werror=shadow-compatible-local]n  watchman/tests/art_test.cpp:211:13: error: shadowed declaration is here [-Werror=shadow-compatible-local]nnReviewed By: weznnDifferential Revision: D4674206nnfbshipit-source-id: 3991403f9ff4d37f51a7cfeea17d42338ffcd603n",5.0,5.0,"tests/art_test.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,16.0,431.0,14.0,41.23528935185185,3.0,1.0242510727029757,0.0,Preventative,False,,
cdac8007611f602d62d1fcc43ce9f8916c3e12be,0d5d269035f9e59ab345278918a941451bdc230d,Andrii Grynenko,andrii@fb.com,Mon Mar 20 17:01:50 2017 -0700,1490054510,Fix watchman to call folly::Singleton's registrationCompleteReviewed By: weznnDifferential Revision: D4725016nnfbshipit-source-id: b7fa4a19061bb513d37def80ef12caa6dc737ba4n,6.0,0.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,461.0,15.0,19.0196875,0.0,0.0,0.0,Corrective,True,,
0d5d269035f9e59ab345278918a941451bdc230d,59d148afcecd8c5783afb105793ee0e8543f7efe,Wez Furlong,wez@fb.com,Tue Mar 21 13:25:30 2017 -0700,1490127930,"implement eden->watchman subscriptionsSummary:nThis tweaks the definition of the subscribe method in thenstreamingeden thrift file and implements the server side of thenthrift service, and the client side to consume it in watchman.nnThe definition is now a bit simpler than it was previously; we'rennow just sending a stream of the updated JournalPosition objectsnto the client rather than computing and sending FileDelta objects.nnThis is cheaper for Eden to deal with because it is very cheap to takenthe current journal position and pass that over the wire.  This isnimportant because a burst of mutations will likely queue up a bunchnof these in quick succession.nnIn a future diff I'm considering adding a latency parameter fornthe subscription so that we can constrain the number of updatesnover a certain time period (likely in the 10's of milliseconds range).nnFor now I just want to prove that the concept works.nnOn the watchman side we just need to pull these off the wire as they are sentnby eden, then wait for the subscription stream to settle before internallynbroadcasting to any connected subscribers.nnReviewed By: bolinfestnnDifferential Revision: D4647259nnfbshipit-source-id: 03aa16e59a43195a2505a8d03bce1ccf88a8d42fn",177.0,6.0,"tests/integration/test_eden_subscribe.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8751957887407251,18.0,233.5,16.0,0.4248842592592593,5210.5,1.088395532552438,256.0,None,False,True,"[""f71faf33e1c9f3bb0a3a83b599d119ca2b67d8c1""]"
59d148afcecd8c5783afb105793ee0e8543f7efe,adaeaa351d93e638963bcd244f9592c7b4b6ff79,Wez Furlong,wez@fb.com,Tue Mar 21 13:29:19 2017 -0700,1490128159,"build system-python dependent pywatchman for linux machinesSummary:nThis is intended to be used to help buck deal with some packaging problems.nThe longer term solution is to migrate buck to use a python from the fb-runtimenand then we can remove this.nnWhile we are a centos 7 focused this system dependent thing is OK, but once wenstart rolling centos 8 we're going to need to revert this or split this outninto centos 7 and 8 dependent packages.  I'm voting for reverting this, butnlet's see how we go.nnReviewed By: farnznnDifferential Revision: D4747409nnfbshipit-source-id: 7a7bb801e68ecba5c5dcb3e26b09499a74fb897cn",1.0,0.0,"python/.gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,5212.0,0.0,80.0,None,False,,
adaeaa351d93e638963bcd244f9592c7b4b6ff79,658a28470b2e4f1ee1f0a238643ede81dec4405c,Wez Furlong,wez@fb.com,Fri Mar 24 11:22:19 2017 -0700,1490379739,"use symbolic name for the filename component of the inotify bufferSummary: jsorensen suggested that we `s/256/NAMX_MAX + 1/` here, so here we are.nnDifferential Revision: D4770901nnfbshipit-source-id: dd295d05a5be7940f6659464f55a7b78836e907fn",2.0,1.0,"watcher/inotify.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,400.0,26.0,114.79827546296295,5213.0,1.0087109322502203,257.0,None,False,,
658a28470b2e4f1ee1f0a238643ede81dec4405c,616d9fbc5eada1a2866de61dde32b5d69361a75e,Wez Furlong,wez@fb.com,Fri Mar 24 22:52:33 2017 -0700,1490421153,"add .eden magic dirSummary:nIt's not really magic because we don't have a virtual directoryninode base any more.  Instead, we mkdir and populate it at mount time.nnWhat is slightly magical about it is that we give it some special powers:nn* We know the inode number of the eden dir and prevent unlink operationsn  on it or inside it.n* The .eden dir is present in the contents of the root inode and willn  show up when that directory is `readdir`'dn* When resolving a child of a TreeInode by name, we know to return then  magic `.eden` inode number.  This means that it is possible to `stat`n  and consume the `.eden` directory from any directory inside the edenn  mount, even though it won't show up in `readdir` for those child dirs.nnThe contents of the `.eden` dir are:nn* `socket` - a symlink back to the unix domain socket that our thriftn  server is listening on.  This means that it is a simplen  `readlink(.eden/socket)` operation to discover both whether a directoryn  is part of an eden mount and how to talk to the server.nn* `root` - a symlink back to the root of this eden mount.  This allowsn  using `readlink(.eden/root)` as a simple 1-step operation to findn  the root of an eden mount, and avoids needing to walk up directoryn  by directory as is the common pattern for locating `.hg` or `.git`n  dirs.nnReviewed By: simpkinsnnDifferential Revision: D4637285nnfbshipit-source-id: 0eabf98b29144acccef5c83bd367493399dc55bbn",57.0,13.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.5535072654547254,18.0,358.5,23.0,28.374178240740733,5214.5,1.0181820960238137,258.0,Feature Addition,False,True,"[""7854fa661b4a4466a5896a189719cda32f506e90""]"
616d9fbc5eada1a2866de61dde32b5d69361a75e,f71faf33e1c9f3bb0a3a83b599d119ca2b67d8c1,Wez Furlong,wez@fb.com,Wed Mar 29 23:21:10 2017 -0700,1490854870,fixup watchman subscribe integration testSummary:nI must have missed this between the .eden magic dir and thensubscription diff stacks.  This just fixes up the test expectations to matchnthe combined reality.nnReviewed By: bolinfestnnDifferential Revision: D4799569nnfbshipit-source-id: 75077b355019a1f931320dc3afc2f2836edebc64n,5.0,2.0,"tests/integration/test_eden_subscribe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,54.0,1.0,8.413657407407408,5216.0,1.1188543758769638,550.0,Corrective,True,,
f71faf33e1c9f3bb0a3a83b599d119ca2b67d8c1,155d656ca218ca8d677638b8cdd3d9196d68a2d2,Wez Furlong,wez@fb.com,Thu Mar 30 10:54:12 2017 -0700,1490896452,"retry command invocation for ECONNREFUSED after spawnSummary:nWe've been seeing something that looks like this is a problem on our sandcastle infra.nnOn that tier we have configured the site spawner that we use on devservers, butnbecause that tier has no owning user the spawner falls through tonasynchronously starting `watchman --foreground` in the background.  The theorynis that we're racing with its start and hitting ECONNREFUSED because we try tonconnect to its socket before it's started to listen on the socket.nnTo compensate for this, this diff adds a simple retry loop; we'll keep trying tonreconnect for suitable error codes until we've made 10 attempts.   In betweenneach attempt we'll do a short sleep with exponential backoff.nnReviewed By: farnznnDifferential Revision: D4799606nnfbshipit-source-id: 7fee81d8b8628745b26247a700177a97cd20977fn",15.0,1.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,1026.0,24.0,28.764467592592588,5217.0,1.0347651141736245,2475.0,None,False,,
155d656ca218ca8d677638b8cdd3d9196d68a2d2,df3ec5c12e9855c4621a96985770d8e9eb27318c,Ben Hamilton,beng@fb.com,Wed Apr 5 10:25:47 2017 -0700,1491413147,"Make `bser_load()` match Python implementation for optional argsSummary:nThe C implementation of `bser.load()` makes all arguments required, but the Python implementation  only requires the first argument.nnThis makes the C implementation match the Python implementation.nCloses https://github.com/facebook/watchman/pull/435nnReviewed By: weznnDifferential Revision: D4644942nnPulled By: bhamiltoncxnnfbshipit-source-id: 42af316f3ba2a1cd5a2b08965708fae43861cff6n",35.0,6.0,"python/pywatchman/bser.c,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,1212.0,25.0,112.80447916666668,39.0,1.0088648962114573,9.0,None,False,,
df3ec5c12e9855c4621a96985770d8e9eb27318c,8e4cced79284f0d8fc23ac7763f30ee0e9712684,Wez Furlong,wez@fb.com,Thu Apr 6 13:10:54 2017 -0700,1491509454,add .eden/client symlinkSummary:nThe intent is to provide a way to locate the SNAPSHOT filenfor tools that want to have a very fast way to figure out the commitnid without making any RPCs or subprocess invocations.nnReviewed By: simpkinsnnDifferential Revision: D4824176nnfbshipit-source-id: 5adca225d9984146852dad1e83de0d903848c1e5n,6.0,1.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER",2.0,1.0,1.0,0.8631205685666309,18.0,96.5,9.0,10.086140046296297,5218.5,1.0644813896519825,552.0,Feature Addition,False,,
8e4cced79284f0d8fc23ac7763f30ee0e9712684,296db92e900c7d5abe13a151e38b65ef20296cef,Alexey Spiridonov,lesha@fb.com,Wed Apr 12 14:43:03 2017 -0700,1492033383,"Delete | operator for Subprocess::OptionsSummary:nThis operator is WRONG. It has not worked correctly for years, e.g. it lacks support for chdir, and several other options.nnThe operator is not really useful after C++11. Usually, you should just chain setters, e.g. `Subprocess::Options().pipeStdout().pipeStderr()`. If you must repeatedly mutate options in a fixed way, in the C++11 world you can use a lambda instead.nnReviewed By: yfeldblumnnDifferential Revision: D4862698nnfbshipit-source-id: a2d8ace53424b9232e178cf202cf51beb7b59b12n",1.0,2.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,391.0,2.0,70.05635416666667,0.0,0.0,0.0,None,False,,
296db92e900c7d5abe13a151e38b65ef20296cef,bbdce8fd5681745e53ea1de6702adc6822b407e3,Adam Simpkins,simpkins@fb.com,Fri Apr 14 11:31:47 2017 -0700,1492194707,"move eden/fs/cli to eden/cliSummary:nMove the code for the command-line tool up one directory, out of eden/fs.nThis better separates the code so that eden/fs contains code for the edenfsndaemon, while eden/cli contains code for the command line tool.nnReviewed By: bolinfestnnDifferential Revision: D4888633nnfbshipit-source-id: 5041e292c5353d05122eefe5db3257289e31239an",2.0,2.0,"tests/integration/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,144.0,13.0,43.62334490740741,2.0,1.022923505799992,2.0,None,False,,
bbdce8fd5681745e53ea1de6702adc6822b407e3,61229cde1601002d861d87e07f4a848a0b645150,Daniel Wagner-Hall,dwh@fb.com,Tue Apr 25 07:15:14 2017 -0700,1493129714,Remove project_config rules from fbcodeSummary:nThese only exist to support a deprecated form of project generation which isnabout to be removed.nnReviewed By: tageorgiounnDifferential Revision: D4939375nnfbshipit-source-id: 2b2e1bcfb907dac9b3e8535e633dc48a37d78b53n,0.0,11.0,"java/BUCK,CAS_DELIMITER,java/third-party/jsr-305/BUCK,CAS_DELIMITER",2.0,1.0,2.0,0.9940302114769564,13.0,35.0,5.0,173.8048263888889,0.5,0.5014383950388157,1.0,None,False,,
61229cde1601002d861d87e07f4a848a0b645150,c0e5b25fbb2e2edb674daf839c572816ce308edb,Gaurav Kumar,gaurav.kumar@zoomcar.com,Tue May 2 10:42:12 2017 -0700,1493746932,updated suport linkSummary: Closes https://github.com/facebook/watchman/pull/456nnDifferential Revision: D4982229nnPulled By: weznnfbshipit-source-id: 180e20faa1fe281948417327bd7fd4c4424717e7n,1.0,1.0,"website/_data/nav.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,15.0,2.0,112.83454861111113,0.0,0.0,0.0,None,False,,
c0e5b25fbb2e2edb674daf839c572816ce308edb,d83e665045262288860440aca2204d3c5ee3f243,Gaurav Kumar,gaurav.kumar@zoomcar.com,Tue May 2 10:43:50 2017 -0700,1493747030,removed duplicate definition for PRIsize_tSummary: Closes https://github.com/facebook/watchman/pull/457nnDifferential Revision: D4982217nnPulled By: weznnfbshipit-source-id: 760e1cb171a35412a876a186a60bd56cf2def0abn,0.0,6.0,"watchman_system.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,169.0,7.0,137.81387731481482,1.0,1.0072561633086896,0.0,None,False,,
d83e665045262288860440aca2204d3c5ee3f243,67b26a8938336f08918fc7187129b6c1a571f35b,Wez Furlong,wez@fb.com,Tue May 9 17:26:47 2017 -0700,1494376007,"adjust since generator behavior w/ unix timestampsSummary:nOur friends at Microsoft report that the behavior when usingnsince queries with timestamps is not greedy enough.nnSince timestamps are a racy way to reason about changes in thenrecency index, we should should prefer to over-notify the client.nnFor example, it is possible for a file to be changed, a watchmannquery to be issued and then a file changed and another query issuednall within the same second.  In this circumstance we should prefernto over notify the client and tell them about both files.nnPrior to this diff we'd only notify about the first file and thennotifcation about the second file would be lost.nnThe workaround for a sensitive client is to subtract 1 from thentimestamp in this situation.  That's a PITA so we just do thatnon the server side.nnIt is still very much more preferable for the client to usenclock notation instead of timestamps though!nnReviewed By: sid0nnDifferential Revision: D4988186nnfbshipit-source-id: b4515a83aad1123e1f8cc6f8b31aa3bec8b3fe74n",27.0,14.0,"InMemoryView.cpp,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,tests/integration/since-term.php,CAS_DELIMITER",4.0,4.0,4.0,1.7023247172084668,18.0,445.75,124.0,91.9086255787037,5221.5,1.0066612979510643,553.0,None,False,True,"[""b3a920fe841cb28e64125ce1376170c974590168""]"
67b26a8938336f08918fc7187129b6c1a571f35b,fdfe1ddd87267526c0e7f3e2f546cfed544df3ec,Chris Pick,chris@chrispick.com,Tue May 9 19:26:12 2017 -0700,1494383172,"Fix watch-project relative_path docsSummary:nThe [Using watch-project](https://facebook.github.io/watchman/docs/cmd/watch-project.html#using-watch-project) section of the documentation forn`watch-project` erroneously listed 'www' as the `relative_path` in thenresult of running `watchman watch-project ~/www/some/child/dir` with anmercurial repo at '~/www'.nnChange this to list the correct some/child/dir path.nnTested with:n```shn$ mkdir -p ~/www/some/child/dirn$ cd ~/wwwn$ hg initn$ watchman watch-project ~/www/some/child/dirn```nnWhich produced the output:n```jsonn{nversion: 4.9.0,nrelative_path: some/child/dir,nwatch: /home/cpick/www,nwatcher: inotifyn}n```nCloses https://github.com/facebook/watchman/pull/453nnDifferential Revision: D5034560nnPulled By: weznnfbshipit-source-id: 46cf3f1946f20208111448e79475a1a48699258en",1.0,1.0,"website/_docs/cmd.watch-project.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,159.0,2.0,120.26989583333334,0.0,0.0,0.0,Corrective,True,,
fdfe1ddd87267526c0e7f3e2f546cfed544df3ec,38903802925857b7f75c6506c8062ad0243cffc1,wurzel parsons-keir,wurzel@fb.com,Wed May 10 07:41:04 2017 -0700,1494427264,open(O_CREAT): supply required third argument on .cpp/.h filesSummary:nIt is an error to not provide mode argument when open isncalled with O_CREAT.nnReviewed By: oebelingnnDifferential Revision: D5020517nnfbshipit-source-id: 87665ceb16ebdff797f8bf3d33bea082191e3121n,2.0,2.0,"state.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,169.0,9.0,161.49017361111112,0.0,0.0,0.0,None,False,,
38903802925857b7f75c6506c8062ad0243cffc1,53f04e3da1bf7a38b8a50154db5250fc79001dd7,Wez Furlong,wez@fb.com,Wed May 10 12:28:09 2017 -0700,1494444489,"explicitly set need_setup=0Summary:nWell, it's weird.  Sometimes CMD chokes on this not beingndefined, and sometimes it doesn't.  It did yesterday, and I needednthis diff.  Today it doesn't.  The difference being that I rebootedna couple of times since yesterday.nnI've also added an arcanist quoting fix in here; I'll split this out once I'venmanaged to successfully diff this up.nnReviewed By: sid0nnDifferential Revision: D5032049nnfbshipit-source-id: 4a696b17c82b7f0dba1ddd6f883d6f01c64b8dcan",2.0,0.0,"make.bat,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,39.0,10.0,224.94230324074073,5224.0,1.0044455844258418,2477.0,None,False,,
53f04e3da1bf7a38b8a50154db5250fc79001dd7,17cf652188c98293b6a0da1a4be2e5c6d67fee5e,G. Kay Lee,balancetraveller+github@gmail.com,Mon May 15 16:20:11 2017 -0700,1494890411,Update install.markdownSummary:nFix typonCloses https://github.com/facebook/watchman/pull/465nnDifferential Revision: D5065649nnPulled By: weznnfbshipit-source-id: 9b4962e8eca3f18808800dfba813abd1e106dae2n,1.0,1.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,193.0,8.0,103.12385416666666,0.0,0.0,0.0,None,False,,
17cf652188c98293b6a0da1a4be2e5c6d67fee5e,970e0f1cfa61702b1167381b06c5c4a74326d986,Wez Furlong,wez@fb.com,Wed May 17 08:22:54 2017 -0700,1495034574,"fix uninitialized variable in query statsSummary:nNoticed this showing up in some telemetry the past couplenof days.  This isn't used anywhere other than in the perf samplesnthat we log to the central system, which is why is has gone unnoticed until now.nnReviewed By: farnznnDifferential Revision: D5075414nnfbshipit-source-id: 9d0cd06478d43ef71a4e40db2dcc7a6673de2664n",1.0,1.0,"watchman_query.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,323.0,69.0,76.65934027777777,5225.0,1.0130447248355707,2478.0,Corrective,True,,
970e0f1cfa61702b1167381b06c5c4a74326d986,d46dcaef45ef6b0f40498db4af8aecc5241977b7,Chris Pick,chris@chrispick.com,Wed May 17 12:38:08 2017 -0700,1495049888,"Provide human readable errors for log commandsSummary:nPreviously, erroneous or the wrong number of arguments for `log` orn`log-level` commands would throw and return a cryptic error.nnValidate log-level command's arguments server-side and return humannreadable errors.nCloses https://github.com/facebook/watchman/pull/452nnDifferential Revision: D5034582nnPulled By: weznnfbshipit-source-id: e62a9f378ece63984eebd2eeb74e0580d8f2167en",74.0,3.0,"cmds/log.cpp,CAS_DELIMITER,tests/integration/test_log.py,CAS_DELIMITER",2.0,2.0,2.0,0.9556222693531468,14.0,25.5,7.0,84.42552083333334,1.5,1.0059223798096202,0.0,None,False,,
d46dcaef45ef6b0f40498db4af8aecc5241977b7,1bf0e4d321c11c43ebce71bb9fed0c12b1d7845f,Eric Patenaude,eric_patenaude2001@hotmail.com,Wed May 17 16:41:00 2017 -0700,1495064460,"Fix a Windows 7 compatibility issue in WinDirHandle::readDirSummary:nOn Windows 7, in WinDirHandle::readDir(), a system_error would be thrownnwhen calling GetFileInformationByHandleEx with FileFullDirectoryInfo.nFileFullDirectoryInfo is not supported before Windows 8n(https://msdn.microsoft.com/en-us/library/windows/desktop/aa364228(v=vs.85).aspx).nTo fix this, we use an implementation based on the FindFirstFile andnFindNextFile functions.nnBefore c2dec83 (refactor w_dir_open, nov 2016), readDir() would simplynreturn NULL on Win7 which hid the problem.nCloses https://github.com/facebook/watchman/pull/455nnDifferential Revision: D5078593nnPulled By: weznnfbshipit-source-id: a17bc69ec9fccd4d4f1e98deb22e17c92da443a5n",116.0,2.0,"runtests.py,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER",3.0,2.0,2.0,0.5677314545847301,18.0,292.3333333333333,121.0,119.6939313271605,1.0,0.6691821291583722,1.0,Corrective,True,,
1bf0e4d321c11c43ebce71bb9fed0c12b1d7845f,b3a920fe841cb28e64125ce1376170c974590168,Wez Furlong,wez@fb.com,Wed May 17 18:42:18 2017 -0700,1495071738,fix typo in php test harnessSummary:nstock php warns about the undefined variable here when thentest doesn't pass.nnfbshipit-source-id: ab6ffe0cc6e6ce9ea49581417ce4d61cd2e7e6e7n,1.0,1.0,"arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,745.0,57.0,8.052442129629629,5226.0,1.1241859281820128,184.0,Corrective,True,,
b3a920fe841cb28e64125ce1376170c974590168,ec1a0edb782f406ff75fed51c7fbb3ad6cfd67ef,Wez Furlong,wez@fb.com,Wed May 17 19:05:44 2017 -0700,1495073144,suppress output from susres.exe when successfulSummary: This makes the integration test output less noisy on windowsnnfbshipit-source-id: 7047cf9250cfd52bedb7af4ac2db23ac65bff8ean,4.0,2.0,"winbuild/susres.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,85.0,1.0,243.2223263888889,5227.0,1.0041114646621754,222.0,None,False,,
ec1a0edb782f406ff75fed51c7fbb3ad6cfd67ef,78956a2a6c9850d783db9e6f3cb369111644c5d3,Wez Furlong,wez@fb.com,Thu May 18 11:19:27 2017 -0700,1495131567,"fixup relative_root usage in watchman-waitSummary:nI'm not sure why were weren't using this already; wonder if I'd written this before sid0 added the relative_root handling?nnThe problem scenario is:nn```ncd .hg && watchman-wait . --pattern foon```nnThen, `touch .hg/foo` should cause the process to terminate, but it doesn'tnnReviewed By: farnznnDifferential Revision: D5074910nnfbshipit-source-id: b1a464f3efaa36b42aff5dfd106ee022fe17d5e6n",1.0,5.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,9.0,223.0,4.0,240.9446412037037,5228.0,1.0041503309432582,81.0,Corrective,True,,
78956a2a6c9850d783db9e6f3cb369111644c5d3,f53853407844cc44cb9320985f266a5a862a87bd,Wez Furlong,wez@fb.com,Thu May 18 11:23:40 2017 -0700,1495131820,migrate case.php to pythonSummary: We have nicer functions available for tests in our newer python code.nnReviewed By: simpkinsnnDifferential Revision: D5084890nnfbshipit-source-id: 1e9d47f892dfe347a593b09ddb451c09ed6ba1d1n,42.0,38.0,"tests/integration/case.php,CAS_DELIMITER,tests/integration/test_case_sensitive.py,CAS_DELIMITER",2.0,1.0,1.0,0.99819587904281,8.0,19.0,2.0,434.9940335648149,5229.5,1.0011494410530242,555.0,None,False,,
f53853407844cc44cb9320985f266a5a862a87bd,8d274f8c741d6c5773d96b932d41a27789a530fe,Wez Furlong,wez@fb.com,Thu May 18 11:42:09 2017 -0700,1495132929,"fixup error messaging for timeout in cookie syncSummary:nSince refactoring this to use the C++ condition_variable,nwe've been reporting cookie sync timeouts as unknown errors.nnSince we're using the predicate form of condition_variable::wait_until, anfailure is always a timeout, so let's adjust the how we log it.nnReviewed By: simpkinsnnDifferential Revision: D5082053nnfbshipit-source-id: d64f1a50d520b04a0064cea629072d335c8ced76n",15.0,14.0,"CookieSync.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,116.0,5.0,153.854375,5231.0,1.0064996526748102,2479.0,Corrective,True,,
8d274f8c741d6c5773d96b932d41a27789a530fe,d17a4d6336b4d1dabf8f3f210eed24501d93d3f4,Wez Furlong,wez@fb.com,Thu May 18 11:46:57 2017 -0700,1495133217,"fixup some gcc 7.1 issuesSummary:nWe've had reports that gcc has a new warning about casenstatements that fall through.  In addition, something has changednin the implicit dependencies that require us to explicitly includen`<functional>`.nnThere are some attribute-y things we could do to annotate thisnmore deliberately, but I'm punting on that for the moment.nnRefs: https://github.com/facebook/watchman/issues/467nnReviewed By: farnznnDifferential Revision: D5087816nnfbshipit-source-id: 45392a769c063966291ad4ab6b4347bbb2867802n",52.0,37.0,"ChildProcess.cpp,CAS_DELIMITER,Future.h,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,hash.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",7.0,1.0,1.0,2.1389284278133727,18.0,360.0,94.0,120.79427248677248,5235.0,1.004521534419951,2486.0,Corrective,True,,
d17a4d6336b4d1dabf8f3f210eed24501d93d3f4,96dfb2860e16a44bce0e65b47f871f95c5f6ebbc,Wez Furlong,wez@fb.com,Thu May 18 13:18:58 2017 -0700,1495138738,"build fixup for vs2015Summary: it's complaining about concurrent access to the pdb files, and recommends adding this optionnnfbshipit-source-id: c6f25de8ab78daebbdfd0e2807701d6569056b09n",1.0,1.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,377.0,84.0,0.8596990740740741,5239.0,2.163197716685964,223.0,Corrective,True,,
96dfb2860e16a44bce0e65b47f871f95c5f6ebbc,341cc52396752de70a0f334269d7abcdf772bc2d,Siddharth Agarwal,sid0@fb.com,Sat May 20 09:14:32 2017 -0700,1495296872,don't use --root-relative because it doesn't exist upstreamSummary:n--root-relative is a Facebook addition. Do the equivalent thing with .nnCloses #469.nCloses https://github.com/facebook/watchman/pull/470nnReviewed By: weznnDifferential Revision: D5100111nnPulled By: sid0nnfbshipit-source-id: 7fca9ae9563032273d646612daaae52aa2b72f35n,3.0,2.0,"scm/Mercurial.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,163.0,7.0,73.90013888888889,441.0,1.0135317742975225,0.0,None,False,,
341cc52396752de70a0f334269d7abcdf772bc2d,a97932aa5fe5c43a477315d9f20a3d6724055a87,Wez Furlong,wez@fb.com,Sat May 20 10:28:23 2017 -0700,1495301303,"fix appveyor CISummary:nDon't run the tests twice there, because the secondnrun will fail to collect the logs and fall over, and there'snno need to run them twice anyway.nnfbshipit-source-id: 84cb9cb77c14e7bbc13962f94d88102dd4d0bf13n",0.0,1.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,377.0,85.0,1.881539351851852,5240.0,1.5314797158059852,224.0,Corrective,True,,
a97932aa5fe5c43a477315d9f20a3d6724055a87,56f8711bc2bd28a64494f5fb86904e36e51de9ae,Wez Furlong,wez@fb.com,Sat May 20 10:39:34 2017 -0700,1495301974,"skip sock perms test on darwinSummary:nos.getgroups() can cause LDAP enabled macs to completely beachball forn5 minutes (I had SO MUCH FUN tracking this down!) at a time, sonlet's just skip it.nnfbshipit-source-id: d92f29258620e5be8cdd93e43c9d43696d24cb8bn",4.0,1.0,"tests/integration/test_sock_perms.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,247.0,7.0,99.70545138888887,5241.0,1.0100295418762977,556.0,Preventative,False,,
56f8711bc2bd28a64494f5fb86904e36e51de9ae,05ee68ff6293928363359f8e515a6aee50c6685b,Wez Furlong,wez@fb.com,Sat May 20 16:23:31 2017 -0700,1495322611,"avoid leaking thread names at thread exitSummary:ngcc 5 on travis had an asan reported error:nn```n==11639==ERROR: LeakSanitizer: detected memory leaksnDirect leak of 13 byte(s) in 1 object(s) allocated from:n#0 0x2b0094f9657a in malloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x9757a)n#1 0x2b009691ffe7 in vasprintf (/lib/x86_64-linux-gnu/libc.so.6+0x71fe7)nSUMMARY  AddressSanitizer: 13 byte(s) leaked in 1 allocation(s).nFAIL: tests/future.tn1..17nok 1 - some/path expected=0 actual=0nok 2 - buck-out/gen/foo expected=1 actual=1nok 3 - .hg/wlock expected=0 actual=0nok 4 - .hg/store/foo expected=1 actual=1nok 5 - buck-out expected=1 actual=1nok 6 - foo/buck-out expected=1 actual=1nok 7 - foo/hello expected=0 actual=0nok 8 - baz/hello expected=0 actual=0nok 9 - .hg expected=0 actual=0nok 10 - buil expected=0 actual=0nok 11 - build expected=1 actual=1nok 12 - build/lower expected=1 actual=1nok 13 - builda expected=0 actual=0nok 14 - build/bar expected=1 actual=1nok 15 - buildfile expected=0 actual=0nok 16 - build/lower/baz expected=1 actual=1nok 17 - builda/hello expected=0 actual=0n```nnlooking at the code, we now only use vasprintf in the TAP test harness andnfor thread names.nnWe only register a dtor for the thread local storage on darwin, which doesn'tnsupport C++11 thread_local storage duration.nnSince windows doesn't have pthread_setspecific we do prefer a solution thatnworks with the C++11 thread_local storage duration, so this diff changesnthe type of the thread local to std::string on everything other than darwin,nso that its dtor will run at the appropriate time.nnDifferential Revision: D5101485nnfbshipit-source-id: d7fd37bdcb8c3928b53b27dd617f3aa41cc919fan",14.0,5.0,"log.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,364.0,8.0,111.94641203703705,5242.0,1.008932845473146,2487.0,None,False,,
05ee68ff6293928363359f8e515a6aee50c6685b,e4f1cb980288f02117e587118688adebc5cbf080,Wez Furlong,wez@fb.com,Sat May 20 18:20:56 2017 -0700,1495329656,"Retry flaky testsSummary:nAdds an option to the test runner that specifies how many times wenshould retry flaky tests.  This defaults to 2.nnWe don't really know whether a test is flaky or not ahead of time,nso this really just specifies how many times we'll retry a failingntest.nnWe'll only perform this retry behavior if the test instance hasna method that allows setting the current attempt number.  We donthis because most of our tests derive an output directory fromnthe current test configuration; we need to augment that path withnthe attempt number in order for the subsequent attempt to be ablento run in a clean environment.nnI've enabled this for python and php tests.nnA failing test will still print out its failure reason on each attempt,nalong with the current attempt number, but if it passes on a subsequentnattempt, the overall test run status will reflect only its passingnresult.nnWe could potentialy track a number of flaky tests and report it at the end,nbut I just want to get this in so that our OSS CI needs less manual poking.nnIn addition to the above, tweak how we collect and report failing testsnin travis and circle, so that we don't overwhelm their respective UIs withnlog data.nnI've also temporarily disabled the watchman java tests; we'll follow upnand fix those, but I just want to get the CI into a default green state.nnCloses https://github.com/facebook/watchman/pull/473nnDifferential Revision: D5101754nnPulled By: weznnfbshipit-source-id: c2ee1485611e3566e4ec5b74e97273a4612038afn",101.0,19.0,".travis.yml,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_php.py,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",5.0,3.0,3.0,1.5524739243344408,18.0,232.4,131.0,173.50757175925926,5245.0,1.0027166365058136,44.0,Preventative,False,True,"[""e013d4474e3071afc541ae0f1ba81013c9fd15fd""]"
e4f1cb980288f02117e587118688adebc5cbf080,edd16cdef5c0688dee8184813c8309db2e633ede,Andrew Gallagher,andrewjcg@fb.com,Sun May 21 10:41:21 2017 -0700,1495388481,buckification: add `@nolint` to TARGETS which can run buildifierSummary: Prereq for deploying buildifier linter and codemodding existing TARGETS.nnReviewed By: bolinfestnnDifferential Revision: D5092478nnfbshipit-source-id: 8cbb77b15487d46ea2b2aff01f20504d87846fe4n,2.0,0.0,"tests/integration/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,144.0,14.0,36.96497685185185,1.0,1.027052634281574,0.0,None,False,,
edd16cdef5c0688dee8184813c8309db2e633ede,4b8fbac45230c66541c1008515df810f8c70395c,Siddharth Agarwal,sid0@fb.com,Sun May 21 15:27:35 2017 -0700,1495405655,switch to trusty betaSummary:nSeparate this out from #468 because it might be causing test failures.nCloses https://github.com/facebook/watchman/pull/472nnDifferential Revision: D5102462nnPulled By: sid0nnfbshipit-source-id: 758a8ac74e1629e4cf50bda61d1999f4e2061010n,1.0,0.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,67.0,19.0,0.8796180555555555,442.0,2.1368570639087356,166.0,None,False,,
4b8fbac45230c66541c1008515df810f8c70395c,ce40e8c174c6551769e95af4f434bce5478183b8,Wez Furlong,wez@fb.com,Mon May 22 11:18:33 2017 -0700,1495477113,"rename watchman_stat to FileInformationSummary:nThis is part of a series of diffs to improve our portability withnwindows.  They also have the nice side effect of addressing some performancenand reliability issues that we're tracking on github.nnAn important part of this diff stack is removing our nasty stat() hacks; thisndiff creates a FileInformation type for this purpose.nnFileInformation holds a subset of the struct stat information as well as somenadditional win32 specific information.nnIt introduces a handful of helper methods for testing whether thenFileInformation references a symlink, dir or regular file.  This is importantnbecause the sys/stat.h that is provided by MSVCRT does not have any way tonindicate that the file is a symlink.nnReviewed By: simpkinsnnDifferential Revision: D5091465nnfbshipit-source-id: cbdbd9edc87fba005e79f492001be93abd344ac9n",395.0,94.0,"ContentHash.cpp,CAS_DELIMITER,FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,FileInformation.cpp,CAS_DELIMITER,FileInformation.h,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,Win32Handle.h,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_opendir.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER",25.0,4.0,4.0,3.5919769824601233,18.0,191.72,612.0,92.24325185185188,5260.0,1.00179096786304,226.0,None,False,,
ce40e8c174c6551769e95af4f434bce5478183b8,375424934aba7e9ebd94c5c4d232383aa08a8c8d,Wez Furlong,wez@fb.com,Mon May 22 11:18:34 2017 -0700,1495477114,add FileHandle::getOpenedPathSummary:nThis is really an equivalently named method on each of FileDescriptornand Win32Handle.nnThe purpose is to return the canonical path to the file on disk.nnReviewed By: sid0nnDifferential Revision: D5091482nnfbshipit-source-id: 84ab73dea92e48c771912b4fd03300a35ccfbd52n,95.0,0.0,"FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,Win32Handle.h,CAS_DELIMITER",4.0,1.0,1.0,1.3997028679068824,18.0,94.5,10.0,1.1574074074074072e-05,5274.5,45001.0,2512.0,Feature Addition,False,True,"[""99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb""]"
375424934aba7e9ebd94c5c4d232383aa08a8c8d,5bfabd293b5a5246a7336640647ded69aeb08a3a,Wez Furlong,wez@fb.com,Mon May 22 17:06:54 2017 -0700,1495498014,"use generic build info from fb build system for versionSummary:nWe always shows 4.9.0 for our builds, but the version number doesn't mean very much to us with our more frequent deploys than public releases.nnThis diff allows us to pull the build info from the fbcode build system and use that instead.nnThe version number shows up as the build time instead of 4.9.0, and the buildinfo property is set to the revision hash.nnReviewed By: simpkinsnnDifferential Revision: D5107953nnfbshipit-source-id: 0bf19f76d5bbc351e324adba6cc3451baf537532n",11.0,2.0,"TARGETS,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER",2.0,1.0,1.0,0.9957274520849256,18.0,209.5,26.0,10.25396412037037,5277.5,3.0912675666120535,2514.0,None,False,,
5bfabd293b5a5246a7336640647ded69aeb08a3a,45957b5aaef4e5f1bd74786da23af4bef4c7ab08,Jacob Bower,jbower@fb.com,Tue May 23 09:42:26 2017 -0700,1495557746,"Fix crash on requestShutdown in ext_watchmanSummary:nOn D4816886 markw65 reported seeing stack traces from the latest release of HHVM which look like this:n```n__clonenstart_threadnHPHP::start_routine_wrapper(void*)nHPHP::AsyncFuncImpl::ThreadFunc(void*)nHPHP::JobQueueWorker<HPHP::XboxTransport*, HPHP::Server*, true, false, HPHP::JobQueueDropVMStack>::start()nHPHP::XboxRequestHandler::~XboxRequestHandler()nHPHP::RPCRequestHandler::~RPCRequestHandler()nHPHP::hphp_context_exit(bool)nHPHP::ExtensionRegistry::requestShutdown()nstd::_Sp_counted_ptr<HPHP::(anonymous namespace)::SharedClient*, (__gnu_cxx::_Lock_policy)2>::_M_dispose()nwatchman::WatchmanConnection::~WatchmanConnection()ngoogle::LogMessageFatal::~LogMessageFatal()ngoogle::LogMessage::Flush()ngoogle::LogMessage::SendToLog()ngoogle::LogMessage::Fail()n__GI_abortn__GI_raisen```nnAfter looking at error.log on a few affected devservers I caught an assertion being raised in the `WatchmanConnection` destructor, described here https://fburl.com/qw57j56q. This suggests there is a race where some closures still exist with references to connection objects being destroyed. I still don't have a repro or know exactly which closures have these refrences but smart-pointers should solve this issue generally.nnReviewed By: markw65nnDifferential Revision: D5091834nnfbshipit-source-id: 57ff1da866d5ae35fa964f172105d977f4ab937fn",58.0,87.0,"cppclient/CLI.cpp,CAS_DELIMITER,cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanClient.h,CAS_DELIMITER,cppclient/WatchmanConnection.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.h,CAS_DELIMITER",5.0,1.0,1.0,1.7771221466044271,17.0,193.0,7.0,96.83635879629631,24.0,1.0042566248200684,13.0,Corrective,True,,
45957b5aaef4e5f1bd74786da23af4bef4c7ab08,b55f44721e9e53ef85b31fd480242572d706ce85,Victor Gao,vgao@fb.com,Tue May 23 12:30:39 2017 -0700,1495567839,"apply clang-tidy modernize-use-overrideSummary:nThis is generated by applying clang-tidy -checks=modernize-use-override to all .cpp files under watchman.nIt enforces the use of the keywords virtual, override and final in a way compliant to the style guide.nnReviewed By: igorsugaknnDifferential Revision: D5108868nnfbshipit-source-id: bf13ba8b49b1c888f8fa120bfaba21f2f32c6e38n",6.0,6.0,"ThreadPool.h,CAS_DELIMITER,cppclient/WatchmanConnection.h,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",6.0,3.0,3.0,2.584962500721156,18.0,179.0,54.0,92.60568094135802,2.5,0.8365737242216046,2.0,None,False,,
b55f44721e9e53ef85b31fd480242572d706ce85,0fdcddd375164556eb88c5f7078dc5c364195ab2,Siddharth Agarwal,sid0@fb.com,Tue May 23 13:02:27 2017 -0700,1495569747,test against python 3.6Summary: Closes https://github.com/facebook/watchman/pull/468nnDifferential Revision: D5114414nnPulled By: weznnfbshipit-source-id: a1896965edf6f582b5a06c458eddaca8a555f829n,18.0,0.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,18.0,50.0,45.0,80.25501157407408,443.5,1.2663820180726266,5.0,Preventative,False,,
0fdcddd375164556eb88c5f7078dc5c364195ab2,ed67433764e0fc00d4ac31e7c24fb82f988303b8,Wez Furlong,wez@fb.com,Thu May 25 09:10:38 2017 -0700,1495728638,"avoid taking asserted_states lock if subscription doesn't need itSummary:nThis looks like it might contribute to some slowdowns, so avoid itnif we don't need itnnDifferential Revision: D5118349nnfbshipit-source-id: 762444231167016352c644ff912d65fcef3cba19n",28.0,26.0,"cmds/subscribe.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,546.0,50.0,79.93474537037036,5279.0,1.0125102043594008,383.0,Preventative,False,,
ed67433764e0fc00d4ac31e7c24fb82f988303b8,0da0f2ec40d07451a5c7416e7cb0acda13302778,Wez Furlong,wez@fb.com,Wed May 31 15:19:48 2017 -0700,1496269188,"add FileHandle::readSymbolicLink()Summary:nThis is logically equivalent to readlink, but also functions on Windows, wherenwe read reparse points and return the target path.nnReviewed By: farnznnDifferential Revision: D5091508nnfbshipit-source-id: 1150eaa67d420051412645378c960ecf02ad8dban",185.0,3.0,"FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,Win32Handle.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER",6.0,2.0,2.0,1.5638525254994131,18.0,215.5,62.0,36.13723765432098,5282.5,1.0419894410264499,227.0,Feature Addition,False,,
0da0f2ec40d07451a5c7416e7cb0acda13302778,76cf705dda8819c24ec78743a86f168021ce69c4,Wez Furlong,wez@fb.com,Wed May 31 15:19:50 2017 -0700,1496269190,"add moral equivalent to strict lstatSummary:nadds a getFileInformation(const char *path) function that sets anstrict name checking flag.  This asserts that the path being examined is thencanonical name on the filesystem before allowing the stat info to be returned.nnThis also removes setting the st_dev field to anything useful on Windows.nThe best we could do is compute this from the drive letter, but we don'tnalways know the drive letter when getting file information (fstat equivalent)nwithout performing an expensive additional check to get the associatednpath.nnReviewed By: farnznnDifferential Revision: D5091546nnfbshipit-source-id: e0a39e427abb1993a19a305ec3c72d1c0214030cn",100.0,34.0,"FileDescriptor.cpp,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",7.0,2.0,2.0,2.360364532578944,18.0,416.1428571428572,103.0,109.66600529100529,5289.0,6172.46975493773,2525.0,Feature Addition,False,,
76cf705dda8819c24ec78743a86f168021ce69c4,92ed04af1243ba57470730c7c4c1ceb711c48cf8,Wez Furlong,wez@fb.com,Wed May 31 15:19:51 2017 -0700,1496269191,migrate a couple of w_lstat calls to their replacementsSummary: Cut them over to getFileInformation for a couple of relatively low risk call sites.nnReviewed By: farnznnDifferential Revision: D5091563nnfbshipit-source-id: 5f97117dd6c6d1b1e1ab3020ee073cbb1f86a6a2n,25.0,29.0,"ContentHash.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.7292739418449411,18.0,237.0,22.0,47.6793576388889,5293.5,1.0597834424045425,2527.0,None,False,,
92ed04af1243ba57470730c7c4c1ceb711c48cf8,94ea0216a3570ae2769445712d328b1c52186cb6,Wez Furlong,wez@fb.com,Wed May 31 15:19:53 2017 -0700,1496269193,introduce a CaseSensitivity enumSummary:nThis is a tri-state because I plan to add this as an optionalnfield in the filesystem options struct in the next diff.nnReviewed By: farnznnDifferential Revision: D5094958nnfbshipit-source-id: 450a420590eefef4d6431ef2b0ddbf72009041afn,130.0,81.0,"FileDescriptor.cpp,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",14.0,2.0,2.0,3.3270097925841435,18.0,205.35714285714286,351.0,67.31074818121692,5301.5,3086.716676825842,2535.0,None,False,,
94ea0216a3570ae2769445712d328b1c52186cb6,7621d4b5b40106cab96e5f2c16e958a24cec7e78,Wez Furlong,wez@fb.com,Wed May 31 15:19:55 2017 -0700,1496269195,"allow passing the case sensitivity down to getFileInformationSummary:nThis doesn't do anything useful yet, it just allows the callernto pass down the case sensitivity of the path down through thenOpenFileHandleOptions struct.nnReviewed By: farnznnDifferential Revision: D5094965nnfbshipit-source-id: 970524ce5b056d5a7c05ed50a8c5ae73043170c4n",11.0,6.0,"FileDescriptor.cpp,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER",2.0,1.0,1.0,0.9774178175281716,18.0,178.0,10.0,2.314814814814815e-05,5309.5,32401.0,2537.0,None,False,,
7621d4b5b40106cab96e5f2c16e958a24cec7e78,e727e3ff1e2dc28a468ff5526bae3ed0f85131bc,Wez Furlong,wez@fb.com,Wed May 31 15:19:57 2017 -0700,1496269197,add canonical name check to openFileHandleSummary:nthis is spiritually a copy of the is_basename_canonical_case functionnfrom opendir.cpp but with a couple of differences:nn* throws exceptions on errorn* there is no windows version of this any more; it isn't needed due ton  our ability to directly access symlink files and get their canonicaln  path.n* I've added a fallback for linux and BSD systems that does the obviousn  and slow readdir check to verify the name matches.nnReviewed By: farnznnDifferential Revision: D5094975nnfbshipit-source-id: a840a201b092e71de56178f868638183a184e667n,90.0,1.0,"FileDescriptor.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,280.0,8.0,2.314814814814815e-05,5311.0,43201.0,2538.0,Feature Addition,False,,
e727e3ff1e2dc28a468ff5526bae3ed0f85131bc,d9c1db79b2eaf1bbdfe25a89926c5900da551a8b,Wez Furlong,wez@fb.com,Thu Jun 1 17:18:03 2017 -0700,1496362683,"improve handling of very large queriesSummary:nThe -j option would only read at most two chunks fromnthe input file.  The default chunk size is 1MB, so this meantnthat we'd only successfully be able to read in commands smallernthan 2MB in size.nnThis diff changes the if to a while so that we keep tryingnuntil we exhaust the input stream.nnIn addition, when computing the bser read buffer size on the server side, we'dnunder-estimate the required size and then never be able to satisfy reading allnof the data, erroring out just before the end of the buffer.nnOn windows, running this test found a heap corruption bug; at some pointnin the past, we moved away from holding a separate data buffer in ournwindows stream class, but we didn't clean up all the free() calls.nThere was one remaining here that could crash the process if we destroyedna stream before we had flushed all pending write data.nnI've had to disable this new test on windows because we have a blockingnproblem with large command buffers.  I tried to resolve this today,nbut its a thorny problem and best taken care of in its own diff.nThe problem is that we need to flush out the partially written commandnbuffer before we can sanely block on the read.nnDifferential Revision: D5128607nnfbshipit-source-id: 7f682d4cf2403aec76951245ece0445bb7e40191n",64.0,9.0,"json.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,tests/integration/test_big.py,CAS_DELIMITER",4.0,2.0,2.0,1.386351228499355,18.0,605.25,45.0,101.6809375,5313.5,1.003794268311819,560.0,None,False,,
d9c1db79b2eaf1bbdfe25a89926c5900da551a8b,ef7795382fd5174c4fc6fc55ca6043a0cae3efc6,Wez Furlong,wez@fb.com,Thu Jun 1 17:28:50 2017 -0700,1496363330,"remove calls to w_lstatSummary:nThese have been replaced by calls to getFileInformation.nnI took out the stat() call from the pending test, because it wasn'tnreally needed and because the actual contents of the __FILE__ stringnis at the mercy of the user/compiler, and I was too lazy to writencode to make things handle this correctly in a test that didn'tnreally need it.nnWhile testing this, I found that we also need to add in the strictnname checks for getFileInformation on the mac.nnReviewed By: simpkinsnnDifferential Revision: D5094991nnfbshipit-source-id: 96e7a7469f09c495a743cd74f930fdff49cee3cbn",45.0,43.0,"FileDescriptor.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER",6.0,2.0,3.0,1.921236395486406,18.0,192.16666666666663,90.0,162.020268132716,5318.5,1.281123587410918,563.0,None,False,,
ef7795382fd5174c4fc6fc55ca6043a0cae3efc6,824075f098d9792ffeee1ee9fbde640f50a8609e,Wez Furlong,wez@fb.com,Thu Jun 1 17:28:52 2017 -0700,1496363332,remove w_lstat functionSummary:nnot called any more!nndeadcodennReviewed By: simpkinsnnDifferential Revision: D5094998nnfbshipit-source-id: 839189311d8ef4623030538c42dfc476f5b95e0an,0.0,131.0,"opendir.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",2.0,1.0,1.0,0.11397020802905505,18.0,362.0,243.0,56.20399305555557,5322.5,1.4633293470094604,2546.0,None,False,,
824075f098d9792ffeee1ee9fbde640f50a8609e,122098f68af334d41a14aa1a9d011cd691f9c9ef,Wez Furlong,wez@fb.com,Thu Jun 1 17:28:53 2017 -0700,1496363333,remove sys/stat.h hack on windowsSummary:nCuts over the remaining couple of places that assumednwe were using struct stat and remove our hacky alternative headernon windows.nnReviewed By: simpkinsnnDifferential Revision: D5095032nnfbshipit-source-id: de94931d6d6bc29d638059dd12346588b53c5c38n,66.0,226.0,"FileInformation.cpp,CAS_DELIMITER,FileInformation.h,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER,winbuild/sys/stat.h,CAS_DELIMITER",12.0,4.0,5.0,2.5591573934822387,18.0,181.75,106.0,82.87427372685184,5329.5,1.0206949246121604,229.0,None,False,True,"[""713efe401e41605159645d5d788c274993afda30""]"
122098f68af334d41a14aa1a9d011cd691f9c9ef,88419296734f25dcaa1dfd8e5db7fbb89bd0e6b4,Wez Furlong,wez@fb.com,Thu Jun 1 17:28:54 2017 -0700,1496363334,"add realPath, successor to w_realpathSummary:nThis uses the getOpenedPath() functions added earliernin the stack, and thus has cleaner and more portable errornhandling semantics.nnI'll follow up with diffs to remove the remaining w_realpathncalls.nnNote that this diff allows using . to reference the cwdnon windows, which is something that wasn't working previously.nnReviewed By: farnznnDifferential Revision: D5100956nnfbshipit-source-id: 093af4f9ab8bd85be9cda888e0cd93d5798d41f9n",87.0,58.0,"FileDescriptor.cpp,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER",6.0,3.0,3.0,1.9393690473916,18.0,210.0,63.0,70.89517939814816,5338.5,6481.004836660914,565.0,Feature Addition,False,,
88419296734f25dcaa1dfd8e5db7fbb89bd0e6b4,a1bd09087d6070f6dfcecd98c3a1a08dea4c2f40,Wez Furlong,wez@fb.com,Thu Jun 1 17:28:57 2017 -0700,1496363337,"cut opendir code over to os independent apiSummary:nThis allows us to remove some of the older strict file openingncode, and makes the code look a little bit more uniform overall.nnI've made the equivalent change to the win32 version of this, andnfound that I should always enable BACKUP_SEMANTICS for the win32nhandle options to allow operating on a directory handle; it's safento always add that flag even for files.nnReviewed By: farnznnDifferential Revision: D5100961nnfbshipit-source-id: 504f775b7a00dd890142a5c2dda3c726d0174c5an",32.0,174.0,"FileSystem.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER",4.0,2.0,2.0,0.9976906697197321,18.0,260.75,31.0,2.8367447916666664,5343.5,7201.48086238548,230.0,None,False,,
a1bd09087d6070f6dfcecd98c3a1a08dea4c2f40,afd8c27a526c2957396c755f15361daa8fafe996,Andrew Gallagher,andrewjcg@fb.com,Thu Jun 1 17:48:17 2017 -0700,1496364497,codemod: format TARGETS with buildifier [5/5] (D5092623)Reviewed By: igorsugaknnfbshipit-source-id: 906b744c179eb932f5a388b39f93209cecd50a80n,368.0,291.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,python/bin/TARGETS,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER,python/tests/TARGETS,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,thirdparty/TARGETS,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER,thirdparty/libart/src/TARGETS,CAS_DELIMITER,thirdparty/wildmatch/TARGETS,CAS_DELIMITER",11.0,6.0,11.0,2.547082695955643,18.0,48.72727272727273,50.0,186.76716224747472,7.0,1.0107201753240052,3.0,None,False,,
afd8c27a526c2957396c755f15361daa8fafe996,cf25644729520dd42cdea94fc8a317671f016763,Wez Furlong,wez@fb.com,Thu Jun 1 21:22:53 2017 -0700,1496377373,RIP: w_realpathSummary: This removes the last caller and migrates them to the new APInnReviewed By: simpkinsnnDifferential Revision: D5100965nnfbshipit-source-id: fcf9eb253f54716aa930d0eb469e6536c4fe2234n,14.0,53.0,"opendir.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,1.150332289772936,18.0,214.0,257.0,4.908306327160495,5347.0,3.097393979652757,2561.0,None,False,,
cf25644729520dd42cdea94fc8a317671f016763,68ff0004d236241336d7c5197a8374f398adf244,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:27 2017 -0700,1496416587,"enable watch_symlinks on win32Summary:nRemove the preprocessor directive that restricted this to !win32nand fixup the code to use the new readSymbolicLink(path) function.nnFixup off by one in baseName, dirName.  Both of these functions would startnreading at the end pointer rather than just before it.  This typically workednout OK, but if that end position contained a slash character, we might try tonconstruct a string with a bogus length.  This is deteted at runtime via thenchecked_len function which throws an exception and cancels the watch.nnReviewed By: simpkinsnnDifferential Revision: D5101087nnfbshipit-source-id: eb77f731539328ced4ddd844715a5891304a30a3n",135.0,61.0,"FileDescriptor.cpp,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,error_category.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_error_category.h,CAS_DELIMITER",9.0,2.0,2.0,2.5050603149695183,18.0,303.3333333333333,115.0,51.31538065843621,5353.0,1.333512820198398,2569.0,None,False,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
68ff0004d236241336d7c5197a8374f398adf244,5c08c615dcefd61667893fa66e3590d0e63224fd,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:28 2017 -0700,1496416588,"add (FileDescriptor|Win32Handle)::(read|write)Summary:nThese methods operate like read(2) and write(2), butnyield a platform independent error code type.nnThis is leading towards unifying FileDescriptor and Win32Handleninto the same class and is needed to aid in refactoring thenPipe class in the following diff.nnReviewed By: simpkinsnnDifferential Revision: D5124846nnfbshipit-source-id: 3f6500cf29c31621509a9021e99400ba7ebb9ef9n",55.0,0.0,"FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,Win32Handle.h,CAS_DELIMITER",4.0,1.0,1.0,1.8695563561941984,18.0,219.25,28.0,0.8530150462962963,5359.5,21601.3663465883,2573.0,Feature Addition,False,,
5c08c615dcefd61667893fa66e3590d0e63224fd,26914964b40267d66a4dee552ac6172d1e17d855,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:29 2017 -0700,1496416589,Pipe now uses Win32Handle on win32Summary:nThis is a commit to help swing through unifyingnWin32Handle with FileDescriptor.   Pipe and ChildProcessnneed to temporarily directly use Win32Handle as a steppingnstone to merging the two classes together.nnReviewed By: simpkinsnnDifferential Revision: D5124868nnfbshipit-source-id: 237b58584e71160665735f720e02666d4e86304dn,81.0,18.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,Pipe.cpp,CAS_DELIMITER,Pipe.h,CAS_DELIMITER,Result.h,CAS_DELIMITER",5.0,1.0,1.0,2.1856741605051053,18.0,234.4,18.0,118.10978703703705,5364.0,1.0168924478597376,2578.0,None,False,,
26914964b40267d66a4dee552ac6172d1e17d855,39742c4378b80fa1200f81e34091668037f96d63,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:31 2017 -0700,1496416591,"merge Win32Handle into FileDescriptorSummary:nI've kept Win32Handle.cpp and some of the functions itnholds for the moment; since I have a number of modifications inna stack of changes that is pending review, I'm anticipating thatnresolving merge conflicts across a rename will be a PITA, so I'mndeferring moving those around until after the stack is landed.nnThis is a pretty straight forward change with just a little bitnof fan-out to the heavier weight stream layer.nnReviewed By: simpkinsnnDifferential Revision: D5124899nnfbshipit-source-id: 14b9cd76ec67881c5d26edc5ee98f31e75c453d4n",232.0,251.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,Pipe.cpp,CAS_DELIMITER,Pipe.h,CAS_DELIMITER,Result.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,Win32Handle.h,CAS_DELIMITER,fstype.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER,winbuild/realpath.cpp,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER",21.0,2.0,2.0,3.5388597172713343,18.0,251.19047619047615,274.0,51.76658123897708,5377.0,5408.32883569477,234.0,Non Functional,False,,
39742c4378b80fa1200f81e34091668037f96d63,449fe974edd73b8fdfa89f617792c943996a160c,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:33 2017 -0700,1496416593,remove realpath.cppSummary: Obsoleted by getOpenedPath and related functions.nnReviewed By: simpkinsnnDifferential Revision: D5125098nnfbshipit-source-id: 825358af95e250ace2d818692f0985b238ece9f3n,0.0,78.0,"winbuild/Makefile,CAS_DELIMITER,winbuild/realpath.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.17203694935311378,18.0,228.0,92.0,2.314814814814815e-05,5388.5,32401.0,236.0,None,False,,
449fe974edd73b8fdfa89f617792c943996a160c,a7ba7b4f8672420cba105f7eb3c841115a0d39d1,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:35 2017 -0700,1496416595,remove winbuild/dirname.cppSummary: Obsoleted by equivalent functions on the string and string piece classes.nnReviewed By: simpkinsnnDifferential Revision: D5125172nnfbshipit-source-id: 699f9670b521249cf4061840a338c8976f0bf030n,0.0,28.0,"winbuild/Makefile,CAS_DELIMITER,winbuild/dirname.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.22228483068568802,18.0,202.5,90.0,129.38577546296298,5390.5,21601.00193220621,238.0,None,False,,
a7ba7b4f8672420cba105f7eb3c841115a0d39d1,8f9018246c2a332756e7adefa8c668086a03c728,Wez Furlong,wez@fb.com,Fri Jun 2 08:16:36 2017 -0700,1496416596,winbuild/stat.cpp -> winbuild/mkdir.cppSummary: The only function remaining in here is our mkdir function.nnReviewed By: simpkinsnnDifferential Revision: D5125212nnfbshipit-source-id: 18e4f8b8719ad6878820e51f5ec648e67f565b0bn,24.0,24.0,"winbuild/Makefile,CAS_DELIMITER,winbuild/mkdir.cpp,CAS_DELIMITER,winbuild/stat.cpp,CAS_DELIMITER",3.0,1.0,1.0,1.3304835169703004,18.0,133.0,96.0,2.314814814814815e-05,5393.0,62401.0,241.0,None,False,,
8f9018246c2a332756e7adefa8c668086a03c728,a968b61efa54eb4da14cc2333b0d01b3287746bf,Wez Furlong,wez@fb.com,Sat Jun 3 21:05:13 2017 -0700,1496549113,gcc 4.8 on travis miscompares std::error_conditionSummary:nThis appeared to be an issue with the implicit conversion ofnstd::error_condition-enabled enum values up to std::error_code values with thenversion of gcc 4.8 that was in use on the travis hosts.  Adding an explicitncall to convert them resolves the issue.nnThe manifestation of the issue is that deleted files were not recognized asndeleted and the resultant view of the filesystem was rendered incorrect.nnCloses https://github.com/facebook/watchman/pull/476nnDifferential Revision: D5180078nnPulled By: weznnfbshipit-source-id: 87bc04848f16a95310437b9d0cd47cb77c9acc54n,21.0,11.0,"error_category.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.9283620723948678,18.0,175.0,40.0,1.5338657407407408,5395.5,1.4889606567767837,2597.0,None,False,,
a968b61efa54eb4da14cc2333b0d01b3287746bf,98b6d8191121bd8af46a54d5c4249dfab686711e,Zonr Chang,zonr.net@gmail.com,Sun Jun 4 10:59:22 2017 -0700,1496599162,"turn off strict symlink check in OpenFileHandleOptions.openDir().Summary:nUse OpenFileHandleOptions.strictOpenDir() to enable the strict symlinknrules explicitly.nnBefore this change, `watchman::openFileHandle()` always enforces strictnsymlink rules because `strictNameChecks` is true even inn`OpenFileHandleOptions.openDir()`.nCloses https://github.com/facebook/watchman/pull/478nnDifferential Revision: D5180611nnPulled By: weznnfbshipit-source-id: b04c8e12328325dffe2752414f4795d56aebd851n",1.0,0.0,"FileSystem.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,100.0,9.0,2.1130902777777782,0.0,0.0,0.0,None,False,,
98b6d8191121bd8af46a54d5c4249dfab686711e,fb4994a6113f84f52b1bc58fded6380019b5f8a0,Wez Furlong,wez@fb.com,Tue Jun 6 14:27:11 2017 -0700,1496784431,"handle readdir errors in the iothreadSummary:nThese don't seem to be possible, or at are least vanishingly rare,non posix systems, but crop up in the git test suite on windowsn(https://github.com/facebook/watchman/issues/461)nnUncaught exceptions in the IO thread result in the watch beingncancelled, so we need to do better.nnThis diff catches exceptions raised by readDir and adds the pathnback to the pending list.   The theory is that these exceptionsncan only happen if the directory has been removed while we werenreading it, so the subsequent stat should get an ENOENT equivalent.nnThe danger here is that we get stuck in a loop trying to stat thesenforever, so we may need to do some immediate processing here instead.nnI've also added ERROR_DIRECTORY to the error category stuff so thatnwe recognize it as being equivalent to ENOTDIR.nnCloses https://github.com/facebook/watchman/pull/477nnReviewed By: simpkinsnnDifferential Revision: D5183409nnPulled By: weznnfbshipit-source-id: ca2ee4340f617c13fd06c198b6d412c34091bf67n",41.0,29.0,"error_category.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.18717625687320816,18.0,131.5,27.0,8.927291666666667,5397.5,1.2115853803999612,2599.0,Feature Addition,False,,
fb4994a6113f84f52b1bc58fded6380019b5f8a0,3efa30e766923e9cd0901c30803b43c98fe322a4,Wez Furlong,wez@fb.com,Tue Jun 6 15:06:46 2017 -0700,1496786806,"migrate the remains of Win32Handle.cpp -> FileDescriptor.cppSummary:nAs promised in an earlier diff, this completes the move ofnWin32Handle into FileDescriptor.nnI've also cleaned up a couple of of the higher level stream functionsnso that that the prototypes of w_stm_open and w_stm_fdopen are lessnrepeaty.nnReviewed By: simpkinsnnDifferential Revision: D5171647nnfbshipit-source-id: 6fb92a93d5a2fc38d4815e8353318290c9df7ab8n",257.0,303.0,"FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,Win32Handle.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",7.0,2.0,2.0,1.2613820333976866,18.0,413.4285714285714,183.0,4.284887566137567,5402.0,1.0864450892269066,242.0,None,False,,
3efa30e766923e9cd0901c30803b43c98fe322a4,0b00bb0e65a3acb60ea1776e185410f4c2998231,Wez Furlong,wez@fb.com,Tue Jun 6 18:49:19 2017 -0700,1496800159,"watchman: nullptr check for stringpiece constructionSummary:nWhen using source control aware queries, it is possible thatnthe child process won't emit any output.  When that happens, our ChildProcessncode can return a `w_string(nullptr)`.  When this is passed to the `w_string_piece`nconstructor, we would blindly deref the nullptr by calling the `.data()` and `.size()`nmethods of `w_string`.nnThis diff:nn1. Adds an unambiguous overload for `w_string_piece::w_string_piece` to construct from a `w_string` that may hold a nullptr value.n2. Adds a couple of unit tests for this casen3. Makes `w_string::data()` and `w_string::size()` throw when used on an instance that has a `nullptr` value.n4. Removes a redundant copypasta line from Mercurial.cppnnReviewed By: simpkinsnnDifferential Revision: D5178006nnfbshipit-source-id: bf8e55c88e3d2a41c3ce134a0583d2f49b004ef0n",46.0,3.0,"scm/Mercurial.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",4.0,3.0,3.0,1.220771703119158,18.0,537.0,97.0,5.020078125,5407.5,1.106166942319427,2607.0,None,False,True,"[""b7eeacf15f5e187604ea0f5598bcba843fa344c2"", ""63614128d492828f542e9d21ef1290e56726515f""]"
0b00bb0e65a3acb60ea1776e185410f4c2998231,8b0adb6a68d0fb97e271a63e5365e63ec54fee47,Wez Furlong,wez@fb.com,Wed Jun 7 08:37:13 2017 -0700,1496849833,fixup handling broken pipes in test transportSummary:nThe test_big.py test triggers this on our internal CI.nnThis diff fixes up how we detect the EOF on the pipe for CLI transportnthat is only used in our tests.nnfbshipit-source-id: bd1277d1f0b8408799c22903cd9beed105d4a620n,1.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,1073.0,51.0,117.62054398148148,5410.0,1.0085019161291875,82.0,Corrective,True,,
8b0adb6a68d0fb97e271a63e5365e63ec54fee47,055d783bb03020986be93bf72905e1eb5fd41155,Wez Furlong,wez@fb.com,Wed Jun 7 19:53:58 2017 -0700,1496890438,Set the buildinfo for appveyor buildsSummary: Closes https://github.com/facebook/watchman/pull/482nnDifferential Revision: D5206400nnPulled By: weznnfbshipit-source-id: ecae1be5dff691d19c00d470b3cd9db758200174n,6.0,1.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,374.0,92.0,1.1994444444444443,5411.0,1.8337193144974524,243.0,None,False,,
055d783bb03020986be93bf72905e1eb5fd41155,b7eeacf15f5e187604ea0f5598bcba843fa344c2,Simon Farnsworth,simonfar@fb.com,Thu Jun 8 05:36:58 2017 -0700,1496925418,"Improve tests for dirName, baseName and fix corner caseSummary:nIt's technically unspecified whether `e_ - 1 < s_` is true if `e_ == s_` and s_npoints to the beginning of the memory block allocated for the string.nnFurther [watchman] enable watch_symlinks on win32 did not add tests for thenfixes it made to dirName and baseName - add test cases to match.nnReviewed By: simpkinsnnDifferential Revision: D5174324nnfbshipit-source-id: cf91e90d3100187bc6bb5b6b34b9e360b671870bn",21.0,1.0,"string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8453509366224365,18.0,674.5,44.0,1.4497569444444445,0.5,0.6724426987282349,0.0,Corrective,True,,
b7eeacf15f5e187604ea0f5598bcba843fa344c2,5e99349a22daab444e2f78761603a6b9b620fa1f,Wez Furlong,wez@fb.com,Thu Jun 8 15:02:47 2017 -0700,1496959367,some doc updatesSummary:nUpdate the gemfile stuff such that the website can benregenerated on current systems.nnFlesh out some release notes for the upcoming release.nnPromote windows to beta.nnfbshipit-source-id: 5647fdda32facb13264c8ef0bb5dda4905428a50n,200.0,57.0,"website/Gemfile,CAS_DELIMITER,website/Gemfile.lock,CAS_DELIMITER,website/_data/nav.yml,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",5.0,1.0,3.0,1.3842355281769745,17.0,119.0,28.0,102.27762268518521,5414.0,1.0035363358210134,233.0,Non Functional,False,,
5e99349a22daab444e2f78761603a6b9b620fa1f,f4a03d4795f291d50cc8c1c837c5371171553ad8,Wez Furlong,wez@fb.com,Tue Jun 13 10:39:40 2017 -0700,1497375580,"avoid deadlock in trigger-delSummary:nSome refactoring in the windows watcher highlighted thisnpotential problem; we hold a lock on the triggers and then try tonjoin a thread.  Depending on the state of the thread, this can deadlock.nnThe resolution is to move the join outside of the critical sectionnthat erases the trigger from the locked map.nnReviewed By: simpkinsnnDifferential Revision: D5209182nnfbshipit-source-id: 92a73ec32db761d3e47430c030cd8e9411683d04n",8.0,2.0,"cmds/trigger.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,427.0,32.0,109.9150925925926,5417.0,1.009097931652631,385.0,None,False,,
f4a03d4795f291d50cc8c1c837c5371171553ad8,397ddede7cf42933996aa6e94259261041c6d6f3,Wez Furlong,wez@fb.com,Tue Jun 13 11:22:20 2017 -0700,1497378140,unbreak the rendering of stack traces on win32Summary:nThis likely got mangled by some refactoring.  The problemnwas that the cursor into the buffer wasn't being moved so a 32 linenstack trace just held 32 copies of the first frame.nnThis fixes that.nnReviewed By: simpkinsnnDifferential Revision: D5209183nnfbshipit-source-id: ccdabdb44ff46d5d823ed0bc5aef8a5a3e65e036n,1.0,0.0,"winbuild/backtrace.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,144.0,5.0,141.05765046296298,5418.0,1.007089299989883,244.0,None,False,,
397ddede7cf42933996aa6e94259261041c6d6f3,2e74683c65a2023047087b9cbed7be8adfa4e497,Wez Furlong,wez@fb.com,Mon Jun 19 12:56:37 2017 -0700,1497902197,"add w_string::empty and use it estimateSizeNeeded/toAppendSummary:nI was debugging a problem where a w_string had been moved away,nleaving it as a nullptr w_string.  When logging or building strings withnthis, our recent ensureNotNull check was triggering an assertion andnwe'd fall over (with a garbage stack trace as fixed in the diff prior to this).nnTo allow safe logging of nullptr strings I've added an .empty() method that willnreturn true (and that behaves as expected for non-empty strings) and use thisnas a portable way to tell if a generic stringy object has no content.nnReviewed By: simpkinsnnDifferential Revision: D5209180nnfbshipit-source-id: 91782ed131717f27aebb3a86edf153c2bdccd51dn",25.0,4.0,"tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,2.0,2.0,0.8497511372532974,18.0,489.0,57.0,12.030190972222226,5419.5,1.0650080450435184,2608.0,Feature Addition,False,,
2e74683c65a2023047087b9cbed7be8adfa4e497,374eab875d320a2aa1731cfe599d15101bbbd9bf,Wez Furlong,wez@fb.com,Mon Jun 19 12:56:38 2017 -0700,1497902198,"improve IO scheduling around deletes on win32Summary:nwe've had a couple of reports that watchman interferes withnrecursive directory removes on windows.nnLooking at the code, we were pinging the IO thread for pretty muchneach packet of changes coming from the OS.  The theory is that watchmannwould get notified that the parent directory had a delete while thenremover was working through the contents.  Watchman would then try tonopen handle(s) in that portion of the tree, accidentally blockingnthe remove.nnThis diff seeks to improve the situation by:nn1. Batching the group of notifications together more frequently.n   This is done by changing the timeout on the ReadDirectoryChangesWn   call.  When we have nothing in the batch we use a non-zero timeout.n   When we have something in the batch we use a 30ms timeout.n   The batch is published to the IO observer thread whenever we timeout then   ReadDirectoryChangesW call.  This should reduce the chances that we'lln   race with a busy recursive mutation operation.n2. Take advantage of child path pruning in the pending list.  Lookingn  at the flags in the notification struct from the OS, we can telln  whether the path is going away (deleted or renamed away).  In thosen  case we can safely unilaterally set the RECURSIVE flag on the pathn  (normally we wouldn't want to, as a simple change on a dir may notn  warrant a full recursive examination under that path).   The recursiven  flag allows the pending list to collapse redundant paths out of itsn  IO plan.  eg: if foo/bar and foo are both added with the recursiven  flag, the resultant pending list is just foo recursive.  For an  recursive tree remove we can therefore transform a long list ofn  discrete getFileInformation calls into a single operation on then  root of that tree.   In addition, we can now benefit from then  cached file information made available at readDir time.nnNote that using the cached file info from readDir results in the nlinknfield being set to 0 in some cases on Windows, and requires an adjustmentnin the integration tests.  I'm mostly leaning towards this being OK,nbecause it results in better overall perf, but it is technically anregression and non-deterministic behavior.  It may be better to justnremove nlink as an available field on windows.  This field is difficultnto use in practice anyway.  I need to double check our behavior aroundnthis field on linux and mac where were have similar optimizations.nnReviewed By: simpkinsnnDifferential Revision: D5209181nnfbshipit-source-id: 2aea3986f458235fa96181818350a4c9da693b1an",59.0,16.0,"tests/integration/twodeep.php,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.4474992550368635,18.0,198.5,30.0,110.30493055555556,5421.5,1.0287206933174668,260.0,None,False,True,"[""ef594615f2ced70e610ade467df66c8946c57b0d""]"
374eab875d320a2aa1731cfe599d15101bbbd9bf,4ab55daa8d555e11101de623434754177aa8b15c,Wez Furlong,wez@fb.com,Mon Jun 19 12:56:40 2017 -0700,1497902200,handle case insensitive win32 drive letters more reasonablySummary:nIn https://github.com/facebook/watchman/issues/484 users arenhaving problems in the msys environment where they don't have controlnover how the case of the drive letter is specified.nnThis diff is a speculative attempt to make things a bit nicer innthat environment.nnDifferential Revision: D5217801nnfbshipit-source-id: 7aadedaf844b37ecf3c72fdae27054f8aecd9817n,32.0,2.0,"string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9975025463691152,18.0,686.5,47.0,5.6526909722222225,5423.5,1.0884535826006516,570.0,None,False,,
4ab55daa8d555e11101de623434754177aa8b15c,f35c1ff8e257ad5fe333646f0815a272668551c6,Wez Furlong,wez@fb.com,Mon Jun 19 13:59:07 2017 -0700,1497905947,"add w_string::empty and use it estimateSizeNeeded/toAppendSummary:nI was debugging a problem where a w_string had been moved away,nleaving it as a nullptr w_string.  When logging or building strings withnthis, our recent ensureNotNull check was triggering an assertion andnwe'd fall over (with a garbage stack trace as fixed in the diff prior to this).nnTo allow safe logging of nullptr strings I've added an .empty() method that willnreturn true (and that behaves as expected for non-empty strings) and use thisnas a portable way to tell if a generic stringy object has no content.nnReviewed By: simpkinsnnDifferential Revision: D5209180nnfbshipit-source-id: d3f919c38bffeaf3e1e801d69127b959a0660e85n",17.0,4.0,"tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,2.0,2.0,0.4537163391869448,18.0,506.5,60.0,0.04338541666666666,5425.5,18.29152830067175,2610.0,Feature Addition,False,True,"[""351a2235b4561010c21cd683c951bb6a4f6e2f83""]"
f35c1ff8e257ad5fe333646f0815a272668551c6,9df9d5035e67dc1867ef8812ea2760c331637454,Wez Furlong,wez@fb.com,Mon Jun 19 13:59:08 2017 -0700,1497905948,"improve IO scheduling around deletes on win32Summary:nwe've had a couple of reports that watchman interferes withnrecursive directory removes on windows.nnLooking at the code, we were pinging the IO thread for pretty muchneach packet of changes coming from the OS.  The theory is that watchmannwould get notified that the parent directory had a delete while thenremover was working through the contents.  Watchman would then try tonopen handle(s) in that portion of the tree, accidentally blockingnthe remove.nnThis diff seeks to improve the situation by:nn1. Batching the group of notifications together more frequently.n   This is done by changing the timeout on the ReadDirectoryChangesWn   call.  When we have nothing in the batch we use a non-zero timeout.n   When we have something in the batch we use a 30ms timeout.n   The batch is published to the IO observer thread whenever we timeout then   ReadDirectoryChangesW call.  This should reduce the chances that we'lln   race with a busy recursive mutation operation.n2. Take advantage of child path pruning in the pending list.  Lookingn  at the flags in the notification struct from the OS, we can telln  whether the path is going away (deleted or renamed away).  In thosen  case we can safely unilaterally set the RECURSIVE flag on the pathn  (normally we wouldn't want to, as a simple change on a dir may notn  warrant a full recursive examination under that path).   The recursiven  flag allows the pending list to collapse redundant paths out of itsn  IO plan.  eg: if foo/bar and foo are both added with the recursiven  flag, the resultant pending list is just foo recursive.  For an  recursive tree remove we can therefore transform a long list ofn  discrete getFileInformation calls into a single operation on then  root of that tree.   In addition, we can now benefit from then  cached file information made available at readDir time.nnNote that using the cached file info from readDir results in the nlinknfield being set to 0 in some cases on Windows, and requires an adjustmentnin the integration tests.  I'm mostly leaning towards this being OK,nbecause it results in better overall perf, but it is technically anregression and non-deterministic behavior.  It may be better to justnremove nlink as an available field on windows.  This field is difficultnto use in practice anyway.  I need to double check our behavior aroundnthis field on linux and mac where were have similar optimizations.nnReviewed By: simpkinsnnDifferential Revision: D5209181nnfbshipit-source-id: 3e6fbb94fe1e7c3315c75dc29abb26ea2fa0f0fdn",10.0,2.0,"watcher/win32.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,377.0,25.0,0.043402777777777776,5427.0,24.04,261.0,None,False,,
9df9d5035e67dc1867ef8812ea2760c331637454,a916a6a5eb4da42cdbe30037ff80cc1e12f43aa3,Wez Furlong,wez@fb.com,Tue Jun 20 00:48:29 2017 -0700,1497944909,add testpilot plumbingSummary:nThis adds some plumbing so that we can capture the testnrun output from runtests into our internal testpilot runner.nnReviewed By: sid0nnDifferential Revision: D5192571nnfbshipit-source-id: 6248e27e54f3fc38a3683d812f74454fd7ae223an,169.0,162.0,"facebook/TARGETS,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_big.py,CAS_DELIMITER",6.0,3.0,4.0,1.7552582813731423,18.0,215.3333333333333,108.0,24.170493827160488,5430.5,1.0192294564202609,575.0,Feature Addition,False,,
a916a6a5eb4da42cdbe30037ff80cc1e12f43aa3,fa37b69ee032a6d52e9bc8e845e85e4c09cc5b88,Wez Furlong,wez@fb.com,Tue Jun 20 10:40:26 2017 -0700,1497980426,refactor CookieSync to add Future<Unit> sync()Summary:nI want to be able to use this mechanism to allownstate-enter and state-leave to be non-blocking calls fromnthe perspective of the caller.  The first step is allowingnfor an arbitrary action to be taken once the cookie isnobserved.nnReviewed By: simpkinsnnDifferential Revision: D5118350nnfbshipit-source-id: 16155241d0a8d90e72dc49705ba98bd1a0335ebcn,70.0,62.0,"CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER",2.0,1.0,1.0,0.6673182376160575,15.0,91.5,7.0,138.38332175925925,5434.5,1.0169777948807135,2613.0,Feature Addition,False,,
fa37b69ee032a6d52e9bc8e845e85e4c09cc5b88,b1c03bd385414afd5f9f89a5771b4a1b48d1a97a,Wez Furlong,wez@fb.com,Tue Jun 20 10:40:27 2017 -0700,1497980427,"recrawls no longer recreate the view instanceSummary:nThe primary problem I'm shooting to address here is what appears to be a racencondition with queries being placed at the same time as a recrawl is detected.nWhen our query lock was giant and always exclusive this was never a problem,nbut in moving to finer grained locking we've opened ourselves up to this.nnThe race is around the view instance being recycled.  This occurred in somenthorny code that originated from some clever C code when it was originallynadded and that has morphed into some tricksy placement new/placement deletencode in the codebase today.  Over time the members touched by thentearDown/reinit flow have been reduced in volume, and we've reached the pointnwhere we no longer require or benefit from this complication.nnThis diff removes the view reset at recrawl, which should eliminate allnpossible recrawl/teardown related races.nnIt has the following implications:nn* Recrawls no longer directly lead to a fresh instance result set.n  This is a positive move for all consumers; it changes then  recrawl behavior from causing a higher latency and very largen  response to a higher latency response with smaller volume.n  This extends to triggers: we'll only run the trigger ifn  we've detected files as having changed, whereas we wouldn  previously always run the trigger again on recrawl.nn* Sync cookies were traditionally completely abandoned by an  recrawl.  We can now abort them at recrawl time (actually,n  at the end of the recrawl) so that waiters are signalledn  about the issue rather than having to fully timeout.nn  syncToNow will catch the cookie abort and retry withn  another cookie until the total timeout period has elapsed.nnThe heart of this change is to move the `handleShouldRecrawl` method from beingnacted on in the kernel notification thread to the IO/observation thread in thenInMemoryView class.  When scheduling a recrawl, the recrawlInfo is updated tonreflect the request, and then the IO thread is pinged (via the newn`wakeThreads` method) to wake up and perform the recursive crawl.nnI'm going to make a follow up diff to move the members from the `inner` structnup to the main level in the `root`; I didn't want to inflate this diff withnthat rather mechanical change.nnReviewed By: simpkinsnnDifferential Revision: D5132237nnfbshipit-source-id: 6b1dcb1cbb90beb690a0f13ea0c6bf0c89be0695n",118.0,89.0,"CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/threading.cpp,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",14.0,2.0,2.0,2.9865477834927474,18.0,233.7142857142857,368.0,69.8815269510582,5442.5,9258.1498228798,2624.0,Feature Addition,False,True,"[""646cfad6bfcd5b63d9c7994e6655725d03fc25bd""]"
b1c03bd385414afd5f9f89a5771b4a1b48d1a97a,27ed35666681a48df42fc9a22f863fa99a2e1c85,Wez Furlong,wez@fb.com,Fri Jun 23 13:14:25 2017 -0700,1498248865,"when running tests in sandcastle, don't exit(1)Summary:nOur infra is categorizing the test run as flaky becausenof the exit status for just one test.  Leave it to parse the testnoutput to correctly report on a deal with this.nnReviewed By: simpkinsnnDifferential Revision: D5295289nnfbshipit-source-id: 9cfa962c36c74f974c0503de2d84110406482d4en",5.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,496.0,36.0,3.5180092592592587,5450.0,1.2842516680045797,2625.0,Preventative,False,,
27ed35666681a48df42fc9a22f863fa99a2e1c85,646cfad6bfcd5b63d9c7994e6655725d03fc25bd,Wez Furlong,wez@fb.com,Mon Jul 3 14:43:02 2017 -0700,1499118182,fixup trigger test on win32Summary:nSome recent changes have impacted the timing and this test nownconsistently reports an additional file after recrawling the root.nnSince we're testing that the trigger continues to fire after a recrawlnand we're over-notifying it is ok to tweak the test expectationsnhere on win32.nnReviewed By: simpkinsnnDifferential Revision: D5365856nnfbshipit-source-id: 24129bcf1ad4e80f02d24f9b7e43e177e7e8d917n,11.0,2.0,"tests/integration/test_trigger.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,229.0,11.0,13.168460648148148,5451.0,1.0759390202635892,579.0,Corrective,True,,
646cfad6bfcd5b63d9c7994e6655725d03fc25bd,981452aff98ee5064c06a3a8cd39ff2394846114,Wez Furlong,wez@fb.com,Mon Jul 3 14:45:20 2017 -0700,1499118320,"fixup subscribe test on win32Summary:nThe recent change to the watcher latency has exposed somentiming sensitivity in this test.   Let's remain true to the spiritnof the test by setting the config option for the latency to 0.nnThis is OK because regardless of the setting of the latency parameter,nthe results will always be eventually consistent.nnReviewed By: simpkinsnnDifferential Revision: D5365893nnfbshipit-source-id: 3d627725a45463186be82bb34483e969aa0ca131n",8.0,1.0,"tests/integration/test_subscribe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,666.0,19.0,13.170057870370373,5452.0,1.0759298106236703,580.0,Corrective,True,,
981452aff98ee5064c06a3a8cd39ff2394846114,19aebfebb0b5b0b5174b3914a879370ffc5dac37,Wez Furlong,wez@fb.com,Mon Jul 3 20:40:59 2017 -0700,1499139659,"remove solaris portSummary:nThis hasn't built in a while and there are no CI systemsnor folks stepping up to maintain it, so let's remove it.nnWe can always bring this back if the situation changes.nnCloses: https://github.com/facebook/watchman/issues/389nnReviewed By: simpkinsnnDifferential Revision: D5366922nnfbshipit-source-id: 90dcd944af954d1bb4b643a4747ea4ee764343ben",0.0,227.0,"Makefile.am,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.040819652463459435,18.0,301.0,148.0,92.9211863425926,5453.5,1.0144855257900909,262.0,None,False,,
19aebfebb0b5b0b5174b3914a879370ffc5dac37,e63e88e4327c946c5b0f44e3fe50286305e82b20,Wez Furlong,wez@fb.com,Mon Jul 10 19:03:19 2017 -0700,1499738599,"make eden watcher respect relative_root, ignore_dirs configurationSummary:nNot doing so causes buck to have a bad time:nn```n[2017-07-10 14:49:39.368][error][command:54db2bae-3c9c-4d5f-9b45-785e68879579][tid:221][com.google.common.eventbus.EventBus.file-change-events] Exception thrown by subscriber method onFileSystemChange(com.facebook.buck.util.WatchmanPathEvent) on subscriber memoized={/datna/users/wez/eden-fbsource/fbcode=com.facebook.buck.parser.DaemonicCellState@7749362f} when dispatching event: WatchmanPathEvent{cellPath=/data/users/wez/eden-fbsource/tools, kind=CREATE, path=/.buckd/tmp/buck_run.oz0MNl/raw_config7891816508388245730.json}njava.lang.IllegalArgumentExceptionn```nnThere are two intermingled problems here:nn1. The ignore_dirs config wasn't respected, causing additional paths to be emittedn2. Similarly for the relative_root restrictionnnThis resulted in buck either getting paths it wasn't expecting, or invalid pathsnthat were produced by some other code somewhere that assumed that it wasnvalid to remove a common string prefix and generate paths like ls/foo/barnwhere the ls is produced by stripping some prefix away from a path liken.../tools/foo/barnnReviewed By: bolinfestnnDifferential Revision: D5394946nnfbshipit-source-id: c81a3fc8b8de9bb782f3b6d774485e24ff4067d7n",74.0,4.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,tests/integration/test_eden_since.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.6687223092873942,18.0,223.25,31.0,99.43948206018518,5456.5,1.0049582326522708,263.0,None,False,,
e63e88e4327c946c5b0f44e3fe50286305e82b20,08e827ec6284beca76ff85c79b1a055b8b3f506f,Victor Gao,vgao@fb.com,Fri Jul 21 14:50:24 2017 -0700,1500673824,"comment out unused parametersSummary: This uses `clang-tidy` to comment out unused parameters (in functions, methods and lambdas) in fbcode. Cases that the tool failed to handle are fixed manually.nnReviewed By: igorsugaknnDifferential Revision: D5454343nnfbshipit-source-id: 5dee339b4334e25e963891b519a5aa81fbf627b2n",6.0,5.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,669.0,20.0,10.824363425925926,6.0,1.0923841856237804,0.0,None,False,,
08e827ec6284beca76ff85c79b1a055b8b3f506f,7c040c502253137aa9bd5d71d009a1d835da82b7,orf,tom@tomforb.es,Tue Jul 25 19:49:43 2017 -0700,1501037383,Use a wheel format when publishing the watchman pypi packageSummary:nThe Python wheel format is the preferred way of distributing Python packages with C extensions. This just adds the `bdist_wheel` step to the build script.nnThe `wheel` package needs to be installed on any development machine this is being run on.nCloses https://github.com/facebook/watchman/pull/502nnDifferential Revision: D5495066nnPulled By: sid0nnfbshipit-source-id: 511c5dc692a1157aae6f2d0a83d73bc055aa471en,1.0,1.0,"python/publish-pypi.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,6.0,23.0,1.0,719.0908449074074,0.0,0.0,0.0,None,False,,
7c040c502253137aa9bd5d71d009a1d835da82b7,1b907b831fa4d19411a2063b0da4afeadc4e9613,Gregory Szorc,gregory.szorc@gmail.com,Tue Jul 25 19:55:22 2017 -0700,1501037722,"Make watchman path configurable in Python clientSummary:nNot all installs may have `watchman` on PATH. Some clients maynwish to point pywatchman to a custom binary.nnThis commit makes the watchman binary path configurable. It stillndefaults to watchman. Backwards compatibility is maintained.nnThe file appears to use inconsistent naming styles for argumentsnand class members. I wasn't sure what naming style to use, so I justnpicked one.nCloses https://github.com/facebook/watchman/pull/504nnDifferential Revision: D5496527nnPulled By: sid0nnfbshipit-source-id: a88bd442b56b2ec2f8fe288f7a43164b7f6a25b9n",13.0,6.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,1073.0,52.0,48.4709375,0.0,0.0,0.0,None,False,,
1b907b831fa4d19411a2063b0da4afeadc4e9613,f4113e97d4ceb5da50321dc3ee1da1bf711c2990,Gregory Szorc,gregory.szorc@gmail.com,Tue Jul 25 20:23:05 2017 -0700,1501039385,"Enable Python client to be used as a context managerSummary:nCurrently, the Python client relies on __del__ to clean upnthe active transport. Although, callers can explicitly callnclose() if they want.nn__del__ in Python is fundamentally dangerous for many reasonsnand should not be used lightly. For example, exceptions duringn__del__ are ignored and circular references on objects withn__del__ may result in deferred garbage collection. In somenscenarios, this can lead to resource leaks.nnPython's context managers are the preferred mechanism tonmanage lifetimes of primitives. So this commit teaches thenclient class to work as a context manager. When the contextnmanager is entered, the transport is activated. When it exits,nthe transport is destroyed.nCloses https://github.com/facebook/watchman/pull/505nnDifferential Revision: D5496531nnPulled By: sid0nnfbshipit-source-id: e0c5952b3e050901fbbd3bc3d50d0ed572fefec8n",7.0,0.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,1080.0,53.0,0.019247685185185184,1.0,52.954299458809395,1.0,None,False,,
f4113e97d4ceb5da50321dc3ee1da1bf711c2990,a85ae727a26e770ef6f3eb3208d409d8d749b852,Wez Furlong,wez@fb.com,Tue Aug 1 14:20:18 2017 -0700,1501622418,"simplify perf logging thread singletonSummary:nI don't know what I was thinking when I wrote the prior incarnation;nit's way overcomplicated and I think it is racy in practice based on a weirdnstack trace I was analyzing recently where there are threads blocked on a mutexnthat none of them were holding:nn```nThread 42 (Thread 0x7ff8fafb5700 (LWP 262594)):n_mutex, watchman::LockPolicyShared>::LockedPtrBase (parent=0x99b920 <(anonymous namespace)::perfThread>, this=<synthetic pointer>) at watchman/watchman_synchronized.h:467n>::LockedPtr (parent=0x99b920 <(anonymous namespace)::perfThread>, this=<synthetic pointer>) at watchman/watchman_synchronized.h:685nanonymous namespace)::perfThread>) at watchman/watchman_synchronized.h:119nt=..., pending=...) at watchman/root/iothread.cpp:81nat third-party-buck/gcc-5-glibc-2.23/build/libgcc/include/c++/trunk/functional:1531nat third-party-buck/gcc-5-glibc-2.23/build/libgcc/include/c++/trunk/functional:1520nat third-party-buck/gcc-5-glibc-2.23/build/libgcc/include/c++/trunk/thread:115n---Type <return> to continue, or q <return> to quit---n```nnReviewed By: farnznnDifferential Revision: D5538932nnfbshipit-source-id: fe9db5339809009112a0386bea2566b74274a469n",8.0,23.0,"perf.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,287.0,24.0,61.958622685185176,5459.0,1.0161398035763491,2627.0,None,False,,
a85ae727a26e770ef6f3eb3208d409d8d749b852,79e9b860e603a3b54f38e994fd8a6327c469364b,Marko Novakovic,mnovakovic@fb.com,Tue Aug 1 16:44:39 2017 -0700,1501631079,"Replacing usage of __CLANG__ with __clang__Summary:nClang compiler does not define `__CLANG__` macro andnonly defines `__clang__`, but we use `__CLANG__` in anfew places in the code which was probably done by mistake.nThis should make the code behave in the intended way.nnReviewed By: yfeldblumnnDifferential Revision: D5542244nnfbshipit-source-id: 708844715b33be68e324bc957595ec7177bc4871n",1.0,1.0,"watchman_scopeguard.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,352.0,1.0,256.12401620370366,0.0,0.0,0.0,None,False,,
79e9b860e603a3b54f38e994fd8a6327c469364b,5c5be6d0a431ac7cb8b1a22db37e01717eef58a8,Christopher Dykes,cdykes@fb.com,Thu Aug 3 10:42:38 2017 -0700,1501782158,Add a helper defs for os.getenv()Summary: And use it to make a number of `TARGETS` files formattable.nnReviewed By: yfeldblumnnDifferential Revision: D5548287nnfbshipit-source-id: 7e393920eac6d78c1106fd2f8e481e5483b85471n,2.0,3.0,"tests/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,174.0,14.0,44.41260416666667,1.0,1.0225161306967572,0.0,Feature Addition,False,,
5c5be6d0a431ac7cb8b1a22db37e01717eef58a8,7b9c5c24f10e015eb090098c3e9c2df3dfcdc48a,Wez Furlong,wez@fb.com,Fri Aug 4 08:25:47 2017 -0700,1501860347,Statically link the run-time librarySummary:nTrivial PR to statically link the Windows run-time library as a follow up to issues #494 and #506.nncc weznCloses https://github.com/facebook/watchman/pull/513nnDifferential Revision: D5563092nnPulled By: weznnfbshipit-source-id: 4a3d2028da789f85b3731d0e8f6e52118da7b977n,1.0,1.0,"winbuild/Makefile,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,379.0,93.0,57.52209490740741,5460.0,1.0173846241450295,245.0,None,False,,
7b9c5c24f10e015eb090098c3e9c2df3dfcdc48a,8e0ba724d85de2c89f48161807e878667b9ed089,Eamonn Kent,ekent@fb.com,Tue Aug 8 09:04:29 2017 -0700,1502208269,"Handle deletes in fresh scm aware queriesSummary: Fresh instance queries in watchman return the full set of files and do not mention any deleted files (it is a fresh query).  For SCM aware queries, it is necessary to return deleted files since the merge base.nnReviewed By: weznnDifferential Revision: D5565778nnfbshipit-source-id: 0cd1417578497d45d3c77f7169529c529d034366n",62.0,20.0,"query/eval.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,3.0,3.0,1.3560320274452744,18.0,300.3333333333333,133.0,126.86186728395063,1.0,0.6686114125769577,0.0,None,False,True,"[""5cd39b6b10596bc23af169428b87313cfb350d14""]"
8e0ba724d85de2c89f48161807e878667b9ed089,a084b9e2425356288f6db7440a30511b16adbc1a,Wez Furlong,wez@fb.com,Wed Aug 9 18:52:52 2017 -0700,1502329972,avoid segfault when watching an eden subdirSummary:nWhen performing watchman watch eden/subdir we would crash rather than give a meaningful message.nnThis diff corrects the crash and helps to avoid a similar situation in thenfuture by promoting a nullptr return to an exception with a message explainingnwhat should be done to make this work properly.nnI've also introduced an exception type that can be used to prevent the autonwatch resolver from falling back to a lower priority watcher implementation; innthis specific circumstance (watching a subdir rather than a root) we don't wantnto fall back to inotify as we don't want to allow watchman to perform annO(almost-whole-repo) crawl.nnReviewed By: eamonnkentnnDifferential Revision: D5598374nnfbshipit-source-id: 18522f5ce33cc0394bcc6724b221464f91fe8d1fn,51.0,1.0,"tests/integration/test_eden_watch_root.py,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",4.0,3.0,3.0,1.6402822628469962,18.0,225.75,46.0,120.86675347222223,5462.5,0.7525887483180405,2628.0,None,False,,
a084b9e2425356288f6db7440a30511b16adbc1a,5b67d5864ca43917579c9d14637ad0fe302f090a,Wez Furlong,wez@fb.com,Fri Aug 11 12:51:51 2017 -0700,1502481111,"do a better job at reporting new in watchman results.Summary:nWe're seeing that this is always set to true for eden,nwhich is causing buck to run slower than it should.nnTo make this work correctly, I've augmented our journal data structurenso that it can track create, change and remove events for the variousnpaths.nnI've also plumbed rename events into the journal.nnThis requires a slightly more complex merge routine, so I've refactored the twoncall sites that were merging in slightly different contexts so that they cannnow share the same guts of the merge routine.  Perhaps slightlyncounterintuitive in the merge code is that we merge a record from the past intonthe state for now and this is a bit backwards compared to how people think.nnI've expanded the eden integration test to check that we don't mix upncreate/change/removes for the same path in a given window.nnOn the watchman side, we use the presence of the filename in the createdPathsnset as a hint that the file is new.  In that case we will set the watchmann`ctime` (which is not the state ctime but is really the *created clock time*)nto match the current journal position if the file is new, or leave it setnto 0 if the file is not known to be new.  This will cause the `is_new`nflag to be set appropriately by the code in `watchman/query/eval.cpp`;nif the sequence is 0 then it should never be set to true.  Otherwise (whennthe file was in the `createPaths` set) it will be set to the current journalnposition and this will be seen as newer than the `since` constraint onnthe query and cause the file to show as `new`.nnReviewed By: bolinfestnnDifferential Revision: D5608538nnfbshipit-source-id: 8d78f7da05e5e53110108aca220c3a97794f8cc2n",72.0,4.0,"tests/integration/test_eden_since.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9386808697586008,18.0,377.0,24.0,16.745665509259258,5465.5,1.0306812185803689,266.0,Feature Addition,False,True,"[""4966eb79c9cabbdab8ee4529a68b3024075f923b""]"
5b67d5864ca43917579c9d14637ad0fe302f090a,0a5a2ecdc4a60fd8926f66085af11574da5ca742,Eamonn Kent,ekent@fb.com,Fri Aug 11 14:25:38 2017 -0700,1502486738,Add comments about FAT clock and state enter/leaveSummary:nAdd a comment indicating why FAT clock is not returned for state-enter and state-leave commands.nnDocument source control aware state assertion and vacating PDUsnncloses: https://github.com/facebook/watchman/issues/487nnReviewed By: weznnDifferential Revision: D5607270nnfbshipit-source-id: 47e0f7587973d014a0ffe557bd3d4ed9d7e72777n,11.0,1.0,"listener.cpp,CAS_DELIMITER,website/_docs/scm-query.md,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,18.0,512.0,37.0,114.44131944444445,3.5,1.0097635634547055,1.0,Feature Addition,False,,
0a5a2ecdc4a60fd8926f66085af11574da5ca742,a3ffdcad2088888548a23edd28829e9ab52e231b,Wez Furlong,wez@users.noreply.github.com,Fri Aug 11 21:08:37 2017 -0700,1502510917,"Avoid upgrading brew on travisSummary:nThis is seemingly causing some of our builds to fail due to missingntools in the environment, and recompiles some stuff, making ournbuilds take longer.nCloses https://github.com/facebook/watchman/pull/517nnDifferential Revision: D5617645nnPulled By: weznnfbshipit-source-id: 4490969fd4c6446103d420e0a1223f75f2eb9635n",0.0,5.0,".travis.yml,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER",2.0,2.0,2.0,0.9709505944546686,18.0,59.0,47.0,80.33761574074074,5467.5,1.0093356019230186,45.0,None,False,,
a3ffdcad2088888548a23edd28829e9ab52e231b,f18b1e7bf721fb528f2e2b2144d7d7badb0adbb6,eamonnkent,eamonnkent@users.noreply.github.com,Mon Aug 14 10:37:58 2017 -0700,1502732278,Updated scm test cases to ignore hg created files since these affect u00e2u0080u00a6Summary:nu00e2u0080u00a6some tests (on some platforms).nCloses https://github.com/facebook/watchman/pull/516nnReviewed By: weznnDifferential Revision: D5611805nnPulled By: eamonnkentnnfbshipit-source-id: f4fc3f83fc9793f72c9c9f393d97e3fedc358bc9n,11.0,11.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,264.0,6.0,6.0649189814814815,0.0,0.0,0.0,Feature Addition,False,,
f18b1e7bf721fb528f2e2b2144d7d7badb0adbb6,e497786623d727b521a70d22a94ab9f2ce11fb68,Dhruv Singhal,dhruvsinghal@users.noreply.github.com,Tue Aug 15 17:42:23 2017 -0700,1502844143,Watchman Python3/Asyncio ClientSummary: Closes https://github.com/facebook/watchman/pull/316nnReviewed By: sid0nnDifferential Revision: D5634052nnPulled By: weznnfbshipit-source-id: c7629a61b144cc0b9844d0df899727d293d29763n,787.0,13.0,"python/bin/watchman-wait-aio,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER,python/pywatchman/aioclient.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/async/AsyncWatchmanTestCase.py,CAS_DELIMITER,tests/async/test_subscribe_async.py,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",7.0,3.0,5.0,2.0884091650688283,19.0,82.71428571428571,56.0,26.412298280423283,134.0,0.8650687261618631,16.0,None,False,True,"[""504938ef6b9bc0e6ac1874397d47f2aab72342f3""]"
e497786623d727b521a70d22a94ab9f2ce11fb68,2d729d2f37c6bd401dc21920fca7a7ea5f96309f,Adam Simpkins,simpkins@fb.com,Thu Aug 17 12:33:13 2017 -0700,1502998393,"fix journal merging of remove followed by create eventsSummary:nA removal followed by a create should be treated as a change rather than anno-op.  Previously the code was merging this into a no-op, and was alsonignoring any subsequent modifications in the same journal period being queriedn(since it processes transactions in reverse order).nnReviewed By: bolinfestnnDifferential Revision: D5647669nnfbshipit-source-id: 29389206f0e818d6b6248fbb6697b85e93064b1fn",12.0,1.0,"tests/integration/test_eden_since.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,108.0,3.0,5.987060185185183,3.0,1.1670268828221355,3.0,Corrective,True,,
2d729d2f37c6bd401dc21920fca7a7ea5f96309f,dcdd1a74947ddacbe5940879cb65324258f66d6f,Niclas Rosenvik,niclasr@users.noreply.github.com,Fri Aug 18 10:56:28 2017 -0700,1503078988,Install LICENSESummary:nInstall LICENSE to make sure that binary packages comply with the Apache license.nSee section 4.1 of the Apache version 2 license.nCloses https://github.com/facebook/watchman/pull/520nnDifferential Revision: D5659636nnPulled By: weznnfbshipit-source-id: 4f6c902768c996284aa13581c464bbf552c1bfbdn,1.0,1.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,375.0,130.0,45.594085648148145,3.0,1.0219326692439246,3.0,None,False,,
dcdd1a74947ddacbe5940879cb65324258f66d6f,38e114f7efc1cb39b1a5fd1014a2aa3bf7d2f11a,Eamonn Kent,ekent@fb.com,Sat Aug 19 09:33:39 2017 -0700,1503160419,"Force the path generator for scm queries with changed merge baseSummary: In scm aware watchman queries where the merge base has changed, watchman uses a path generator.  This generator is applied to the list of files returned by a query the query scm->getFilesChangedSinceMergeWithBase().  In the case where this file list was empty, the wrong generator was chosen.  The change is to use a lambda to force the setting of the generator (rather than relying on generator lookup based on query).nnReviewed By: weznnDifferential Revision: D5645290nnfbshipit-source-id: b346da4f4c898f537523d5c60dcfcdf8b847fe08n",14.0,1.0,"query/eval.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,2.0,2.0,0.8366407419411673,18.0,305.5,64.0,7.987795138888887,5.5,1.0766687505516548,1.0,Non Functional,False,True,"[""72950c283a6b2d57ada6b8ab54ac4478a9fe6f32""]"
38e114f7efc1cb39b1a5fd1014a2aa3bf7d2f11a,928791f7c578dbcbb7760b73223ac58c9af50d19,Eamonn Kent,ekent@fb.com,Mon Aug 21 13:41:52 2017 -0700,1503348112,move aioclient into its own python moduleSummary: This resolves some issues when building for python 2.7.nnReviewed By: weznnDifferential Revision: D5672179nnfbshipit-source-id: 9631f9bcbd30920c1fa0c2f05fd594b2f71bb324n,359.0,356.0,"python/pywatchman-aio/TARGETS,CAS_DELIMITER,python/pywatchman-aio/__init__.py,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER,python/pywatchman/aioclient.py,CAS_DELIMITER,tests/async/AsyncWatchmanTestCase.py,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",6.0,2.0,4.0,1.2113206748928986,20.0,87.66666666666669,23.0,3.8886496913580246,9.5,0.7261941376023789,3.0,None,False,,
928791f7c578dbcbb7760b73223ac58c9af50d19,013aff66bea04d1cc7b2ca6d6a0b4871b7eac22f,Wez Furlong,wez@fb.com,Tue Aug 22 13:23:03 2017 -0700,1503433383,make php tests run under python3 againSummary:nThe test classes were only discoverable on python 2.nRename our main test method to make it work on both versions.nnReviewed By: zertoshnnDifferential Revision: D5681853nnfbshipit-source-id: 03cb4afcf0fb409c4f9d0a17db02298428ed756an,1.0,3.0,"tests/integration/test_php.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,184.0,6.0,93.79313657407408,5469.0,1.0106617609403674,586.0,Preventative,False,,
013aff66bea04d1cc7b2ca6d6a0b4871b7eac22f,bbd90f38d00d1c931b922eda28c78815ca073519,Andres Suarez,asuarez@fb.com,Tue Aug 22 13:36:22 2017 -0700,1503434182,Remove unused Arcanist codeReviewed By: weznnDifferential Revision: D5680673nnfbshipit-source-id: 1573ee9d8475f19701fab93f128565f30ff4b9b1n,1.0,1067.0,".gitignore,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,arcanist/__phutil_library_init__.php,CAS_DELIMITER,arcanist/__phutil_library_map__.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanIntegrationEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanLicenseLinter.php,CAS_DELIMITER,arcanist/lib/WatchmanLintEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanQueryFuture.php,CAS_DELIMITER,arcanist/lib/WatchmanTapEngine.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,arcanist/lib/cov/CallgrindFile.php,CAS_DELIMITER,arcanist/lib/cov/DwarfLineInfo.php,CAS_DELIMITER",13.0,2.0,4.0,3.096854421768509,18.0,220.23076923076923,343.0,763.6266372863248,6.0,0.923655230396242,10.0,None,False,,
bbd90f38d00d1c931b922eda28c78815ca073519,707dcd8dedeacdc9f571f207b30c037043542998,Andres Suarez,asuarez@fb.com,Tue Aug 22 13:36:23 2017 -0700,1503434183,Move arcanist/lib/*.php into tests/integrationReviewed By: weznnDifferential Revision: D5681606nnfbshipit-source-id: 62c68c9c117aeb7a12f2660e01548f21dabbabd9n,1417.0,1412.0,"arcanist/lib/WatchmanDirectoryFixture.php,CAS_DELIMITER,arcanist/lib/WatchmanInstance.php,CAS_DELIMITER,arcanist/lib/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/WatchmanDirectoryFixture.php,CAS_DELIMITER,tests/integration/WatchmanInstance.php,CAS_DELIMITER,tests/integration/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/phprunner,CAS_DELIMITER,tests/integration/test_php.py,CAS_DELIMITER",8.0,2.0,2.0,2.258937872449929,19.0,208.875,126.0,161.85259114583334,16.5,1.0015613082443895,4.0,Preventative,False,,
707dcd8dedeacdc9f571f207b30c037043542998,2e41dcec654687136a4bfc8fefd8911dbed367e3,Andres Suarez,asuarez@fb.com,Wed Aug 23 11:14:45 2017 -0700,1503512085,Remove unused hgignoreReviewed By: weznnDifferential Revision: D5688425nnfbshipit-source-id: d665346d21d306d87f6d69c839fed72e810b6a29n,0.0,55.0,".hgignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,55.0,7.0,202.9117476851852,21.0,1.0049282508844757,2.0,None,False,,
2e41dcec654687136a4bfc8fefd8911dbed367e3,e674952677561cbfd8bdb2324894080d2e053968,Xingmo Liu,xingmo@fb.com,Thu Aug 24 16:59:47 2017 -0700,1503619187,refactor w_find_enclosing_rootSummary: refactor w_find_enclosing_root to use w_string and  w_string_piece and fan outnnReviewed By: weznnDifferential Revision: D5689915nnfbshipit-source-id: 69f24e41c898c460de9059564cd2bc0071e4f486n,95.0,165.0,"cmds/watch.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",5.0,2.0,2.0,1.58121909723495,18.0,222.0,163.0,131.5890601851852,2.0,0.8024272353179335,3.0,None,False,,
e674952677561cbfd8bdb2324894080d2e053968,351a2235b4561010c21cd683c951bb6a4f6e2f83,Eamonn Kent,ekent@fb.com,Sat Aug 26 20:51:28 2017 -0700,1503805888,"Support suffix list in suffix expression termSummary:nAdded suffix list to suffix expression terms for watchman.  Also, updated QueryExpr to handle aggregating queries terms for suffix queries.nnQuery:nn{'fields': ['name'], 'expression': ['anyof', ['allof', ['dirname', 'html'], ['type', 'f'], ['anyof', ['suffix', ['swf', 'xml', 'ico', 'cur', 'ttf', 'otf', 'woff', 'woff2', 'pdf', 'xlsx', 'eot', 'xap', 'ogg', 'mp3', 'm4a', 'svg', 'dll', 'unity3d', 'unityhash', 'manifest', 'mp4']]]], ['name', '.hg/ussr', 'wholename'], ['name', 'html/.hasteignore', 'wholename']]}nnHere are results for the query reported in the task:n- 1.1134929657n- 1.10483717918n- 1.10871696472nnHere are results after optimization code added:n- 1.08292603493n- 1.06063914299n- 1.10227704048nnThe impact of the changes are more dramatic when the queries are applied to larger set of files.nFor example, without the dirname:nn{'fields': ['name'], 'expression': ['anyof', ['allof', ['type', 'f'], ['anyof', ['suffix', ['swf', 'xml', 'ico', 'cur', 'ttf', 'otf', 'woff', 'woff2', 'pdf', 'xlsx', 'eot', 'xap', 'ogg', 'mp3', 'm4a', 'svg', 'dll', 'unity3d', 'unityhash', 'manifest', 'mp4']]]], ['name', '.hg/ussr', 'wholename'], ['name', 'html/.hasteignore', 'wholename']]}nnElapsed time before optimization:n- 2.09461593628n- 2.09092402458n- 2.12109613419nnElapsed time after optimization:n- 1.62500095367n- 1.55716919899n- 1.57365584373nnReviewed By: weznnDifferential Revision: D5635996nnfbshipit-source-id: 261eb8e0608200a6bf20074ec53f7affbcdf90ebn",338.0,72.0,"InMemoryView.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/integration/suffix.php,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,website/_docs/capabilities.markdown,CAS_DELIMITER,website/_docs/expr.suffix.md,CAS_DELIMITER",9.0,4.0,5.0,2.289797370058273,19.0,338.22222222222223,164.0,199.63501414609055,17.0,1.0032995755666112,2.0,Corrective,True,True,"[""083d410db82b567824b78b21587c457c9679d636""]"
351a2235b4561010c21cd683c951bb6a4f6e2f83,917bf4945da915d11ef933cdd39f1df9ab37decc,Eamonn Kent,ekent@fb.com,Sat Aug 26 21:03:12 2017 -0700,1503806592,"Support query expression aggregationSummary:nWe are adding support to suffix expressions that allow queries to pass a listnsuffixes to match. Alternatively, users could use an 'anyof' expression andna list of suffix expressions. This commit is an optimization to convert annany of list of suffix expressions into a single suffix expression (whichnprovides better performance)nnReviewed By: weznnDifferential Revision: D5662260nnfbshipit-source-id: c6dd460a97a3744df0fa3019c417e162fb9e5490n",51.0,1.0,"query/base.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.9289239541986791,19.0,243.75,111.0,75.791015625,23.5,1.0038474580401204,5.0,None,False,,
917bf4945da915d11ef933cdd39f1df9ab37decc,09999d207ec28f45cb7243b8d68e46f7d92f25be,Eamonn Kent,ekent@fb.com,Sat Aug 26 21:25:42 2017 -0700,1503807942,"Enhance the watchman debug-get-subscriptions commandSummary:nEnhanced the watchman debug-get-subscriptions command to return information onnthe query associated with the subscription.nnwatchman/ekent-state/alt.sockn{nversion: 2017-08-25T08:03:24Z,nnext_serial: 29,nitems: [n{nserial: 27,npayload: {nsettled: truen}n},n{nserial: 28,npayload: {nsettled: truen}n}n],nsubscribers: [n{nserial: 28,ninfo: {nname: hg_monitor2,nquery: {nsince: {nscm: {nmergebase-with: mastern}n},ndefer: [nhg.updaten],nexpression: [nallof,n[ntype,nfn],n[nanyof,n[nallof,n[ndirname,n.hgn],n[nname,ndirstaten]n],n[nsuffix,nphpn],n[nsuffix,njsn],n[nsuffix,npyn],n[nsuffix,nshn]n]n],nfields: [nname,nexists,noclock,nmtime_ms,nsize,nuid,ncontent.sha1hexn]n},npid: 2177435,nis_owner: true,nstm: 0x7f92d3389840,nclient: 0x7f92d3464290n}n}n]n}nnReviewed By: weznnDifferential Revision: D5700179nnfbshipit-source-id: f2d25a848a230989dfc69f8f40b5b91827f2f25bn",38.0,19.0,"PubSub.cpp,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",4.0,3.0,3.0,1.3830573555690464,18.0,382.0,80.0,119.3948929398148,27.5,1.0029619751424952,7.0,Corrective,True,,
09999d207ec28f45cb7243b8d68e46f7d92f25be,99727a878757b6129fce5d13d7606f970b618a5b,Christopher Dykes,cdykes@fb.com,Mon Aug 28 01:16:15 2017 -0700,1503908175,Shift folly:network_address out of folly:follySummary:n```nfoundation/dependency_management/ensure-explicit-dependencies.sh folly:network_addressn```nnReviewed By: yfeldblumnnDifferential Revision: D5715989nnfbshipit-source-id: c512b648c7a3968a47bef4c20db58e11938f68b7n,1.0,0.0,"cppclient/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,29.0,2.0,87.31108796296296,2.0,1.0114532990406009,0.0,None,False,,
99727a878757b6129fce5d13d7606f970b618a5b,a5f10d6cca4674865eaa3603cbb3643028804919,Eamonn Kent,ekent@fb.com,Mon Aug 28 13:20:50 2017 -0700,1503951650,Rename pywatchman_aoi package directory to correspond with package name.Summary: The directory name should be the same as package name for imports to work.nnReviewed By: weznnDifferential Revision: D5719560nnfbshipit-source-id: 54182ebe681dca6cce929a5d5a88860852085f99n,358.0,358.0,"python/pywatchman-aio/TARGETS,CAS_DELIMITER,python/pywatchman-aio/__init__.py,CAS_DELIMITER,python/pywatchman_aio/TARGETS,CAS_DELIMITER,python/pywatchman_aio/__init__.py,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",5.0,2.0,3.0,1.2087318281203174,20.0,86.4,20.0,4.191236111111111,32.0,1.0811216526548453,8.0,None,False,,
a5f10d6cca4674865eaa3603cbb3643028804919,8f95d10fb4f61c63b176a77d8e86ac8e6162e95f,Eamonn Kent,ekent@fb.com,Tue Aug 29 12:06:34 2017 -0700,1504033594,"Fix failing async test case.Summary:nFixed an async test case where the test times out since the clock has notnchanged (and thus, no subscription events are generated). The test is to makensure that subscriptions are not lost after the 'debug-recrawl' operation. Wensimply create a new file so that the clock increments. The intent of the testnis still achieved.nnReviewed By: weznnDifferential Revision: D5726734nnfbshipit-source-id: 693418c0dc3f32b6d679b9a3c4ebfcf8e8a24257n",4.0,0.0,"tests/async/test_subscribe_async.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,68.0,1.0,13.76679398148148,35.0,1.0726385534166605,9.0,Corrective,True,,
8f95d10fb4f61c63b176a77d8e86ac8e6162e95f,ec975b83f0f96344934ac317e8f2f3fd6e3ae5bc,Eamonn Kent,ekent@fb.com,Tue Aug 29 18:43:25 2017 -0700,1504057405,Updated release notes for watchman 4.9 releaseSummary: Updated release notes for watchman 4.9 release.nnReviewed By: weznnDifferential Revision: D5700923nnfbshipit-source-id: 93700cdd0b74ce87352827e41c8edabe332f899an,30.0,10.0,"website/_data/current_release.json,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER",2.0,1.0,2.0,0.28639695711595625,17.0,155.5,23.0,216.79958333333332,36.5,1.0025758326250196,4.0,None,False,,
ec975b83f0f96344934ac317e8f2f3fd6e3ae5bc,dd24a042efdca7921747c9f36a671d49f2b164c6,Philip Jameson,pjameson@fb.com,Wed Aug 30 18:03:43 2017 -0700,1504141423,Disable common deps outside of fbSummary: Disables requiring some facebook internal buildinfo files when not using buck internallynnReviewed By: weznnDifferential Revision: D5433244nnfbshipit-source-id: b6e985883504757a4a0361174be2a9320936fd84n,25.0,3.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,295.0,20.0,90.0107175925926,0.0,0.0,0.0,None,False,,
dd24a042efdca7921747c9f36a671d49f2b164c6,17958f7da287e8d0f977693f4ef4f0973a17069b,Eamonn Kent,ekent@fb.com,Thu Aug 31 15:23:42 2017 -0700,1504218222,Have bin scripts use iter() method for python3Summary:nIterable dict items should use iteritems in python 2 and items in python 3.nThe change was made in a way to not require any additional packagendependencies.nnReviewed By: weznnDifferential Revision: D5740400nnfbshipit-source-id: 65d543d88cb1b2a4dd17de8632c3723ae308f9a1n,6.0,6.0,"python/bin/watchman-make,CAS_DELIMITER,python/bin/watchman-wait,CAS_DELIMITER,python/setup.py,CAS_DELIMITER",3.0,1.0,2.0,1.4591479170272448,14.0,171.66666666666666,22.0,188.73153935185184,39.0,1.0030966595177,10.0,None,False,,
17958f7da287e8d0f977693f4ef4f0973a17069b,919f52942df9e049552c82a3e98ed1924018a9a6,Eamonn Kent,ekent@fb.com,Thu Aug 31 15:29:53 2017 -0700,1504218593,"Error in debug-get-subscriptions for unwatched ddirectorySummary:nWhen debug-get-subscriptions is called for an unwatched root, the correct errornis returned, however, there is a missing null check and return. This causesncore dump since a null pointer is used.nnReviewed By: weznnDifferential Revision: D5748150nnfbshipit-source-id: c261cc3a03c2115c10c9a6077aa1d626465406f5n",14.0,10.0,"cmds/debug.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,16.0,196.0,13.0,237.76334490740746,41.0,1.0042058627682473,1.0,Corrective,True,,
919f52942df9e049552c82a3e98ed1924018a9a6,623d9c868db416170cd73e28d6a9d55d1ef472ae,Nate Stedman,natesm@fb.com,Thu Aug 31 15:39:03 2017 -0700,1504219143,Fix relative paths in watchman-waitReviewed By: eamonnkentnnDifferential Revision: D5746389nnfbshipit-source-id: 4c0521e756a7191d210f259d0c4a6fe85d69a5d0n,1.0,1.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,219.0,6.0,0.01065972222222222,0.0,0.0,0.0,Corrective,True,,
623d9c868db416170cd73e28d6a9d55d1ef472ae,935ba1bfb24d360bc291c1aff346df045ddd9fbd,Ryo Shibayama,j02521@gmail.com,Wed Sep 6 22:37:20 2017 -0700,1504762640,"Migrate to CircleCI 2.0Summary:nBumped up CircleCI 2.0 to improve the build time.nnI have passed the test without installing PHP, why is explicit installation of PHP in the old config file?nDoes the version specification of each language specified in the old config file have a deep meaning?nCloses https://github.com/facebook/watchman/pull/526nnDifferential Revision: D5783398nnPulled By: weznnfbshipit-source-id: c22df08fc83db7ef7ca4df004a8279f573998fedn",26.0,11.0,".circleci/config.yml,CAS_DELIMITER,circle.yml,CAS_DELIMITER",2.0,2.0,2.0,0.8779620013943912,11.0,5.5,2.0,228.62884259259255,0.5,0.5010934753339301,0.0,None,False,,
935ba1bfb24d360bc291c1aff346df045ddd9fbd,2ba4052900d704abe579536e1bde06cab094b630,Eamonn Kent,ekent@fb.com,Fri Sep 15 08:58:12 2017 -0700,1505491092,Fix documentation error.Summary:nThis little error is causing the table of contents to be messed up.nSee: https://facebook.github.io/watchman/docs/install.htmlnIt has two entries on left side for 'watchman-wait' and is missingnan entry.nnReviewed By: weznnDifferential Revision: D5835138nnfbshipit-source-id: ea82e16fb12c55a03dc7e4a49c045e33587f6956n,1.0,1.0,"website/_docs/cppclient.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,60.0,1.0,225.8169212962963,42.0,1.0044283661040967,5.0,Corrective,True,,
2ba4052900d704abe579536e1bde06cab094b630,02934e4ef41c91c7d14982b134c2119f272d97f2,Eamonn Kent,ekent@fb.com,Fri Sep 15 11:15:59 2017 -0700,1505499359,"Refactor resolve_root_or_err to throw exceptionsSummary:nIn the current form of resolve_root_or_err,  its behavior is:n1) returns a string error messagen2) returns null on failuren3) notifies client connection of failurenAll clients must handle the null return - which can lead to bugs.nnWe updated the implementation to be less error prone:n1) throw an exception on error - that contains the error message.nThis frees clients from having to null check (command dispatchnwill take care of catching the exception).nnNote: we still have to pass in the client to the resolve_root method becausenthere are checks for client_is_owner and client_mode.nnReviewed By: weznnDifferential Revision: D5826757nnfbshipit-source-id: 579f55c64ca9daf3fa4ebd4a6ac4d7dab19a2d53n",58.0,112.0,"InMemoryView.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,tests/integration/trigger-error.php,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",15.0,4.0,4.0,3.4764319582541687,19.0,280.0,410.0,133.4111990740741,50.0,1.0063178299055608,11.0,None,False,True,"[""e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8""]"
02934e4ef41c91c7d14982b134c2119f272d97f2,e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8,Eamonn Kent,ekent@fb.com,Fri Sep 15 11:24:30 2017 -0700,1505499870,Fix problem where watch implicitly created.Summary:nA user that runs the following commands will implicitly create a watch:n- state-entern- state-leaven- subscriben- triggern- watchnThis change will limit the watch creation to the watch command (explicit).nThis will make behaviors more intuitive and prevent future issues.nWe separate commands for the resolve_root and resolve_root_create - as a defensive measure.nnReviewed By: weznnDifferential Revision: D5829679nnfbshipit-source-id: 06995044b48fdadde02dece1624322a6e8b160bcn,47.0,32.0,"InMemoryView.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",13.0,3.0,3.0,3.2417447998528384,19.0,281.76923076923083,346.0,0.005914351851851852,64.0,42.361366316958666,14.0,Corrective,True,,
e02729e5e1ad8373d00a601d1ccfd0e1ea2b6fa8,6a5fe5964b68a554ae4436ac0ed9bc7a1baa72c3,Eamonn Kent,ekent@fb.com,Wed Sep 20 15:36:48 2017 -0700,1505947008,"Add new watchman script 'watchman-replicate-subscription'.Summary:nAdd new watchman script 'watchman-replicate-subscription'. This allows integrators to make a copy of an existing subscription in order to see the events that their client application is seeing.  This can be helpful for bug localization.nnTypical use:n1) Users should determine their root. If they don't know it, they can use the existing command : watchman watch-list to see the options.n2) Invoke watchman-subscription-replicate with the path argument.  This will provide information on subscriptions for the given path (it includes name, query, client id, pid)n3) Identify the subscription they want to replicate - typically name field will suffice (but, if name is not unique, they may have to use client id and pid)n4) Subscribe providing identifying attributes:nnReviewed By: weznnDifferential Revision: D5814438nnfbshipit-source-id: 8452c5e9aaf6e2ceb33af07a1e33f86a0e8b28b1n",393.0,1.0,"python/bin/TARGETS,CAS_DELIMITER,python/bin/watchman-replicate-subscription,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,website/_data/nav_docs.yml,CAS_DELIMITER,website/_docs/release-notes.markdown,CAS_DELIMITER,website/_docs/watchman-replicate-subscription.md,CAS_DELIMITER",6.0,2.0,4.0,1.1408837139004229,19.0,77.0,40.0,59.29146990740741,73.5,1.0057147132524435,8.0,Feature Addition,False,,
6a5fe5964b68a554ae4436ac0ed9bc7a1baa72c3,869435ce88949d14e8b4e7f3c0855abc9bcb843a,Dean Xu,yingran@fb.com,Thu Sep 21 17:02:28 2017 -0700,1506038548,add sandcastle en masse for maven builds in fbcodeSummary: Add sandcastle.ini to some of top-level pom.xml (that do not cause build error)nnReviewed By: k21nnDifferential Revision: D5851721nnfbshipit-source-id: dafafced3ccce4237e0fe928c1957f75b27c1e9an,1.0,0.0,"java/sandcastle.ini,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,Feature Addition,False,,
869435ce88949d14e8b4e7f3c0855abc9bcb843a,45e1a917f6600644990994cd933cd940ec4a1254,Wez Furlong,wez@fb.com,Tue Sep 26 11:19:13 2017 -0700,1506449953,remove dead function for finding eden socketSummary: We do this a different way now and can remove this function.nnReviewed By: eamonnkentnnDifferential Revision: D5905277nnfbshipit-source-id: cca1a797d94f7639820a6c627be8a8b5f2526f9bn,0.0,9.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,714.0,23.0,45.9356712962963,5470.0,1.021769574097432,267.0,None,False,,
45e1a917f6600644990994cd933cd940ec4a1254,1a755d05029335916dffb5598f3307e0bf531ed2,Eamonn Kent,ekent@fb.com,Wed Sep 27 14:08:58 2017 -0700,1506546538,Add test cases for watchman-waitSummary: Add several test cases for watchman-wait.nnReviewed By: weznnDifferential Revision: D5815130nnfbshipit-source-id: 9c6d7bb5b511b7c3ce9039ab9760afb9505f00a3n,292.0,0.0,"facebook/TARGETS,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/WatchmanWaitInstance.py,CAS_DELIMITER,tests/integration/nbsr.py,CAS_DELIMITER,tests/integration/test_wm_wait.py,CAS_DELIMITER",6.0,3.0,3.0,1.6695664799776595,20.0,172.83333333333337,84.0,40.327262731481476,79.5,1.0055996859504777,14.0,Feature Addition,False,True,"[""fcc806f7e1a5750f8e5bf41a8ccc4334d7139cd2""]"
1a755d05029335916dffb5598f3307e0bf531ed2,63614128d492828f542e9d21ef1290e56726515f,Eamonn Kent,ekent@fb.com,Fri Sep 29 17:22:37 2017 -0700,1506730957,"Fix circular dependency in debug buildSummary:nThe debug build is broken because of a circular dependency. watchman_stringnuses w_assert, which, in turn introduces a dependency back to watchman_string.nIt only occurs in the debug build (assertion).nnThe fix is to throw a runtime_error. (Alternatively, we could just do a planenassert).nnReviewed By: weznnDifferential Revision: D5933196nnfbshipit-source-id: 5eaf26578d7cf2c4a868793872fdbc2c0cbf1b5an",3.0,1.0,"watchman_string.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,703.0,50.0,33.85496527777778,83.0,1.0295377647501651,16.0,Corrective,True,,
63614128d492828f542e9d21ef1290e56726515f,38e49e5aa209b9a7033c363836ccf0d2ada26b59,Eamonn Kent,ekent@fb.com,Wed Oct 4 14:05:05 2017 -0700,1507151105,Remove sync from state-enter/state-leave commandsSummary:nWe are seeing slow-downs in state-enter/state-leave operations issued by thenfsmonitor extension. The slowdowns are rare and cannot be reliably reproduced.nnThis change removes the sync operation from the state-enter and state-leave commands.  The sync operation is one potential culprit.nnReviewed By: weznnDifferential Revision: D5975317nnfbshipit-source-id: ac568531e56bb0d7c4da4acf16aa3cadd697470en,0.0,10.0,"cmds/state.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,248.0,27.0,19.111516203703705,84.0,1.0523244722889231,20.0,None,False,,
38e49e5aa209b9a7033c363836ccf0d2ada26b59,52b51c28e3983c40e37c7ebe0f0b3a764cd1709f,Eamonn Kent,ekent@fb.com,Tue Oct 10 08:44:53 2017 -0700,1507650293,Code tidy-up for state-enter and state-leaveSummary:nWatchman state-enter and state-leave tidy-up.nn- added ClientStateAssertions class to encapsulate states for a rootn- removed state-id as states are unique to a clientnnReviewed By: weznnDifferential Revision: D5975671nnfbshipit-source-id: 67923a87f3460073d1abfddef60b47dc6fbb2f35n,89.0,85.0,"MapUtil.h,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",5.0,2.0,2.0,1.724261830560088,19.0,215.4,187.0,43.4332662037037,87.0,0.8432318335179307,19.0,None,False,,
52b51c28e3983c40e37c7ebe0f0b3a764cd1709f,2c6765ea89a8c4c6a8fe4b7d17d64cbb8b5f1a8c,Wez Furlong,wez@fb.com,Mon Oct 16 22:22:18 2017 -0700,1508217738,"augment JournalDelta with unclean paths on snapshot hash changeSummary:nWe were previously generating a simple JournalDelta consisting ofnjust the from/to snapshot hashes.  This is great from a `!O(repo)` perspectivenwhen recording what changed but makes it difficult for clients downstreamnto reason about changes that are not tracked in source control.nnThis diff adds a concept of `uncleanPaths` to the journal; these are pathsnthat we think are/were different from the hashes in the journal entry.nnSince JournalDelta needs to be able to be merged I've opted for a simplenlist of the paths that have a differing status; I'm not including all ofnthe various dirstate states for this because it is not obvious how tonreconcile the state across successive snapshot change events.nnThe `uncleanPaths` set is populated with an initial set of different paths asnthe first part of the checkout call (prior to changing the hash), and then isnupdated after the hash has changed to capture any additional differences.nnCare needs to be taken to avoid recursively attempting to grab the parents locknso I'm replicating just a little bit of the state management glue in then`performDiff` method.nnThe Journal was not setting the from/to snapshot hashes when merging deltas.nThis manifested in the watchman integration tests; we'd see the null revisionnas the `from` and the `to` revision held the `from` revision(!).nnOn the watchman side we need to ask source control to expand the list ofnfiles that changed when the from/to hashes are different; I've added codento handle this.  This doesn't do anything smart in the case that thensource control aware queries are in use.  We'll look at that in a followingndiff as it isn't strictly eden specific.nn`watchman clock` was returning a basically empty clock unconditionally,nwhich meant that most since queries would report everything since the startnof time.  This is most likely contributing to poor Buck performance, althoughnI have not investigated the performance aspect of this.  It manifested itselfnin the watchman integration tests.nnReviewed By: simpkinsnnDifferential Revision: D5896494nnfbshipit-source-id: a88be6448862781a1d8f5e15285ca07b4240593an",257.0,38.0,"facebook/TARGETS,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/test_eden_journal.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",8.0,4.0,5.0,2.5061350528750275,20.0,157.75,62.0,108.89525318287035,5474.5,1.0086102425362442,268.0,Perfective,False,True,"[""a3b90744718153b4e540e1340f3d9533bd1c410a""]"
2c6765ea89a8c4c6a8fe4b7d17d64cbb8b5f1a8c,c967fd07161e6eba9a78a60be70c81056d45c461,Wez Furlong,wez@fb.com,Tue Oct 17 08:42:29 2017 -0700,1508254949,add apfs to list of fstypesSummary:nOur newer CI machines are running on APFS and this testnis failing there.  Add the new fstype to the list so that it willnstart passing again.nnReviewed By: bolinfestnnDifferential Revision: D6074989nnfbshipit-source-id: 8d0d71ea5137d7a0708dd14eab099154bdcdda3dn,1.0,0.0,"tests/integration/test_fstype.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,53.0,1.0,318.64115740740743,5479.0,1.003138326536774,590.0,Feature Addition,False,,
c967fd07161e6eba9a78a60be70c81056d45c461,c733c5b15fed4aa573dc3a966413c36f9066e931,Eamonn Kent,ekent@fb.com,Tue Oct 17 12:37:06 2017 -0700,1508269026,watchman-replicate-subscrption output state-enter/leave pdusSummary:nAdd an option to watchman-replicate-subscription to print out the state-enternand state-leave notifications. These are useful for integration and debuggingnpurposes.nnSample output:nP58379192nnReviewed By: weznnDifferential Revision: D5986533nnfbshipit-source-id: 4fe016937eb951e60dc828b7b77a84c0157d0618n,46.0,0.0,"python/bin/watchman-replicate-subscription,CAS_DELIMITER,website/_docs/watchman-replicate-subscription.md,CAS_DELIMITER",2.0,2.0,2.0,0.4959690720618337,19.0,187.5,2.0,26.87520833333333,90.5,1.02790676041271,9.0,None,False,,
c733c5b15fed4aa573dc3a966413c36f9066e931,e33129ea5c655c2f27f654e5cd3596715e751913,Eamonn Kent,ekent@fb.com,Tue Oct 17 13:35:03 2017 -0700,1508272503,"report merge base change when result set is emptySummary:nIn SCM aware mode, file changes and merge base changes are reportednto subscribers (https://facebook.github.io/watchman/docs/scm-query.html).nAn optimization is to suppress subscription PDUs when the file list is empty.nThis optimization needed to be further restricted to scenarios where thenmerge base has not changed (and the file list is empty).nnReviewed By: weznnDifferential Revision: D6077350nnfbshipit-source-id: a69f874f52bd275a083af91c514ff2477cca2f85n",35.0,1.0,"cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,19.0,416.5,63.0,33.18457175925925,92.5,1.0769635566322149,15.0,Non Functional,False,True,"[""16a545d2e9ffdc75c1be7101e4384a99b0190110""]"
e33129ea5c655c2f27f654e5cd3596715e751913,4096124277fe94b63f35a447bb86cced68141799,Marc Celani,marccelani@fb.com,Tue Oct 17 14:48:19 2017 -0700,1508276899,"Small dependency cleanupSummary: Cpp2ConnectionContext only needs TAsyncTransport, not TAsyncSocket or TAsyncSSLSocket.nnReviewed By: yfeldblumnnDifferential Revision: D6029635nnfbshipit-source-id: c1cc9a20f1862ec62e98943abdba53a5c7c7ac64n",1.0,0.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,757.0,25.0,0.6847337962962963,0.0,0.0,0.0,Perfective,False,,
4096124277fe94b63f35a447bb86cced68141799,623188532fa6829b1f23434b6a4813e872860daa,Eamonn Kent,ekent@fb.com,Tue Oct 17 15:43:14 2017 -0700,1508280194,"fix debug scripts handling of no fields in a watchman subscriptionSummary:nFix default fields to be watchman default fields. There are existingnsubscriptions at Facebook that have no fields specified - so, let's handle themnproperly!  Add 'state-only' option to limit output to state-enter andnstate-leave PDUs.nnReviewed By: weznnDifferential Revision: D6025649nnfbshipit-source-id: a8495883b3e2acf41ca88fbb8977c3e767edef2fn",15.0,3.0,"python/bin/watchman-replicate-subscription,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,320.0,2.0,0.12925925925925927,94.0,8.736389684813753,15.0,Corrective,True,,
623188532fa6829b1f23434b6a4813e872860daa,37ea85549c7075370a14370e33f1a4bb7f07eca4,Eamonn Kent,ekent@fb.com,Wed Oct 18 10:26:40 2017 -0700,1508347600,configurable connection timeout to watchman-replicate-subscriptionSummary:nThe watchman-replicate-subscription command can timeout if watchman isnoccupied. This is because the default connection time-out for pywatchmannclient is not large-enough. This change adds a command line option allowingnthe user to specify a connection timeout (the default value for this script isn30 seconds).nnReviewed By: weznnDifferential Revision: D6083371nnfbshipit-source-id: a22b61d0d3c055725f215577c1c0a7fd3eea658bn,6.0,1.0,"python/bin/watchman-replicate-subscription,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,332.0,3.0,0.780162037037037,95.0,2.281785004302288,16.0,None,False,,
37ea85549c7075370a14370e33f1a4bb7f07eca4,d2dba81e11176e54a2a786391fc2e7f2858583b8,Eamonn Kent,ekent@fb.com,Wed Oct 18 10:28:17 2017 -0700,1508347697,watchman-wait should have configurable connection timeoutSummary: The watchman-wait script often times out when watchman is occupied.  This is because the default connection time-out for pywatchman client is not large-enough. This change adds a command line option allowing the user to specify a connection timeout (the default value for this script is 30 seconds).nnReviewed By: weznnDifferential Revision: D6082897nnfbshipit-source-id: e7ce277c2bfeb04dd817a541d25a484dc96cd702n,8.0,2.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,219.0,7.0,47.78418981481482,96.0,1.0209274239842812,17.0,None,False,,
d2dba81e11176e54a2a786391fc2e7f2858583b8,963098dbd22bb44fde5f6a38ba6a4a2ab27e26a8,Eamonn Kent,ekent@fb.com,Wed Oct 18 14:02:29 2017 -0700,1508360549,"add configurable connection timeout to watchman-makeSummary:nAllow users to specify the watchman client timeout. It was previouslynhard-coded. The default is 100 seconds, which should be large enough tonprevent the connection from timing out - max(p75 crawl mac, p75 crawl dev).nnP58451967nnReviewed By: weznnDifferential Revision: D6089094nnfbshipit-source-id: 16eb35acef74b3bd1b80039373ace4f9a8659912n",6.0,2.0,"python/bin/watchman-make,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,252.0,4.0,47.94359953703704,97.0,1.020857841498269,18.0,Feature Addition,False,,
963098dbd22bb44fde5f6a38ba6a4a2ab27e26a8,713efe401e41605159645d5d788c274993afda30,Eamonn Kent,ekent@fb.com,Thu Oct 19 13:14:13 2017 -0700,1508444053,Fix a potential race conditionSummary:nThere is a race condition in the watchman's info cache implementation.nIt could manifest in some stale data. We now check if the dirState changednwhile we were in the process of making the system call.nnReviewed By: weznnDifferential Revision: D6081045nnfbshipit-source-id: 5be589293555d2a418c50b9c1f610b0a253f1fdan,18.0,4.0,"scm/Mercurial.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,205.0,11.0,2.6193865740740745,98.0,1.381768773612001,0.0,Corrective,True,True,"[""ffc02222f3805b692b1a4932bdab56ec1550cfb2""]"
713efe401e41605159645d5d788c274993afda30,4be20cb0f36263661d5a35c5fae38a506f9ad8de,Eamonn Kent,ekent@fb.com,Thu Oct 19 14:51:22 2017 -0700,1508449882,"Backed out changeset ac568531e56bSummary:nWe would like to have the syncToNow done as part of state-enter andnstate-leave. In this way, scm clients will only get notifications ofnchanges after the source code operation completed.nnReviewed By: weznnDifferential Revision: D6103127nnfbshipit-source-id: f1b1df380f2fa7b5b7efca89db3ad068b12b9f3dn",10.0,0.0,"cmds/state.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,207.0,29.0,9.254502314814816,99.0,1.1080555135200711,24.0,None,False,,
4be20cb0f36263661d5a35c5fae38a506f9ad8de,aedd08b6a147b012d3ccd0edbb8a3e3d5b5b0943,James Sedgwick,jsedgwick@fb.com,Sat Oct 21 15:28:58 2017 -0700,1508624938,"move InlineExecutor, ManualExecutor, and GlobalThreadPoolList toSummary:nThat's everything that's going in executors/ except for Executor.hnitself, which is included in hphp so will have to waitnnReviewed By: mzleennDifferential Revision: D6100274nnfbshipit-source-id: 6be37892b1ad7f46828acfa6b2951e51b157a86an",1.0,1.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,395.0,4.0,151.24064814814815,0.0,0.0,0.0,None,False,,
aedd08b6a147b012d3ccd0edbb8a3e3d5b5b0943,16a545d2e9ffdc75c1be7101e4384a99b0190110,Eamonn Kent,ekent@fb.com,Tue Oct 24 20:56:22 2017 -0700,1508903782,Fix watchman's failing scm aware testsSummary:nSCM aware tests were constructed to check that the file list was empty for scmnaware subscriptions. The file lists were empty because the user did updatesnalong the master branch. The problem appears to be related to the fact that thenstate-leave command (which would be run at the conclusion of a checkout) doesnnot do a syncToNow(). This creates a race condition in the test's subsequentncall to flush-subscriptions (which does not defer notifications).nnReviewed By: weznnDifferential Revision: D6101194nnfbshipit-source-id: 7692b05b97f69a530cfb11541daad4b80c4d9973n,17.0,14.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,305.0,9.0,7.306469907407408,100.0,1.1368649994693314,16.0,Corrective,True,,
16a545d2e9ffdc75c1be7101e4384a99b0190110,7854fa661b4a4466a5896a189719cda32f506e90,Wez Furlong,wez@fb.com,Thu Oct 26 16:59:09 2017 -0700,1509062349,don't fallback to inotify when eden fails to respondSummary:nbolinfest runs into a situation where we've wound up usingnthe inotify watcher inside eden and that's pretty awful becauseninotify is inherently `O(repo)`.nnThis diff causes any errors that manifest after we have resolvednthe root of the eden repo to be terminal wrt. resolver a watchernimplementation.nnReviewed By: eamonnkentnnDifferential Revision: D6143177nnfbshipit-source-id: bbfc559679f175bc592832ae621150d9bbadf15dn,54.0,13.0,"tests/integration/test_eden_broken_mount.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9998393017810484,20.0,379.0,26.0,4.5454282407407405,5480.5,0.555000318288879,269.0,Corrective,True,True,"[""0f31681c7533869ca8dd74dcecc162b894efc091""]"
7854fa661b4a4466a5896a189719cda32f506e90,95ac0c355b8b15469e72ef2a72f9eb379eda8448,Wez Furlong,wez@fb.com,Fri Oct 27 08:44:19 2017 -0700,1509119059,"tidy up journal subscribers on unmountSummary:nWe have a couple of issues with the watchman/eden integration:nn1. If you win the race, you can cause a segfault during shutdownnby changing files during unmount.  This causes the journal updatingncode to trigger a send to the client, but the associated eventBasenhas already been destroyed.nn2. We don't proactively send any signal to the subscriber (in practice: watchman)nwhen we unmount.  Watchman detects the eden shutdown by noticing that itsnsocket has closed but has no way to detect an unmount.nnThis diff tries to connect the unmount with the set of subscribers and triesnto cause the thrift socket to close out.nnReviewed By: bolinfestnnDifferential Revision: D6162717nnfbshipit-source-id: 42d4a005089cd9cddf204997b1643570488f04c3n",17.0,0.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/test_eden_journal.py,CAS_DELIMITER",2.0,1.0,1.0,0.5225593745369408,20.0,94.5,6.0,10.431956018518518,5482.5,1.0718944748874153,593.0,None,False,,
95ac0c355b8b15469e72ef2a72f9eb379eda8448,fa486f6d1f9f7cf6c5907838e306fe7f57c48ea0,Mick Killianey,mkillianey@fb.com,Fri Nov 3 18:01:29 2017 -0700,1509757289,Autoformat Java client's BUCK file prior to making changes.Summary:nStrictly fixing linter issues in this commit before making contentnchanges in the next one.nnReviewed By: JonShemitznnDifferential Revision: D6221424nnfbshipit-source-id: a0a7da02a88e9dfde199b01e82af28bd45d9df1an,41.0,37.0,"java/BUCK,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,45.0,5.0,192.44878472222226,8.0,1.005196187658152,8.0,None,False,,
fa486f6d1f9f7cf6c5907838e306fe7f57c48ea0,5d15b398dffa9861ce884b4637f73920d61b2850,Mick Killianey,mkillianey@fb.com,Fri Nov 3 18:01:31 2017 -0700,1509757291,Add watchman-lib.src target for Java srcSummary: Introduce `watchman-lib.src` BUCK target in the Java client to package the sources.nnReviewed By: asp2inspnnDifferential Revision: D6220107nnfbshipit-source-id: 74869cf0faec9dbf52e5b30ff99e37de5a3c0e04n,14.0,1.0,"java/BUCK,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,49.0,6.0,2.314814814814815e-05,9.0,43201.0,9.0,Feature Addition,False,,
5d15b398dffa9861ce884b4637f73920d61b2850,67d25c560055e6915ea45c5dbc6f7379d20d17de,Eamonn Kent,ekent@fb.com,Mon Nov 6 12:28:05 2017 -0800,1510000085,"Fix failing tests by waiting for state assertionsSummary:nMany of watchman's tests flush subscriptions in order to force notificationsnto this client. Flush subscriptions ignores any asserted states and thus,ncan cause results to be non-deterministic. Flush subscriptions introducesnthe possibility that a subscription's query is run concurrently with ansource code operation.nnReviewed By: weznnDifferential Revision: D6243050nnfbshipit-source-id: 806e2ea15ff5182e7aa109b7be6fdec1a9a83c8bn",17.0,0.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,308.0,10.0,12.688692129629633,101.0,1.0788103288962996,17.0,Corrective,True,,
67d25c560055e6915ea45c5dbc6f7379d20d17de,c651e59c99ccd63426bf5c00f64d270955b16d53,Eamonn Kent,ekent@fb.com,Mon Nov 6 12:52:59 2017 -0800,1510001579,"Update the default deferal states for scm aware queriesSummary:nFor SCM aware queries, watchman waits for SCM events to dispatchnsubscriptions. Additionally, if the subscription does not specifynany SCM states to derer or drop on, watchman will provide reasonablendefaults. This change adds additional states for watchman to defernon. These additional states are asserted by the mercurial fsmonitornextension.nnHere is the corresponding mercurial change:nhttps://phab.mercurial-scm.org/D989nnReviewed By: weznnDifferential Revision: D6149210nnfbshipit-source-id: 91b4b2146e6dd0112614f12a7a55adfc8d43e0c7n",87.0,1.0,"MapUtil.h,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,tests/MapUtilTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER",4.0,3.0,3.0,1.5183577724796748,20.0,194.25,73.0,16.96817997685185,103.5,1.0234571231337728,19.0,None,False,,
c651e59c99ccd63426bf5c00f64d270955b16d53,50982500ee5a156ea9b20afad83de18b36fa3461,Eamonn Kent,ekent@fb.com,Mon Nov 6 14:43:42 2017 -0800,1510008222,Add utility method and testsSummary:nThis commit provides a utility template method to check if a map contains anynof a list of keys. The keys are provided using start/end pointers (iterator).nIncluded are a number of test cases to exercise the new code and validate thenimplementation.nnThere is a need for these changes (in stacked commits).nnReviewed By: weznnDifferential Revision: D6203377nnfbshipit-source-id: 9afe0f0cf8a4d4a82e94009c53a500a67a159976n,77.0,1.0,"MapUtil.h,CAS_DELIMITER,tests/MapUtilTest.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.5869185834047994,20.0,50.0,3.0,0.07688657407407408,106.5,10.754628932711123,20.0,Feature Addition,False,,
50982500ee5a156ea9b20afad83de18b36fa3461,a08bd2a8cb39db8fd158b44dae574ae05b9c7ad6,Eamonn Kent,ekent@fb.com,Tue Nov 7 18:26:00 2017 -0800,1510107960,Add command debug-get-asserted-statesSummary:nAdd support for the command debug-get-asserted states.nThis will be useful for debugging other commands.nnP58573357nnReviewed By: weznnDifferential Revision: D6224957nnfbshipit-source-id: dd7eb81ff61bab033f3981fb3a53888aa063d736n,42.0,0.0,"cmds/debug.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,2.0,2.0,0.9587118829771318,19.0,428.5,37.0,63.125625,108.5,1.0133351737262577,21.0,Corrective,True,,
a08bd2a8cb39db8fd158b44dae574ae05b9c7ad6,26a35b9f1086b5650a9f76ed4660bdfd73c15056,Eamonn Kent,ekent@fb.com,Tue Nov 7 22:06:15 2017 -0800,1510121175,"Defer sending subscription results when state changes observedSummary:nTODO: I will add a new cli command and update tests prior to submittingnthis change.nnIn SCM aware mode, subscription queries may be deferred, depending onnasserted states. This check is done before the query is run. Testing hasnrevealed scenarios where the subscription queries start running and beforenthey complete, there is a SCM operation that changes the merge base.nIn these scenarios, watchman may over-report file changes. We cannprevent this over-reporting by determining if there were any state-changenoperations interleaved with the subscription's query.nnThis change adds a state change counter to the root and increments itnwhen state changes occur. The state change counter is checked beforenand after an scm state change query is run. Thus, we can determine ifnthere state changes occurred concurrent with query execution. In thisncase, we discard the query results and restore the subscription staten(to the state before the query ran).nnReviewed By: weznnDifferential Revision: D6165962nnfbshipit-source-id: 02cb80e2cae51612cb3f91aafa2e33af10282822n",35.0,4.0,"cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,3.0,3.0,1.981098209594437,20.0,295.8333333333333,327.0,35.330295138888886,112.5,1.0212803940847484,24.0,None,False,,
26a35b9f1086b5650a9f76ed4660bdfd73c15056,c1ebfeb46b4461a0871997f54ce25585f5eabb87,Eamonn Kent,ekent@fb.com,Tue Nov 7 22:55:49 2017 -0800,1510124149,Code clarity tidy-upSummary: Replace boolean flag for method with enum to increase code clarity.nnReviewed By: weznnDifferential Revision: D6257745nnfbshipit-source-id: 00587b41b236798e36ad685059098f6cab00d6ebn,11.0,6.0,"cmds/subscribe.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",2.0,2.0,2.0,0.7871265862012691,20.0,350.0,86.0,0.0344212962962963,116.5,22.78883658372562,25.0,None,False,,
c1ebfeb46b4461a0871997f54ce25585f5eabb87,08902c3a9d26c4b3f4d65338a0115738842f85b2,Alexander Dvinsky,advinsky@fb.com,Mon Nov 13 09:39:04 2017 -0800,1510594744,Make Watchman message executor threads daemonSummary:nThe threads started by the `WatchmanConnection` are preventing an app from exiting and an explicit call to a `WatchmanClient.close` is required. However this can easily be avoided by marking these threads as daemon.nnThis is an upstream port of a change in Nuclide at D6286589nnReviewed By: mkillianeynnDifferential Revision: D6287273nnfbshipit-source-id: 08b6a776978137bfbacc51fb18ba8bff4e4388b5n,2.0,0.0,"java/src/com/facebook/watchman/WatchmanConnection.java,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,309.0,3.0,250.93484953703705,0.0,0.0,0.0,None,False,,
08902c3a9d26c4b3f4d65338a0115738842f85b2,76501169cc1918eb799a4f585a7bd374ec79e851,Christopher Dykes,cdykes@fb.com,Sun Nov 26 02:10:42 2017 -0800,1511691042,Shift folly:optional out of folly:baseSummary:n```nfoundation/dependency_management/ensure-explicit-dependencies.sh folly:optionaln```nnReviewed By: yfeldblumnnDifferential Revision: D6411007nnfbshipit-source-id: 57dc0ab0ba21fc1a14e0132216ec35533472441fn,3.0,0.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,18.0,173.5,24.0,88.72966435185184,3.5,1.0085396900688834,1.0,None,False,,
76501169cc1918eb799a4f585a7bd374ec79e851,0db38b4c5fadf3e0b857d7d9e135463f4ce124ac,Christopher Dykes,cdykes@fb.com,Sun Nov 26 16:08:23 2017 -0800,1511741303,Shift folly:string out of folly:baseSummary:n```nfoundation/dependency_management/ensure-explicit-dependencies.sh folly:stringn```nnReviewed By: yfeldblumnnDifferential Revision: D6411357nnfbshipit-source-id: 97afac97e8c1bfb15af5a53fadfb8d6a098a0d37n,1.0,0.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,318.0,22.0,0.5817245370370371,5.0,2.719026680726607,1.0,None,False,,
0db38b4c5fadf3e0b857d7d9e135463f4ce124ac,ea5fd49337515f15ab86964298cc46d7053e42c5,Michael Lee,mzlee@fb.com,Tue Nov 28 14:58:40 2017 -0800,1511909920,"Remove os_getenv and use the shared `py_sdk` module insteadSummary: Use the same one everywherennReviewed By: zertosh, Orvid, ttsugriynnDifferential Revision: D6427338nnfbshipit-source-id: faa739e58ada9dc53f2971174c822c95796269f7n",2.0,2.0,"tests/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,194.0,17.0,22.087280092592593,5.0,1.045274927279768,0.0,None,False,,
ea5fd49337515f15ab86964298cc46d7053e42c5,689eba70d30de1c1351dfa52868097679f6f490a,Wez Furlong,wez@fb.com,Tue Nov 28 19:29:11 2017 -0800,1511926151,"avoid test breakage by unmounting eden at the endSummary:nThis is in the shouldn't be a problem category.  It appearsnthat eden gets blocked waiting for thrift worker threads to shutdownnwhen we ask it to shutdown in this test environment.  This manifestsnas the `eden shutdown` command resorting to kill and bubbling up anfailure in the test cleanup.nnInspecting the eden process with gdb shows that none of those threads arenstill around.  Even weirder, just attaching and detaching gdb seems tonknock the process out of its sleep state and causes the test to pass.nnIn the interest of reducing noise for D6310325 we can workaround thisnhere by explicitly unmounting before we get to the cleanup.nnI don't like this very much, but I think it's a reasonable thing to do.nnSeparately, I think we should run down the root cause of this apparentndeadlock on shutdown as I think it is the root cause of some of thenproblem reports in our dogfooding group.nnReviewed By: bolinfestnnDifferential Revision: D6343496nnfbshipit-source-id: 6d4e8ce0d83b1b2db998518bc592c14435f48bebn",10.0,0.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,129.0,6.0,32.48949074074073,5484.0,1.0307791835821556,594.0,Preventative,False,True,"[""8a954a42206e34fb1bd42aef432747b1de10c5f8""]"
689eba70d30de1c1351dfa52868097679f6f490a,333104dfbac2544d6683ef6853f2b15248f33ebe,Wez Furlong,wez@fb.com,Tue Nov 28 19:29:13 2017 -0800,1511926153,"cache getFilesChangedBetweenCommits when called for edenSummary:nBuck currently performs a watchman query against each of thenconfigured cells sequentially.  When invoking buck after a commit or amend inneden, watchman has to expand the list of changed files by running a mercurialncommand.  This command can take several seconds to run, multiplied by the numbernof configured cells.nnThis diff adds a cache so that we pay that same status cost just once.nnFollow on diffs will work on eagerly computing this difference so that thenlatency for buck is reduced.nnReviewed By: eamonnkentnnDifferential Revision: D6299488nnfbshipit-source-id: 0baa2368eeea958e4c82946317caf2e26c5bca08n",59.0,5.0,"scm/Mercurial.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.4980278865344765,20.0,492.0,39.0,36.72398148148149,5485.5,1.019213847277246,270.0,None,False,True,"[""4966eb79c9cabbdab8ee4529a68b3024075f923b""]"
333104dfbac2544d6683ef6853f2b15248f33ebe,e457d2b3d9256b362ee21b050045c881bf4dc9bb,Wez Furlong,wez@fb.com,Tue Nov 28 19:29:17 2017 -0800,1511926157,add a NOP wrapper around SCM for edenSummary: A follow on diff will replace the implementation of one of the methods; this is just arranging the chairs to make this easier.nnReviewed By: eamonnkentnnDifferential Revision: D6305843nnfbshipit-source-id: f43e8befaaf9694628c0279d42a297a77310249fn,34.0,2.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,818.0,28.0,4.629629629629629e-05,5487.0,21601.0,271.0,Feature Addition,False,,
e457d2b3d9256b362ee21b050045c881bf4dc9bb,2f163e2651c694d8be6cc997bea07169b53d5f0a,Wez Furlong,wez@fb.com,Tue Nov 28 19:29:19 2017 -0800,1511926159,"use eden thrift endpoint for getFilesChangedBetweenCommitsSummary:nWhen we need to understand the set of changed files, kick offnconcurrent queries against eden and mercurial.nnIn many cases eden will complete in significantly less time than mercurial, butnin some pathological cases (eg: `hg pull ; hg co master ; buck build` across anbit distance), eden can be significantly slower than mercurial.nnWe discussed some ways to improve things here:nn* change the watchman SCM abstraction so that we can give eden some contextual paths when it performs the status queryn* change the eden storage layering so that we can avoid writing trees that we already have in tree manifest formnnTo compensate for this in the short term we race the two methods and take thenwinner.nnReviewed By: eamonnkentnnDifferential Revision: D6305845nnfbshipit-source-id: 6f7d271909cf7073011015fd8422ab671325a45dn",99.0,1.0,"Future.h,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9927744539878084,20.0,655.0,33.0,97.18138888888888,5488.5,1.005145018356818,272.0,None,False,,
2f163e2651c694d8be6cc997bea07169b53d5f0a,e14fdc2c34653097e38a5e17be2b40d664476404,Jacob Bower,jbower@fb.com,Wed Nov 29 12:51:33 2017 -0800,1511988693,Add flushing for subscriptionsSummary: Add a dedicated function for flushing subscriptions as this needs the internal subscription name. This also has the convienient side effect of an API which forces flush requests to always be sent over the correct client socket.nnReviewed By: markw65nnDifferential Revision: D6388381nnfbshipit-source-id: c4c99c80083d4eeab6a5b30481b1af79451015fdn,34.0,0.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanClient.h,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.5798634010685344,17.0,159.66666666666666,5.0,227.12221064814813,28.0,1.0031183979186789,4.0,Feature Addition,False,,
e14fdc2c34653097e38a5e17be2b40d664476404,45177cc2ee4f8e6314bec2915484b98b06f171f3,Andrew Gallagher,andrewjcg@fb.com,Wed Nov 29 17:30:43 2017 -0800,1512005443,codemod: add `undefined_symbols` to rules with improper depsReviewed By: yfeldblumnnDifferential Revision: D6427879nnfbshipit-source-id: b91de83b287e999167ca32968f710f1e4fcb4ac8n,6.0,0.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,319.0,23.0,3.0571759259259266,13.0,1.327099265541001,2.0,None,False,,
45177cc2ee4f8e6314bec2915484b98b06f171f3,29bd569ab1cd6714d4745fe9710cf35ae4de70b3,Wez Furlong,wez@fb.com,Thu Nov 30 08:38:33 2017 -0800,1512059913,"add win32_rdcw_buf_size tunable, change default sizeSummary:nlots of details in the linked github issues.  The TL;DR is that making the buffer smaller results in better performance.nnI've also bumped the version number to `4.9.1` per ikostia as that makes it easier to see whether we've deployed this change to windows.nnCloses https://github.com/facebook/watchman/issues/548nCloses https://github.com/facebook/watchman/pull/549nnReviewed By: eamonnkentnnDifferential Revision: D6422497nnPulled By: weznnfbshipit-source-id: d8331c6b248993b5e39ad4c9d5919e97d70b626an",5.0,4.0,"configure.ac,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER",3.0,3.0,3.0,1.5304930567574826,18.0,309.3333333333333,165.0,251.77253472222213,5491.0,1.0022937145837558,246.0,Feature Addition,False,,
29bd569ab1cd6714d4745fe9710cf35ae4de70b3,e9108894128bf523db9a242e8e9af7788ee4e043,Andres Suarez,asuarez@fb.com,Thu Nov 30 15:37:17 2017 -0800,1512085037,Run buildifier over all TARGETS filesReviewed By: mzleennDifferential Revision: D6448174nnfbshipit-source-id: e16086ee18493a4896fffb55ca7a809f9deb01aan,123.0,125.0,"cppclient/TARGETS,CAS_DELIMITER,java/third-party/guava/BUCK,CAS_DELIMITER,java/third-party/hamcrest/BUCK,CAS_DELIMITER,java/third-party/immutables/BUCK,CAS_DELIMITER,java/third-party/jna/BUCK,CAS_DELIMITER,java/third-party/jsr-305/BUCK,CAS_DELIMITER,java/third-party/junit/BUCK,CAS_DELIMITER,java/third-party/mockito/BUCK,CAS_DELIMITER,java/third-party/nuprocess/BUCK,CAS_DELIMITER,java/third-party/objenesis/BUCK,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER",11.0,3.0,11.0,3.0690775704055158,21.0,22.54545454545455,20.0,383.7002304292929,27.0,1.0204831265807233,8.0,None,False,,
e9108894128bf523db9a242e8e9af7788ee4e043,01003fe6f36e5b84c9221f217f598723cac1eb33,Eamonn Kent,ekent@fb.com,Fri Dec 1 12:17:04 2017 -0800,1512159424,subscription default defer behavior changeSummary:nThe mercurial fsmonitor extension no longer issues the 'hg.wc_change'nnotification. This change removes the 'hg.wc_change' state  from watchman'sndefault defer list. The default defer list is used for subscriptions where the userndoes not provide any drop/defer behavior.nnReviewed By: weznnDifferential Revision: D6458558nnfbshipit-source-id: 6ed4168e5bb6221a55688e971034d18e36c85b43n,0.0,2.0,"cmds/subscribe.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,587.0,59.0,23.55642361111111,118.0,1.042451265799462,30.0,None,False,,
01003fe6f36e5b84c9221f217f598723cac1eb33,5cd39b6b10596bc23af169428b87313cfb350d14,Eamonn Kent,ekent@fb.com,Tue Dec 5 13:03:35 2017 -0800,1512507815,"fix population of query context in benchmarkSummary:nWhen watchman queries are run in benchmark, they may be running the wrongntype of generator. The generator is chosen based on fields in the queryncontext. I observed the allFilesGenerator being run instead of thentimeGenerator.nnReviewed By: weznnDifferential Revision: D6487614nnfbshipit-source-id: b4a0eaa0e352f89fc7b1748e462c0a927673dde0n",2.0,1.0,"query/eval.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,352.0,59.0,27.62314814814815,119.0,1.036201521804713,7.0,Corrective,True,,
5cd39b6b10596bc23af169428b87313cfb350d14,2f9359ffb1a271f316ab335293a55ded1dac1359,Flarnie Marchan,flarnie@fb.com,Wed Dec 6 19:13:37 2017 -0800,1512616417,"Add Code of ConductSummary:n**Edit:** We updated the existing Contributing page on the docs - see below~n<img width=1371 alt=screen shot 2017-12-03 at 5 44 37 pm src=https://user-images.githubusercontent.com/1114467/33532828-d4661628-d851-11e7-9ba3-9c376e001a98.png>n ---nnIn the past Facebook didn't promote including a Code of Conduct when creating new projects, and many projects skipped this important document. Let's fix it. :)nn**why make this change?:**nFacebook Open Source provides a Code of Conduct statement for allnprojects to follow, to promote a welcoming and safe open source community.nnExposing the COC via a separate markdown file is a standard beingnpromoted by Github via the Community Profile in order to meet their OpennSource Guide's recommended community standards.nnAs you can see, adding this file will improve [the watchman community profile](https://github.com/facebook/watchman/community)nchecklist and increase the visibility of our COC.nn**test plan:**nViewing it on my branch -n<img width=1011 alt=screen shot 2017-12-03 at 4 25 34 pm src=https://user-images.githubusercontent.com/1114467/33531781-dc4e1b98-d846-11e7-8e6d-5ed9e02f25bb.png>nn**issue:**ninternal task t23481323nCloses https://github.com/facebook/watchman/pull/555nnReviewed By: weznnDifferential Revision: D6487028nnPulled By: eamonnkentnnfbshipit-source-id: 4433aa782900008da8a5c973e8e0231987c11fa6n",11.0,0.0,"CODE_OF_CONDUCT.md,CAS_DELIMITER,README.markdown,CAS_DELIMITER,website/_docs/contributing.markdown,CAS_DELIMITER",3.0,2.0,2.0,1.5726236638951638,18.0,35.666666666666664,65.0,386.85996913580254,1.0,0.6673449807787147,1.0,Feature Addition,False,,
2f9359ffb1a271f316ab335293a55ded1dac1359,84895fdc9040d035113fb2cd4313b1ab20ee44c1,Jim Meyering,meyering@fb.com,Thu Dec 7 14:31:49 2017 -0800,1512685909,watchman/thirdparty/jansson/value.cpp: fix regexp-exposed copy/paste bugSummary:nNo one intends to do this:nn  if (!json_is_object(src) || !json_is_object(src))nnThis was the intent:nn  if (!json_is_object(src) || !json_is_object(target))nnReviewed By: weznnDifferential Revision: D6509585nnfbshipit-source-id: b1f9c1cb7f68c4ad05ad35b17f9cd9583f4b9737n,1.0,1.0,"thirdparty/jansson/value.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,16.0,823.0,24.0,282.9472337962963,4.0,1.0035342278720418,1.0,None,False,,
84895fdc9040d035113fb2cd4313b1ab20ee44c1,b0c7a7d954b585799b7e2db7916e651043298e8a,Christopher Dykes,cdykes@fb.com,Sat Dec 9 15:18:39 2017 -0800,1512861519,Shift folly:json out of folly:follySummary:n```nfoundation/dependency_management/ensure-explicit-dependencies.sh folly:dynamicnfoundation/dependency_management/ensure-explicit-dependencies.sh folly:jsonn```nnReviewed By: yfeldblumnnDifferential Revision: D6417955nnfbshipit-source-id: 772a84cb08fbfc46ff9003049bb3376d60ea21c3n,7.0,1.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",3.0,3.0,3.0,1.061278124459133,21.0,144.0,48.0,40.6729436728395,7.0,1.0540147188404294,1.0,None,False,,
b0c7a7d954b585799b7e2db7916e651043298e8a,0eb4c8455501f343d3e493c6b4918b52c967fad9,Christopher Dykes,cdykes@fb.com,Sat Dec 9 17:18:25 2017 -0800,1512868705,"Shift folly:file, folly:exception_wrapper and folly/synchronization:baton out of folly:follySummary:n```nfoundation/dependency_management/ensure-explicit-deps.sh folly:filenfoundation/dependency_management/ensure-explicit-deps.sh folly:exception_wrappernfoundation/dependency_management/ensure-explicit-deps.sh folly/synchronization:batonn```nnReviewed By: yfeldblumnnDifferential Revision: D6529590nnfbshipit-source-id: a08f8bdd01eda3fb28410af55c4dec6b0c5f9399n",3.0,0.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,21.0,181.0,31.0,0.0831712962962963,9.5,10.017534094071806,3.0,None,False,,
0eb4c8455501f343d3e493c6b4918b52c967fad9,8c27d615b2398731b70d1596faed2cb0ec4ee200,Christopher Dykes,cdykes@fb.com,Sat Dec 9 22:04:33 2017 -0800,1512885873,"Shift folly:executor, folly/lang:bits, folly:scope_guard and folly:rw_spin_lock out of folly:baseSummary:n```nfoundation/depenendency_management/ensure-explicit-dependencies.sh folly:executornfoundation/depenendency_management/ensure-explicit-dependencies.sh folly:bitsnfoundation/depenendency_management/ensure-explicit-dependencies.sh folly/lang:bitsnfoundation/depenendency_management/ensure-explicit-dependencies.sh folly:scope_guardnfoundation/depenendency_management/ensure-explicit-dependencies.sh folly:rw_spin_lockn```nnReviewed By: yfeldblumnnDifferential Revision: D6529842nnfbshipit-source-id: fc13ef398402a0323ce4f6cf61d12b30c196ce43n",3.0,0.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,21.0,182.5,33.0,0.1987037037037037,11.5,4.7744641192917046,4.0,None,False,,
8c27d615b2398731b70d1596faed2cb0ec4ee200,1edc7dbf0fb25da56f582ef08bab4dde42e65faf,Christopher Dykes,cdykes@fb.com,Sun Dec 10 15:13:53 2017 -0800,1512947633,"Shift folly:format out of folly:baseSummary: And then, there was 1, left all alone, preventing the whole thing from collapsing in on itself.nnReviewed By: yfeldblumnnDifferential Revision: D6469584nnfbshipit-source-id: 4ea1fbf97ad466bc34f2e682394d328c97e539ban",1.0,0.0,"cppclient/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,21.0,40.0,8.0,0.7148148148148148,13.0,2.3989637305699483,5.0,None,False,,
1edc7dbf0fb25da56f582ef08bab4dde42e65faf,d3a486c08c8592a7b623eb033947dd86a11ed3ff,Christopher Dykes,cdykes@fb.com,Tue Dec 12 14:58:25 2017 -0800,1513119505,"Ensure explicit dependencies on all remaining targets pulled in by folly:follySummary: This is the last of the diffs against Folly to do this. The last step will be to fix the thrift generated targets to have the correct dependencies, then manual fixups, and finally, at long last, remove the last target from folly:folly :)nnReviewed By: yfeldblumnnDifferential Revision: D6548627nnfbshipit-source-id: f6915fe27e5921c4353077d2564e947b4246f7f9n",3.0,0.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,21.0,184.5,36.0,2.3466666666666667,14.5,1.2914402681450858,6.0,None,False,,
d3a486c08c8592a7b623eb033947dd86a11ed3ff,650f39d2ae188000eda17b7d2c56d4b4f6ce984f,Ilya Klyuchnikov,ilyaklyuchnikov@fb.com,Thu Dec 14 09:04:50 2017 -0800,1513271090,make windows named pipes be always ready for clientsSummary: Buck recently started asking watchman in parallel - it results in problems with watchman on windows since there may be a small window when watchman is not ready to accept connections via named pipes. This diff fixes it.nnReviewed By: weznnDifferential Revision: D6567169nnfbshipit-source-id: 06b4dc2ecf4858508039e17d24df1c01884fcb64n,15.0,2.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,739.0,37.0,124.81888888888888,16.0,1.0080116079297117,0.0,None,False,True,"[""ddceae9b7e498286a9c131f4943abc8ef470b311""]"
650f39d2ae188000eda17b7d2c56d4b4f6ce984f,f4734741bf7597d9156245ef301196c6c7edb052,Christopher Dykes,cdykes@fb.com,Fri Dec 15 11:40:19 2017 -0800,1513366819,Ensure explicit dependency on glogSummary:n```nfoundation/dependency_management/ensure-explicit-dependencies.sh -e 'glog' glog/logging.hn```nnReviewed By: yfeldblumnnDifferential Revision: D6577184nnfbshipit-source-id: 53aec2ba7f15976c3294846e7e46543dfc65c2cfn,2.0,0.0,"cppclient/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,1.0,21.0,59.5,30.0,4.3554050925925925,16.5,1.232076668820803,2.0,None,False,,
f4734741bf7597d9156245ef301196c6c7edb052,a77fb9e7fc778b413d589caa22c55c4ad84bce64,Christopher Dykes,cdykes@fb.com,Sat Dec 16 17:05:17 2017 -0800,1513472717,"Remove the folly:base and folly:folly dependencies from targets as they do nothing nowSummary: This removes a large number of the dependencies, mostly just the ones that can be removed automatically by tooling, more need to be removed manually before the targets themselves can be removed.nnReviewed By: yfeldblumnnDifferential Revision: D6587413nnfbshipit-source-id: 910b1387163f8f815f1f789f96e92fc244c6eb05n",0.0,2.0,"cppclient/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",2.0,2.0,2.0,1.0,21.0,60.5,32.0,1.2256712962962963,18.5,1.6119095733630475,3.0,None,False,,
a77fb9e7fc778b413d589caa22c55c4ad84bce64,ddceae9b7e498286a9c131f4943abc8ef470b311,Wez Furlong,wez@fb.com,Wed Dec 20 08:42:33 2017 -0800,1513788153,"fixup shutdown handling on win32Summary:nD6567169 made an adjustment for parallel named pipe acceptsnbut this silently broke shutdown handling.  This diff fixes it bynmaking sure that we only initialize the event object that we usenfor that synchronization once, and that we set it to a manualnreset event that is not initially signalled (note that the TRUE and FALSEnparameters have been switched!)nnReviewed By: ilya-klyuchnikovnnDifferential Revision: D6606388nnfbshipit-source-id: ac4334d7b953a72c079a07493cb53f82aadf8df0n",5.0,4.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,752.0,38.0,5.984525462962963,5493.0,1.167097626401425,2632.0,Corrective,True,,
ddceae9b7e498286a9c131f4943abc8ef470b311,0968e377ca01448e5c56a7d391eddb3ed6431e20,Wez Furlong,wez@fb.com,Wed Dec 20 08:42:35 2017 -0800,1513788155,"implement pidfile locking on win32 (sort of)Summary:nI was debugging an integration issue with Nuclide onnwindows earlier today and was surprised to see that we hadnseveral instances running.  What was happening was that eachntime I'd asked watchman to terminate, each of the subscriptionsnestablished by Nuclide would get a disconnection error andnthen independently use the watchman CLI to restart the server.nnIt turns out that I'd stubbed out locking the pidfile on windowsn(with a fun comment that had me smiling rather than swearing atnmy past self), and so it is time to actually implement locking.nnUnix style pidfile locking is not easily implemented on windows as the lockingnprimitives are quite draconian; you can either exclusively lock the file fornwrite, denying all others all kinds of access, or lock it for shared accessndenying everyone (including the lock owner) from writing.  There doesn't appearnto be a way to downgrade the exclusive lock to a shared lock which means thatnwriting the pid to the file is not possible without introducing a racencondition.  The file locking APIs are also rather awkward to use, requiringna byte range and length both expressed as pairs of 32-bit values.nnI've opted to sidestep that here and use the traditional win32 singleninstance approach of using a named mutex.nnThere are some comments inline about the use of the Global namespace fornthis also.nnBecause of this difference in approach it is not possible to reportnthe process id of the process that owns the lock on windows, but thatnisn't strictly required anyway.nnReviewed By: ilya-klyuchnikovnnDifferential Revision: D6609479nnfbshipit-source-id: d9d65e82dcfdf36520d147cb86cc89c67bec1c56n",68.0,5.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,1046.0,26.0,201.68370370370369,5494.0,1.0049582588064183,2633.0,None,False,,
0968e377ca01448e5c56a7d391eddb3ed6431e20,13cf2889e735f9712378ad2c3059b06da03a1812,Philip Jameson,pjameson@fb.com,Wed Dec 20 19:58:41 2017 -0800,1513828721,"Migrate TARGETS files from @/ to //Summary:nThis is a codemod to change from using @/ to // in basic cases.n- TARGETS files with lines starting with @/ (but excluding @/third-party:n- autodeps lines in source and TARGETS files ( (dep|manual)=@/ ), excluding @/third-partyn- Targets in string macrosnnThe only thing left of the old format should be @/third-party:foo:barnndrop-conflictsnnReviewed By: ttsugriynnDifferential Revision: D6605856nnfbshipit-source-id: cbb737f9d5d6dc76cd6e972a088a2a183aea62fbn",75.0,75.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,python/bin/TARGETS,CAS_DELIMITER,python/pywatchman_aio/TARGETS,CAS_DELIMITER,python/tests/TARGETS,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,thirdparty/TARGETS,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER,thirdparty/libart/src/TARGETS,CAS_DELIMITER,thirdparty/wildmatch/TARGETS,CAS_DELIMITER",12.0,6.0,12.0,2.9392303003148617,21.0,66.75,108.0,109.98351851851852,6.5,1.0196235965245426,3.0,None,False,,
13cf2889e735f9712378ad2c3059b06da03a1812,9a2daf2205d69d3f1084b2e0f5cace1afb3937f7,Wez Furlong,wez@fb.com,Thu Dec 21 13:54:51 2017 -0800,1513893291,"enable retrying for nodejs testsSummary:nI observed that we're not kicking in with the flaky test retrynmachinery and that this is causing travis to report some buildsnas failed.nnThis diff enables retrying, and also allows for picking up `nodejs`nfrom the PATH which is how my Ubuntu 16.04 system installs the nodenbinary.nCloses https://github.com/facebook/watchman/pull/560nnDifferential Revision: D6622884nnPulled By: weznnfbshipit-source-id: 2294dc45eb6f5d0ccdb0ec4a1135396d470b70bdn",10.0,4.0,"tests/integration/case.js,CAS_DELIMITER,tests/integration/test_nodejs.py,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,16.0,72.0,2.0,420.0086168981482,5495.5,1.0019429777069375,596.0,Preventative,False,,
9a2daf2205d69d3f1084b2e0f5cace1afb3937f7,09bcc1f76a5a461de393cd37e1a8bf9696b92a1f,Wez Furlong,wez@fb.com,Thu Dec 21 23:44:07 2017 -0800,1513928647,"take a stab at fixing up integration tests on lego-linuxSummary:nThe hg configuration on our internal lego-linux boxes isnwonky and is leading to some false positive failures in this test,nso we want to skip.nnThis diff attempts to change the test to detect the broken confignand skip the test.nnReviewed By: bolinfestnnDifferential Revision: D6626326nnfbshipit-source-id: 946f165f2f81303b63aa7f330087398652f9f5dfn",7.0,1.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,325.0,11.0,45.46946759259259,5497.0,1.0219927800553994,597.0,Corrective,True,,
09bcc1f76a5a461de393cd37e1a8bf9696b92a1f,227806d70f6436280e28537ee7b3d1cfcf4f0125,Wez Furlong,wez@fb.com,Fri Jan 5 10:53:45 2018 -0800,1515178425,"Add --no-site-spawner option.Summary:nAdds a `--no-site-spawner` option that bypasses both the site-specific spawn hook and any built-in custom/platform-specific spawning functionality, using the built-in basic `daemonize()` spawner.nnIt may feel like an over-reach to have this bypass launchd, but one of the things that wez would like to move to in the future is having the launchd spawning logic become a site-specific launch hook that is configured and deployed as part of the homebrew packaging.nnThis option is not expected to be used in many use cases.nnFixes #558nCloses https://github.com/facebook/watchman/pull/559nnReviewed By: simpkinsnnDifferential Revision: D6660690nnPulled By: weznnfbshipit-source-id: 4f87390291a8509b689b7dc0a9d12cc04d95828dn",29.0,1.0,"main.cpp,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER",2.0,2.0,2.0,0.9967916319816366,18.0,580.0,29.0,249.9971875,5498.5,1.0320731121585829,598.0,Feature Addition,False,,
227806d70f6436280e28537ee7b3d1cfcf4f0125,5c6006cff69aef6a5eca9a03b770b1fecb3934e7,Wez Furlong,wez@fb.com,Fri Jan 5 10:53:47 2018 -0800,1515178427,"clang format the options listSummary:nno functional change, just letting clang-format do its thingnn(Note: this ignores all push blocking failures!)nnReviewed By: simpkinsnnDifferential Revision: D6660916nnfbshipit-source-id: 6e776b9e9db2fee2798c7455bdcc5ef2496e0ee2n",133.0,45.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,1123.0,28.0,2.314814814814815e-05,5500.0,43201.0,2635.0,None,False,,
5c6006cff69aef6a5eca9a03b770b1fecb3934e7,51af96266afc152ea50fd5c584a1ed15ac812525,Wez Furlong,wez@fb.com,Fri Jan 5 13:20:24 2018 -0800,1515187224,fix OSS build test compilation on centos 6Summary: Fixes https://github.com/facebook/watchman/issues/534nnReviewed By: bolinfestnnDifferential Revision: D6661901nnfbshipit-source-id: 1d39d4cb3df88567f8d7bee424465cd4c82d396en,3.0,1.0,"Makefile.am,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,374.0,132.0,136.0305787037037,5501.0,1.0073512882877471,2636.0,Corrective,True,,
51af96266afc152ea50fd5c584a1ed15ac812525,b232a247956300ae5fea886d5ef8c142ed683022,Yedidya Feldblum,yfeldblum@fb.com,Fri Jan 5 22:45:21 2018 -0800,1515221121,"Use auto for scope-guard locals v.s. folly::ScopeGuardSummary: Use `auto` for scope-guard locals v.s. `folly::ScopeGuard`.nnReviewed By: igorsugak, meyeringnnDifferential Revision: D6664915nnfbshipit-source-id: ea239b712f3f9dc7ef81105aaf82f4b36bc07db5n",1.0,2.0,"watchman_scopeguard.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,352.0,2.0,157.29215277777774,0.0,0.0,0.0,None,False,,
b232a247956300ae5fea886d5ef8c142ed683022,e77eb9597c4c094a0b0bbeef0b957b49b40b87eb,Wez Furlong,wez@fb.com,Mon Jan 8 21:57:43 2018 -0800,1515477463,"fix art.t test failure on alpine linuxSummary:nLooks like we end up with root_ holding a nullptr afternthe associated test is finished.  This only seems to be a problemnin practice on Alpine linux's musl libc based environment, andnonly when built with `-O2`.  Not sure if this is a c++ standardnlibrary implementation issue or a compiler optimization, or ancombination of both of those things.nnGuard against that with a simple nullptr check.nnRefs https://github.com/facebook/watchman/issues/546nnReviewed By: simpkinsnnDifferential Revision: D6681244nnfbshipit-source-id: f119b3552c0aeedc325fa83c71b12745536b1dacn",2.0,2.0,"thirdparty/libart/src/art-inl.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,1233.0,12.0,433.3236689814815,5502.0,1.0023077437758028,232.0,Corrective,True,,
e77eb9597c4c094a0b0bbeef0b957b49b40b87eb,6a790235088f30c618cccb2f0cdf98345b040553,Yedidya Feldblum,yfeldblum@fb.com,Wed Jan 10 17:52:13 2018 -0800,1515635533,Move ScopeGuardImpl and ScopeGuardImplBase into the detail namespaceSummary:n[Folly] Move `ScopeGuardImpl` and `ScopeGuardImplBase` into the `detail` namespace.nnLet them be marked as private implementation details.nnReviewed By: andrewjcgnnDifferential Revision: D6665317nnfbshipit-source-id: 03e8fee6a16338395ec92c582613b053bd9f74ecn,53.0,49.0,"watchman_scopeguard.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,351.0,3.0,4.796435185185184,1.0,1.2084881711919542,1.0,None,False,,
6a790235088f30c618cccb2f0cdf98345b040553,ca53ab76c22dd0a9b7f7b6bcfd32a1ca226ed6ce,Yedidya Feldblum,yfeldblum@fb.com,Wed Jan 10 17:52:16 2018 -0800,1515635536,"Cut the ScopeGuard alias now that we have autoSummary:n[Folly] Cut the `ScopeGuard` alias now that we have `auto`.nnThis form works because of hidden lifetime extension:n```lang=c++nfolly::ScopeGuard guard = folly::makeGuard([] { /*...*/ });n//  ...n//  guard falls out of scopen```nBut this form would not work correctly:n```lang=c++nfolly::ScopeGuard guard = folly::makeGuard([] { /*...*/ });nstd::async(std::launch::async, [guard = std::move(guard)] {});n```nBecause `folly::ScopeGuard` is an rvalue-reference-to-base.nWe have `auto`, so just remove `folly::ScopeGuard`. This form works correctly:n```lang=c++nauto guard = folly::makeGuard([] { /*...*/ });nstd::async(std::launch::async, [guard = std::move(guard)] {});n```nnReviewed By: igorsugaknnDifferential Revision: D6690070nnfbshipit-source-id: 54e32b300d36fce4eb95a59f1828819afe312ec0n",0.0,5.0,"watchman_scopeguard.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,355.0,4.0,3.472222222222222e-05,2.0,28801.0,2.0,None,False,,
ca53ab76c22dd0a9b7f7b6bcfd32a1ca226ed6ce,fcc806f7e1a5750f8e5bf41a8ccc4334d7139cd2,Eamonn Kent,ekent@fb.com,Tue Jan 16 12:59:04 2018 -0800,1516136344,fix flaky test by increasing time-outSummary:nThe test fails at start-up while waiting to get notification of a cookie filennotificaiton from watchman. It rarely happens and I suspect increasing thentime-out will eliminate the problem.nnReviewed By: weznnDifferential Revision: D6714264nnfbshipit-source-id: 40e0582618cc79f1b98bc1ae1707c8245e2fc2d7n,2.0,2.0,"tests/integration/test_wm_wait.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,91.0,1.0,110.993125,120.0,1.0090095670339942,22.0,Corrective,True,,
fcc806f7e1a5750f8e5bf41a8ccc4334d7139cd2,4d7f24572f797850e36e8c9b40cf7409b4153213,Eamonn Kent,ekent@fb.com,Wed Jan 17 09:13:25 2018 -0800,1516209205,"Support specification of benchmark iterationsSummary:nAdd support for bench_iterations in query specification. This is done in anback-ward compatible way. That is: if bench alone is specified,nquery to be done 100 times. However, if bench_iterations is present and anvalid value, its value will be used.  Here is an example:nnwatchman -j --sockname=$WATCHMAN_SOCK <<-EOTn[query, /data/users/ekent/opsfiles-hg, {n  dedup_results: true,n  bench: true,n  bench_iterations: 6,n  empty_on_fresh_instance: false,n  since: c:1515806033:3940221:3:2,nexpression: [n  name,n  .xyz/abc,n  wholenamen]n}]nEOTnnReviewed By: weznnDifferential Revision: D6718099nnfbshipit-source-id: 39ebe09ad5f5484a987b8f4847d2f1f1878debe0n",16.0,2.0,"query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,2.0,2.0,1.0529407605626349,20.0,389.0,159.0,85.6174112654321,122.0,1.0108669989599377,26.0,None,False,,
4d7f24572f797850e36e8c9b40cf7409b4153213,adbddd3637259c66dd566e0c7bd959b13428cc7c,Jan Oravec,jan@fb.com,Wed Jan 17 18:05:28 2018 -0800,1516241128,"Fix segfault by invalid usage of exception_wrapperSummary:nThe exception_wrapper() constructor assumes that the statically known typenmatching the actual runtime type. This place was violating this assumption,ncausing an assertion failure in debug mode and possible memory corruption innopt mode.nnReviewed By: yfeldblumnnDifferential Revision: D6740293nnfbshipit-source-id: 75dde27d873410e3ed421833bb6ac992289945e9n",2.0,1.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,395.0,5.0,88.1503472222222,0.0,0.0,0.0,Corrective,True,,
adbddd3637259c66dd566e0c7bd959b13428cc7c,8ab92d2d307066f3aa44f13be0e4ac7c11c740ca,Sergey Zhupanov,zhupanov@fb.com,Thu Jan 25 14:58:21 2018 -0800,1516921101,Replaced memset calls with appopriate C++11 init or assignment.Summary: Replaced memset calls with appropriate C++ init or assignment to default-constructed struct.nnReviewed By: weznnDifferential Revision: D6770919nnfbshipit-source-id: 7d623da7935b54cf00c4775f56298845c528c9f1n,29.0,49.0,"FileDescriptor.cpp,CAS_DELIMITER,Pipe.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER",18.0,5.0,5.0,3.879686431042859,20.0,485.4444444444445,300.0,204.77378986625519,8.5,0.945142745597981,2.0,None,False,,
8ab92d2d307066f3aa44f13be0e4ac7c11c740ca,a202311e948868ea2c81377a4a6889d8c97e8105,Sergey Zhupanov,zhupanov@devvm30151.prn1.facebook.com,Fri Jan 26 19:25:32 2018 -0800,1517023532,Re-worked replacement of memset with proper init to make it gcc 4.8 compliant.Summary: Closes https://github.com/facebook/watchman/pull/565nnReviewed By: weznnDifferential Revision: D6827004nnPulled By: zhupanovnnfbshipit-source-id: 9515eebd7aa48528a10245030e46b6cb37a6d7c2n,27.0,19.0,"FileDescriptor.cpp,CAS_DELIMITER,Pipe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER",11.0,3.0,3.0,3.2979576855147275,20.0,547.0909090909091,219.0,1.1855439814814817,23.0,1.231568215408335,3.0,None,False,,
a202311e948868ea2c81377a4a6889d8c97e8105,9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c,Mark Isaacson,markisaa@fb.com,Fri Jan 26 21:13:34 2018 -0800,1517030014,fix various linter issuesSummary: Fix various linter issuesnnReviewed By: weznnDifferential Revision: D6821870nnfbshipit-source-id: 9895cd0a2a55f5557d9f78ae8c0afd10d53d2a07n,11.0,13.0,"java/test/com/facebook/watchman/util/TemporaryPaths.java,CAS_DELIMITER,node/bser/index.js,CAS_DELIMITER,python/pywatchman/capabilities.py,CAS_DELIMITER,python/pywatchman/compat.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,tests/integration/TempDir.py,CAS_DELIMITER,tests/integration/test_age_file.py,CAS_DELIMITER,tests/integration/test_dir_move.py,CAS_DELIMITER",8.0,4.0,4.0,2.6174924611847548,15.0,198.625,45.0,493.98954571759276,3.5,0.8754160662487015,2.0,Corrective,True,,
9e2fdde27255cae6d815ec39ffcfc1a3d7dc950c,378af9a12ccca4937e985dcae91ad0b0c73b9b82,Eamonn Kent,ekent@fb.com,Mon Jan 29 17:48:44 2018 -0800,1517276924,"watchman: enable check for bulkstat when HAVE_GETATTRLISTBULKSummary:nWhen the platform supports HAVE_GETATTRLISTBULK, we have a flag that enablesnand disables the use of bulkstats: _use_bulkstat. This flag is respected in thenDirHandle constructor, but not the getFd method.nnWhen HAVE_GETATTRLISTBULK is supported and _use_bulkstat is disabled,nyou will see the following in stderr:nn```nekent-mbp:watchman ekent$ ./watchman get-pidn--sockname=/opt/facebook/watchman/var/run/watchman/ekent-state/alt.sockn2018-01-29T09:58:26,902: [0x7fffa09be3c0]ndirfd(/usr/local/var/run/watchman/ekent-state): File existsn2018-01-29T09:58:26,902: [0x7fffa09be3c0]ndirfd(/usr/local/var/run/watchman/ekent-state): File existsn```nnReviewed By: weznnDifferential Revision: D6835477nnfbshipit-source-id: 367495d5ab3303ea494b87fc1d29c05048d4b6e9n",4.0,3.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,295.0,16.0,4.118321759259259,124.0,1.242817355820169,27.0,None,False,,
378af9a12ccca4937e985dcae91ad0b0c73b9b82,bdd5b02557ad6ae3dcc08387d7dddfcefa94a18c,Eamonn Kent,ekent@fb.com,Tue Jan 30 08:12:47 2018 -0800,1517328767,"watchman: periodically call clock on watched rootsSummary: This change adds causes Watchman to periodically run the clock command on its watched roots. It gets the list of roots by calling 'watchman watch-list'. It subsequently calls clock on each watched root. It will log the time that it took to run the clock command. This will provide an interesting metric for analysis.  For example, if the clock command is taking an excessively long time, there may be lock contention issues.nnReviewed By: weznnDifferential Revision: D6804026nnfbshipit-source-id: a08122c46a74426b1daa5d8af21df83ac1f1221fn",139.0,26.0,"checksock.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,66.0,8.0,412.7538194444445,125.0,1.0024227516570192,28.0,None,False,,
bdd5b02557ad6ae3dcc08387d7dddfcefa94a18c,7c46f54addc669b143e9e60d4f0b61d6617706cf,Wez Furlong,wez@fb.com,Wed Jan 31 15:23:31 2018 -0800,1517441011,"enable integration tests on sandcastleSummary:nA little bit of plumbing to enable the watchman<->eden integration tests on sandcastle.nnI noticed that we were still referencing the lame thrift par that I removed a little while back,nso let's clean that up.nnReviewed By: simpkinsnnDifferential Revision: D6863221nnfbshipit-source-id: 026f3d316d9ac52fe359cedc4e3c88394ec5c7c4n",38.0,3.0,"runtests.py,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/eden/TARGETS,CAS_DELIMITER",3.0,2.0,3.0,0.927027993535078,20.0,220.0,46.0,63.307611882716046,5504.0,1.006153739800479,600.0,Preventative,False,,
7c46f54addc669b143e9e60d4f0b61d6617706cf,890d7182cd3f6816d29daaf2ebdd41afd8886851,Wez Furlong,wez@fb.com,Fri Feb 2 11:14:03 2018 -0800,1517598843,"watchman: add command to trigger jemalloc heap profile generationSummary:nThis is enabled only for fbcode builds internally at thenmoment, because it easiest not to wrangle with other build systems.nnThis is only enabled for builds without ASAN enabled.  Usage is:nn```n$ buck build watchman/... mode/dev-nosann$ rm /tmp/watn$ env MALLOC_CONF=prof:true,prof_prefix:/tmp/jeprof.out n WATCHMAN_CONFIG_FILE=/dev/null n ./buck-out/gen/watchman/watchman -f n -U /tmp/wat -n -o /dev/stdout n --statefile=/tmp/watstate --pidfile=/tmp/watpidn```nnIn another window:nn```n$ watchman -U /tmp/wat debug-prof-dumpn{nversion: 4.9.0,nprof.dump: mallctl prof.dump returned: Successn}n$ ls /tmp/jeprof.*.heapn/tmp/jeprof.out.2999124.0.m0.heapn$ mkdir -p ~/publicn$ jeprof --gif ./buck-out/gen/watchman/watchman /tmp/jeprof.out.2999124.0.m0.heap > ~/public/wat.gifnUsing local file ./buck-out/gen/watchman/watchman.nUsing local file /tmp/jeprof.out.2999124.0.m0.heap.nDropping nodes with <= 0.0 MB; edges with <= 0.0 abs(MB)n```nnWe deliberately don't allow passing the filename for the profile dumpnthrough for security reasons; we don't want to cause watchman to writento an arbitrary file in response to a client request.  It would bennice to generate the name and return it in the response, but thatncan be added later.nnReviewed By: eamonnkentnnDifferential Revision: D6879911nnfbshipit-source-id: f2d736017554c0e5afb9542fe3e4d3ac1dfe98ebn",36.0,1.0,"TARGETS,CAS_DELIMITER,cmds/heapprof.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.4941829348497887,21.0,164.5,29.0,21.81783564814815,5506.5,1.0229170302711692,386.0,None,False,,
890d7182cd3f6816d29daaf2ebdd41afd8886851,45b5578765c3be442c4ba510e76a69c0984a5ca3,Eamonn Kent,ekent@fb.com,Wed Feb 7 13:25:12 2018 -0800,1518038712,"watchman: Add tests for _use_bulkstatSummary: This commit adds some basic tests with `_use_bulkstat` enabled and disabled. This is only meaningful on macOS, and the behavior of watchman should not be altered outside of a potential performance impact of using one strategy over the other.nnReviewed By: weznnDifferential Revision: D6843235nnfbshipit-source-id: 8b8c477495dfa9646ab002eceafd02a3c3ac2c8fn",61.0,5.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_bulkstat.py,CAS_DELIMITER",2.0,1.0,1.0,0.7990485210442682,20.0,244.0,43.0,66.50563657407407,126.5,1.0075181597494085,24.0,None,False,True,"[""5dfcdd908d02ad1f60e701072f41dfe4fbf5bbec"", ""8a954a42206e34fb1bd42aef432747b1de10c5f8""]"
45b5578765c3be442c4ba510e76a69c0984a5ca3,370cae89dd38ac0aad92ccb89424a944c42cb0d2,Eamonn Kent,ekent@fb.com,Thu Feb 8 18:55:19 2018 -0800,1518144919,Improve error message for global config root_filesSummary:nImprove error message when watch-project is not allowed because ofnmissing root_files.nnReviewed By: weznnDifferential Revision: D6935592nnfbshipit-source-id: f938bff9ba39252ad10401ed08dc9f2abf5b1c7cn,19.0,2.0,"cmds/watch.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,302.0,21.0,146.3547337962963,128.0,1.0068327137364197,31.0,None,False,True,"[""a606ff703697835faa25399c5d2a26b23c12f94e"", ""3a2bd8dab53171c172891be41c057fb53b19d294""]"
370cae89dd38ac0aad92ccb89424a944c42cb0d2,52124910aef276fa6d78564df5bc5079c7335e07,Eamonn Kent,ekent@fb.com,Thu Feb 8 21:18:10 2018 -0800,1518153490,Fix and re-enable a test that was disabled.Summary: Regex match on error was fixed and test enabled.nnReviewed By: weznnDifferential Revision: D6945540nnfbshipit-source-id: 05c71852600587d8603fa510444407d102917c0en,17.0,16.0,"tests/integration/test_watch_project.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,129.0,2.0,427.3572685185186,129.0,1.0023399625410996,25.0,Corrective,True,True,"[""73913665c25fef0a33596e3d26719a41a5dc538f""]"
52124910aef276fa6d78564df5bc5079c7335e07,fed72ac6faf75fe89a98821526c0b98db76a6293,Andrew Gallagher,andrewjcg@fb.com,Wed Feb 14 12:41:29 2018 -0800,1518640889,Add missing folly deps to all TARGETSSummary:n```n$ buck query 'buildfile(%s)' $(buck run contbuild:targets) | xargs -P 32 -n 24 autodeps --keep-going --add-only --dep-regex '//folly.*'n```nnReviewed By: yfeldblumnnDifferential Revision: D6985916nnfbshipit-source-id: 42201ad6b415829b05e23761252f0e23d2f1cf84n,3.0,0.0,"cppclient/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,21.0,43.0,13.0,55.69638888888889,14.0,1.0179544853795628,1.0,Feature Addition,False,,
fed72ac6faf75fe89a98821526c0b98db76a6293,bc0f2e41d07bdf58867ecd61ff11a3bbeae92d0d,Jason Fried,fried@fb.com,Thu Feb 15 01:38:41 2018 -0800,1518687521,Python TARGETS Codemod Part 2Summary:nModifying all python targets so deps= are always known python targetsncpp_libraries are moved to cpp_depsnbinaries/genrules are moved to runtime_depsnnReviewed By: ambvnnDifferential Revision: D6987456nnfbshipit-source-id: e9e7581aac7483a8739168ee12a0847fefcd80e1n,16.0,6.0,"TARGETS,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",3.0,3.0,3.0,1.5726236638951638,21.0,149.33333333333334,60.0,41.690887345679016,1.0,0.6741741727666005,0.0,None,False,,
bc0f2e41d07bdf58867ecd61ff11a3bbeae92d0d,56e58b8867efeb8fda95a66beb900090246cc056,Zhongxian Gu,zgu@fb.com,Thu Feb 15 08:05:10 2018 -0800,1518710710,"Revert D6987456: Python TARGETS Codemod Part 2Summary:nThis reverts commit e9e7581aac7483a8739168ee12a0847fefcd80e1nnbypass-lintnnAn infra SEV is better than not reverting this diff.nIf you copy this password, see you in SEV Review!ncause_a_sev_many_filesnnDifferential Revision:nD6987456nnOriginal commit changeset: e9e7581aac74nnfbshipit-source-id: bc0f4b1476b55047b83696e0c015808845579dfen",6.0,16.0,"TARGETS,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",3.0,3.0,3.0,1.5726236638951638,21.0,152.66666666666666,63.0,0.2683912037037037,1.0,1.701640145471272,0.0,None,False,,
56e58b8867efeb8fda95a66beb900090246cc056,0fa2e6b151082598a9e359a64d461fe392a254cf,Wez Furlong,wez@fb.com,Thu Feb 15 14:50:09 2018 -0800,1518735009,"improve error handling in getattrlistbulk()Summary:nWe've been seeing some issues that seem to correlate withnusers on APFS, so we're overdue revisiting our usage of thisncomplex syscall.nnWe're using `getattrlistbulk(2)` as a way to batch together `opendir(3)` and anseries of `lstat(2)` calls.  This syscall uses an ABI defined inn`getattrlist(2)`.nnBased on some problem reports, it seems that APFS is more prone to encounteringnerror conditions or that it doesn't report all of the information that wenrequest all of the time.nnThis diff improves our handling of this syscall:nn1. Use the `returned` field to examine which of the requested fields weren   returned before trying to use them.  This matters the most for the `err`n   field which we seen logging stack garbage in place of its usual `errno`n   values.n2. Make a better effort at falling back to the `opendir(3)` mode of operationn   if we got the name of the entry but no other stat info.nnReviewed By: simpkinsnnDifferential Revision: D6991054nnfbshipit-source-id: ccb1da67f76d9c7f253a52819e7b12c291855ee0n",58.0,11.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,296.0,17.0,16.875983796296293,5508.0,1.0592558047027436,2639.0,None,False,,
0fa2e6b151082598a9e359a64d461fe392a254cf,e013d4474e3071afc541ae0f1ba81013c9fd15fd,Wez Furlong,wez@fb.com,Thu Feb 15 17:05:06 2018 -0800,1518743106,"fix trigger test flakyness/hangSummary:nThis was happening 100% of the time for me on my mac, sonit was a good time to fix it.nnWhat seems to be happening is that an unrelated problem with thenPubSub stuff that drives the `log-level` unilateral stream getsnconfused and never delivers us the logs of interest.  We'rentracking that internally as T26117870.nnSecondly, the code that waited for the log files had its own internalnloop that was kept busy streaming log data from the above malfunctionnand didn't respect the overall waitFor timeout.nnThirdly, because we have some funky signal handling stuff to safelyntear down the multi-threaded test runner, we'd swallow interruptnsignals and never break out.nnThe resolution is twofold:nn* Add a helper to check and raise a KeyboardInterrupt at an opportunen  time in the code that is waiting.   It's worth following up ton  re-evaluate this interrupt handling stuff because it may not ben  needed any more; it may have been paving over the threads vs forkn  problems on python 2.7 and we dodge that bullet through other meansn  today.nn* Change the test to match against the log file rather than the logn  stream.nn(This diff includes a couple of PEP8 fixes)nnReviewed By: simpkinsnnDifferential Revision: D7003957nnfbshipit-source-id: 70137d1c45feb148c4aa4f4de4d815fc703cdddfn",31.0,21.0,"tests/integration/Interrupt.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER",3.0,1.0,1.0,1.5430224942057842,20.0,249.0,58.0,293.09260416666666,5510.0,1.0014078492284482,603.0,Corrective,True,,
e013d4474e3071afc541ae0f1ba81013c9fd15fd,f8f652f6db1087b0d8fbd7c02f4c4880fcaebd05,Wez Furlong,wez@fb.com,Fri Feb 16 08:54:33 2018 -0800,1518800073,"avoid pessimistic recursive crawl on linuxSummary:nWe had the somewhat unfortunate behavior of initiating anrecursive crawl of the parent directory of a removed directorynentry on linux.nnThis means that in a big repo `mkdir foo ; rmdir foo` at the rootncauses the entire repo to be recrawled and block concurrent accessn(eg: `hg status`) while waiting for that to happen.nnThis diff removes the recursive flag; this is safe to do becausenwe'll look at the parent and enumerate its entries.  Our normalnbehavior is to then recurse into a directory if it is new, andnto observe the deletion of the named entry otherwise.nnOur behavior around this is covered by our baseline behaviornintegration tests.nnReviewed By: chadaustinnnDifferential Revision: D7006121nnfbshipit-source-id: 1b19ee8adde5b14e6253cb5296f7e5c3051fcfd7n",1.0,2.0,"watcher/inotify.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,401.0,27.0,328.93905092592587,5512.0,1.0030400768689065,274.0,None,False,,
f8f652f6db1087b0d8fbd7c02f4c4880fcaebd05,b397a622455961a6278a3ddfc51cf9fc07872a5c,Wez Furlong,wez@fb.com,Fri Feb 16 10:03:51 2018 -0800,1518804231,"remove dead code from legacy php integration testsSummary:nI'm looking for things that use the log-level commandnand these do, except that nothing uses them.nnReviewed By: chadaustinnnDifferential Revision: D7008178nnfbshipit-source-id: 43cfe4474e154dd38ad206cc3509ddcf82454bf8n",0.0,22.0,"tests/integration/WatchmanInstance.php,CAS_DELIMITER,tests/integration/WatchmanTestCase.php,CAS_DELIMITER",2.0,1.0,1.0,0.976020648236615,19.0,671.0,2.0,177.8940740740741,5513.5,1.0042159920385414,605.0,Preventative,False,,
b397a622455961a6278a3ddfc51cf9fc07872a5c,73913665c25fef0a33596e3d26719a41a5dc538f,Wez Furlong,wez@fb.com,Fri Feb 16 10:37:13 2018 -0800,1518806233,"fixup watch_project tests on windowsSummary:nThis is a bit speculative, and the goal is to addressnthe window path normalization issue introduced by D6945540.nnHere's an error snippet from the CI logs:nn```nAssertionError: 'none of the files listed in global config root_files arenpresent in pathn`C:/cygwin/tmp/watchmantestfhbruz/test_watch_project.TestWatchProjectCliJson.test_watchProjectEnforcing.cli.json/tmpazf_jq-.svn-None-None-Falseabc`nor any of its parent directories. root_files is defined by the' not found innwatchman command error: resolve_projpath: none of the files listed in globalnconfig root_files are present in pathn`C:/cygwin/tmp/watchmantestfhbruz/test_watch_project.TestWatchProjectCliJson.test_watchProjectEnforcing.cli.json/tmpazf_jq-.svn-None-None-False/a/b/c`nor any of its parent directories. root_files is defined by then`C:/ProgramData/facebook/watchman.json` config file and includesn`.watchmanconfig, .git, .hg, .foo, .bar`. One or more of these files must benpresent in order to allow a watch. Try pulling and checking out a newer versionnof the project?, while executing ('watch-project',n'C:/cygwin/tmp/watchmantestfhbruz/test_watch_project.TestWatchProjectCliJson.test_watchProjectEnforcing.cli.json/tmpazf_jq-.svn-None-None-Falseabc')n```nnReviewed By: simpkinsnnDifferential Revision: D7006606nnfbshipit-source-id: f8dab697f69d99eb1dd030eb9500b965583e1c01n",4.0,3.0,"tests/integration/test_watch_project.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,13.0,130.0,3.0,7.554895833333332,5515.0,1.132364498738401,606.0,Corrective,True,True,"[""a606ff703697835faa25399c5d2a26b23c12f94e""]"
73913665c25fef0a33596e3d26719a41a5dc538f,4ffcaf8ac917fa53430a21fb7c9e6fc9c7ba9659,Wez Furlong,wez@fb.com,Fri Feb 16 10:38:44 2018 -0800,1518806324,remove some more test deadcodeSummary: These are not needed since D7003957nnReviewed By: chadaustinnnDifferential Revision: D7008179nnfbshipit-source-id: 6e2192e65a7da3e6577b5037b2370e4a2b22af94n,0.0,11.0,"tests/integration/test_trigger.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,226.0,13.0,0.7316898148148148,5516.0,2.3666993577778483,607.0,Preventative,False,,
4ffcaf8ac917fa53430a21fb7c9e6fc9c7ba9659,b09969d6cd7df18411c89bdf4b1859659ac89c08,Wez Furlong,wez@fb.com,Fri Feb 16 15:11:47 2018 -0800,1518822707,remove dead w_basename functionSummary: deadcodennReviewed By: chadaustinnnDifferential Revision: D7010703nnfbshipit-source-id: d253c5815d5f29d5eb0b4750d7848bcfb007f8e3n,0.0,11.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,343.0,18.0,1.0150231481481482,5517.0,1.9851992063673056,2640.0,None,False,,
b09969d6cd7df18411c89bdf4b1859659ac89c08,00324b22d181bbd684f5527349d37749fa31076e,Wez Furlong,wez@fb.com,Tue Feb 20 09:36:22 2018 -0800,1519148182,"improve reporting around getattrlistbulkSummary:nWelp, I should have done this in the earlier commitnbecause I was looking into a slow test and saw that the loggingnoutput didn't have the right newlines and then I saw that wenwere hitting the fallback path quite a lot.nnThis diff improves reporting in the case that not all of thenattributes are returned by printing the set that we got (usingna function borrowed from eden and slightly modified), andnmakes the error path conditional on errno != 0.nnI smell something fishy though; I was previously under thenassumption that we were in the wrong for acting based onnwhat appeared to be stack garbage in the error field, butnsince that is confirmed to always be present, I don't thinknmy earlier diff really fixed anything aside from adding anbit more logging and improving the chances that we wouldnfall back to something that basically worked.nnReviewed By: chadaustinnnDifferential Revision: D7008177nnfbshipit-source-id: 00672f920c8dfa84c119bf3df23d1e6a557dc727n",69.0,8.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,332.0,19.0,3.767071759259258,5518.0,1.265458176511253,2641.0,None,False,,
00324b22d181bbd684f5527349d37749fa31076e,bc19802064a3d12db5d28f978a5d2ebc9cac07da,Wez Furlong,wez@fb.com,Tue Feb 20 09:36:24 2018 -0800,1519148184,"suppress rusage deltas from watchman perf logsSummary:nThis just suppresses the `getrusage` delta keys from thenperf samples that show up like this for slow queries:nnbefore:nn```n018-02-16T11:04:15,780: [sanitychecks] PERF: {ru_nvcsw: 1, ru_nsignals: 0, ru_msgrcv: 2, ru_msgsnd: 2, ru_inblock: 0, ru_majflt: 0, ru_nswap: 0, ru_minflt: 5, ru_ixrss: 0, ru_maxrss: 0, system_time: 0.00046200000000000001, user_time: 0.00022499999999999999, elapsed_time: 0.48896899999999999, pid: 63713, ru_idrss: 0, meta: {root: {path: /Users/wez/fb/watchman-fbsource}}, version: 4.9.1, ru_oublock: 0, ru_nivcsw: 7, start_time: 1518807855.291414, description: clock-test}n```nnafter:nn```n2018-02-16T11:15:39,272: [sanitychecks] PERF: {system_time: 0.00093199999999999999, user_time: 0.00042200000000000001, elapsed_time: 9.7929099999999991, pid: 82727, meta: {root: {path: /Users/wez/fb/watchman-fbsource}}, start_time: 1518808529.479985, version: 4.9.1, description: clock-test}n```nnReviewed By: simpkinsnnDifferential Revision: D7013001nnfbshipit-source-id: b2fbb99f6111e92984840e9970cfb2202c586f45n",0.0,15.0,"perf.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,272.0,25.0,202.84451388888888,5519.0,1.0049298843770935,2642.0,None,False,,
bc19802064a3d12db5d28f978a5d2ebc9cac07da,6ceca0338bf34e1dc49814d298f2a562c5df8d82,Wez Furlong,wez@fb.com,Wed Feb 21 15:30:02 2018 -0800,1519255802,"detect when cookie dir has gone awolSummary:nI got here because `btrfs` doesn't send `IN_DELETE_SELF` notificationsnwhen a watched subvolume is unmounted.  Until that is addresses in the kernelnwe tackle this from a different angle.  We periodically perform a synchronizedn`clock` call against each of the watches.  When that happens and a btrfs volumenhas been deleted then the cookie sync will error out because the directorynstructure no longer exists.nnLet's catch that case and generate a recrawl; the recrawl will discover thenremoval and cancel the watch.nnAnd while we're in here, let's also deal with just the vcs subdir going away.nnRefs: https://github.com/facebook/watchman/issues/25nRefs: https://github.com/facebook/watchman/issues/501nnReviewed By: simpkinsnnDifferential Revision: D7014364nnfbshipit-source-id: 9acd20efa843563626b73c6f6e34c3787dd28a39n",79.0,4.0,"root/sync.cpp,CAS_DELIMITER,tests/integration/test_cookie.py,CAS_DELIMITER",2.0,2.0,2.0,0.9948631079048572,18.0,21.0,12.0,176.11994212962964,5520.5,1.0028389743600528,608.0,None,False,,
6ceca0338bf34e1dc49814d298f2a562c5df8d82,68a823f1f4cad515371321dfba559441fecbfcff,Jason Fried,fried@fb.com,Thu Feb 22 11:52:19 2018 -0800,1519329139,"Python TARGETS Codemod Part 2 REPACK REALSummary:nModifying all python targets so deps= are always known python targetsncpp_libraries are moved to cpp_depsnbinaries/genrules are moved to runtime_depsnnUsed hg backout this timenremoved all unicorn target changes will move them to their own diffnremoved any targets that failed to mergennReviewed By: yfeldblum, ngie-eignnnDifferential Revision: D7049308nnfbshipit-source-id: 94cd27b69623a7529b5a953d1150e34798f69e83n",16.0,6.0,"TARGETS,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER",3.0,3.0,3.0,1.5726236638951638,21.0,149.33333333333334,66.0,7.1577430555555575,4.0,1.0853776262109314,1.0,None,False,,
68a823f1f4cad515371321dfba559441fecbfcff,a606ff703697835faa25399c5d2a26b23c12f94e,Wez Furlong,wez@fb.com,Fri Feb 23 15:26:28 2018 -0800,1519428388,"fix error message in the watch case tooSummary:nI noticed from some logs in production that D6935592 overlooked thisnother place with similar error messaging.  Factor out the fiddly bit and makenthe error messages more similar, and test them.nnReviewed By: simpkinsnnDifferential Revision: D7060027nnfbshipit-source-id: 491beccd92161618a3cdafedaaff70b58779a118n",54.0,23.0,"cfg.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER",6.0,3.0,3.0,2.3361948219857216,19.0,203.3333333333333,65.0,181.6470717592593,5524.5,1.0020792115088206,2646.0,Corrective,True,True,"[""3a2bd8dab53171c172891be41c057fb53b19d294""]"
a606ff703697835faa25399c5d2a26b23c12f94e,e0b9f4e6a0186806382f110e3ee3ae74081775de,Wez Furlong,wez@fb.com,Fri Feb 23 15:26:30 2018 -0800,1519428390,"avoid `abort` in a number of code pathsSummary:nWe see this manifest most often in production in environmentsnthat are nonsensical; for example, spawned by a client process whosenexecutable image has been deleted and who is running with a cwd thatnhas been deleted.nnWe'll abort when run in such an environment because we're not ablento spawn watchman because the site spawner script that has beennconfigured is a python script that fails to resolve the cwd andnexits.nnThese aborts are captured and reported across our production fleetnand make us look bad in the coredumper data set.nnRather than abort let's just `exit(1)`.nnThis diff replaces a number of `abort()` calls with `log(FATAL,...`)nand removes a hangover from our C/malloc days where we were leftnchecking the result of `new` against `nullptr`; this should alwaysnthrow `bad_alloc` and thus the conditional should now just bendeadcode.nnReviewed By: simpkinsnnDifferential Revision: D7060727nnfbshipit-source-id: 57483cae023631de899e3c0c04795abf259f6f85n",42.0,38.0,"log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER",4.0,1.0,1.0,1.4581055494943904,20.0,730.0,83.0,159.68176793981482,5529.5,1.0144100899627595,2650.0,None,False,,
e0b9f4e6a0186806382f110e3ee3ae74081775de,77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c,Wez Furlong,wez@fb.com,Fri Feb 23 15:26:32 2018 -0800,1519428392,"connect crawl errors to the watch failure reasonSummary:nThis is a bit of a clean up in preparation for sharingnand knowing more about the reasons behind a failure of thisnand cookie sync timeouts.nnDuring crawling with inotify, if we hit the inotify system limits,nwe have logic to set us in a poisoned state and fail new requestsnuntil we are restarted.nnAn external user reported a problem where the `watch` projectncommand would appear to succeed when it hit the limits rathernthan surface the error.nnhttps://github.com/facebook/watchman/issues/525nnThe root of this problem is that we weren't populating then`failure_reason` field to bubble up the error and that is thencore of this diff; with that set, the error is reported innthe result of the `watch` command.nnWhile looking at this I noticed that we had a couple of stalenbits that needed cleanup:nn- inotify.cpp had legacy code for setting the poison state itself,n  rather than letting the logic in warnerr.cpp handle it.n- the error_category stuff needed to be educated about the systemn  limit errnos that the legacy code above was usingn- the code in warnerr.cpp is now responsible for setting then  `failure_reason` if it wasn't already set, and it now will taken  the poison reason if it is set (it's a global variable).n- When we encountered an error on the root of the watch we hadn  a notion of whether the issue was transient or not.  I don'tn  recall why that matters there, and all the errors that we cann  experience in practice are sufficient that we should bailn  out on watching that root, so I've removed the transient flagn  and revised the error messaging.nnReviewed By: simpkinsnnDifferential Revision: D7063735nnfbshipit-source-id: 1da4ad5f53b8fb9eb8daeb4c36ab953a1a75f0b5n",20.0,33.0,"error_category.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER",8.0,2.0,2.0,1.8935943989240744,20.0,279.875,175.0,157.98100115740738,5535.5,1.0014285385626285,2654.0,Corrective,True,,
77bb9e9d0d638899b1b50ebd78e2872f2b3ad96c,a48e6f0fdbf48209b7e1f61255f3f1f179b613e4,Topher Brown,topher200@gmail.com,Fri Feb 23 16:13:14 2018 -0800,1519431194,Minor typo fix in the documentationSummary: Closes https://github.com/facebook/watchman/pull/574nnDifferential Revision: D7076090nnPulled By: weznnfbshipit-source-id: 4135046e0aacdb2166e35d5c5fa731a3b95bc923n,2.0,2.0,"website/_docs/cmd.trigger.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,270.0,2.0,410.17755787037044,0.0,0.0,0.0,Corrective,True,,
a48e6f0fdbf48209b7e1f61255f3f1f179b613e4,b6427288a016012c862f2c6153f7a8fc9d5479a3,Wez Furlong,wez@fb.com,Fri Feb 23 23:56:42 2018 -0800,1519459002,"work harder to surface sync errors more accuratelySummary:nThis rearranges things a little to make it easier to propagate thenreason and context behind a cookie sync timeout; we now use an exception fornthis so that we can include data about the recrawl state of the repo too.nnWhile testing this I noticed that we would block for a long time even if we setnthe sync_timeout to be super short and I traced this to the perf sampling code;nit was collecting the current clock information from the root, but this data isnlocked during a recrawl and this meant that our wonderfully short timeoutnwasn't being respected.nnIn practice, I've never needed to look at the current clock position in thendata that we sample to scuba so I've simply removed it to unblock things.  Thisnshould help to avoid situations like this one that was reported in the group:nnhttps://fb.facebook.com/groups/scm/permalink/1572802659436015nnReviewed By: simpkinsnnDifferential Revision: D7075600nnfbshipit-source-id: 2b70a814a55d7b5d5d0d60d204ee0d6cc825f3c6n",97.0,84.0,"CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,tests/integration/test_cookie.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",13.0,5.0,5.0,2.650528089927304,20.0,267.76923076923083,396.0,105.43541844729349,5546.0,1.0012131462337517,2661.0,None,False,,
b6427288a016012c862f2c6153f7a8fc9d5479a3,3c7833c3b21a1d7279c06aff9153c9e71ed5da17,Wez Furlong,wez@fb.com,Fri Feb 23 23:56:45 2018 -0800,1519459005,"improve error reporting if site spawner failsSummary:nThe stock behavior of watchman is to `daemonize` the server process ifnneeded, but some sites have more elaborate requirements; the site spawnernconfiguration allows the local administrator to deploy a policy for customizingnhow watchman is launched.  We use this at FB to managed watchman instances fornusers across our dev fleet via chef and systemd.nnThere were a couple of issues with how we surfaced errors:nn1. In one possible spawn error case we were logging an errorn   at `ERR` level instead of `FATAL`.  This meant that we'dn   return to the caller (the watchman CLI) without any hopen   of the server starting up and there is no fallback ton   daemonize when configured this way, so the CLI would sitn   and wait until its timeout was hit.nn2. We'd attempt to log the site spawn failures to the logn   file rather than the current process stdio streams.  Thisn   made it rather difficult to diagnose problems with then   site spawner.nnThis diff fixes up the missing `FATAL` and removes the stdio redirection sonthat we report spawn errors more directly to the user.nnReviewed By: simpkinsnnDifferential Revision: D7076476nnfbshipit-source-id: 3f001e56fabea4c5c630d6110e19a671c9efbfb1n",28.0,25.0,"main.cpp,CAS_DELIMITER,tests/integration/site_spawn_fail.py,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER",3.0,2.0,2.0,1.1067247215818616,20.0,430.0,36.0,222.7282137345679,5554.0,1.94175301527736,613.0,Corrective,True,,
3c7833c3b21a1d7279c06aff9153c9e71ed5da17,8986adabedefcd53093fe6ae1df6e2e510adcd01,Wez Furlong,wez@fb.com,Fri Feb 23 23:56:47 2018 -0800,1519459007,"speculative de-flake of test_wm_wait.pySummary:nThis seems to fail reasonably frequently on appveyor andndoesn't show any useful context, so let's try to make it less flaky.nnThis is basically a rewrite to make this whole thing simpler.  It turnednout that there was a race waiting for the root to be watched, so thisncould perhaps have been a minimal diff that just added that check,nbut since it seemed so complex it felt worthwhile to simplify.nn```nFAIL test_wm_wait.TestWatchmanWaitLocalBser.test_wait (5.431s)nTraceback (most recent call last):n  File C:Python27libunittestcase.py, line 329, in runntestMethod()n  File C:projectswatchmantestsintegrationtest_wm_wait.py, line 60, in test_waitnwi, ['a/bar', 'a/foo', 'a'], msg=wait, create dir)n  File C:projectswatchmantestsintegrationtest_wm_wait.py, line 37, in assertWaitedFileListnself.assertFileListsEqual(res, expected, message=msg)n  File C:projectswatchmantestsintegrationWatchmanTestCase.py, line 320, in assertFileListsEqualnself.assertItemsEqual(list1, list2, message)n  File C:Python27libunittestcase.py, line 901, in assertItemsEqualnself.fail(msg)n  File C:Python27libunittestcase.py, line 410, in failnraise self.failureException(msg)nAssertionError: wait, create dirnFAIL test_wm_wait.TestWatchmanWaitLocalBser.test_wait (5.437s) (1 attempts)n```nnReviewed By: simpkinsnnDifferential Revision: D7077906nnfbshipit-source-id: abfdf2b1a73b3f446b29802516cf4376c283f934n",67.0,232.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/WatchmanWaitInstance.py,CAS_DELIMITER,tests/integration/nbsr.py,CAS_DELIMITER,tests/integration/test_wm_wait.py,CAS_DELIMITER",4.0,1.0,1.0,1.5604043461670731,20.0,197.0,49.0,86.41059606481484,5557.5,1.0332938297064351,617.0,Preventative,False,,
8986adabedefcd53093fe6ae1df6e2e510adcd01,da19bdc3588b859a902aae20544f2c8faeb27507,Igor Sugak,sugak@fb.com,Tue Feb 27 10:41:55 2018 -0800,1519756915,fix invalid-null-argument errors in string.cppSummary:nExposed by UBSAN:n{P59121643}nnConsider strings equal if their length is zero and don't call memcpy if the destination is nullptr.nnReviewed By: weznnDifferential Revision: D7099882nnfbshipit-source-id: 194bcee6ccc4a64e8fb4cfae1b2c24410681e12bn,5.0,1.0,"string.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,1088.0,39.0,3.802372685185185,1.0,1.262993683890115,1.0,Corrective,True,,
da19bdc3588b859a902aae20544f2c8faeb27507,d2e57c97c32cec8f5149b89a855723d7d97ddfe6,Wez Furlong,wez@fb.com,Tue Feb 27 19:07:25 2018 -0800,1519787245,"fix facepalm with posix spawnSummary:nOn my ubuntu laptop the trigger_chdir test was failing withna bizarre python error relating to a failure to write to stdout.nOn further investigation I discovered that the child process hadnno stdout file descriptor.nnAfter much sleuthing I found two problems with this code:nn1. In `parse_redirection` we were setting `O_CLOEXEC` as a flag ton   pass down to `open(2)` via `posix_spawn_addopen()`.   That functionn   is called in the context of the forked child.  The man page forn   `posix_spawn_addopen` says that after processing the open rules,n   any descriptors marked `O_CLOEXEC` will be closed prior to then   `exec()` call.   It seems that this behavior hasn't been respectedn   in Linux for the past several years but it is on my ubuntu 17.10n   system; most likely fixed recently in glibc.n   The resolution is to stop passing that useless flag.nn2. While reading through the code I noticed that processing the `stderr`n   config for a trigger would erroneously assign the opened file ton   `stdout` rather than `stderr`.   We don't have test coverage forn   this case.nnReviewed By: chadaustinnnDifferential Revision: D7105184nnfbshipit-source-id: b012667a8377878f82e0e7dc68b8332d22be09dcn",2.0,2.0,"cmds/trigger.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER",2.0,2.0,2.0,1.0,19.0,371.5,67.0,217.9284085648148,5560.5,1.004170814222148,2663.0,Corrective,True,,
d2e57c97c32cec8f5149b89a855723d7d97ddfe6,92b07e3c1ca2e2e297e6199f7aefbb57685b9179,Wez Furlong,wez@fb.com,Tue Feb 27 19:07:27 2018 -0800,1519787247,"reduce flakiness of test_wm_wait.pySummary:nA couple of adjustments to make this happier on the open source CI.nnWe don't need to check that the parent dirs of the changed items show up,nas whether that happens or not is OS dependent.  We therefore check tonmake sure that we at least see the changed items in there, and increasenthe grace period (the `-t` option) and the number of events (`-m` option)nto accomodate some variance.nnReviewed By: simpkinsnnDifferential Revision: D7106677nnfbshipit-source-id: 48fb3b751f75d16a0a6a169de79b543f67367722n",2.0,4.0,"tests/integration/test_wm_wait.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,116.0,3.0,3.7990740740740736,5562.0,1.26322203265903,618.0,Preventative,False,,
92b07e3c1ca2e2e297e6199f7aefbb57685b9179,b2e43e2d736a8c219b525fc52f0f1c35a687d67c,Wez Furlong,wez@fb.com,Tue Feb 27 19:07:29 2018 -0800,1519787249,use a shorter tmpdir path for integration testsSummary:nThe path we generate when running under testpilot isnsometimes too long to be used with unix domain sockets andncauses the tests to fail.nnStop including that in the path.nnReviewed By: simpkinsnnDifferential Revision: D7106919nnfbshipit-source-id: aee92b9a9a025c136a3ee640d5a77c1a94cfc086n,1.0,14.0,"tests/integration/TempDir.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,94.0,4.0,31.912442129629632,5563.0,1.0313357403340666,619.0,Preventative,False,,
b2e43e2d736a8c219b525fc52f0f1c35a687d67c,c6236fef602465c0036c178101a771a7d3861121,John Eismeier,john.eismeier@gmail.com,Wed Feb 28 09:32:13 2018 -0800,1519839133,Propose fix one typoSummary:nis this update OK?nCloses https://github.com/facebook/watchman/pull/576nnDifferential Revision: D7111582nnPulled By: weznnfbshipit-source-id: 42532d1a29d7bb40094f243b02e38dcdc57e613an,1.0,1.0,"tests/integration/cppclient.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,139.0,2.0,90.86157407407408,0.0,0.0,0.0,Corrective,True,,
c6236fef602465c0036c178101a771a7d3861121,029c3ab0a44ab8f38e1eafc12d419ed0f3289b42,Philip Jameson,pjameson@fb.com,Thu Mar 1 11:22:40 2018 -0800,1519932160,"Make watchman use host_info instead of regexSummary: Rather than using platform regex, just create a rule based on the host_info() objectnnReviewed By: weznnDifferential Revision: D7087851nnfbshipit-source-id: 853691a2c9e8641f7879577cd529995e82fc9edfn",66.0,66.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,21.0,335.0,33.0,6.979409722222222,13.0,1.1432785922878308,2.0,None,False,,
029c3ab0a44ab8f38e1eafc12d419ed0f3289b42,c88aa56673c9446f28349f25c9e0cb92b82f748c,Wez Furlong,wez@fb.com,Thu Mar 1 17:14:02 2018 -0800,1519953242,migrate legacy clock.php test to pythonSummary:nWe see sporadic failures for the php tests in our infrandue to some aging aspects of the test plumbing.nI'm tired of these so I'm just going to kill them.nnReviewed By: simpkinsnnDifferential Revision: D7128284nnfbshipit-source-id: 87492c9ccaabedc4c18a9367065438a43ba10a02n,32.0,30.0,"tests/integration/clock.php,CAS_DELIMITER,tests/integration/test_clock.py,CAS_DELIMITER",2.0,1.0,1.0,0.9992492479956564,10.0,15.0,7.0,440.04471064814817,5564.5,1.0011362481763808,621.0,Preventative,False,,
c88aa56673c9446f28349f25c9e0cb92b82f748c,b7d08cf86f62ee28068d11823ce340a9f8f41bd1,Wez Furlong,wez@fb.com,Thu Mar 1 17:14:03 2018 -0800,1519953243,migrate cursor.php test to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128283nnfbshipit-source-id: 0dfc9cd741c1b5428a525207de996e9a4f6d882bn,59.0,51.0,"tests/integration/cursor.php,CAS_DELIMITER,tests/integration/test_cursor.py,CAS_DELIMITER",2.0,1.0,1.0,0.9961812375892514,8.0,25.5,6.0,578.6365277777778,5566.5,1.0008641003047634,623.0,Preventative,False,,
b7d08cf86f62ee28068d11823ce340a9f8f41bd1,8d03409118f538230621928bd8e794a028bebd1b,Wez Furlong,wez@fb.com,Thu Mar 1 17:14:05 2018 -0800,1519953245,migrate dirname to test to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128276nnfbshipit-source-id: 9bdf9451c256d7365fcd9680cf4f99e943f2b723n,129.0,131.0,"tests/integration/dirname.php,CAS_DELIMITER,tests/integration/test_dirname.py,CAS_DELIMITER",2.0,1.0,1.0,0.9999573162938168,8.0,65.5,2.0,472.88519675925926,5568.5,1.0010573390823536,625.0,Preventative,False,,
8d03409118f538230621928bd8e794a028bebd1b,391454dd45e4701091b585de1c6dd85dedab0b12,Wez Furlong,wez@fb.com,Thu Mar 1 17:14:07 2018 -0800,1519953247,migrate empty.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128274nnfbshipit-source-id: 48b7017a7bf915194144bb3b807aab399096b38cn,53.0,68.0,"tests/integration/empty.php,CAS_DELIMITER,tests/integration/test_empty.py,CAS_DELIMITER",2.0,1.0,1.0,0.9888859042425892,8.0,34.0,5.0,578.6365509259259,5570.5,1.0008641002701957,627.0,None,False,,
391454dd45e4701091b585de1c6dd85dedab0b12,46c915fb19f07c5383d87d1d0e1a9e5b605bbbfc,Wez Furlong,wez@fb.com,Thu Mar 1 22:03:57 2018 -0800,1519970637,migrate fields.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128273nnfbshipit-source-id: 1a6364040dccec4964820bbb181eabd516e9006cn,81.0,87.0,"tests/integration/fields.php,CAS_DELIMITER,tests/integration/test_fields.py,CAS_DELIMITER",2.0,1.0,1.0,0.999079718180582,8.0,43.5,5.0,578.7371875,5572.5,1.0008639500118524,629.0,None,False,,
46c915fb19f07c5383d87d1d0e1a9e5b605bbbfc,c31b199316eb31a77a9758ad09df7e52a5f7128d,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:00 2018 -0800,1519970640,migrate fishy.php and moremoves.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128287nnfbshipit-source-id: b4ff968072116ccfda76616337107b622fc6def0n,89.0,110.0,"tests/integration/fishy.php,CAS_DELIMITER,tests/integration/moremoves.php,CAS_DELIMITER,tests/integration/test_fishy.py,CAS_DELIMITER",3.0,1.0,1.0,1.5222272320122905,8.0,36.66666666666666,13.0,699.9174961419752,5575.0,1.000671250352456,632.0,None,False,,
c31b199316eb31a77a9758ad09df7e52a5f7128d,9a7b18802ae041ccc8598f037e866688a813554b,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:02 2018 -0800,1519970642,migrate info.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128279nnfbshipit-source-id: 899d7bd1c66c62c976589505c124ef670e960260n,38.0,33.0,"tests/integration/info.php,CAS_DELIMITER,tests/integration/test_info.py,CAS_DELIMITER",2.0,1.0,1.0,0.9964196342978481,8.0,16.5,4.0,578.7372164351851,5577.5,1.0008639499686574,634.0,None,False,,
9a7b18802ae041ccc8598f037e866688a813554b,52516ca470cffa41a3b5b05a93f46fcf12f5edec,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:05 2018 -0800,1519970645,migrate invalidexpr.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128277nnfbshipit-source-id: cdf95155341dd99d113c32e48edd0e80b5f21158n,48.0,60.0,"tests/integration/invalidexpr.php,CAS_DELIMITER,tests/integration/test_invalid_expr.py,CAS_DELIMITER",2.0,1.0,1.0,0.9910760598382222,8.0,30.0,4.0,578.7372337962962,5579.5,1.0008639499427403,636.0,None,False,,
52516ca470cffa41a3b5b05a93f46fcf12f5edec,415637c37dcd9ff1a8519bea92840623a5bdfab8,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:09 2018 -0800,1519970649,remove modified.phpSummary: coverage for this is subsumed by the more extensive tests in test_subscribe.pynnReviewed By: simpkinsnnDifferential Revision: D7128282nnfbshipit-source-id: 4ff6118435c6274dafe8daa792a07cdaad498c21n,0.0,35.0,"tests/integration/modified.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,35.0,3.0,1157.4745138888886,5581.0,1.0008639499081844,637.0,None,False,,
415637c37dcd9ff1a8519bea92840623a5bdfab8,f8b6045eff5d8bc8ad3885bf780d95cfd96fa575,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:11 2018 -0800,1519970651,migrate movereadd.php to pythonSummary: this test was misnamed so the new version has a more appropriate namennReviewed By: simpkinsnnDifferential Revision: D7128307nnfbshipit-source-id: 1dc43d2cec8f93d496987e10ef8ea11f37e2669dn,41.0,84.0,"tests/integration/movereadd.php,CAS_DELIMITER,tests/integration/test_remove_then_add.py,CAS_DELIMITER",2.0,1.0,1.0,0.9128699190400288,18.0,42.0,9.0,136.61644097222222,5582.5,1.0036598816104547,639.0,Feature Addition,False,,
f8b6045eff5d8bc8ad3885bf780d95cfd96fa575,52e03a67617dc0830984c8388891ccc0ecf9be0f,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:14 2018 -0800,1519970654,migrate ignore.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128280nnfbshipit-source-id: 892b4ff62997b24e951b881513f3dc2c05bac4e5n,90.0,107.0,"tests/integration/ignore.php,CAS_DELIMITER,tests/integration/test_ignore.py,CAS_DELIMITER",2.0,1.0,1.0,0.9946216356259528,14.0,53.5,10.0,220.9587962962963,5584.5,1.0022628653322745,641.0,None,False,,
52e03a67617dc0830984c8388891ccc0ecf9be0f,d3a096b803db33511b13a269e64f7d6700bc81d4,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:16 2018 -0800,1519970656,migrate name.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128278nnfbshipit-source-id: e64332f453a35701c5a64dc5840511e02612b731n,123.0,116.0,"tests/integration/name.php,CAS_DELIMITER,tests/integration/test_name.py,CAS_DELIMITER",2.0,1.0,1.0,0.9993811193132808,8.0,58.0,6.0,578.7372974537037,5586.5,1.0008639498477114,643.0,None,False,,
d3a096b803db33511b13a269e64f7d6700bc81d4,3fbe9055947a9003730876ac28f1b2dceaf3e532,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:19 2018 -0800,1519970659,migrate othercookies.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7128281nnfbshipit-source-id: 20c206fd2ccc26c4405723beb89c4b1f6cf91de8n,34.0,41.0,"tests/integration/othercookies.php,CAS_DELIMITER,tests/integration/test_cookie.py,CAS_DELIMITER",2.0,1.0,1.0,0.993707106604508,20.0,41.0,6.0,581.6982928240741,5588.5,1.0008617509702118,645.0,None,False,,
3fbe9055947a9003730876ac28f1b2dceaf3e532,96e736d389ab7e3366bec6e1e49e6c9065ee035d,Wez Furlong,wez@fb.com,Thu Mar 1 22:04:21 2018 -0800,1519970661,migrate watch-del-all.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7130818nnfbshipit-source-id: 6b37e3830dbbf76000ba5c4a27a859819ea698cen,30.0,41.0,"tests/integration/test_watch_del_all.py,CAS_DELIMITER,tests/integration/watch-del-all.php,CAS_DELIMITER",2.0,1.0,1.0,0.982615428552612,8.0,20.5,2.0,472.9859837962963,5590.5,0.5005285568887126,647.0,None,False,,
96e736d389ab7e3366bec6e1e49e6c9065ee035d,ea2c6ceba70965d755bfd912222ff61b14ae5358,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:10 2018 -0800,1520051350,migrate type.phpSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7133610nnfbshipit-source-id: 9e66f45298dd05cb43898384185befee45e76afcn,48.0,71.0,"tests/integration/test_type.py,CAS_DELIMITER,tests/integration/type.php,CAS_DELIMITER",2.0,1.0,1.0,0.9728829270100618,13.0,35.5,6.0,249.09085648148152,5592.5,0.5010036498470131,649.0,None,False,,
ea2c6ceba70965d755bfd912222ff61b14ae5358,109afc0a61a960b04d505119bed7952549f91519,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:13 2018 -0800,1520051353,"migrate twodeep.php to pythonSummary:ntest_fields.py has covered for the validity of fieldsnin general, so this test can just focus on the mtime and depthnrelation that the original was testing.nnReviewed By: simpkinsnnDifferential Revision: D7133601nnfbshipit-source-id: c962f7cf65765bb17941ed085494278a6f0770cen",38.0,63.0,"tests/integration/test_two_deep.py,CAS_DELIMITER,tests/integration/twodeep.php,CAS_DELIMITER",2.0,1.0,1.0,0.9553413768968344,18.0,31.5,7.0,128.17798032407407,5594.5,0.5019504130067265,651.0,None,False,,
109afc0a61a960b04d505119bed7952549f91519,d68734d7519e72595bb72612fa37d3a0cbc18c32,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:15 2018 -0800,1520051355,migrate trigger-error.php to pythonSummary: and another onennReviewed By: simpkinsnnDifferential Revision: D7133606nnfbshipit-source-id: 0207f1f126d93ba49a1054f1261ca85f9d252c44n,96.0,127.0,"tests/integration/test_trigger_error.py,CAS_DELIMITER,tests/integration/trigger-error.php,CAS_DELIMITER",2.0,1.0,1.0,0.9860148986230132,19.0,63.5,4.0,84.21293981481482,5596.5,0.5029686649171701,653.0,None,False,,
d68734d7519e72595bb72612fa37d3a0cbc18c32,b085c2184941401bd1bd9e395d7acfdc73c2713f,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:18 2018 -0800,1520051358,migrate suffix generator test to pythonSummary: this one walks the suffix indexnnReviewed By: simpkinsnnDifferential Revision: D7133608nnfbshipit-source-id: bb602cc3f25a00e968bd25130230de3690168509n,51.0,52.0,"tests/integration/suffixgenerator.php,CAS_DELIMITER,tests/integration/test_suffix_generator.py,CAS_DELIMITER",2.0,1.0,1.0,0.9999320050095964,8.0,26.0,4.0,473.4529803240741,5598.5,1.0010560710794507,655.0,Corrective,True,,
b085c2184941401bd1bd9e395d7acfdc73c2713f,083d410db82b567824b78b21587c457c9679d636,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:22 2018 -0800,1520051362,"migrate suffix.php to pythonSummary: most of this was moved already, this was the last remaining bit for this file.nnReviewed By: simpkinsnnDifferential Revision: D7133603nnfbshipit-source-id: 05a452acc0af9be9ac3a1cc7c937fcef09697838n",23.0,35.0,"tests/integration/suffix.php,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER",2.0,1.0,1.0,0.9784493292686188,19.0,86.0,5.0,188.02631944444443,5600.5,1.0039888032814557,657.0,Corrective,True,,
083d410db82b567824b78b21587c457c9679d636,2a9db1865be83a695e800f9d4092f4e081a30958,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:24 2018 -0800,1520051364,migrate size.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7133604nnfbshipit-source-id: 03d8451f8588b02180b53e26eb5cc4419a6ec164n,54.0,54.0,"tests/integration/size.php,CAS_DELIMITER,tests/integration/test_size.py,CAS_DELIMITER",2.0,1.0,1.0,1.0,8.0,27.0,2.0,473.4530150462963,5602.5,1.0010560710020002,659.0,None,False,,
2a9db1865be83a695e800f9d4092f4e081a30958,f878b35b6632ad602ab0d3dbb10ddc10627968c4,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:27 2018 -0800,1520051367,migrate since-term.php to pythonSummary: another onennReviewed By: simpkinsnnDifferential Revision: D7133605nnfbshipit-source-id: fe005103be849465ad25075e3e63197470504a24n,94.0,123.0,"tests/integration/since-term.php,CAS_DELIMITER,tests/integration/test_since_term.py,CAS_DELIMITER",2.0,1.0,1.0,0.9870782544978228,18.0,61.5,9.0,148.58425925925926,5604.5,1.0033650940045242,661.0,None,False,,
f878b35b6632ad602ab0d3dbb10ddc10627968c4,3a161f2bc41be63bccd649e9c3a8528d20227ecf,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:29 2018 -0800,1520051369,remove rmroot.phpSummary: This has been subsumed by the coverage in test_cookie.pynnReviewed By: simpkinsnnDifferential Revision: D7133609nnfbshipit-source-id: 214c149056f4e4fe2ebaf110dbdead0c8c296409n,0.0,50.0,"tests/integration/rmroot.php,CAS_DELIMITER",1.0,1.0,1.0,0.0,8.0,50.0,6.0,939.4648958333332,5606.0,1.001064435727652,662.0,None,False,,
3a161f2bc41be63bccd649e9c3a8528d20227ecf,88c1ce38a83f5e3da3842bc2b28d5a6b3bd5db05,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:32 2018 -0800,1520051372,migrate remove.php to pythonSummary: as abovennReviewed By: simpkinsnnDifferential Revision: D7133602nnfbshipit-source-id: 64049eb0339fb5c25e914cb8bcf56e6475f4c7bcn,65.0,80.0,"tests/integration/remove.php,CAS_DELIMITER,tests/integration/test_remove.py,CAS_DELIMITER",2.0,1.0,1.0,0.9922666387194964,8.0,40.0,9.0,469.7324652777778,5607.5,1.0010644356883112,664.0,None,False,True,"[""703c3c94ad98cc1b0488397c7caff14d2b18deda""]"
88c1ce38a83f5e3da3842bc2b28d5a6b3bd5db05,bb5d1f095ab263ab6f11d28edc44035d0db4fd79,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:34 2018 -0800,1520051374,migrate pathgen.php to pythonSummary: last one!nnReviewed By: simpkinsnnDifferential Revision: D7133600nnfbshipit-source-id: 02229ac45ffb96c342e4624007f4773c39bc0c91n,80.0,87.0,"tests/integration/pathgen.php,CAS_DELIMITER,tests/integration/test_path_generator.py,CAS_DELIMITER",2.0,1.0,1.0,0.9987322461876548,8.0,43.5,5.0,473.45307291666666,5609.5,1.0010560708729164,666.0,None,False,,
bb5d1f095ab263ab6f11d28edc44035d0db4fd79,f6cbdc408f8dccf75231c2bc424239f67afcd846,Wez Furlong,wez@fb.com,Fri Mar 2 20:29:36 2018 -0800,1520051376,remove php test running infraSummary: redpartynnReviewed By: chadaustinnnDifferential Revision: D7133607nnfbshipit-source-id: f3c2492e5213876d17d7eac7835ac6e4545b82a8n,2.0,1664.0,"Makefile.am,CAS_DELIMITER,appveyor.yml,CAS_DELIMITER,make.bat,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/WatchmanDirectoryFixture.php,CAS_DELIMITER,tests/integration/WatchmanInstance.php,CAS_DELIMITER,tests/integration/WatchmanTestCase.php,CAS_DELIMITER,tests/integration/phprunner,CAS_DELIMITER,tests/integration/test_php.py,CAS_DELIMITER",9.0,2.0,2.0,1.869893046828059,22.0,243.77777777777771,196.0,147.92211805555556,5615.0,1.0030844843747428,672.0,Preventative,False,,
f6cbdc408f8dccf75231c2bc424239f67afcd846,72950c283a6b2d57ada6b8ab54ac4478a9fe6f32,Wez Furlong,wez@fb.com,Mon Mar 5 19:23:14 2018 -0800,1520306594,"fix existential issue with SCM aware queriesSummary:nThis was a bit of a thorny issue to run down.  What was happening wasnthis: when source control aware mode is enabled we subvert the normal recencynindex and use the `pathGenerator` rather than the `timeGenerator`.nnWe pass the list of files that we got back from the source control system tonthe path generator and let it evaluate the query based on information thatnwe've observed in the InMemoryView.nnIf watchman has never observed some components of the paths returned by thensource control query, such as in the case where watchman was restarted afternchecking out the revision, and we're asked about changes since an earlier hash,nthe `pathGenerator` will not be able to furnish information about the pathsnreturned by source control.   This means that we are potentially inaccurate fornfiles that exist on the filesystem (although we will likely soon observe thencurrent state of those files), but more critically, we cannot returnninformation about files that were deleted in between the commits in the querynrange.nnThe resolution is not to use the InMemoryView as the source of informationnabout these files.nnThis diff adds a LocalFileResult for just this purpose; this is annimplementation of the FileResult class that knows how to stat the localnfilesystem as needed to furnish the metadata that may be needed by the query.nI'm not thrilled that it needs to stat the files, but this the simplest way tonobtain correct results and we can figure out if we need to do better than thisnin practice as a follow up.nnI've also broken out the guts of `ContentHashCache::computeHashImmediate`nas a static function so that we can call it from `LocalFileResult`.nIdeally we'd find a way to plumb in the cache that is held in then`InMemoryView`, but we're operating at a different layer and cannotnguarantee that it is present; it isn't present for Eden and we stillnneed to solve the hash computation issue for Eden.  Those are out ofnscope wrt. resolving this issue in the short term.nnReviewed By: simpkinsnnDifferential Revision: D7142088nnfbshipit-source-id: 35b7d7745e30adabb8b9a7b3713d6ba3500b3552n",175.0,20.0,"ContentHash.cpp,CAS_DELIMITER,ContentHash.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",8.0,4.0,4.0,2.312765592200441,22.0,210.125,309.0,121.66893229166666,5623.5,1.001666266775608,247.0,Corrective,True,True,"[""9a654898aded925262d5f1c3b344de29bedf7656""]"
72950c283a6b2d57ada6b8ab54ac4478a9fe6f32,9a654898aded925262d5f1c3b344de29bedf7656,Wez Furlong,wez@fb.com,Mon Mar 5 22:02:48 2018 -0800,1520316168,"fix compilation issue with various compilersSummary:nThis passed on the compilers in our internal CI, but failednon some of the Travis and Circle CI hostsnnDifferential Revision: D7142088nnfbshipit-source-id: 1792ab124092b9da5b5b56cec7266e2cc5fcb5b7n",1.0,1.0,"query/eval.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,360.0,63.0,0.1108101851851852,5628.0,10.02444119490286,336.0,Corrective,True,,
9a654898aded925262d5f1c3b344de29bedf7656,fe199e3652001071931910e62a6423e9012c21c2,Wez Furlong,wez@fb.com,Tue Mar 6 07:58:30 2018 -0800,1520351910,"speculative deadlock avoidanceSummary:nI saw a stack trace from an opt build that looked like this:nn```ndone.n(gdb) p/a 0x4114d3n$1 = 0x4114d3 <log_stack_trace()+41 at watchman/log.cpp:43>n(gdb) p/a 0x6d4466n$3 = 0x6d4466 <watchman::Log::doLogToStdErr()+646 at watchman/log.cpp:183>n(gdb) p/a 0x4426e8n$2 = 0x4426e8 <watchman::Publisher::enqueue(json_ref&&)+776 at third-party-buck/gcc-5-glibc-2.23/build/libgcc/include/c++/trunk/functional:2267>n(gdb) p/a 0x6d5afbn$4 = 0x6d5afb <w_log(int, char const*, ...)+907 at watchman/Logging.h:76>n(gdb) p/a 0x441041n$5 = 0x441041 <watchman::Publisher::Subscriber::~Subscriber()+81 at watchman/watchman_shared_mutex.h:50>n(gdb) p/a 0x4412f3n$6 = 0x4412f3 <watchman::Publisher::Subscriber::~Subscriber()+771 at third-party-buck/gcc-5-glibc-2.23/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:150>n(gdb) p/a 0x4566cfn$7 = 0x4566cf <watchman_user_client::unsubByName(w_string const&)+607 at third-party-buck/gcc-5-glibc-2.23/build/libgcc/include/c++/trunk/bits/shared_ptr_base.h:150>n(gdb) p/a 0x456b39n$8 = 0x456b39 <cmd_unsubscribe(watchman_client*, json_ref const&)+105 at watchman/cmds/subscribe.cpp:428>n(gdb) p/a 0x4518e4n$9 = 0x4518e4 <dispatch_command(watchman_client*, json_ref const&, int)+244 at watchman/cmds/reg.cpp:185>n```nnFrom staring at the code it looks possible that we might recursively wlock,nbut I've been unable to get this to reproduce with opt, asan or ubsan enablednbuilds :-/nnDifferential Revision: D7146766nnfbshipit-source-id: 671230b13fb7e96a2bd06b95089d80d4f41487ccn",21.0,0.0,"cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,2.0,2.0,0.5916727785823275,20.0,635.5,83.0,64.44940972222223,5629.5,1.0522602556813552,674.0,None,False,True,"[""5dfcdd908d02ad1f60e701072f41dfe4fbf5bbec""]"
fe199e3652001071931910e62a6423e9012c21c2,ebf9783e08a1a3dd1f28e235d1d49e9a0e9f53ef,Wez Furlong,wez@fb.com,Tue Mar 6 13:47:15 2018 -0800,1520372835,"add py3 compat methods to appease deprecation noticesSummary:nWhen running on py2, create aliases for the py3 namesnof these regexp methods so that we can't just use those andnnot worry about the linter giving us bad advice.nnWhile looking into some linter issues, I found there were a couplenmore things worth fixing up; we were adding py2 compat to py3 fornone method so I decided to flip that around and make all of thenunit test method monkey patches prefer the py3 names, and applynit to the unit test class base class rather than the watchmannspecific test case class.nnI also re-discovered some other monkey-patching that I had donenfor windows and had forgotten about in the recent migration ton`test_remove.py`; I've added directory making to the windowsnspecific backoff.nnDifferential Revision: D7133968nnfbshipit-source-id: 0fa9e710eef1aff4a92540330b31d4a7b9c62a46n",95.0,109.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_capabilities.py,CAS_DELIMITER,tests/integration/test_clock.py,CAS_DELIMITER,tests/integration/test_eden_broken_mount.py,CAS_DELIMITER,tests/integration/test_eden_watch_root.py,CAS_DELIMITER,tests/integration/test_fields.py,CAS_DELIMITER,tests/integration/test_name.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_remove.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER,tests/integration/test_suffix_generator.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/test_trigger_error.py,CAS_DELIMITER",17.0,1.0,1.0,2.8898105176428017,20.0,157.64705882352942,128.0,88.25457244008713,5639.0,1.0064797070519986,691.0,Feature Addition,False,,
ebf9783e08a1a3dd1f28e235d1d49e9a0e9f53ef,703c3c94ad98cc1b0488397c7caff14d2b18deda,Wez Furlong,wez@fb.com,Tue Mar 6 13:47:17 2018 -0800,1520372837,fix race condition in fsevents watcher when removing rootSummary:n`test_remove.py` was flaking out on travis due to this issue.nFrom the logs it's clear that we don't recognize that the root hasnbeen removed.nnAdd an additional check for the root being removed rather thannrelying on the other signals from fsevents about unmounting andnother changes to the root.nnDifferential Revision: D7160741nnfbshipit-source-id: e125596d32152ebe441ca170808d7b2ac967b344n,11.0,1.0,"tests/integration/test_remove.py,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,20.0,364.0,38.0,5.465549768518518,5648.5,21601.0457410527,280.0,Corrective,True,,
703c3c94ad98cc1b0488397c7caff14d2b18deda,620ee5ab9a7e09eed1babb54be8788a513a5c4e3,Wez Furlong,wez@fb.com,Tue Mar 6 13:47:19 2018 -0800,1520372839,more de-flaking of wm_wait.pySummary: one more thing to wait onnnDifferential Revision: D7160742nnfbshipit-source-id: 5b7faaaae78bea5246c39031e677329262e509e3n,19.0,10.0,"tests/integration/test_wm_wait.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,114.0,4.0,6.7776851851851845,5650.0,1.1475429992213009,693.0,None,False,,
620ee5ab9a7e09eed1babb54be8788a513a5c4e3,5dfcdd908d02ad1f60e701072f41dfe4fbf5bbec,Wez Furlong,wez@fb.com,Wed Mar 7 11:40:14 2018 -0800,1520451614,"fix deadlock in subscription teardownSummary:nIn speaking with jbower earlier today, he said that he'dnnoticed correlation between this fault and the webserver crashing.nSince the webserver may have multiple subscriptions this gave mensome inspiration for the integration test to try to reproduce this.nnThe issue is a race condition: if multiple different client sessionsnare terminated at the same time then it is possible for the `~Subscriber`ndestructor to end up holding the final reference to some other `Subscriber`ninstance and thus end up recursing into its `~Subscriber` and deadlocknwhile attempting to re-acquire the wlock that is already held by thencurrent thread.nnReviewed By: chadaustinnnDifferential Revision: D7178797nnfbshipit-source-id: 540728d76ade29ea0bcf4716a71b7055966e401en",48.0,24.0,"PubSub.cpp,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",3.0,2.0,2.0,1.2912331689695833,20.0,472.0,76.0,64.81956018518518,5652.0,1.0051667831683309,695.0,Corrective,True,,
5dfcdd908d02ad1f60e701072f41dfe4fbf5bbec,aed1711316df263c69a220825e17026f227b5a13,Wez Furlong,wez@fb.com,Wed Mar 7 14:36:45 2018 -0800,1520462205,"improve existential SCM aware query handlingSummary:nD7142088 made a valiant attempt but there were a couplenof holes in the implementation that were missed because therenwere some gaps in our testing:nn* The absolute path that we constructed in LocalFileResult wasn  not consistently using the prefix from the root, so we weren  falsely considering a number of files as deleted.  This squeakedn  through in the prior diff because the test case for this featuren  was explicitly checking only for deleted files.  The integrationn  test has been added to check for a file existing this time around.n* The FileInformation instance that got generated for a file thatn  didn't exist was simply zeroed out.  This meant that none of then  query expression syntax that matched on file type would evern  successfully select a result.  I've expanded the integration testn  to include a `[type: f]` expression to make sure that we'ren  exercising this.n* I've added a helper method to `FileInformation` to construct an  special *I was a file but I've been deleted* instance that wen  construct in `LocalFileResult::getInfo` in that case.n* The `LocalFileResult::dirname` method is supposed to returnn  the complete absolute path to the file, minus its basename.n  We were only returning the path relative to the root.  Thisn  happened to pass the last rounds of tests because they weren  looking only at files contained directly within the root,n  and that just happened to work out.  When the files have multiplen  path components what was happening was that they would getn  truncated at nonsensical (but memory-safe) offsets.  I'ven  expanded the test to include multiple directory levels ton  tickle this case also.nnReviewed By: simpkinsnnDifferential Revision: D7180898nnfbshipit-source-id: ecbe6466f15ce3c8e5c0886b2945b15f3a7d2665n",70.0,15.0,"FileInformation.cpp,CAS_DELIMITER,FileInformation.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",6.0,3.0,3.0,2.32289723429838,22.0,164.0,83.0,94.15627700617287,5656.5,1.0020819466638329,696.0,None,False,,
aed1711316df263c69a220825e17026f227b5a13,f62e30d5248e760f8898d773d6c335f6f11be58f,Wez Furlong,wez@fb.com,Wed Mar 7 18:39:01 2018 -0800,1520476741,Fix autogen issueSummary:nRefs: https://github.com/facebook/watchman/issues/579nCloses https://github.com/facebook/watchman/pull/580nnDifferential Revision: D7190473nnPulled By: weznnfbshipit-source-id: 183a934fe3f427e11de371956c6dc056b056703en,1.0,0.0,"configure.ac,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,355.0,112.0,97.41699074074074,5660.0,1.0102651497690105,2677.0,Corrective,True,,
f62e30d5248e760f8898d773d6c335f6f11be58f,0d84c016da22cabf48b5b04b3545f1ecc7aa1fd9,Wez Furlong,wez@fb.com,Wed Mar 7 19:18:23 2018 -0800,1520479103,avoid python 2.7+ set literalsSummary:nWe still need to run with python 2.6nCloses https://github.com/facebook/watchman/pull/581nnDifferential Revision: D7190828nnPulled By: weznnfbshipit-source-id: fc037ae7d4ea8b50c6524f15ecc17014d57f0297n,2.0,2.0,"tests/integration/test_subscribe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,714.0,25.0,0.3181597222222222,5661.0,4.143075411982975,697.0,None,False,,
0d84c016da22cabf48b5b04b3545f1ecc7aa1fd9,222a0349996fd458b1fab501ace4f890b8cb8fa5,Wez Furlong,wez@fb.com,Thu Mar 8 14:22:24 2018 -0800,1520547744,"remove mostly unused slice stuff from w_stringSummary:nthis made more sense in the old C world, but overntime has been superseded by w_string_piece and is now rarelynused.  Removing it saves a pointer sized word in every stringnand simplifies a bit of code.nnReviewed By: chadaustinnnDifferential Revision: D7196158nnfbshipit-source-id: a29aa197c06a7724a0cc79083e3639185b00531dn",38.0,169.0,"ChildProcess.cpp,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",8.0,4.0,4.0,1.9602744453354943,20.0,636.125,245.0,121.57830729166668,5665.5,1.0017650455617462,2682.0,None,False,,
222a0349996fd458b1fab501ace4f890b8cb8fa5,17e47212a5f425f533abd4c34fa542612593ec38,Wez Furlong,wez@fb.com,Thu Mar 8 14:22:26 2018 -0800,1520547746,"eliminate last w_string_delref call outside string.cppSummary:nthis was the last hangover from the older C days, andnwe can clean up a little bit more of the surrounding code.nnReviewed By: chadaustinnnDifferential Revision: D7196160nnfbshipit-source-id: dfc1911ac4c13820845eed3c4167edf1ca33cb6en",12.0,114.0,"query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",4.0,2.0,2.0,1.3529242616141255,20.0,575.5,129.0,70.25046006944447,5671.5,1.0035586959949347,2684.0,None,False,True,"[""a8f616587f8f134491f7f565e5581e60db577d83""]"
17e47212a5f425f533abd4c34fa542612593ec38,e5857060573f3df167cb5c5d537b74679b6c9d28,Wez Furlong,wez@fb.com,Thu Mar 8 14:22:28 2018 -0800,1520547748,refactor w_string_normalize_separatorsSummary:nRemove the API with the bare pointer return and putnthe implementation inside the smart pointer returning method.nnReviewed By: chadaustinnnDifferential Revision: D7196159nnfbshipit-source-id: 3d0c3fa683fa7d2a7178a4e7b752c724332a401an,41.0,55.0,"query/name.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",3.0,2.0,2.0,0.5417778693328628,20.0,577.3333333333334,107.0,2.314814814814815e-05,5675.0,26401.0,2686.0,None,False,,
e5857060573f3df167cb5c5d537b74679b6c9d28,60811e5a7c83ed54d8e18ce474ea7feeea17906c,Wez Furlong,wez@fb.com,Thu Mar 8 14:35:05 2018 -0800,1520548505,"fix potential dangling referenceSummary:nI saw a SEGV stack trace in this function in the coredumper dataset.nnIdeally we'd thread a shared_ptr through here, but the fieldlist is typicallyna very small vector of a couple of pointers, and this async render code pathnis used rarely (only when computing content sha1s) so the relative cost shouldnbe neglible.nnReviewed By: simpkinsnnDifferential Revision: D7191799nnfbshipit-source-id: b9137a11d7c903f18e54ef88cb16f6a66130f50fn",2.0,2.0,"query/fieldlist.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,303.0,16.0,279.92097222222225,5677.0,1.0035724368633805,342.0,Corrective,True,,
60811e5a7c83ed54d8e18ce474ea7feeea17906c,d8ccf7efadf5b970f05b0482c05a2ebc51897cd1,Wez Furlong,wez@fb.com,Sat Mar 10 08:48:16 2018 -0800,1520700496,"watchman_dir::getChildFile now uses string_pieceSummary:nThe map is already keyed by and was using string piecenfor its lookups, so there's no reason not to change the parameterntype to match.nnReviewed By: chadaustinnnDifferential Revision: D7209340nnfbshipit-source-id: 1816f5118d53ca3911537bde12be7ea4c55d7065n",3.0,3.0,"root/dir.cpp,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,13.0,34.0,24.0,465.7329398148148,5678.5,1.0016103649449797,2688.0,None,False,,
d8ccf7efadf5b970f05b0482c05a2ebc51897cd1,7f8eee6cabf14cb99ed34894561ee0496ce623dc,Wez Furlong,wez@fb.com,Sat Mar 10 08:48:18 2018 -0800,1520700498,"use string piece for watchman_dir::getChildDirSummary:nMirroring getChildFile.  Since this makes the map usennon-owning references, add appropriate comments about beingncareful.nnReviewed By: chadaustinnnDifferential Revision: D7209334nnfbshipit-source-id: 830e468a9b9868d2b7c52653cd43e52db1c24c18n",10.0,4.0,"InMemoryView.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER",3.0,1.0,1.0,1.448815635725185,20.0,287.6666666666667,79.0,0.589344135802469,5681.0,1.5656078976267631,2691.0,None,False,,
7f8eee6cabf14cb99ed34894561ee0496ce623dc,642f8df91b5cf083432acfa966ae061282fbb348,Wez Furlong,wez@fb.com,Sat Mar 10 08:48:19 2018 -0800,1520700499,"remove stack based w_string hackSummary:nthe hot paths now use the code that uses string_piecenfor keys.  There was one code path in the json bits that wasnusing it, but it is not in the hot path: we would use it onlynduring parsing of commands so relatively speaking it is cheapnto do without.nnWe can always add overloads that take w_String for that ifnneeded.nnReviewed By: chadaustinnnDifferential Revision: D7209342nnfbshipit-source-id: 7403a1bbe750a06dd43123b18f970c2d995b6dd9n",14.0,52.0,"InMemoryView.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",5.0,3.0,3.0,2.077305494265376,20.0,720.4,194.0,57.61473148148148,5685.0,17281.002803004645,2694.0,None,False,,
642f8df91b5cf083432acfa966ae061282fbb348,94e66865386e844f2cffe52e355a94c96562d2e3,Wez Furlong,wez@fb.com,Mon Mar 12 12:46:49 2018 -0700,1520884009,fix windows download link and linux install depsSummary:nExplicitly filter out pull requests from the possible set of downloads!nnRefs: https://github.com/facebook/watchman/issues/583nRefs: https://github.com/facebook/watchman/pull/584nnAlso explicitly state the libssl-dev dep.nCloses https://github.com/facebook/watchman/issues/585nnReviewed By: chadaustinnnDifferential Revision: D7241584nnfbshipit-source-id: 44f8d7058144b5064c41c650ba79573386be0047n,7.0,4.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,213.0,10.0,276.90557870370367,5688.0,1.003611339304471,234.0,Corrective,True,,
94e66865386e844f2cffe52e355a94c96562d2e3,fab2ee1f1a19b16379ba49fcd438f19e86c026c7,Wez Furlong,wez@fb.com,Mon Mar 12 14:05:55 2018 -0700,1520888755,"remove buf pointer from w_string_tSummary:nwith the slices gone and the stack based w_string removed,nwe can remove the pointer and just have the buf member start wherenthe character data has always started... and save a pointer sizednword at the same time.nnReviewed By: chadaustinnnDifferential Revision: D7209338nnfbshipit-source-id: 234a7a1ed8e82947e971a65cd10cc3844fb2e13an",20.0,33.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.0937623721807688,20.0,578.0,104.0,96.4354899691358,5690.0,1.2306269384846669,248.0,None,False,,
fab2ee1f1a19b16379ba49fcd438f19e86c026c7,8315dee8d0a18d2026354ec24b4f4859d36511c9,Wez Furlong,wez@fb.com,Mon Mar 12 14:05:57 2018 -0700,1520888757,remove dead codeSummary: these functions are unusednnReviewed By: chadaustinnnDifferential Revision: D7209341nnfbshipit-source-id: 800ff09064817b598c3a6c4e1700e73d2f029d93n,0.0,21.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.7918583525674836,20.0,770.0,101.0,2.314814814814815e-05,5692.5,32401.0,2698.0,None,False,,
8315dee8d0a18d2026354ec24b4f4859d36511c9,085866203c94f1d1b38eefa6f047b2eb16dbcb0d,Wez Furlong,wez@fb.com,Mon Mar 12 14:05:59 2018 -0700,1520888759,refactor w_dir_path_cat_str -> getFullPathToChildSummary:nThis removes the horrible C style name and clarifiesnthe comments.nnReviewed By: chadaustinnnDifferential Revision: D7209333nnfbshipit-source-id: 9077f9422bb3ede7b4a4c80e8d05c58f2af66973n,17.0,14.0,"InMemoryView.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/dir.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watchman_dir.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",8.0,2.0,2.0,2.668042587700525,20.0,399.75,259.0,61.033019386574075,5697.5,1.0592148653607938,2705.0,None,False,,
085866203c94f1d1b38eefa6f047b2eb16dbcb0d,b8fb9a323d71fe85191cb56e41d3b5a928368a17,Wez Furlong,wez@fb.com,Mon Mar 12 14:06:01 2018 -0700,1520888761,remove dead codeSummary: this C style path cat functions are unusednnReviewed By: chadaustinnnDifferential Revision: D7209339nnfbshipit-source-id: 44297bce986da8e3f3c7c6e50df9b566bfdb6747n,0.0,64.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.3372900666170139,20.0,757.5,105.0,2.314814814814815e-05,5702.5,32401.0,2707.0,None,False,,
b8fb9a323d71fe85191cb56e41d3b5a928368a17,be11e1f6babffcc3ad6848a99fe14829a2d99b8e,Wez Furlong,wez@fb.com,Mon Mar 12 14:06:04 2018 -0700,1520888764,migrate fsevents away from a legacy w_string functionSummary: can just construct this directly these daysnnReviewed By: chadaustinnnDifferential Revision: D7209337nnfbshipit-source-id: 371f4a17fd6f0af99cbb4696063749f3084a7eddn,1.0,7.0,"string.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",3.0,2.0,2.0,1.5,20.0,714.0,144.0,1.99048225308642,5705.0,9601.111642727768,2709.0,None,False,,
be11e1f6babffcc3ad6848a99fe14829a2d99b8e,c6ce3322666bf7c798c1157259ad2d7d07435b26,Wez Furlong,wez@fb.com,Mon Mar 12 14:06:06 2018 -0700,1520888766,make w_string_new_len_typed privateSummary: this avoids leaking the unmanaged raw pointer return valuennReviewed By: chadaustinnnDifferential Revision: D7209336nnfbshipit-source-id: 4e6832d92a37333cabde75bbd334aa4c2be7696en,5.0,12.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.6722948170756379,20.0,722.5,109.0,2.314814814814815e-05,5707.5,32401.0,2711.0,Feature Addition,False,,
c6ce3322666bf7c798c1157259ad2d7d07435b26,d636dfeb4cf641c95c908a705dac463d29707b4e,Wez Furlong,wez@fb.com,Mon Mar 12 14:06:08 2018 -0700,1520888768,remove more dead codeSummary: these functions are no longer callednnReviewed By: chadaustinnnDifferential Revision: D7209335nnfbshipit-source-id: f4d159289b31c5b02bfcf7b8b84dd7e0426cca6bn,0.0,46.0,"string.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",2.0,1.0,1.0,0.3478169135710633,20.0,719.0,111.0,2.314814814814815e-05,5709.5,32401.0,2713.0,None,False,,
d636dfeb4cf641c95c908a705dac463d29707b4e,cd9adaf72fb2f0f2086ef6a0962d37d7af8ffcee,Wez Furlong,wez@fb.com,Mon Mar 12 14:19:29 2018 -0700,1520889569,"make sanity check thread persistentSummary:nWhen the sanity checking stuff was first added itnwas called every minute to validate that the unix domainnsocket still resolved to ourselves.  It was added as a detachednthread that was short lived and that terminated as soon asnthe check was complete.nnIn D6804026 the scope of the checks was expanded and it is nownpossible for systems under severe IO load to take longer thann1 minute to complete the sanity checks.  When that happensnwe can end up stacking up instances of the sanity checkingnthread and magnifying the number of clients that are blockednwaiting for progress.nnTo avoid that, this diff makes the sanity checking thread anlong lived thread that is responsible for timing and dispatchingnthe checks.   That means that we will never have multiple competingnsanity checking threads and a maximum of 1 outstanding sanitynchecking session at a time.nnReviewed By: chadaustinnnDifferential Revision: D7220354nnfbshipit-source-id: 83420c7ddeb9188518d046948b0dac645da6f156n",41.0,19.0,"checksock.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",3.0,1.0,1.0,0.7585017136921337,20.0,350.33333333333326,283.0,123.22158564814815,5712.0,1.0128676108983141,2716.0,None,False,,
cd9adaf72fb2f0f2086ef6a0962d37d7af8ffcee,a446339605889863ba47bd64d889d8072802c8a9,Wez Furlong,wez@fb.com,Thu Mar 15 11:20:23 2018 -0700,1521138023,"speculative workaround btrfs inotify issueSummary:nThis is follow on from the same root issue as the one tackled in D7014364.nnIn this flavor of the problem, on a btrfs volume, the repo has been removednand replaced by a different repo.  Since the repo was replaced, writing cookiesnto either the cookie dir or the root will not elicit inotify events and wencan never sync up for queries.nnThis diff attempts to tackle this issue by checking the inode numbers onndirectories.nn1. Previously we would use the inode number change to detect if a file had changednbut we didn't force a recursive examination of the node if it happened tonbe a directory.  This diff adds forcing on the recursive flag in that case.nn2. We would never `stat()` the root inode after starting up because we don'tnmaintain data structures that allow the root path to work with then`InMemoryView::statPath` method.  Consequently we need to explicitly add anninode number check to the `crawler` method that is used to handle directoryncontents.  We trigger a recrawl in this situation (rather than force on anrecursive flag) because the inotify watches may hold on to the now invisibleninodes for the removed subvolume indefinitely (that was the main complaint innD7014364) so it is best to throw away our inotify instance and set up a newnone.nn3. We need to trigger the above checks so we wire that in to the cookie syncnerror path.  In practice this will happen in response to a timeout and the IOnwill be scheduled async; detection and remediation will happen asynchronouslynwrt. the current query.nnWe don't have a way to detect this problem in a timely fashion around the timenof the replacement; this diff is focused on detecting and unbreaking thingsnaround the time of a subsequent query.  It will happen too late for that querynto succeed but should at least get us into a more consistent state.nnReviewed By: simpkinsnnDifferential Revision: D7250428nnfbshipit-source-id: 3f261e06c8b38f4d063ec9380c617f5d22eead78n",63.0,0.0,"InMemoryView.h,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER",4.0,1.0,1.0,1.6117258054814003,20.0,183.0,127.0,81.58627314814814,5715.5,1.0256469292613408,2720.0,None,False,,
a446339605889863ba47bd64d889d8072802c8a9,9d6ff623a4aca4bd30342da2512c1cf099727bcf,Wez Furlong,wez@fb.com,Fri Mar 16 14:15:22 2018 -0700,1521234922,fixup memory corruption issue when parsing path generatorSummary:nThis was reported as an intermittent failure.  We didn't havenintegration test coverage for queries of this form and thus missednit in the recent sweep to replace some old legacy string handling.nnI've added an integration test that reproduces the issue in ASAN modenand fixed it up by migrating away from the older `json_unpack` API.nnReviewed By: simpkinsnnDifferential Revision: D7307742nnfbshipit-source-id: 9df745612ce6bd151b465614cbf3cd65cbec09b7n,17.0,4.0,"query/parse.cpp,CAS_DELIMITER,tests/integration/test_path_generator.py,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,20.0,274.0,27.0,10.825949074074074,5718.5,1.0859586542523063,698.0,Corrective,True,True,"[""a8f616587f8f134491f7f565e5581e60db577d83""]"
9d6ff623a4aca4bd30342da2512c1cf099727bcf,8b925b4a528d91a2fadf0b95b384d5520e2ba83a,Wez Furlong,wez@fb.com,Tue Mar 20 19:25:25 2018 -0700,1521599125,"replace getCurrentClockString lock with atomicSummary:nPrior to this diff, the current clock tick was maintainednas part of the Synchronized internal view member of InMemoryView.nThis made sense because the tick value is incremented while the wlocknon this state is held during observation of the filesystem, and readsnof that value need to be consistent with the writes.nnHowever, it is a little problematic in practice.  In D7075600 wendiscovered that calling the `getMostRecentRootNumberAndTickValue`nmethod (which is a variation on `getCurrentClockString`) in annerror path would block the caller for a surprising amount of timenduring a recrawl.nnAnother problematic aspect impacts the diff I have queued onntop of this one: having these values be part of the internal viewnmeans that we have to dance carefully to avoid recursive lockingnconcerns.nnSo, let's move the tick value and the root number (the root numbernis a generation counter) outside of the Synchronized container andnreplace them with a pair of `std::atomic` values.  This frees thencallers of `getCurrentClockString` and `getMostRecentRootNumberAndTickValue`nfrom blocking and avoids the potential recursive locking headache.nnReviewed By: simpkinsnnDifferential Revision: D7214110nnfbshipit-source-id: ddeab3eece0e802370b9703f3ddd7600e5f46f4en",14.0,16.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER",4.0,1.0,1.0,1.640223928941852,20.0,400.25,188.0,73.06501157407408,5721.5,1.050571980303115,2724.0,None,False,,
8b925b4a528d91a2fadf0b95b384d5520e2ba83a,8e1671ec59d0caf071de9158553635d6e1be2c4c,Wez Furlong,wez@fb.com,Tue Mar 20 19:25:26 2018 -0700,1521599126,"state-(enter|leave) are now non-blockingSummary:nWe're seeing some slowdowns in hg update operations; the blockagenappears to be waiting on state-enter and state-leave commands issue by thenfsmonitor extension.nnThis diff builds on the prior diff and makes use of the more generalized cookiensync mechanism to arrange for the state assertion action to take place once thencookie has been observed by the IO thread.nnNote that this breaks state-enter/state-leave for the eden watcher, whichncurrently does not process cookies, however, the fsmonitor extension is notneven enabled for eden, so this is sort of a moot point; we'll need to resolventhat in a different way.nnThis diff complicates things a little; previously, we would not update thenclient->states map until after synchronization had occurred.  This made it verynsimple to understand who had made a state assertion and allowed for some strongnsanity checks.nnWith this diff, the visibility of the assertion is deferred until the cookie isnprocessed; a client may therefore be pending an enter or leave.  In the casenwhere mercurial is processing a series of updates (as part of a rebase), it isnpossible that it may have issued a series of enter/leave events and for thenvisibility of those to be queued up.  For example, there may be a pendingn`[enter, leave, enter]` at the point where fsmonitor wants to issue the closingn`leave`.nnHandling this is reasonably straight forward; when processing a leave request,nwe look for the item with the smallest id number and check based on that.  Thenid numbers are assigned in increasing values, so the smaller numbers imply thenearlier event.nnReviewed By: simpkinsnnDifferential Revision: D5118348nnfbshipit-source-id: b6f8aca6a25e61b1daf2d4e80fd6eea7544174a4n",313.0,79.0,"cmds/debug.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",6.0,3.0,3.0,1.6732194929513995,20.0,337.0,248.0,57.12505787037038,5726.5,1.0051878553561309,2726.0,None,False,,
8e1671ec59d0caf071de9158553635d6e1be2c4c,ff819f71762781339b2d6cbeb1531073241c1772,Wez Furlong,wez@fb.com,Tue Mar 20 22:21:53 2018 -0700,1521609713,defer reading of symlink targetsSummary:nI've seen a few problem reports where cold cache situations on laptopsntake a very long time to perform an initial crawl.  This diff changes thenrecording of symlink targets so that it is no performed eagerly and insteadnchanges things to use the LRU cache infrastructure that we added for contentnhash caching.nnAnother nice side benefit of this diff is that we save some memory (1xn`w_string` instance per symlink).nnReviewed By: simpkinsnnDifferential Revision: D7341642nnfbshipit-source-id: 6c632da6b557667baece71837883567d7cd5abbfn,256.0,69.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,SymlinkTargets.cpp,CAS_DELIMITER,SymlinkTargets.h,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",13.0,4.0,4.0,2.4375999180323107,22.0,299.84615384615387,518.0,35.19057247150997,5736.0,1.9600943989299608,249.0,None,False,,
ff819f71762781339b2d6cbeb1531073241c1772,e32d8d2e41f0f2948efb67fd306668a1592e0985,Wez Furlong,wez@fb.com,Wed Mar 21 22:01:02 2018 -0700,1521694862,"use otime rather than timestamps for symlink cacheSummary:nWhile timestamps seemed to work reliably on our internal CI, they'renpretty flaky on the open source CI and also on my laptop.nnSwitch the cache key to use the `otime` field instead; this holdsnthe watchman clock value from the last time we observed a changenfor a given file node and isn't subject to timestamp granularitynor clock drift concerns.nCloses https://github.com/facebook/watchman/pull/588nnDifferential Revision: D7363065nnPulled By: weznnfbshipit-source-id: 7370510a90b006a70f7cd208190ac0571304870dn",6.0,10.0,"InMemoryView.cpp,CAS_DELIMITER,SymlinkTargets.cpp,CAS_DELIMITER,SymlinkTargets.h,CAS_DELIMITER",3.0,1.0,1.0,1.505240814944148,22.0,326.0,60.0,0.9855208333333332,5744.0,1.6200894901877885,2739.0,None,False,,
e32d8d2e41f0f2948efb67fd306668a1592e0985,4232c70fdc11ba642311633ea38a3d5dd5506dcf,Wez Furlong,wez@fb.com,Thu Mar 22 11:12:31 2018 -0700,1521742351,"terminate process without running destructors on FATALSummary:nFor better or worse... I've seen this trace in the wild,nand its been lingering for 4 days!  Strangely, the process is almostnfully functional, except for flushing subscriptions.nnI suspect that we have an uncaught exception in the client thread because thenlogs look like this; these indicate that the terminating thread was a clientnthread.  We can see that it handled a query 2 seconds prior to the fault:nn```n2018-03-17T04:52:48,510: [client=0x7f7f39d3e1d0:stm=0x7f7f39c75840:pid=1819024] PERF: {system_time: 0.081978999999999996, user_time: 0.0055560000000000002, elapsed_time: 1.2319009999999999, description: quenry_execute, meta: {query_execute: {query: {expression: [allof, [not, [anyof, [dirname, .hg], [dirname, .git], [dirname, .svn]]]], since: {drop: [hg.update], scm: {mergebase-with:n master}}, relative_root: , empty_on_fresh_instance: true, fields: [name]}, fresh_instance: false, num_deduped: 0, num_results: 1, num_walked: 11}, root: {watcher: inotify, path: /data/unsers/akramer/www-hg, case_sensitive: true, recrawl_count: 0}}, start_time: 1521287567.278764, pid: 3700551, version: 4.9.0}n2018-03-17T04:52:50,116: [client=0x7f7f39d3e1d0:stm=0x7f7f39c75840:pid=1819024] std::terminate was callednFatal error detected at:n/usr/local/bin/watchman() [0x411507]n/usr/local/bin/watchman() [0x6c12f6]n/usr/local/bin/watchman() [0x443620]n/usr/local/bin/watchman() [0x6c2525]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(+0x8cd95) [0x7f7f3b8ded95]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(_ZSt9terminatev+0x10) [0x7f7f3b8dede0]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(+0xc7227) [0x7f7f3b919227]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libpthread.so.0(+0x77a8) [0x7f7f3b0157a8]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libc.so.6(clone+0x6c) [0x7f7f3a931a7c]n```nnThere was not a lot of useful additional information available from the processn(I captured a core file and poked around).  Here's the trace of the stucknthread.  None of the other threads are waiting on locks; all threads appear tonbe waiting for requests and operating reasonably; other requests for the samenroot will succeed and so on.nn```nThread 75 (Thread 0x7f7f1ab7e700 (LWP 1819033)):n```nnI've expanded our termination handler to attempt to print out the currentnexception.  This seems to be present for the obvious cases; the trace doesn'tnprovide a huge amount of context but at least we can divine the thread namenfrom the existing logging, and can also resolve to the thread function whennattaching to the gdb core file.nn```n2018-03-22T09:52:05,164: [perflog] std::terminate was called. Exception: boop.nFatal error detected at:n./buck-out/gen/watchman/watchman() [0x69ccd4]n./buck-out/gen/watchman/watchman() [0x69e7fc]n./buck-out/gen/watchman/watchman() [0x443ee0]n./buck-out/gen/watchman/watchman() [0x6a062d]n./buck-out/gen/watchman/watchman() [0x6a07f8]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(+0x8cd95) [0x7fc441cabd95]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(+0x8b9d8) [0x7fc441caa9d8]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(__gxx_personality_v0+0x387) [0x7fc441cab357]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libgcc_s.so.1(+0xff0c) [0x7fc4404cdf0c]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libgcc_s.so.1(_Unwind_RaiseException+0x1ac) [0x7fc4404ce44c]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(__cxa_throw+0x63) [0x7fc441cac053]n./buck-out/gen/watchman/watchman() [0x488dad]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libstdc++.so.6(+0xc7170) [0x7fc441ce6170]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libpthread.so.0(+0x77a8) [0x7fc4413e27a8]n/usr/local/fbcode/gcc-5-glibc-2.23/lib/libc.so.6(clone+0x6c) [0x7fc440cfea7c]n[1]1237117 abort (core dumped)  ./buck-out/gen/watchman/watchman --foreground --logfile=/dev/stdoutn```nnI also cleaned up the handling of the `send_ok` variable.  It appeared to benpossible for this to get set but then nothing would ever terminate the mainnloop.  That code was added back before much of the supporting bits had beennconverted to C++.nnI've changed the `exit()` call to `_exit()` to avoid calling `atexit`nhandlers and destructors.  We used to `abort()` here, but there are a number ofncases where we don't want that to generate a core file so it was recentlynchanged to exit.   I've added an explicit `ABORT` error level to accomodatenthis class of problem.nnReviewed By: simpkinsnnDifferential Revision: D7354472nnfbshipit-source-id: 846f93b568beb1e7b00dc91f02e71c40678c86b6n",69.0,41.0,"ChildProcess.cpp,CAS_DELIMITER,Logging.h,CAS_DELIMITER,ThreadPool.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER",11.0,2.0,2.0,2.3359325193833267,22.0,355.45454545454544,183.0,160.51416771885522,5751.0,1.0075770929277963,2748.0,None,False,,
4232c70fdc11ba642311633ea38a3d5dd5506dcf,1cb8f4e90c4f1a444e06439008a4a114fde42656,Wez Furlong,wez@fb.com,Thu Mar 22 11:17:57 2018 -0700,1521742677,"static_assert json_int_t vs time_tSummary:nIt is important that we're able to represent the full rangenof a `time_t` in a `json_int_t`.  This `static_assert` spells thatnout.nnThis is important to check because a later change in this cmake stacknbroke detection of `strtoll` for jansson on Windows, and the presence of thatnfunction is what enables 64-bit integer types.nn`time_t` is 64-bit by default on Windows.nnReviewed By: chadaustinnnDifferential Revision: D7366201nnfbshipit-source-id: 195b5387d37493a56fc33058f722285d95f80b2cn",4.0,0.0,"query/fieldlist.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,303.0,17.0,13.821435185185184,5757.0,1.0723513865674292,346.0,Preventative,False,,
1cb8f4e90c4f1a444e06439008a4a114fde42656,06044416c96791460b4dabed6446565b0d02e569,Wez Furlong,wez@fb.com,Mon Mar 26 15:42:05 2018 -0700,1522104125,fix debug level for json inputSummary: Reported in https://github.com/facebook/watchman/issues/590nnReviewed By: simpkinsnnDifferential Revision: D7403964nnfbshipit-source-id: 849420ba1d3e58cec15dc371d60f4ad5a3c9b995n,1.0,1.0,"spawn.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,19.0,319.0,33.0,26.815740740740733,5758.0,1.0372915299886054,2749.0,Corrective,True,,
06044416c96791460b4dabed6446565b0d02e569,d8501b724f25d16a7b3aa078be78ec8d7e4c1bdf,Wez Furlong,wez@fb.com,Tue Mar 27 14:39:04 2018 -0700,1522186744,"handle scm aware query errors during subscriptionsSummary:nThis is likely what was the cause of the blocked client_threadnin D7363065.  I saw this in our coredumper data set:nn```n2018-03-22T14:30:20,932: [client=0x7f7b1fd41fd0:stm=0x7f7b1fc42b70:pid=3414331] std::terminate was called. Exception: failed query for the merge base; command returned with status 65280, output= error=.n```nn```n(gdb) btnat watchman/Logging.h:52nat ../../.././libstdc++-v3/libsupc++/eh_personality.cc:676n```nnfrom the blacbox log of the user:nn```n2018/03/22 14:30:20 user 91113b24fcfd300702f12c81d6ae6738b84313fd (3236283)> killed!n exited -1 after 2.57 secondsn2018/03/22 14:30:25 user 91113b24fcfd300702f12c81d6ae6738b84313fd (3236618)> killed!n exited -1 after 6.22 secondsn2018/03/22 14:30:30 user 91113b24fcfd300702f12c81d6ae6738b84313fd (3101237)> killed!n exited -1 after 2673.23 secondsn```nnI suspected that something may have oomed (this is on a devvm), but dmesgndoesn't show any ooming around that time.  The triple kill is an artifactnof the way that chg handles fatal errors (any one child will kill all othersnif something breaks), so we need to isolate ourselves from that.nnWe also need to handle this class of error in a reasonable way.  Thenapproach here is to swallow the error and continue.  In this code path wenupdate the query position based on the result of running the query, so if wenget an exception we won't move its cursor forward.  That sounds ok to me; thennext time something in the filesystem changes we will effectively retry thatnquery and perhaps it will succeed.  I don't think there is another reasonablenalternative short of cancelling the subscription, which is a pretty heavy blow.nnReviewed By: simpkinsnnDifferential Revision: D7373808nnfbshipit-source-id: c576c3038d5483daf1f31d6f42c3ea311d2e975an",27.0,1.0,"cmds/subscribe.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,20.0,401.5,77.0,33.873038194444455,5759.5,1.0808976501243412,17.0,None,False,,
d8501b724f25d16a7b3aa078be78ec8d7e4c1bdf,804242011419703eba1ea450022310b6f5f0c349,Wez Furlong,wez@fb.com,Wed Mar 28 14:23:53 2018 -0700,1522272233,"win32: ERROR_BROKEN_PIPE -> EOF on readSummary:nwhile working on the cmake-ification on Windows, I ranninto a strange error where ChildProcess would always cause thenwatchman process to terminate in the trigger tests.  I tracednpart of that to problems with assumptions around `echo.exe` beingnavailable; in the case that the system doesn't resolve `echo.exe` the pipe to the child process is broken.nnWindows will return ERROR_BROKEN_PIPE for both reads and writes,nwhereas posix systems yield EOF on read and EPIPE (assuming thatnthat SIGPIPE is disabled) on write.nnOur default mapping is performed in winbuild/errmap.cpp.nnIn the integration test scenario, the threaded pipe reading codenwill translate EPIPE into an exception and bubble it up.nnFor reads only we want to map this to EOF.nnReviewed By: simpkinsnnDifferential Revision: D7366197nnfbshipit-source-id: dd9bd66c0c714755f672ec0379abb967ae5afb50n",8.0,2.0,"FileDescriptor.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,765.0,17.0,60.74885416666667,5761.0,1.01646121583226,2750.0,None,False,,
804242011419703eba1ea450022310b6f5f0c349,83a03b08b5ec6401aeab0b7fc30b33b9390c582a,Wez Furlong,wez@fb.com,Wed Mar 28 14:23:54 2018 -0700,1522272234,"fixup pybser fallbackSummary:nDuring cmakification I ran into an issue where, ifnthe `bser.so` python extension had not been properly built, we'dnfall back to the pure python implementation (which is intended behavior)nand then trip over a unicode related error (which is unintended behavior).nnIn `pybser.py` we were assuming that the parameters had certainntypes based on whether we thought we were python 3 or not.  Thosenassumptions were not always true and the resolution is to testnthat the type matches those expectations.nnI've amended the bser tests to strongly verify that the buildnsuccessfully generated `bser.so` because this was confusing behavior.nnReviewed By: simpkinsnnDifferential Revision: D7366199nnfbshipit-source-id: 0638d24466ccfb611d1c54a9880dd4383c0b122cn",7.0,3.0,"python/pywatchman/pybser.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,1.0,2.0,1.0,15.0,408.0,62.0,224.9191030092593,5762.5,1.0093522942309685,84.0,Corrective,True,,
83a03b08b5ec6401aeab0b7fc30b33b9390c582a,32a29463e47e39a167a5cb792ab4c1a9dd37eac7,Wez Furlong,wez@fb.com,Wed Mar 28 14:30:02 2018 -0700,1522272602,"fixup internal version reportingSummary:nThis got broken along the way, most likely by somenTARGETS file refactoring.  Since we're moving to cmake fornthe open source build, we can simplify the TARGETS file a bitntoo.nnThis removes the probing stuff that sort of helped with buildingnwith opensource buck, and enables the preprocessor define thatnpulls in the fbcode build information.nnReviewed By: simpkinsnnDifferential Revision: D7368121nnfbshipit-source-id: b5afec3a2dbd70ec9d481a53df0892bd4b978654n",10.0,292.0,"TARGETS,CAS_DELIMITER,probe.py,CAS_DELIMITER",2.0,1.0,1.0,0.7978919569660015,21.0,282.0,37.0,255.50862847222214,5764.5,1.0194364924789845,2752.0,Corrective,True,,
32a29463e47e39a167a5cb792ab4c1a9dd37eac7,a47bd93e8eb43821b0f7493295e886ff3476b959,Siddharth Agarwal,sid0@fb.com,Thu Mar 29 08:28:49 2018 -0700,1522337329,add rust supportSummary:nThis isn't complete yet -- just putting this up so we can iterate.nnCloses https://github.com/facebook/watchman/pull/459nnDifferential Revision: D6875583nnPulled By: weznnfbshipit-source-id: cb388d92f8ac0a227adda16d19d92f65b495cba9n,1944.0,4.0,".gitignore,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/serde_bser/README.md,CAS_DELIMITER,rust/serde_bser/TARGETS,CAS_DELIMITER,rust/serde_bser/src/de/bunser.rs,CAS_DELIMITER,rust/serde_bser/src/de/map.rs,CAS_DELIMITER,rust/serde_bser/src/de/mod.rs,CAS_DELIMITER,rust/serde_bser/src/de/read.rs,CAS_DELIMITER,rust/serde_bser/src/de/reentrant.rs,CAS_DELIMITER,rust/serde_bser/src/de/seq.rs,CAS_DELIMITER,rust/serde_bser/src/de/template.rs,CAS_DELIMITER,rust/serde_bser/src/de/test.rs,CAS_DELIMITER,rust/serde_bser/src/de/variant.rs,CAS_DELIMITER,rust/serde_bser/src/errors.rs,CAS_DELIMITER,rust/serde_bser/src/header.rs,CAS_DELIMITER,rust/serde_bser/src/lib.rs,CAS_DELIMITER,rust/serde_bser/src/ser/count_write.rs,CAS_DELIMITER,rust/serde_bser/src/ser/mod.rs,CAS_DELIMITER,rust/serde_bser/src/ser/test.rs,CAS_DELIMITER",20.0,3.0,6.0,3.493307856732187,18.0,28.2,60.0,10.976991898148148,454.5,1.0045557662317943,17.0,Feature Addition,False,,
a47bd93e8eb43821b0f7493295e886ff3476b959,e6350f9cf59cdce46cb25c2c78dddc11a0a0a1f6,Wez Furlong,wez@fb.com,Thu Mar 29 11:54:45 2018 -0700,1522349685,"add cmake buildSummary:nThis is a reasonably functional cmake implementationnof the watchman build system.  Notably missing is support forndetecting pcre and linking it in; that can be done in a follow-upndiff.nnThis replaces the hand-rolled windows build bits completely,nbut does not remove the autoconf bits.  I will likely removenautoconf once we have parity.nnThe intent is that this is a stepping stone to adding a dependencynon folly.nnWhen testing the windows build, I found that watchman was missing most of itsnregistered commands.nnIt appears as though the relatively tricky constructor attributes that we'renusing (which were targeting the `C` compiler) no longer stick; the symbols arennot included in the build and the commands are missing.nnThe resolution is to use C++ constructor syntax for these instead.nnI also tried this on Linux and Mac because it is appealing tonsimplify everything, but various versions of gcc/clang on the OSSnCI failed to link in all the commands.nnI've adjusted the configuration for the various CI systems so thatnwe run both autoconf and cmake based builds and tests.  In the longernrun I will remove the autoconf version of the build.nnReviewed By: simpkinsnnDifferential Revision: D7363633nnPulled By: weznnfbshipit-source-id: ac00ae0cd7af5bc51cdcf72c0595c280a4a3f977n",671.0,262.0,".circleci/config.yml,CAS_DELIMITER,.gitignore,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,appveyor.yml,CAS_DELIMITER,make.bat,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER,tests/childproc.cpp,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER,winbuild/asprintf.cpp,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER,winbuild/config.h,CAS_DELIMITER,winbuild/mkdir.cpp,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER",21.0,6.0,6.0,2.5415430646193315,23.0,135.7619047619048,370.0,207.92143242945332,5776.0,1.0012620632073908,255.0,Feature Addition,False,True,"[""83fd7c02c74fe10f4a60b733a3fab82c25c69ef7"", ""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
e6350f9cf59cdce46cb25c2c78dddc11a0a0a1f6,41f3d0acb1731f9d8642c3ab2b287fd5a9cba204,Adam Simpkins,simpkins@fb.com,Wed Apr 18 20:47:04 2018 -0700,1524109624,rename the CLI rule from `cli` to `eden`Summary:nRename the rule for the Eden CLI script from `cli` to `eden`.  This way thengenerated par file will be named `eden.par` rather than `cli.par`.  This seemsnlike it will be slightly less confusing to new developers starting to work onnEden--currently it doesn't seem particularly intuitive that `cli.par` getsninstalled as `eden`.nnReviewed By: bolinfestnnDifferential Revision: D7658023nnfbshipit-source-id: 7afc5e0b703d02751b509efe42f8b8be1f56bbc1n,1.0,1.0,"facebook/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,21.0,43.0,10.0,55.3296875,4.0,1.0180734799920927,0.0,None,False,,
41f3d0acb1731f9d8642c3ab2b287fd5a9cba204,ee2cd14ea98fa42c6efb3e84b8e50464645ca899,Wez Furlong,wez@fb.com,Wed Apr 25 11:12:53 2018 -0700,1524679973,"normalize separators in relative_rootSummary:nOn windows, it is possible for the client to pass in a pathnthat has a mix of / and  and that is effectively invalid on windows.nOur policy is to perform this sort of translation at the edges, sonthis is the right place to do this.nnNote that we were already canonicalizing the path; our canon operationnis really just removing a sequence of trailing slashes and doesn't mutatenthe string in any other way.nnReviewed By: ilya-klyuchnikovnnDifferential Revision: D7758085nnfbshipit-source-id: feef7c1d1ce9df6ccd0a43231dc96c7e68a31083n",17.0,1.0,"query/parse.cpp,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER",2.0,2.0,2.0,0.5032583347756457,20.0,301.5,34.0,288.73169560185187,5787.5,1.0134055830323514,704.0,None,False,,
ee2cd14ea98fa42c6efb3e84b8e50464645ca899,4daae59085fe9e376e629f149835984f15598fc1,Wez Furlong,wez@fb.com,Thu Apr 26 15:55:13 2018 -0700,1524783313,"reinstate ability to run integration testsSummary:nthese were a casualty of the changes in D7047245, andnbecause we allow gracefully degrading and skipping import failures,nthe issue went unnoticed until now.nnReviewed By: bolinfestnnDifferential Revision: D7774663nnfbshipit-source-id: 9a7fc9dfd31f87af77d4c1727f0905f08d10179an",27.0,7.0,"runtests.py,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",3.0,3.0,3.0,0.8553529129344399,23.0,300.3333333333333,64.0,47.73340663580248,5790.0,1.0198873484209574,705.0,Preventative,False,,
4daae59085fe9e376e629f149835984f15598fc1,28a70a81e70ea5919938958ce48112eafe24154c,Wez Furlong,wez@fb.com,Wed May 2 14:39:12 2018 -0700,1525297152,"fixup compilation error on macosSummary:nThis only seems to be breaking our autoconf based buildsnon the mac hosts.  The cmake based builds on macs are succeeding.nWeird!nnI've removed the use of container_of; all instances can benreplaced with a simple cast as the members were all atnthe front of their respective structs.nnLonger term, I'd like to migrate this to folly::dynamic and thenbser implementation there.nn```nbser.cpp:345:17: error: offset of on non-standard-layout type 'json_object_t' [-Werror,-Winvalid-offsetof]n  auto object = json_to_object(obj);n```nnReviewed By: chadaustinnnDifferential Revision: D7849156nnfbshipit-source-id: 9d8115a1fc73ee6360d3857644bc736e89205b67n",23.0,11.0,"bser.cpp,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER",3.0,2.0,2.0,0.9363790159392478,14.0,622.6666666666666,27.0,479.72878086419746,5793.0,1.0012210487390811,236.0,Corrective,True,,
28a70a81e70ea5919938958ce48112eafe24154c,73df2a2f654c18f3457d35dab3df0d6b73eafd4f,Michael Bolin,mbolin@fb.com,Thu May 10 08:35:31 2018 -0700,1525966531,"Update Watchman to use Eden's new globFiles() API.Summary:nD7748870 introduced `globFiles()`, which improves over `glob()` by taking ann`includeDotfiles` parameter. Prior to this revision, the Eden watcher innWatchman would ignore the value of `includeDotfiles` specified by the caller.nWith this change, `includeDotfiles` is honored by forwarding it to `globFiles()`.nnBecause we do not have a reliable way to tell whether the Eden Thrift client wenare talking to has been updated to support `globFiles()`, we try `globFiles()`nfirst and then fall back to `glob()` if we get an error. Admittedly in thenfallback case, `includeDotfiles=false` will not be honored. (We couldnpost-process the list to honor it properly, but instead we'll focus onnupdating the old Eden instances so we can delete this codepath.)nnReviewed By: simpkinsnnDifferential Revision: D7849540nnfbshipit-source-id: 4ea7578fc29616c9cd14c19dd63c9effb8bb7c92n",76.0,25.0,"TARGETS,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",3.0,3.0,3.0,0.7407972905765243,22.0,443.33333333333326,78.0,131.73626929012343,3.0,1.0096025194615978,0.0,Feature Addition,False,True,"[""4966eb79c9cabbdab8ee4529a68b3024075f923b""]"
73df2a2f654c18f3457d35dab3df0d6b73eafd4f,593e73b54d675c7649eaae060254b6a9a0264258,Wez Furlong,wez@fb.com,Thu May 10 13:29:06 2018 -0700,1525984146,"enable Black python formatting and applySummary: no functional changes, just code formattingnnReviewed By: zertoshnnDifferential Revision: D7947042nnfbshipit-source-id: 3b24f5f6846412151e039e6cf7e829f8a1cea46cn",4995.0,4366.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/capabilities.py,CAS_DELIMITER,python/pywatchman/compat.py,CAS_DELIMITER,python/pywatchman/encoding.py,CAS_DELIMITER,python/pywatchman/load.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/pywatchman_aio/__init__.py,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/async/AsyncWatchmanTestCase.py,CAS_DELIMITER,tests/async/test_subscribe_async.py,CAS_DELIMITER,tests/integration/Interrupt.py,CAS_DELIMITER,tests/integration/TempDir.py,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/cat.py,CAS_DELIMITER,tests/integration/path_utils.py,CAS_DELIMITER,tests/integration/site_spawn.py,CAS_DELIMITER,tests/integration/site_spawn_fail.py,CAS_DELIMITER,tests/integration/test_absroot.py,CAS_DELIMITER,tests/integration/test_age_file.py,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,tests/integration/test_auth.py,CAS_DELIMITER,tests/integration/test_big.py,CAS_DELIMITER,tests/integration/test_bsdish.py,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER,tests/integration/test_bulkstat.py,CAS_DELIMITER,tests/integration/test_capabilities.py,CAS_DELIMITER,tests/integration/test_case_sensitive.py,CAS_DELIMITER,tests/integration/test_clock.py,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER,tests/integration/test_cookie.py,CAS_DELIMITER,tests/integration/test_cppclient.py,CAS_DELIMITER,tests/integration/test_cursor.py,CAS_DELIMITER,tests/integration/test_dir_move.py,CAS_DELIMITER,tests/integration/test_dirname.py,CAS_DELIMITER,tests/integration/test_eden_broken_mount.py,CAS_DELIMITER,tests/integration/test_eden_journal.py,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,tests/integration/test_eden_since.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER,tests/integration/test_eden_watch_root.py,CAS_DELIMITER,tests/integration/test_empty.py,CAS_DELIMITER,tests/integration/test_fields.py,CAS_DELIMITER,tests/integration/test_find.py,CAS_DELIMITER,tests/integration/test_fishy.py,CAS_DELIMITER,tests/integration/test_fsevents_resync.py,CAS_DELIMITER,tests/integration/test_fstype.py,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,tests/integration/test_ignore.py,CAS_DELIMITER,tests/integration/test_info.py,CAS_DELIMITER,tests/integration/test_invalid_expr.py,CAS_DELIMITER,tests/integration/test_log.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,tests/integration/test_name.py,CAS_DELIMITER,tests/integration/test_nodejs.py,CAS_DELIMITER,tests/integration/test_path_generator.py,CAS_DELIMITER,tests/integration/test_pcre.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_remove.py,CAS_DELIMITER,tests/integration/test_remove_then_add.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_since_term.py,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER,tests/integration/test_size.py,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER,tests/integration/test_suffix_generator.py,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/test_trigger_chdir.py,CAS_DELIMITER,tests/integration/test_trigger_error.py,CAS_DELIMITER,tests/integration/test_two_deep.py,CAS_DELIMITER,tests/integration/test_type.py,CAS_DELIMITER,tests/integration/test_watch_del_all.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER,tests/integration/test_wm_wait.py,CAS_DELIMITER,tests/integration/touch.py,CAS_DELIMITER,tests/integration/trig-cwd.py,CAS_DELIMITER,tests/integration/trig.py,CAS_DELIMITER,tests/integration/trigjson.py,CAS_DELIMITER",86.0,3.0,7.0,5.710679138704518,24.0,127.4186046511628,533.0,234.11256809862167,5837.5,1.00023837432217,781.0,None,False,True,"[""99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb"", ""dba1542b6e8a8758017b32bc349cb0f80895d2b5"", ""0f31681c7533869ca8dd74dcecc162b894efc091"", ""3c590ded1a00c04487b4b6b4de62469efebb1202"", ""40337279f28a2cf9d4518b01208fc84a29fa1c2c"", ""405c0cb888b5f39945b1079fa60e9a4ed28a5059"", ""a3b90744718153b4e540e1340f3d9533bd1c410a"", ""abad2965f15b3f19b9376ef0b00d1f4247651a8f"", ""d19aab94315d4771421783595bffa1a09b91965b"", ""dcfc04c2084b03c1eff3fa0151425f0748dc7ed3""]"
593e73b54d675c7649eaae060254b6a9a0264258,5e468f60f277be33abd3d1e40c62c4a5202ee494,Wez Furlong,wez@fb.com,Fri May 11 10:30:02 2018 -0700,1526059802,"watchman: fixup path for setup.pySummary:nthis hasn't been working on our internal packagenbuilder hosts for a while now, so we need to fix it.nnReviewed By: bolinfestnnDifferential Revision: D7970039nnfbshipit-source-id: 376dc242856d9c517e026df716f0ac79a8be004dn",1.0,1.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,47.0,18.0,0.8756481481481482,5881.0,2.142011208628529,95.0,None,False,,
5e468f60f277be33abd3d1e40c62c4a5202ee494,d47b608508025f62a8cc0d8c05d3c67307b9f3ab,Michael Bolin,mbolin@fb.com,Mon May 14 10:37:49 2018 -0700,1526319469,"Update code sample in cppclient/WatchmanClient.h.Summary:nA `SubscriptionCallback` now takes a `folly::Try<folly::dynamic>&&` rather thanna `folly::dynamic&& data`. This affects the signature of the callback as wellnas the body, which I updated to handle the exception case.nnReviewed By: weznnDifferential Revision: D7958057nnfbshipit-source-id: fe2f23631a22f403e22c2908610f759d7b128863n",12.0,3.0,"cppclient/WatchmanClient.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,209.0,3.0,165.86546296296297,5.0,1.0060289826594178,0.0,None,False,,
d47b608508025f62a8cc0d8c05d3c67307b9f3ab,01955339edc2d7e0bc5a4a6486af1cb3932f30eb,Zachary Anderson,zanderson@fb.com,Fri May 18 13:37:36 2018 -0700,1526675856,"Added edenfs support for watchman SHA1Summary:nWatchman doesn't yet implement context.sha1hex in Eden, and there are some workflows that require it, in particular:nnhttps://fb.facebook.com/groups/watchman.users/permalink/1996108210706656/nnThis diff is the basic implementation of this feature, with no batching.  It's not optimal but at least it works!nnReviewed By: weznnDifferential Revision: D8060464nnfbshipit-source-id: a9347c7a4979fe7b1cbe2ebd9acf76b558899f3en",142.0,5.0,"tests/integration/test_eden_sha1.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9633355456726842,23.0,469.0,35.0,4.104890046296297,0.5,0.5609029711345292,0.0,Feature Addition,False,True,"[""4966eb79c9cabbdab8ee4529a68b3024075f923b""]"
01955339edc2d7e0bc5a4a6486af1cb3932f30eb,98766db1c9ff7246137c46dadc8043a42f877b3a,Yedidya Feldblum,yfeldblum@fb.com,Fri May 18 18:03:40 2018 -0700,1526691820,Split Futures exceptions by Promise vs FutureSummary:n[Folly] Split Futures exceptions by `Promise` vs `Future`.nn* Move `Promise` exceptions into the `Promise` header.n* Move `Future` exceptions into the `Future` header.n* Split `NoState` into `PromiseInvalid` and `FutureInvalid`.n* Remove the newly-empty exceptions header.nnReviewed By: andriigrynenkonnDifferential Revision: D7966499nnfbshipit-source-id: 2dc6d2a941493979ebf47b3e70e5cf6a6fbd33cfn,4.0,4.0,"tests/integration/cppclient.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,139.0,3.0,79.31350694444444,3.0,1.0126081929613888,0.0,None,False,,
98766db1c9ff7246137c46dadc8043a42f877b3a,4a42ea1c2eafc7b8251f8a97da4dfec44c18c663,Lukasz Langa,ambv@fb.com,Fri May 18 23:05:39 2018 -0700,1526709939,Reformat already opted in directories with Black Beta @allow-large-filesSummary:nThis is stacked on top of Black 18.5b0.nnallow-large-filesnnReviewed By: carljmnnDifferential Revision: D8061834nnfbshipit-source-id: 92e3645e159b60d77cf7e0bec64a8262ca4e88c2n,87.0,87.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/capabilities.py,CAS_DELIMITER,python/setup.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_cppclient.py,CAS_DELIMITER,tests/integration/test_ignore.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,tests/integration/test_name.py,CAS_DELIMITER,tests/integration/test_nodejs.py,CAS_DELIMITER,tests/integration/test_path_generator.py,CAS_DELIMITER,tests/integration/test_pcre.py,CAS_DELIMITER,tests/integration/test_since_term.py,CAS_DELIMITER,tests/integration/test_size.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER,tests/integration/test_suffix_generator.py,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,tests/integration/test_type.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER",21.0,3.0,5.0,4.074766898652377,24.0,242.19047619047615,278.0,8.358684413580246,10.0,0.9675873327166088,15.0,None,False,,
4a42ea1c2eafc7b8251f8a97da4dfec44c18c663,19356df9cc6005b80e4194437cea64db389c19fc,Liubov Dmitrieva,liubovd@fb.com,Mon May 21 03:41:57 2018 -0700,1526899317,watchman rust client: support 'from_reader' api in serde_bser implementationSummary:nwatchman rust client: support 'from_reader' api in serde_bser implementationnnthis is for parsing messages from a given stream when the length is not known in advancennadd --features='debug_bytes' for simplify debuggingnnthis allow to see the bytes has been readnnReviewed By: weznnDifferential Revision: D7876429nnfbshipit-source-id: 274dd70ca47e37a869f39e6b37878689ebe50707n,280.0,46.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/serde_bser/TARGETS,CAS_DELIMITER,rust/serde_bser/src/de/bunser.rs,CAS_DELIMITER,rust/serde_bser/src/de/mod.rs,CAS_DELIMITER,rust/serde_bser/src/de/read.rs,CAS_DELIMITER,rust/serde_bser/src/de/template.rs,CAS_DELIMITER,rust/serde_bser/src/de/test.rs,CAS_DELIMITER,rust/serde_bser/src/lib.rs,CAS_DELIMITER",8.0,1.0,3.0,1.739658662258846,18.0,127.125,8.0,52.80078703703703,3.5,0.8790668360247457,7.0,None,False,,
19356df9cc6005b80e4194437cea64db389c19fc,5dbf2469e420154d80c460dbcf9ee594feda51c3,Liubov Dmitrieva,liubovd@fb.com,Mon May 21 04:24:55 2018 -0700,1526901895,always deserialize template keys as stringsSummary: `Vec<u8>` doesn't work for field identifiers.nnReviewed By: sunshowersnnDifferential Revision: D7923841nnfbshipit-source-id: 7d74d0dfee74fbaa1ec130f0d4f4f3f48d68e080n,7.0,3.0,"rust/serde_bser/src/de/template.rs,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,265.0,2.0,0.029837962962962962,8.0,34.51435221101629,8.0,None,False,,
5dbf2469e420154d80c460dbcf9ee594feda51c3,1b9813cdde6797a727b441c2d7bfd32ecd441aa8,Liubov Dmitrieva,liubovd@fb.com,Mon May 21 04:24:57 2018 -0700,1526901897,"fix utf8/bytestring deserializationSummary:nUTF8STRING and BYTESTRING are reversed, doh.nnFixing this exposed a problem with map keys -- we were always deserializingnthem as bytestrings, but field identifiers are Unicode strings. Handle that bynwriting a specialized deserializer.nnReviewed By: sunshowersnnDifferential Revision: D7923842nnfbshipit-source-id: 96ecc4e48c826485697c29c4251c06488a332789n",81.0,4.0,"rust/serde_bser/src/de/map.rs,CAS_DELIMITER,rust/serde_bser/src/de/mod.rs,CAS_DELIMITER",2.0,1.0,1.0,0.27376916868294177,18.0,165.0,3.0,26.43025462962963,9.5,1.0189230604405155,10.0,Corrective,True,,
1b9813cdde6797a727b441c2d7bfd32ecd441aa8,b7947fdebea2924e5655fa299c5a9f24600f2e89,Liubov Dmitrieva,liubovd@fb.com,Mon May 21 04:25:01 2018 -0700,1526901901,watchman rust client for hg: add test for arrays of objectsSummary:nwatchman rust client: add tests for arrays of objectsnnthis contains a reproducer test for broken compact arrays in combination with untagged enumsnnReviewed By: sunshowersnnDifferential Revision: D7877495nnfbshipit-source-id: 7fc3c05f1590e708a7645f0f9adbfd545e8bae42n,243.0,0.0,"rust/serde_bser/src/de/test.rs,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,253.0,2.0,0.029907407407407407,11.0,34.43653250773994,11.0,None,False,,
b7947fdebea2924e5655fa299c5a9f24600f2e89,99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb,Niclas Rosenvik,youremailsarecrap@gmail.com,Mon May 21 11:06:01 2018 -0700,1526925961,"Fix watchman on solaris/illumos.Summary:nFix watchman on solaris/illumos.nReview wanted it might not be the most optimal fixes.nTested on Openindiana Hipster.nI have tested the commands watch, find and since and they work without a hassle.nCloses https://github.com/facebook/watchman/pull/527nnDifferential Revision: D8076226nnPulled By: weznnfbshipit-source-id: 448e8b51875744edca04074e41d0b1a334382c93n",384.0,13.0,"CMakeLists.txt,CAS_DELIMITER,FileDescriptor.cpp,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,configure.ac,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER",9.0,3.0,3.0,1.0983993500085605,24.0,455.5555555555555,374.0,92.94828189300414,8.0,1.0054761399903764,10.0,Corrective,True,,
99b9c8fec4c368cb7d1eb0e3526e36c9d5d139cb,23a596f11c4864f1af78a03631bc51dca534b6ee,Jun Wu,quark@fb.com,Tue May 22 13:48:37 2018 -0700,1527022117,"Avoid a race condition about incremental scm-aware queriesSummary:nThis is subtle. The problematic case happens in this order:nn```n  - [App X] Query watchman withn{since: {scm: {mergebase-with: B}}}.n- [watchman] Mergebase is newly seen.n  Call scm->getFilesChangedSinceMergeBaseWith.n  - [hg] hg status runs.n-  [hg] fsmonitor updates its watchman clock to c:1.n- [watchman] Get a clock, ex. c:2. It is returned to App X.n  - [App X] Query watchman withn{since: {scm: {mergebase-with: B}, clock: c:2}}.nIntended to get incremental updates since the last query.n- [watchman] Mergebase does not change.n  Run a pure watchman query since c:2, without going through scm.n  - Changes between c:1 and c:2 might be lost.n```nnThe issue here is `scm->getFilesChangedSinceMergeBaseWith` has immediate sideneffect calling `hg status`, which is affected by the racy working copy. Thisnpatch avoids the issue by moving `getFilesChangedSinceMergeBaseWith` to thengenerator so it's deferred.nnNote: `scm->mergeBaseWith` is in theory also racy if `.` (working parent)nchanges. But that's less a concern - watchman still returns explicit mergenbase commit hash with a possibly longer list of files. Things get slower,nbut should still be correct.nnReviewed By: weznnDifferential Revision: D8081248nnfbshipit-source-id: 56a210fae2b3604d8ad3f8b8f74805663ae05d0an",11.0,9.0,"query/eval.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,367.0,65.0,75.9249074074074,4.0,1.0131709083902345,0.0,None,False,,
23a596f11c4864f1af78a03631bc51dca534b6ee,2fc2b1e23f7b9b00f70741561449e937cda0f768,Jun Wu,quark@fb.com,Tue May 22 13:48:40 2018 -0700,1527022120,Add a request_id field to w_querySummary:nThis adds the request_id field and log it. So the watchman client cannlabel queries for debugging purpose.nnWill document this once we have been using it in production for a whilenand feel it's at the right API.nnReviewed By: weznnDifferential Revision: D8086721nnfbshipit-source-id: 78096828c85d5f2385765e7be63ec7882f60de69n,51.0,1.0,"query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,tests/integration/test_request_id.py,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,3.0,3.0,1.4808297705099358,23.0,300.25,172.0,22.437954282407407,6.5,7201.021230050432,2.0,Feature Addition,False,,
2fc2b1e23f7b9b00f70741561449e937cda0f768,b76f499ece147b145c5d762f49fdaa2f46cea9c4,Jun Wu,quark@fb.com,Tue May 22 13:48:43 2018 -0700,1527022123,Add a requestId parameter to SCM interfaceSummary:nChanging the API. It does not do anything yet.nnThanks for optional argument support in C++. Not all callers need change.nnReviewed By: weznnDifferential Revision: D8086718nnfbshipit-source-id: 5eacfb57e1a97b4b5373353ea366c31a0a1f931fn,32.0,19.0,"scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.969178020579852,24.0,334.25,58.0,116.301640625,10.5,1.0117539039587415,3.0,Feature Addition,False,,
b76f499ece147b145c5d762f49fdaa2f46cea9c4,9ab83659a0bdc697547d3716d3b89a1913780857,Jun Wu,quark@fb.com,Tue May 22 14:13:53 2018 -0700,1527023633,Pass request_id to hg blackbox loggerSummary:nPass request_id from the watchman query to HG using HGREQUESTID added bynD8057148.nnReviewed By: weznnDifferential Revision: D8086720nnfbshipit-source-id: 186dc311cf93e2866e9b7367fdfda27d8728eafbn,83.0,4.0,"query/eval.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,tests/integration/test_request_id.py,CAS_DELIMITER",3.0,3.0,3.0,0.7139489358943478,25.0,217.66666666666663,85.0,0.017499999999999998,14.0,35.91119606497655,1.0,None,False,,
9ab83659a0bdc697547d3716d3b89a1913780857,f2877f7089dac6a291487fe5d5b099d517e7d4b3,Wez Furlong,wez@fb.com,Tue May 22 17:02:56 2018 -0700,1527033776,watchman: allow logging from any user that has access rightsSummary: This will help us troubleshoot an ongoing issue in our www environment.nnReviewed By: quark-zjunnDifferential Revision: D8104961nnfbshipit-source-id: 563b3ccc5844578a0316c3d725afdf02832f1a43n,1.0,1.0,"cmds/log.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,74.0,8.0,370.1838888888889,5882.0,1.0027013601348278,397.0,None,False,,
f2877f7089dac6a291487fe5d5b099d517e7d4b3,3cdb46e8a91bb2af20ec270d4a70f1dbf7b5be2e,Adam Simpkins,simpkins@fb.com,Tue May 22 19:45:21 2018 -0700,1527043521,"add an `eden remove` commandSummary:nAdd a `remove` command to the Eden CLI.  This behaves liken`eden unmount --destroy`, but calling this remove is hopefully a morenintuitive UI.  If stdin is a TTY this command also prompts the user fornconfirmation before removing the checkout.nnI plan to deprecate the `eden unmount --destroy` command in a subsequentndiff.nnReviewed By: weznnDifferential Revision: D8086823nnfbshipit-source-id: 562cf0f998eea416b80589b188eee255a10b9699n",1.0,1.0,"tests/integration/test_eden_journal.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,90.0,3.0,12.261284722222221,5.0,1.0815575221238938,4.0,Feature Addition,False,,
3cdb46e8a91bb2af20ec270d4a70f1dbf7b5be2e,fb7ac3df7031a531b1f74bc980cb8dd9a621363b,Kostia Balytskyi,ikostia@fb.com,Wed May 23 03:16:18 2018 -0700,1527070578,"version: bump checked-in version to 4.9.4Summary:nSince `4.9.1` was hardcoded, hardcoding `4.9.4` is probably also fine untilnwe solve the versioning problem correctly.nnWithout the correct version reported, we can't deploy `watchman`.nnReviewed By: weznnDifferential Revision: D8095035nnfbshipit-source-id: 3eb9e43eeb0d4f604203341e06606eebbad4118fn",2.0,2.0,"CMakeLists.txt,CAS_DELIMITER,configure.ac,CAS_DELIMITER",2.0,1.0,1.0,1.0,24.0,403.0,116.0,1.6738078703703705,0.5,0.649360033744304,1.0,None,False,,
fb7ac3df7031a531b1f74bc980cb8dd9a621363b,485642b36b0b1428c0b7323e9d0ceb698c198ef9,Yiding Jia,yiding@fb.com,Thu May 24 19:30:19 2018 -0700,1527215419,Run buildifier in buck files in fbcode/Summary:nFixup after changing buildifier field ordering placing exported_deps afterndeps.nndrop-conflictsnbypass-lintnnReviewed By: zertoshnnDifferential Revision: D8151647nnfbshipit-source-id: ed57faa86872ec121fe2400863959cdddddc8196n,5.0,5.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER,java/third-party/hamcrest/BUCK,CAS_DELIMITER,java/third-party/junit/BUCK,CAS_DELIMITER",4.0,3.0,4.0,1.9219280948873625,22.0,96.75,54.0,115.98432291666666,1.5,0.7536032928906287,1.0,None,False,,
485642b36b0b1428c0b7323e9d0ceb698c198ef9,4966eb79c9cabbdab8ee4529a68b3024075f923b,Wez Furlong,wez@fb.com,Sat May 26 07:51:48 2018 -0700,1527346308,"connect cookie change events; fixes state-enterSummary:nThe state-(enter|leave) machinery relies on the observationnof the associated file creation events via the notification mechanismnto correctly sequence state assertions.nnEden mostly doesn't care about this, so the state stuff would neverntrigger.nnThis diff addresses this by having the subscriber thread in the edennwatcher pass the set of created files through to the CookieSync classnto process and wakeup.nnReviewed By: bolinfestnnDifferential Revision: D8155380nnfbshipit-source-id: a72713ff17104e8103017131e19f45cdf8e2a075n",99.0,17.0,"tests/integration/test_eden_subscribe.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9862325350724499,25.0,536.5,42.0,9.758952546296298,5883.5,1.057331792886191,287.0,Corrective,True,,
4966eb79c9cabbdab8ee4529a68b3024075f923b,9ab83fcea464c7b54e798b89810fbdf299498764,Lukasz Langa,ambv@fb.com,Wed May 30 01:22:26 2018 -0700,1527668546,Upgrade to 18.5b1Summary: Mostly empty lines removed and added.  A few bugfixes on excessive line splitting.nnReviewed By: jeethunnDifferential Revision: D8200900nnfbshipit-source-id: ec8ec5e31bd6c71112c11b4650c54a25be772932n,7.0,98.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/pywatchman/pybser.py,CAS_DELIMITER,python/pywatchman_aio/__init__.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/async/AsyncWatchmanTestCase.py,CAS_DELIMITER,tests/async/test_subscribe_async.py,CAS_DELIMITER,tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_absroot.py,CAS_DELIMITER,tests/integration/test_age_file.py,CAS_DELIMITER,tests/integration/test_age_watch.py,CAS_DELIMITER,tests/integration/test_auth.py,CAS_DELIMITER,tests/integration/test_big.py,CAS_DELIMITER,tests/integration/test_bsdish.py,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER,tests/integration/test_bulkstat.py,CAS_DELIMITER,tests/integration/test_capabilities.py,CAS_DELIMITER,tests/integration/test_case_sensitive.py,CAS_DELIMITER,tests/integration/test_clock.py,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER,tests/integration/test_cookie.py,CAS_DELIMITER,tests/integration/test_cppclient.py,CAS_DELIMITER,tests/integration/test_cursor.py,CAS_DELIMITER,tests/integration/test_dirname.py,CAS_DELIMITER,tests/integration/test_eden_broken_mount.py,CAS_DELIMITER,tests/integration/test_eden_journal.py,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,tests/integration/test_eden_sha1.py,CAS_DELIMITER,tests/integration/test_eden_since.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER,tests/integration/test_eden_watch_root.py,CAS_DELIMITER,tests/integration/test_empty.py,CAS_DELIMITER,tests/integration/test_fields.py,CAS_DELIMITER,tests/integration/test_find.py,CAS_DELIMITER,tests/integration/test_fishy.py,CAS_DELIMITER,tests/integration/test_fsevents_resync.py,CAS_DELIMITER,tests/integration/test_fstype.py,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,tests/integration/test_ignore.py,CAS_DELIMITER,tests/integration/test_info.py,CAS_DELIMITER,tests/integration/test_invalid_expr.py,CAS_DELIMITER,tests/integration/test_log.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,tests/integration/test_name.py,CAS_DELIMITER,tests/integration/test_nodejs.py,CAS_DELIMITER,tests/integration/test_path_generator.py,CAS_DELIMITER,tests/integration/test_pcre.py,CAS_DELIMITER,tests/integration/test_perms.py,CAS_DELIMITER,tests/integration/test_remove.py,CAS_DELIMITER,tests/integration/test_remove_then_add.py,CAS_DELIMITER,tests/integration/test_request_id.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_since_term.py,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER,tests/integration/test_size.py,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER,tests/integration/test_suffix_generator.py,CAS_DELIMITER,tests/integration/test_symlink.py,CAS_DELIMITER,tests/integration/test_trigger.py,CAS_DELIMITER,tests/integration/test_trigger_chdir.py,CAS_DELIMITER,tests/integration/test_trigger_error.py,CAS_DELIMITER,tests/integration/test_two_deep.py,CAS_DELIMITER,tests/integration/test_type.py,CAS_DELIMITER,tests/integration/test_watch_del_all.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER,tests/integration/test_wm_wait.py,CAS_DELIMITER",72.0,3.0,6.0,5.7621512818003655,26.0,154.0,577.0,16.459648919753093,56.5,1.0045756531527743,82.0,None,False,,
9ab83fcea464c7b54e798b89810fbdf299498764,d2654845ab91e6534e1941ad449c79811e80d19f,Yedidya Feldblum,yfeldblum@fb.com,Wed May 30 12:29:11 2018 -0700,1527708551,"CodeMod: future-then-continuation-lvalue-refSummary:nCodeMod: `future-then-continuation-lvalue-ref`.nn```nbuck run mode/opt foundation/clangr:clangr_coordinator -- run foundation/clang/codemods:future-then-continuation-lvalue-ref --dev -p 7 --num-workers=200n```nnThere is no need to support continuations taking non-const lvalue-ref params; callers can get exactly the same semantics with non-const rvalue-ref params instead. Thsi codemod preserves semantics. Many of these cases could do just as well taking by value, but this codemod preserves semantics.nnReviewed By: OrvidnnDifferential Revision: D8166008nnfbshipit-source-id: 84b635cccce24b6485ffb5b24b98f10422b9a517n",1.0,1.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,165.0,3.0,181.9428009259259,4.0,1.0054962328540118,0.0,None,False,,
d2654845ab91e6534e1941ad449c79811e80d19f,1ec250dbe72462cc006fbfb5a9c57639d8255f43,Matthew Glazar,strager.nds@gmail.com,Fri Jun 1 13:18:07 2018 -0700,1527884287,"Fix builds on CircleCISummary:nRecently, the python:2.7 Docker image upgraded from Debian 8 Jessie tonDebian 9 Stretch. This upgrade broke installing the `npm` package;nDebian 9 Stretch doesn't have a package called `npm`. This meansnWatchman's CircleCI builds are failing.nnFix the `npm` installation issue for CircleCI builds by reverting backnto a known good state (Debian 8 Jessie).nCloses https://github.com/facebook/watchman/pull/615nnReviewed By: weznnDifferential Revision: D8239893nnPulled By: stragernnfbshipit-source-id: 212a3d3b85605600bbf5023301567f5c82861a03n",2.0,2.0,".circleci/config.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,33.0,2.0,64.05789351851851,0.0,0.0,0.0,Corrective,True,,
1ec250dbe72462cc006fbfb5a9c57639d8255f43,bc681504efba54122b0eefbc7703630956a02533,Wez Furlong,wez@fb.com,Sat Jun 2 14:15:01 2018 -0700,1527974101,"fbclone, watchman-*: apply black formattingSummary: as abovennReviewed By: zertoshnnDifferential Revision: D8245842nnfbshipit-source-id: d3aac703053a011317e8fb0962bc06e3b8a8212fn",465.0,278.0,"python/bin/watchman-make,CAS_DELIMITER,python/bin/watchman-replicate-subscription,CAS_DELIMITER,python/bin/watchman-wait,CAS_DELIMITER,python/bin/watchman-wait-aio,CAS_DELIMITER",4.0,1.0,1.0,1.968333947573764,20.0,264.75,18.0,243.04518229166663,5886.5,1.0022758233887636,99.0,None,False,,
bc681504efba54122b0eefbc7703630956a02533,c2d20501653a3450ed208d5a818e82eae4a15b93,Wez Furlong,wez@fb.com,Mon Jun 4 13:34:13 2018 -0700,1528144453,enable prefetching for eden glob queriesSummary: This speeds up glob queries dramatically (7x in the scenario I tested) in the cold start case.nnReviewed By: chadaustinnnDifferential Revision: D8263019nnfbshipit-source-id: 4a151928f3e9ab675e19b5b692ff82afe861a572n,8.0,0.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,25.0,1020.0,38.0,9.237789351851852,5889.0,1.1082510070225335,288.0,None,False,,
c2d20501653a3450ed208d5a818e82eae4a15b93,d0e14bbe1defad7dd2b62a67f79c1597057ff87c,Wez Furlong,wez@fb.com,Tue Jun 5 13:36:27 2018 -0700,1528230987,batch getSHA1 calls to edenSummary:nThis makes a big difference in the performance of queries thatnreturn the `content.sha1hex` of a large number of files in the warm cache case.nnI've taken the simplistic-ish approach of requesting the sha1s after callingn`getFileInformation`.  This could potential run concurrently but may end upnduplicating work if we do that.nnReviewed By: chadaustinnnDifferential Revision: D8274780nnfbshipit-source-id: b63b2cbaf6f657c78721edfe2c7ec6b938a5db90n,53.0,27.0,"query/parse.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,3.0,3.0,0.7849618352167178,26.0,625.0,147.0,9.661527777777778,5891.0,1.0575568252479126,2763.0,None,False,,
d0e14bbe1defad7dd2b62a67f79c1597057ff87c,9446db689c4aa3499216ed0599089bda0b96071e,Wez Furlong,wez@fb.com,Thu Jun 7 08:01:49 2018 -0700,1528383709,"use hg binary provided by the test environmentSummary:nI believe this is the last place that we need to changento pick up the hg binary from the test environment.nnReviewed By: quark-zju, stragernnDifferential Revision: D8309893nnfbshipit-source-id: 06efc79577c2098ab4efd1b4c83eed2904afe3b4n",2.0,1.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,514.0,16.0,8.277349537037036,5893.0,1.1208116191693362,783.0,Preventative,False,,
9446db689c4aa3499216ed0599089bda0b96071e,83fd7c02c74fe10f4a60b733a3fab82c25c69ef7,Matthew Glazar,strager.nds@gmail.com,Thu Jun 7 15:17:29 2018 -0700,1528409849,"Fix macOS Python 2.6 builds on Travis CI (#614)Summary:nget-pip.py dropped support for Python 2.6. This causes our CI scriptsnwhich set up Python 2.6 on macOS to fail.nnpyenv has a workaround: when installing Python 2.6, use a version ofnget-pip.py which is compatible with Python 2.6. This workaround requiresna recent version of pyenv. Unfortunately, `brew install pyenv` refusesnto upgrade pyenv.nnInstall the latest version of pyenv by running `brew upgrade pyenv`ninstead of `brew install pyenv`. This causes pyenv to use a workingnversion of get-pip.py, fixing the setup of Python 2.6.nCloses https://github.com/facebook/watchman/pull/614nnReviewed By: weznnDifferential Revision: D8320979nnPulled By: stragernnfbshipit-source-id: fcdfa3555122ceacd2bf73582a588ae073e9a7f9n",54.0,1.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,31.0,28.0,70.14078703703704,1.0,1.014257039908491,0.0,Corrective,True,True,"[""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
83fd7c02c74fe10f4a60b733a3fab82c25c69ef7,c55f903e701b529dcafce31335d351ffbd8aaa4f,Rain u00e2u0081u00a3,rain1@fb.com,Thu Jun 7 20:24:28 2018 -0700,1528428268,update name and emailReviewed By: weznnDifferential Revision: D8311156nnfbshipit-source-id: e926fd014cb604687e5e61831b706df189862df9n,2.0,2.0,"python/setup.py,CAS_DELIMITER,rust/serde_bser/Cargo.toml,CAS_DELIMITER",2.0,2.0,2.0,1.0,24.0,34.0,22.0,18.792129629629628,0.5,0.5133034416496267,0.0,None,False,,
c55f903e701b529dcafce31335d351ffbd8aaa4f,ffc02222f3805b692b1a4932bdab56ec1550cfb2,Wez Furlong,wez@fb.com,Fri Jun 8 20:52:52 2018 -0700,1528516372,fix cache updates for scm aware queriesSummary:nA negative logic bug meant that we'd never update our remotename->hash mapping.nnThis could lead to a feedback loop; each attempt to `hg log` would cause hg to update blackbox.lognand thus cause subscriptions to be re-evaluated and thus run `hg log` again.nnReviewed By: simpkinsnnDifferential Revision: D8337997nnfbshipit-source-id: b49a717af752264bc3de8741fc4a2040d39cbfa2n,16.0,1.0,"scm/Mercurial.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,2.0,2.0,0.5225593745369408,26.0,383.5,35.0,9.406261574074072,5894.5,1.0555181297120462,784.0,Corrective,True,,
ffc02222f3805b692b1a4932bdab56ec1550cfb2,dc25dc0088bd17a4cd799f6b9101001b94ff3d24,Philip Jameson,pjameson@fb.com,Mon Jun 11 21:16:51 2018 -0700,1528777011,Move eden/DEFS -> eden/DEFS.bzl and fix include_defsSummary:n- Move eden/DEFS -> eden/DEFS.bzln- Change include_defs to load()nnReviewed By: ttsugriynnDifferential Revision: D8361201nnfbshipit-source-id: 6c5687123c9c2df79edf6e8936c93b58592ba5cdn,2.0,4.0,"facebook/TARGETS,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/integration/eden/TARGETS,CAS_DELIMITER",3.0,2.0,3.0,1.584962500721156,21.0,89.66666666666669,31.0,119.41233410493828,15.0,1.008569172223968,3.0,Corrective,True,,
dc25dc0088bd17a4cd799f6b9101001b94ff3d24,869eab460673feca5210682f91cb0261c69c452c,Matt Glazar,strager@fb.com,Mon Jun 18 21:59:20 2018 -0700,1529384360,"Fix test_wm_wait on SandcastleSummary:nWhen running Watchman's integration tests on Sandcastle (Facebook's internal continuous integration system) with Python 2.7, test_wm_wait.py can't find the watchman-wait program. This causes the tests in test_wm_wait.py to fail.nnMake watchman-wait visible by expressing a dependency on it in the TARGETS file, fixing test_wm_wait's tests.nnReviewed By: weznnDifferential Revision: D8473332nnfbshipit-source-id: c67c982d3db92c4c744d78569afb4a2d24e3f42bn",3.0,0.0,"facebook/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,21.0,41.0,12.0,7.029502314814817,0.0,0.0,0.0,Corrective,True,,
869eab460673feca5210682f91cb0261c69c452c,e9e38f78656996e8db2b84a0f87100d0d42c98db,Matt Glazar,strager@fb.com,Mon Jun 18 22:01:32 2018 -0700,1529384492,"Delete duplicate tests in test_restrictionsSummary:nSome tests in test_restrictions are so similar that I think having allnof them adds no value. Remove some duplicate tests:nn* Check only one built-in root file name (.git), not two (.git and .hg).n* Check only one not-built-in root file name (.foo), not two (.foo andn  .bar).nnReviewed By: weznnDifferential Revision: D8431237nnfbshipit-source-id: 9e3e6ded3a0374b816422524896cee4a13620f2cn",4.0,6.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,82.0,9.0,19.860486111111108,1.0,1.050351234829068,0.0,Preventative,False,,
e9e38f78656996e8db2b84a0f87100d0d42c98db,cfbd3234af028135456805d1660b1da7c8f96911,Matt Glazar,strager@fb.com,Mon Jun 18 22:09:55 2018 -0700,1529384995,"Update stale comment in testSummary:nfind_js_tests's documentation refers to PHP, but find_js_tests looks fornJavaScript tests, not PHP tests. Update the documentation to reducenconfusion.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431190nnfbshipit-source-id: 3e6e241fd9cbc06137e40a59a763ff6098e35646n",1.0,1.0,"tests/integration/test_nodejs.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,123.0,5.0,19.86630787037037,2.0,1.050336479557505,1.0,Preventative,False,,
cfbd3234af028135456805d1660b1da7c8f96911,e50f9510a814d7ba8803e50163941af5fbf65986,Matt Glazar,strager@fb.com,Mon Jun 18 22:31:32 2018 -0700,1529386292,"Factor asserts in test_restrictionsSummary:nThe assertions in test_rootRestrict are hard to read. For example, it'snunclear that `client.query(watch, d)` is testing that the `watch`ncommand simply succeeds without a fatal error.nnGive the two assertions in test_restrictions descriptive names bynfactoring them into their own methods.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431233nnfbshipit-source-id: fe64716b93f3927f82d427e49b3267037036a49en",24.0,18.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,80.0,10.0,0.020833333333333332,3.0,49.0,2.0,Preventative,False,True,"[""3a2bd8dab53171c172891be41c057fb53b19d294""]"
e50f9510a814d7ba8803e50163941af5fbf65986,5017980bbfe54e754e2dd4c88197f33ab59ff510,Matt Glazar,strager@fb.com,Mon Jun 18 23:14:12 2018 -0700,1529388852,"Simplify error message checks in test_restrictionsSummary:nInstead of checking for the full error message, check for pieces of thenerror message separately. This makes assertion failure messages easiernto read and makes adding new assertions easier to write.nnReviewed By: weznnDifferential Revision: D8431234nnfbshipit-source-id: c5e3e82635e6c6c5d2cfd3534c24c89fb84bbc8en",20.0,13.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,86.0,11.0,0.02962962962962963,4.0,34.75,3.0,Preventative,False,True,"[""3a2bd8dab53171c172891be41c057fb53b19d294""]"
5017980bbfe54e754e2dd4c88197f33ab59ff510,ef6948ba5bced17131a28cf6d99d1cbfed955864,Matt Glazar,strager@fb.com,Mon Jun 18 23:14:13 2018 -0700,1529388853,"Add assertions in test_restrictionsSummary:nInstead of checking for any paths in error messages, make sure errornmessages include the correct paths.nnReviewed By: weznnDifferential Revision: D8431232nnfbshipit-source-id: 74c512eb201e9e156e8fc570934e4b7b7bc22014n",6.0,4.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,93.0,12.0,1.1574074074074072e-05,5.0,86401.0,4.0,Feature Addition,False,True,"[""984dd58bbd1b121d13ec6f99c8470c3c3afbe560""]"
ef6948ba5bced17131a28cf6d99d1cbfed955864,fe778ee6ca15bc98b0493056b9829f4017c9e75b,Matt Glazar,strager@fb.com,Tue Jun 19 20:35:34 2018 -0700,1529465734,"Refactor duplicated normWatchmanFileList functionSummary:nnormWatchmanFileList was created in commit 52c6a6b06c to work aroundnencoding issues in pywatchman. Those issues were fixed in commitn5c33f1f384, removing the need for normWatchmanFileList. Unfortunately,nnormWatchmanFileList wasn't removed. This makes some tests confusing tonread, especially tests which mix normWatchmanFileList and normFileList.nnnormWatchmanFileList no longer has special behaviour, and itsnimplementation is identical to normFileList's. ReplacennormWatchmanFileList with normFileList, simplifying tests.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431194nnfbshipit-source-id: ab32f4764380345300ca136a4b0b1e94819b68c8n",52.0,85.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER,tests/integration/test_fsevents_resync.py,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER",8.0,1.0,1.0,2.6837754469134905,26.0,272.5,130.0,20.80078703703704,9.5,1.0163326580985723,12.0,None,False,,
fe778ee6ca15bc98b0493056b9829f4017c9e75b,5f28fa0a7252522e23cadad837e1332091c9eb30,Matt Glazar,strager@fb.com,Tue Jun 19 20:35:36 2018 -0700,1529465736,Delete redundant calls to normFileList [1/2]Summary:nassertFileListsEqual effectively calls normFileList on its inputs. Somentests call normFileList redundantly. Remove the redundant call tonnormFileList to simplify the code.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431193nnfbshipit-source-id: 13c7d3c89e53ff2b9520750e4a16b65d80ce3238n,26.0,43.0,"tests/integration/test_age_file.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",3.0,1.0,1.0,0.9827320250391544,26.0,312.0,43.0,6.933618827160494,15.0,1.0480749969953524,15.0,None,False,True,"[""dcfc04c2084b03c1eff3fa0151425f0748dc7ed3""]"
5f28fa0a7252522e23cadad837e1332091c9eb30,2b3dc4ba4a40820ba242813f17666afedf9fab9d,Matt Glazar,strager@fb.com,Tue Jun 19 20:35:38 2018 -0700,1529465738,"Delete redundant calls to normFileList [2/2]Summary:nSome calls to normFileList are redundant:nn* assertFileList calls fileListsEqual and assertFileListsEqual whichn  both normalize input paths, so normalizing paths in assertFileList isn  unnecessary.n* getFileList's only caller is assertFileList (see above), son  normalizing output paths is unnecessary.n* assertWaitedFileList calls assertFileListContains which callsn  fileListContains which normalizes its input paths, so normalizingn  paths in assertWaitedFileList is unnecessary.nnRemove the calls to normFileList to simplify the code.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431197nnfbshipit-source-id: 9abce932d5a7a21d04ddbee31846fad6cfe52cean",2.0,4.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_wm_wait.py,CAS_DELIMITER",2.0,1.0,1.0,0.6500224216483541,26.0,309.5,59.0,10.400439814814817,17.5,10801.024037444997,17.0,None,False,,
2b3dc4ba4a40820ba242813f17666afedf9fab9d,3eefe347b78590edab35f96753b298a293dd5d87,Matt Glazar,strager@fb.com,Tue Jun 19 21:06:31 2018 -0700,1529467591,"Refactor assertEquals into assertFileListsEqualSummary:nassertEquals(normFileList(a), normFileList(b)) is a cruder version ofnassertFileListsEqual(a, b). Refactor the former into the latter tonsimplify code and improve assertion failure messages.nnThis commit should not change behaviour, aside from changing assertionnfailure messages.nnReviewed By: weznnDifferential Revision: D8431201nnfbshipit-source-id: 49d11352bc58659bea27a2dea4e344e151deb6b3n",65.0,128.0,"tests/integration/test_fsevents_resync.py,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,tests/integration/test_match.py,CAS_DELIMITER,tests/integration/test_since.py,CAS_DELIMITER,tests/integration/test_suffix.py,CAS_DELIMITER",5.0,1.0,1.0,1.8596503999110383,26.0,158.8,47.0,0.02149305555555556,21.0,22.247172859450725,22.0,Preventative,False,,
3eefe347b78590edab35f96753b298a293dd5d87,2b3a4925f97d871bd3977b1e348ec59fc70f846a,Matt Glazar,strager@fb.com,Wed Jun 20 13:22:49 2018 -0700,1529526169,Refactor WatchmanInstance cleanup in testsSummary:nUsing WatchmanInstance is combersome. It requires using an`finally` clause to clean up resources. Simplify uses ofnWatchmanInstance by making it usable with `with`.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431229nnfbshipit-source-id: 462c879b300b0a7730d808e40e1144061804ec74n,11.0,24.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/test_bulkstat.py,CAS_DELIMITER,tests/integration/test_fstype.py,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER",5.0,1.0,1.0,2.23903971705721,26.0,113.0,58.0,17.51807407407407,26.0,1.0223635800923692,27.0,Perfective,False,,
2b3a4925f97d871bd3977b1e348ec59fc70f846a,69a7654cafe7bbdd74ef0bd27245dad67a5046a1,Matt Glazar,strager@fb.com,Wed Jun 20 13:53:30 2018 -0700,1529528010,Factor test_restrictions details into separate methodSummary:nMake test_restrictions more consistent with test_watch_project bynseparating the high-level expectations from the low-level machinery.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431226nnfbshipit-source-id: 118af0a61d55ee63c7b78824357b5aa6f544623en,10.0,9.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,91.0,14.0,0.02130787037037037,29.0,47.93101575230853,28.0,Preventative,False,,
69a7654cafe7bbdd74ef0bd27245dad67a5046a1,83d120ecd989e7d3c27a4561a6c4a5ed3f18e70c,Matt Glazar,strager@fb.com,Thu Jun 21 20:35:52 2018 -0700,1529638552,"Move normAbsolutePath, etc. into path_utils moduleSummary:nnormAbsolutePath and normRelativePath are methods insidenWatchmanTestCase, but both functions are stateless and have nothing tondo with WatchmanTestCase. Tidy things up: make these methods top-levelnfunctions and move them into the path_utils module.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431192nnfbshipit-source-id: 4d9db622f4a5ec9bbf022f0c18573be74673c10fn",43.0,37.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/path_utils.py,CAS_DELIMITER,tests/integration/test_absroot.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER",5.0,1.0,1.0,1.8552796072938835,26.0,293.0,100.0,14.0796875,32.0,1.113223085480182,33.0,None,False,,
83d120ecd989e7d3c27a4561a6c4a5ed3f18e70c,0c3091efdcb2dc538a44118868a7a885563d61ee,Matt Glazar,strager@fb.com,Thu Jun 21 20:35:53 2018 -0700,1529638553,"Refactor test temp dir creation into its own classSummary:nThe logic for managing a test-local temporary directory is hidden insidenWatchmanTestCase's large interface. I want to use this logic inntest_nodejs.py's unittest.TestCase-based test, but the logic is notndirectly reusable.nnMove WatchmanTestCase's temp dir logic into its own mixin class. HavenWatchmanTestCase use the mixin to keep the interface the same as beforento avoid changing existing tests. (The mixin class will be usednelsewhere in a future commit.)nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431191nnfbshipit-source-id: 2eea268c18ab28b6ce3c44bf4378b720ca595211n",38.0,17.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,495.0,54.0,1.1574074074074072e-05,35.0,86401.0,34.0,Preventative,False,,
0c3091efdcb2dc538a44118868a7a885563d61ee,cbaf78b0795d462e38e7700b31c752934c78e8cb,Matt Glazar,strager@fb.com,Thu Jun 21 20:35:55 2018 -0700,1529638555,"Refactor temp dir creation in test_nodejsSummary:ntest_nodejs.py has logic to create a temporary directory per test.nWatchmanTestCase has this logic too. Have test_nodejs.py reusenWatchmanTestCase's implementation, removing the duplication andnsimplifiying the test.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431171nnfbshipit-source-id: 4b43de1ee51570998f883a0e2ee7aafcf711c987n",14.0,12.0,"tests/integration/test_nodejs.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,123.0,6.0,2.9347222222222222,36.0,1.3407477520113582,35.0,Preventative,False,,
cbaf78b0795d462e38e7700b31c752934c78e8cb,4b98623e8fde17588f27494f3ae8f084b9b227d3,Matt Glazar,strager@fb.com,Fri Jun 22 17:51:19 2018 -0700,1529715079,"Move some WatchmanTestCase methods next to only callerSummary:nWatchmanTestCase.findSubscriptionContainingFile is only used byntest_subscribe.py, and WatchmanTestCase.normFileList is only used bynfindSubscriptionContainingFile. Move both of these methods intontest_subscribe.py to simplifiy WatchmanTestCase's interface.nnThis commit should not change behaviour.nnReviewed By: weznnDifferential Revision: D8431195nnfbshipit-source-id: df8d9b9345e318a198bda7f7b6773ed10cd5633bn",10.0,10.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,1.0,1.0,1.0,26.0,610.5,88.0,0.8857233796296297,37.5,1.8467691878893024,37.0,Preventative,False,,
4b98623e8fde17588f27494f3ae8f084b9b227d3,ed041fab1c8e552ac323f3d53789534b03c3c32c,Matt Glazar,strager@fb.com,Tue Jul 3 14:36:18 2018 -0700,1530653778,"Move log_name global out of main.cppSummary:nlog_name is used outside main.cpp. Its location means this variable is inaccessible from tests, thus tests can't use functions which reference this variable. Move this variable into log.cpp so tests can include root/symlink.cpp, for example.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D8549106nnfbshipit-source-id: 9bb906488bd2b4fe2db6ef20019a79186a041f18n",2.0,1.0,"log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,24.0,820.5,48.0,43.14603009259259,39.5,1.0173828275368666,1.0,None,False,,
ed041fab1c8e552ac323f3d53789534b03c3c32c,fe96240883b4552e39e3987c4fbcc99d1ba29ed7,Matt Glazar,strager@fb.com,Tue Jul 3 14:40:37 2018 -0700,1530654037,"Move watchman_state_file, dont_save_state globals out of main.cppSummary:nwatchman_state_file and dont_save_state are used outside main.cpp. Their location means these variables are inaccessible from tests, thus tests can't use functions which reference these variables. Move these variables into state.cpp so tests can include perf.cpp, for example.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D8549105nnfbshipit-source-id: cebd0c78b25e00a6fc511fb9209122ea1bd393a1n",3.0,2.0,"main.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.9709505944546686,24.0,693.5,46.0,51.57375578703704,41.5,167.80021422205087,3.0,None,False,,
fe96240883b4552e39e3987c4fbcc99d1ba29ed7,395a9cbfc12ee604a4b8ccac6035419632271a28,Matt Glazar,strager@fb.com,Thu Jul 5 11:56:11 2018 -0700,1530816971,"Delete dead codeSummary:nThe delete_dir function isn't referenced anywhere, and it's not even defined. Delete its declaration.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D8728076nnfbshipit-source-id: 73453a079e80f94376637e6687bedc3f405f8502n",0.0,1.0,"watchman_dir.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,41.0,9.0,114.90986111111113,43.0,1.0087024733154368,4.0,None,False,,
395a9cbfc12ee604a4b8ccac6035419632271a28,3be98a35a055bfb180a986b61b932d2f71ddf224,Matt Glazar,strager@fb.com,Thu Jul 5 13:59:04 2018 -0700,1530824344,"Move sock_name global out of main.cppSummary:nget_sock_name is used outside main.cpp. Its location means this function is inaccessible from tests, thus tests can't use functions which reference get_sock_name. Move get_sock_name into its own file so tests can include perf.cpp, for example.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D8549107nnfbshipit-source-id: a3bd412c4a962961ff129f6345f16f1747d1372en",13.0,6.0,"CMakeLists.txt,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,main.cpp,CAS_DELIMITER,sockname.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,1.0,1.0,1.6832403580119772,25.0,433.2,410.0,41.104701388888884,46.0,1.0122527406257578,9.0,None,False,,
3be98a35a055bfb180a986b61b932d2f71ddf224,d8c491220425f2c037248b5ac8ce7295f20a58b3,Matt Glazar,strager@fb.com,Thu Jul 5 14:02:46 2018 -0700,1530824566,"Move watchman_tmp_dir global out of main.cppSummary:nwatchman_tmp_dir is used outside main.cpp. Its location means this variable is inaccessible from tests, thus tests can't use functions which reference watchman_tmp_dir. Move watchman_tmp_dir into its own file so tests can include spawn.cpp, for example.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D8727801nnfbshipit-source-id: ba13a7ae537e6288e62d0ef09d9f9db4db0fb328n",9.0,2.0,"CMakeLists.txt,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,main.cpp,CAS_DELIMITER,tmp.cpp,CAS_DELIMITER",4.0,1.0,1.0,1.6171895725927152,25.0,510.0,179.0,0.0019270833333333327,50.5,211.8108108108109,13.0,None,False,,
d8c491220425f2c037248b5ac8ce7295f20a58b3,12789c627979bac600c83d8346e2689b33ff92a6,Matt Glazar,strager@fb.com,Thu Jul 5 15:23:20 2018 -0700,1530829400,"Move w_get_group out of main.cppSummary:nw_get_group is used outside main.cpp. This means this function are inaccessible from tests, thus tests can't use functions which reference w_get_group. Move w_get_group into FileInformation.cpp so tests can include listener.cpp, for example.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D8550151nnfbshipit-source-id: 2e084a2dd0a150d6053699f1c695e73973c049cdn",34.0,19.0,"CMakeLists.txt,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,groups.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER",4.0,1.0,1.0,1.1862105912532348,25.0,510.25,182.0,0.04196180555555557,54.5,11.426148117501032,17.0,None,False,,
12789c627979bac600c83d8346e2689b33ff92a6,ad78240013d1719eaa4e805bf3972555b4940490,Wez Furlong,wez@fb.com,Mon Jul 9 10:10:21 2018 -0700,1531156221,remove some stray debugSummary: This is just noise in the watchman logsnnReviewed By: stragernnDifferential Revision: D8584090nnfbshipit-source-id: 65adc4a5e05fa3a2150cdd24dc3edf157d4d88c1n,0.0,4.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,1041.0,40.0,33.856875,5896.0,1.0295360986505695,290.0,Corrective,True,,
ad78240013d1719eaa4e805bf3972555b4940490,984dd58bbd1b121d13ec6f99c8470c3c3afbe560,Matthew Glazar,strager.nds@gmail.com,Mon Jul 9 13:37:10 2018 -0700,1531168630,"Fix test_restrictions with Python 2.6 (#619)Summary:nCommit ef6948ba5b added some uses of str.format, but the format stringsndon't work with Python 2.6. This causes the test_restrictions test tonfail on Travis CI. Make the format strings compatible with Python 2.6 tonmake the build green again.nCloses https://github.com/facebook/watchman/pull/619nnReviewed By: weznnDifferential Revision: D8741560nnPulled By: stragernnfbshipit-source-id: c2a652b2288343bba9b64871f4a1498bb32311d6n",2.0,2.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,92.0,15.0,18.98865740740741,2.0,1.0526630176396727,0.0,Corrective,True,,
984dd58bbd1b121d13ec6f99c8470c3c3afbe560,da7c9b3684ff7dc59f0a13de3fc32a169baf949a,Andres Kalle,mjomble@gmail.com,Mon Jul 9 14:11:40 2018 -0700,1531170700,Fixed a typoSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/622nnDifferential Revision: D8772446nnPulled By: weznnfbshipit-source-id: 2a19a528b8eca1e5162a33befac2bebcdf92bf35n,1.0,1.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,216.0,11.0,119.05892361111113,0.0,0.0,0.0,Corrective,True,,
da7c9b3684ff7dc59f0a13de3fc32a169baf949a,33626e13cc2f6b3dbd21ef0a61d2de2aab009398,Wez Furlong,wez@fb.com,Mon Jul 9 16:31:53 2018 -0700,1531179113,"prepare for more folly-dependent codeSummary:nkcoons has a stack of diffs that pull in some facebook internalnlibraries.  These use singletons to initialize things early on, and thisnimpacts the start up time of the watchman binary and triggers some flakinessnin the `test_sock_perms.py`; it doesn't wait long enough for the binary tonemit the error message and thus fails.nnThis diff addresses the test flakiness by raising the timeout in the test;nnote that this increases the minimum latency for the test, so we don'tnwant to raise this all the way up to 10 seconds.  Ideally we'd pollnfor the output but we don't have a good way to connect our `waitFor`nhelper to the instance startup code today.nnI've also moved the magic glue for completing the folly singletonninitialization to main; this is basically where it was on thenvery first iteration of D4725016.  It makes more sense for it to bencentralized now that we have both eden and the saved state modulesnpulling in folly deps.nnIn the longer term we're going to take a full dependency on follynand use folly::init, but for now we minimize the surface area.nnReviewed By: stragernnDifferential Revision: D8758271nnfbshipit-source-id: c66feb35b5d567b29ba8ca1a26a595fcf88c3d82n",13.0,7.0,"main.cpp,CAS_DELIMITER,tests/integration/test_sock_perms.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",3.0,3.0,3.0,1.295461844238322,27.0,828.3333333333335,90.0,14.981373456790125,5898.0,1.0972304597955085,291.0,None,False,,
33626e13cc2f6b3dbd21ef0a61d2de2aab009398,f6976f9a05222eac739e1c63c45959270ef319b9,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:40 2018 -0700,1531504600,de-const FileResult methodsSummary:nthis isn't needed and means that we can remove thenuse of mutable from some fields here and in later diffsnnReviewed By: stragernnDifferential Revision: D8756913nnfbshipit-source-id: 814d1df898ef5a4c9f94f5e40f263a638989c91an,51.0,51.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",16.0,3.0,3.0,3.5338419619550665,27.0,232.1875,332.0,266.3519184027778,5907.5,1.0014924699972347,2769.0,None,False,,
f6976f9a05222eac739e1c63c45959270ef319b9,e23588455e5c1a7446b61bc69afa3cb7456a6586,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:42 2018 -0700,1531504602,"add FileResult::{Property, Properties}Summary:nBeing able to refer and track the properties needed bynan accessor will help us with lazy loading later in this diff stack.nnReviewed By: stragernnDifferential Revision: D8584091nnfbshipit-source-id: f10f1d847b5a1f08c8f022987e468ebd973a41ebn",56.0,0.0,"watchman_query.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,364.0,81.0,2.314814814814815e-05,5916.0,43201.0,2770.0,Feature Addition,False,,
e23588455e5c1a7446b61bc69afa3cb7456a6586,6597f7647b09908a25d6080c4565e5b8760ab60d,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:44 2018 -0700,1531504604,introduce Optional containerSummary:nI've added `watchman/Optional.h`; it providesna subset of the functionality of `std::optional` and it is morenexpedient to use this than `std::optional` at this time.  Once wencut the OSS builds over to folly+boost we can replace this withn`std::optional`.nnReviewed By: stragernnDifferential Revision: D8770245nnfbshipit-source-id: 703df55d01b168ad8d52ca0bc0fa4341f5873c6dn,260.0,0.0,"CMakeLists.txt,CAS_DELIMITER,Optional.h,CAS_DELIMITER,tests/OptionalTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER",4.0,2.0,2.0,1.2425948386104857,25.0,161.75,26.0,9.84605613425926,5918.5,1.1023187146763958,787.0,None,False,,
6597f7647b09908a25d6080c4565e5b8760ab60d,e31196f88d57edb327bd504b5961f433721fe026,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:47 2018 -0700,1531504607,"query expr evaluate returns Optional<bool>Summary:nThis allows us to introduce the concept of a lazynevaluation of the expression term.   evaluate can nownreturn `Match`, `NoMatch` or `NeedMoreData` by returningntrue, false or nullopt.nnThe latter is intended to be returned when the expression cannot be evaluatednfully immediately and is somewhat similar to the concept of an `EAGAIN` returnnvalue.nnNothing returns the `NeedMoreData` disposition today but the intention is tonintroduce a similar concept to the accessors in the `FileResult` type.nnWhen used in queries like this:nn```n[anyof, [allof, [type, f], [dirname, html], [anyof, [suffix, png]]]]n```nnthe lazy evaluation will allow us to avoid fetching full file informationnto evaluate the `[type, f]` portion if we get a `NoMatch` for the namenbased checks later/deeper in the expression tree.nnReviewed By: stragernnDifferential Revision: D8584085nnfbshipit-source-id: 476ba117f08dcb900e8f1219c7658f6cd84b3305n",60.0,27.0,"query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",12.0,2.0,2.0,2.4728432347858207,27.0,155.41666666666666,255.0,4.321999421296298,5926.5,1886.7287466985767,2773.0,None,False,,
e31196f88d57edb327bd504b5961f433721fe026,dfd7dceccb26775d78a6a5855b66f3e7bfe9b6d3,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:51 2018 -0700,1531504611,add method to batch load field data for FileResultSummary:nadds `FileResult::batchFetchData()`.   The purpose of thisnmethod is to allow an implementation of `FileResult` to perform anbatch load operation to obtain a set of data using fewer round trips.nnThis doesn't really change anything for `InMemoryView` but willnallow the `EdenFileResult` implementation to work more efficiently.nnReviewed By: stragernnDifferential Revision: D8584086nnfbshipit-source-id: 3fd014eca6b270f191ef480b61fa4f0be75ec6d5n,87.0,3.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",7.0,3.0,3.0,1.8639347730625488,27.0,440.57142857142856,314.0,0.00010416666666666667,5936.0,3000.924530675137,2778.0,Feature Addition,False,,
dfd7dceccb26775d78a6a5855b66f3e7bfe9b6d3,8e5078b2b68ed172683f5acf05cc9cc83b071b59,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:52 2018 -0700,1531504612,"make FileResult methods return Optional valuesSummary:nAllow some of the accessors in `FileResult` to return optionalnvalues to indicate that the value is not currently known.nnA side effect of these methods returning an empty optional valuenis that they will set the neededProperties_ member with an appropriatenvalue so that a subsequent batchFetchProperties() call will obtainnthe require data.nnNone of the FileResult implementations return a empty value fornthese today, so this diff should not change functionality.nnReviewed By: stragernnDifferential Revision: D8584080nnfbshipit-source-id: 47373b7e4fc71bfd421e646004e48f41251df8b8n",112.0,61.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",12.0,3.0,3.0,3.450333697283632,27.0,318.0833333333333,384.0,9.415472608024693,5945.5,16521.004425342853,2783.0,None,False,,
8e5078b2b68ed172683f5acf05cc9cc83b071b59,248c64d3645ba3260b4d64fd7fca5b9ea3e3ae5f,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:54 2018 -0700,1531504614,"implement lazy file metadata loading for edenSummary:nThis diff implements basic lazy calling of the eden `getFileInformation` thrift call.nnNote that some code paths unconditionally call Option::value() and trigger a badnoptional error in the tests; those tests are fixed later in this stack.nnReviewed By: simpkins, stragernnDifferential Revision: D8584079nnfbshipit-source-id: 976ec380d9e863a081ad68c71703f7fc884f2255n",151.0,61.0,"query/eval.cpp,CAS_DELIMITER,tests/integration/test_eden_sha1.py,CAS_DELIMITER,tests/integration/test_eden_since.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",4.0,3.0,3.0,1.3166437610408874,27.0,422.5,124.0,22.199479166666666,5953.5,10801.0112615262,295.0,None,False,True,"[""bcb6950ccf1de7bc9bf61fe48f461f41b855a755""]"
248c64d3645ba3260b4d64fd7fca5b9ea3e3ae5f,a443a50dd59190a346b43053f0ef4ca9f04f6fca,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:56 2018 -0700,1531504616,"expand lazy fetching of data into result renderingSummary:nThis diff allows the render phase of query processing to returnn`Optional<json_ref>` to indicate that it needs data to be loaded before it cannrender a given field.nnAs part of this diff, I've eliminated the `watchman_rule_match` containernstruct so that we can reuse the existing `batchFetchData` method.  This has thennice side effect of reducing the transient memory usage because it canneliminate a couple of fields that can be derived from the query context.nnWhile that wasn't strictly required for code reuse, a more compelling reasonnto remove watchman_rule_match is that it forces eager evaluation of the `new`nflag even when that isn't a requested output field.  Computing the newnessnrequires a lot of metadata to be loaded, so it is desirable to avoid thisnwhere possible.nnThis comes at the potential cost of repeating the calculation of the `relname`n(which is the name of the file with any relative root prefix stripped) for somenqueries.   There's some more work I want to do to make data fetching lazy, sonI'll revisit the performance of this once I've gotten all the plumbing done.nnOn a similar note, the logic for rendering futures has a little bit of tensionnwith batching.  These are only used for content SHA1 and symlink targets today.nI'll make another pass over that aspect of the interface a little later innthis diff stack.nnDifferential Revision: D8584083nnfbshipit-source-id: 235a89fe11df07ef87097939a73afc0381c4a1a7n",283.0,181.0,"query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,2.0,2.0,1.3432582795312058,27.0,403.0,176.0,3.8580246913580246e-05,5957.0,22081.0,2784.0,None,False,,
a443a50dd59190a346b43053f0ef4ca9f04f6fca,3dfd59ab558ab2876b251f8ba7c7fe512cc001b2,Wez Furlong,wez@fb.com,Fri Jul 13 10:56:58 2018 -0700,1531504618,"add lazy loading for LocalFileResultSummary:nSince these objects result in immediate stat() calls tonfill in missing information, we don't have a nice way to batchnthese up, so we just defer the stat calls until needed.nnReviewed By: stragernnDifferential Revision: D8584084nnfbshipit-source-id: b85d866f4adcedd1a46dc18165a144e07aad719fn",15.0,3.0,"LocalFileResult.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,69.0,6.0,6.944444444444444e-05,5959.0,14401.0,2785.0,Feature Addition,False,,
3dfd59ab558ab2876b251f8ba7c7fe512cc001b2,e4864ed0c311af80c7553969b94d667608c99738,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:00 2018 -0700,1531504620,"change FileResult::readLink to non-blocking semanticsSummary:nPrior to this diff, the readLink call returned a Future to allownasynchronously producing the readLink results.  This has is in tension with theninfrastructure to batch process render results, so this diff makes it follownsimilar semantics to the other methods of FileResult; if it returns an emptynoptional then we will need to load the target later during a batch fetchnoperation.nnThere are currently no implementations of this class that have an actual batchnimplementation of this function, so this is slightly moot, however, it isnbeneficial because it is a step to removing the Future flavor of thesenaccessors to relieve the tension mentioned above.nnWhile there are no batch implementations of readLink, the InMemoryView implementationncan run the underlying Futures for the cache lookups concurrently.nnBugs discovered:nn* LocalFileResult wasn't respecting the semantics of returning a nullptr w_string() for !symlink files.n* EdenFileResult hadn't hooked up an implementation of readLink.  We do the dumb thing here.nnReviewed By: stragernnDifferential Revision: D8584088nnfbshipit-source-id: db3a98a3f61e49429c993a1d99cfb4aa899ab02en",126.0,41.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",7.0,3.0,3.0,1.9815079515938216,27.0,461.4285714285714,280.0,6.613756613756613e-05,5963.0,4538.582417582417,2790.0,None,False,True,"[""dba1542b6e8a8758017b32bc349cb0f80895d2b5"", ""4be30fc54adaf30c6e80965c26daeeea93106a96""]"
e4864ed0c311af80c7553969b94d667608c99738,3f8e696d93a026795d222dc061db4ce703a038dd,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:02 2018 -0700,1531504622,FileResult::getContentSha1 is no longer a FutureSummary:nThis allows us to remove the last future bit from the result renderernand more importantly allows deferring requesting the content SHA1 from edennuntil after we've filtered the query results.nnPreviously we were forced to eagerly compute those results and that wasnsuper expensive in larger repos in the fresh instance query case fornqueries using the since generator.nnReviewed By: stragernnDifferential Revision: D8584087nnfbshipit-source-id: 4f2b2f09d61ffa772028782b3e48c371f63bce96n,150.0,237.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,tests/integration/test_eden_sha1.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",10.0,4.0,4.0,2.489566972065969,27.0,434.3,393.0,3.788961805555555,5971.5,10158.153414138951,2795.0,None,False,True,"[""dba1542b6e8a8758017b32bc349cb0f80895d2b5""]"
3f8e696d93a026795d222dc061db4ce703a038dd,0787c42942007cdd38265c2864506e790cbe9793,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:04 2018 -0700,1531504624,"pre-set exists status for fresh instance queries in edenSummary:nWhen we've produced a file list by evaluating a glob, we knownthat the files exist, so let's remember that.  This helps to avoidnquerying FullFileInformation for expressions that use the `exists` term;nthis can save querying a significant volume of metadata for freshninstance results in large repos.nnReviewed By: stragernnDifferential Revision: D8584081nnfbshipit-source-id: eb925fab2dbf2da69603a5a2b4cfe5584df6f4b3n",19.0,5.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,1114.0,48.0,2.314814814814815e-05,5977.0,43201.0,298.0,None,False,,
0787c42942007cdd38265c2864506e790cbe9793,be5bfe404811d63a441fd8c8c5b8dd78ec4ecb70,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:06 2018 -0700,1531504626,disable prefetch when globbing from edenSummary:nThis is counterproductive for fresh instance results in large repos;nnow that we can be lazy we can just turn it off.nnReviewed By: stragernnDifferential Revision: D8584082nnfbshipit-source-id: 01f194e2e052f61917fa4fe7dafbcb604ba76842n,0.0,8.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,1128.0,49.0,2.314814814814815e-05,5978.0,43201.0,299.0,None,False,,
be5bfe404811d63a441fd8c8c5b8dd78ec4ecb70,4ede0a27e4d6ccd5255c48c92463b98831f9b9fd,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:08 2018 -0700,1531504628,factor stat (a|m|c)time data out from FileResult::stat()Summary:nThis gives us the option of returning eg: mtime from a differentnsource without requiring the full stat information when in eden.nnReviewed By: stragernnDifferential Revision: D8651890nnfbshipit-source-id: 35a1601d1f39eb05a7a2f98fcff52996bb9950adn,131.0,43.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",8.0,4.0,4.0,2.4976998580342453,27.0,434.125,308.0,5.5499421296296285,5982.5,4111.008446044289,2800.0,None,False,True,"[""ed6049ecb13d726ea79066ea8705615c1f94c327""]"
4ede0a27e4d6ccd5255c48c92463b98831f9b9fd,5f6f47f2d5deb1522f1f6fe0a125ea7548fd1317,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:10 2018 -0700,1531504630,"factor size out of FileResult::stat()Summary:nSimilar to the prior diff, this potentially relaxes thenamount of data that we'll need to fetch from eden for certain queries.nnReviewed By: stragernnDifferential Revision: D8651889nnfbshipit-source-id: 70050218b9ba7659de57e3c766bc4f388b27d855n",42.0,5.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",9.0,3.0,3.0,2.9068128522335,27.0,390.22222222222223,322.0,6.430041152263374e-05,5991.0,11313.783564261823,2805.0,None,False,,
5f6f47f2d5deb1522f1f6fe0a125ea7548fd1317,2e7472b84b0708abd52f74d1bb28ce340e2d341b,Wez Furlong,wez@fb.com,Fri Jul 13 10:57:12 2018 -0700,1531504632,"remove data dep on exists/type for sha1 result renderingSummary:nWe would previously request additional data to decide whethernto request the content sha1, which meant fetching more data than wenstrictly need.  For example, in eden, we shouldn't need to stat anfile in order to retrieve its sha1.nnThis diff moves the checks that were previously in the rendering codenand pushes them into the FileResult methods themselves, allowingnthe implementation to decide how best to proceed.nnFor InMemoryView and EdenFileResult the error conditions raisensystem errors that we can now catch in the render code so thatnthe existing tests have preserved their behavior.nnReviewed By: stragernnDifferential Revision: D8651888nnfbshipit-source-id: d7f70d9bdc27e3606d22a48e8ae17e8dcf7e38bfn",41.0,24.0,"InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,error_category.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_error_category.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",7.0,3.0,3.0,2.0254448113871484,27.0,485.0,296.0,77.9832919973545,5999.0,9258.146446773177,2810.0,None,False,True,"[""dba1542b6e8a8758017b32bc349cb0f80895d2b5""]"
2e7472b84b0708abd52f74d1bb28ce340e2d341b,ef5a8ff71899cfc489f1e272c95b1fbe19f7cc2b,Wez Furlong,wez@fb.com,Fri Jul 13 18:02:43 2018 -0700,1531530163,"enable hg fsmonitor race detection during `hg status`Summary:nThis diff enables the new fsmonitor config option thatnrequests strict race detection during `hg status` operations.nWhen this config is enabled, mercurial will raise an errornif at the end of a status call it detects that the workingncopy has been changed in a way that will produce misleadingnor bad results rather than being oblivious to them.nnThis config option is safe to enable even if the mercurialninstall doesn't have support for this functionality; it willnbe silently ignored.nnWhen the flag is enabled and an issue is detected, the statusncall will error out and bubble up an error to the watchmannquery executor.  For `query` commands this will yield an `error`nPDU.nnFor subscriptions it will cause the current batch to errornout, but because mutation happened or is happening, the subscriptionnresult processing is likely to trigger again almomst instantaneouslynand emit the correct current results.nnWe had talked about potentially making the `query` path retry thencall in the error case, but it's not clear that the complexity innhandling the retry is warranted, so let's try this to start.nnReviewed By: quark-zjunnDifferential Revision: D8848628nnfbshipit-source-id: 699646200d299e91c1f558dba861ed0d2bfc4f5an",11.0,0.0,"scm/Mercurial.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,252.0,19.0,34.88184027777777,6003.0,1.028668212228386,20.0,None,False,,
ef5a8ff71899cfc489f1e272c95b1fbe19f7cc2b,e803477b0bad0045daf0c96fcb7fd6756ec64f15,Matt Glazar,strager@fb.com,Fri Jul 13 19:40:42 2018 -0700,1531536042,"Check watch-project in test_restrictions, not just watchSummary:ntest_restrictions tests the `watch` command. `watch-project` is ansimilar command and is subject to the same restrictions, but itsnimplementation is different. Make sure restrictions work the same waynfor `watch-project` as they work for `watch`.nnNote: test_watch_project tests restrictions with the `watch-project`ncommand, but it does not test restrictions with then`root_restrict_files` configuration option.nnReviewed By: weznnDifferential Revision: D8431227nnfbshipit-source-id: 8949595866f1a26d3ed8e54faca69d3caf872ec0n",44.0,11.0,"tests/integration/test_restrictions.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,92.0,16.0,4.252453703703703,57.0,1.2351583508431951,38.0,Preventative,False,True,"[""3a2bd8dab53171c172891be41c057fb53b19d294""]"
e803477b0bad0045daf0c96fcb7fd6756ec64f15,3a2bd8dab53171c172891be41c057fb53b19d294,Matt Glazar,strager@fb.com,Fri Jul 13 19:40:44 2018 -0700,1531536044,"Fix use of undeclared identifier 'WATCHMAN_CONFIG_FILE'Summary:nConfiguring Watchman with --enable-conffile=no causes Watchman to failnto compile:nncmds/watch.cpp:231:7: error: use of undeclared identifier 'WATCHMAN_CONFIG_FILE'nt  WATCHMAN_CONFIG_FILE,nt  ^nroot/resolve.cpp:220:9: error: use of undeclared identifier 'WATCHMAN_CONFIG_FILE'nWATCHMAN_CONFIG_FILE,n^nnUsing WATCHMAN_CONFIG_FILE in these places is wrong for two reasons:nn* The WATCHMAN_CONFIG_FILE macro may be not defined, hence then  compilation error with --enable-conffile=no.n* The user can set WATCHMAN_CONFIG_FILE at run-time using then  WATCHMAN_CONFIG_FILE environment variable.nnFix the compilation error by exposing the config file's path from thenconfig module.nnReviewed By: weznnDifferential Revision: D8431235nnfbshipit-source-id: d474ae60eec1c7adff25ef943555e11ef957dab7n",26.0,10.0,"cfg.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,tests/integration/test_restrictions.py,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER",5.0,3.0,3.0,1.7331812677508809,26.0,231.8,78.0,112.0370648148148,60.0,1.003450988897367,20.0,Corrective,True,,
3a2bd8dab53171c172891be41c057fb53b19d294,fd8dffd3b555155b1b24e94669ba11714d090585,Matt Glazar,strager@fb.com,Fri Jul 13 20:06:45 2018 -0700,1531537605,"Skip Hg tests if Hg is not installedSummary:nI don't have Hg (the Mercurial VCS) installed. This means test_request_id failsnon my machine:nn$ ./runtests.py tests/integration/test_request_id.pynEden not available because: No module named configparsernFAIL test_request_id.TestRequestIdCliJson.test_scmHgRequestId (0.008s)nTraceback (most recent call last):n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py, line 331, in runnttestMethod()n  File /Users/mg/Projects/watchman/tests/integration/test_request_id.py, line 54, in test_scmHgRequestIdntself.skipIfNoHgRequestIdSupport()n  File /Users/mg/Projects/watchman/tests/integration/test_request_id.py, line 41, in skipIfNoHgRequestIdSupportntsubprocess.call([hg, init], env=env, cwd=root)n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py, line 522, in callntreturn Popen(*popenargs, **kwargs).wait()n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py, line 710, in __init__nterrread, errwrite)n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py, line 1335, in _execute_childntraise child_exceptionnOSError: [Errno 2] No such file or directoryn[snip]nPASS test_request_id.TestRequestIdLocalBser2.test_queryRequestId (0.014s)nRan 8, failed 4, skipped 0, concurrency 1nnHg is not required for Watchman to work, so Watchman's test suite should notnrequire Hg. Make test_request_id skip the Hg-requiring tests if Hg is notninstalled:nn$ ./runtests.py tests/integration/test_request_id.pynEden not available because: No module named configparsernPASS test_request_id.TestRequestIdLocalBser2.test_queryRequestId (0.013s)nPASS test_request_id.TestRequestIdCliJson.test_queryRequestId (0.035s)nSKIP test_request_id.TestRequestIdLocalJson.test_scmHgRequestId (0.000s) Hg not installednSKIP test_request_id.TestRequestIdLocalBser2.test_scmHgRequestId (0.000s) Hg not installednSKIP test_request_id.TestRequestIdLocalBser.test_scmHgRequestId (0.000s) Hg not installednSKIP test_request_id.TestRequestIdCliJson.test_scmHgRequestId (0.000s) Hg not installednPASS test_request_id.TestRequestIdLocalJson.test_queryRequestId (0.011s)nPASS test_request_id.TestRequestIdLocalBser.test_queryRequestId (0.010s)nRan 8, failed 0, skipped 4, concurrency 1nnOf course, do not change the behaviour of test_request_id if Hg *is* installed:nn$ ./runtests.py tests/integration/test_request_id.pynEden not available because: No module named configparsernPASS test_request_id.TestRequestIdLocalBser.test_queryRequestId (0.012s)nSKIP test_request_id.TestRequestIdLocalBser2.test_scmHgRequestId (0.281s) HGREQUESTID is not supportednPASS test_request_id.TestRequestIdLocalJson.test_queryRequestId (0.013s)nSKIP test_request_id.TestRequestIdLocalJson.test_scmHgRequestId (0.287s) HGREQUESTID is not supportednSKIP test_request_id.TestRequestIdCliJson.test_scmHgRequestId (0.280s) HGREQUESTID is not supportednPASS test_request_id.TestRequestIdLocalBser2.test_queryRequestId (0.010s)nSKIP test_request_id.TestRequestIdLocalBser.test_scmHgRequestId (0.292s) HGREQUESTID is not supportednPASS test_request_id.TestRequestIdCliJson.test_queryRequestId (0.040s)nRan 8, failed 0, skipped 4, concurrency 1nnReviewed By: weznnDifferential Revision: D8431230nnfbshipit-source-id: b5d8f259dd2355bca4b7cfd148ec1c940a6ff3f2n",21.0,0.0,"tests/integration/test_request_id.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,104.0,3.0,44.780775462962964,63.0,1.0223310112355486,40.0,Preventative,False,,
fd8dffd3b555155b1b24e94669ba11714d090585,02f0c0fbc62e26e683a6ea17004af5975259198f,Matt Glazar,strager@fb.com,Mon Jul 16 13:46:34 2018 -0700,1531773994,"Fix client subscription flakinessSummary:nSometimes, a subscription doesn't fire even though it should, causingntest_subscribe.test_flush_subscriptions to be flaky.nnI looked Watchman's logs for the test failure. I observed that, when thensubscription is supposed to fire,nwatchman_client_subscription::last_sub_tick matches the current tick,neven though we just advanced the current tick and that tick nevernhappened before. In Watchman's logs for passing runs of the test, Inobserved that sometimes last_sub_tick is much higher than the currentntick (e.g. 1936028719 vs 5), which also shouldn't happen:nn2018-05-31T22:51:55,615: [client=0x7fbd4cb004f8:stm=0x7fbd4cb00120:pid=0] sub=0x7fbd4b5056c8 sub1, last=1936028719 pending=5nnlast_sub_tick is wrong because it is not initialized when thensubscription is created. Reading the uninitialized last_sub_ticknvariable invokes undefined behaviour, and in practice last_sub_tickncontains an arbitrary number. If we're unlucky, that arbitrary numbernmatches the current tick at the same time the subscription is supposednto fire, so the subscription doesn't fire for that tick.nnIf you initialize last_sub_tick to a small number (like 7 on mynmachine), test_subscribe is *extremely* flaky. This supports mynhypothesis.nnInitialize last_sub_tick to 0 to make it never match the current tick,nfixing the bug. (From what I can tell, ticks start at 1.)nnReviewed By: weznnDifferential Revision: D8431231nnfbshipit-source-id: f7e7a5c4a7fdeffcfe6683c40be9c6facdc737dfn",1.0,1.0,"watchman_client.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,132.0,30.0,117.76467592592593,64.0,1.0084915106515386,21.0,Corrective,True,,
02f0c0fbc62e26e683a6ea17004af5975259198f,5034073162061d1eaff6e5631ff03dc826520be7,Taras Tsugrii,ttsugrii@fb.com,Thu Jul 26 23:22:23 2018 -0700,1532672543,"Replace `is` with `==` for Skylark compatibility.Summary: https://buckbuild.com/concept/skylark.htmlnnReviewed By: zertosh, philipjameson, luciangnnDifferential Revision: D9024975nnfbshipit-source-id: 3e1db3152b084e0d9a3393ccdb4fad4391151871n",1.0,1.0,"tests/TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,25.0,205.0,21.0,13.5178125,0.0,0.0,0.0,None,False,,
5034073162061d1eaff6e5631ff03dc826520be7,dba1542b6e8a8758017b32bc349cb0f80895d2b5,Wez Furlong,wez@fb.com,Tue Jul 31 09:11:31 2018 -0700,1533053491,"fixup batch loading for content.sha1hexSummary:nThe main problem here was the use of `baseName()` in the loopnwhen computing the file names to examine for sha1hex and readlink.nnThis had the effect of concatenating the basename from the first filenin the batch with the dirnames of the subsequent entries, generatingnnonsense filenames for the majority of results.nnA secondary issue is that these bogus filename generated error resultsnwhich we considered to be equivalent to need data due to the usenof `hasValue` rather than testing whether the `Result` type wasn`empty`.nnThe readlink code had a similar potential issue with the error case.nnReviewed By: chadaustinnnDifferential Revision: D9073833nnfbshipit-source-id: d9ad330297b40593f9a605c1d015975ba96f0205n",25.0,9.0,"InMemoryView.cpp,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER",2.0,2.0,2.0,0.9081783472997051,27.0,527.0,71.0,40.12618055555557,6004.5,1.0341218457705672,792.0,Corrective,True,,
dba1542b6e8a8758017b32bc349cb0f80895d2b5,55f81e9bbfa4e2df65f240434f5a9968b7357433,Philip Jameson,pjameson@fb.com,Tue Jul 31 09:47:43 2018 -0700,1533055663,Remove py_sdk from watchmanSummary: Remove accessing the SANDCASTLE env var directly. Use a helper method insteadnnReviewed By: weznnDifferential Revision: D9069221nnfbshipit-source-id: c1777683089f26ea9e5840a6149b37c808e24a35n,4.0,6.0,"tests/TARGETS,CAS_DELIMITER,tests/integration/eden/TARGETS,CAS_DELIMITER",2.0,1.0,2.0,1.0,25.0,118.5,24.0,26.97784722222222,17.5,1.1220252671494242,5.0,None,False,,
55f81e9bbfa4e2df65f240434f5a9968b7357433,4e93c06eb16543556045fcdfe6bf4bfa7be34160,Wez Furlong,wez@fb.com,Tue Jul 31 19:24:56 2018 -0700,1533090296,"improve exception safety in ResultSummary:nI don't believe that these are actual problemsnwith the way that we use this today, but there arena couple of cases where we may end up with inconsistentnunderstanding of whether the contained value is constructednif copy or move construction/assignment throws an exception.nnReviewed By: chadaustinnnDifferential Revision: D9088213nnfbshipit-source-id: c81cd096e8ffee2a9e39f0efe5114ce5a3d1fb30n",28.0,51.0,"Result.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,320.0,4.0,424.4641782407408,6006.0,1.00235591140846,2812.0,None,False,,
4e93c06eb16543556045fcdfe6bf4bfa7be34160,07ee91f9235d40f5b60d8b39af4cb18facd9e8ac,Wez Furlong,wez@fb.com,Tue Jul 31 19:24:58 2018 -0700,1533090298,"InMemoryView::batchFetchProperties must always join futuresSummary:nWe've seen a crash occur in the case that the LRUCache is saturatednwith requests.  When this happens, the cache code will throw an exception andnthis would leave the set of futures spawned unjoined.  Since the continuationnof those futures doesn't (and cannot!) take owning references to the data itnneeds to manipulate, it was possible for them to generate a number of invalidnmemory accesses.nnThis diff uses SCOPE_EXIT to ensure that we always wait for the futures,neven in the exception case.nnReviewed By: chadaustinnnDifferential Revision: D9093692nnfbshipit-source-id: 529572a543d6666c228833eb74440c8c0240029an",48.0,8.0,"InMemoryView.cpp,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER",2.0,2.0,2.0,0.9666186325481028,27.0,535.0,73.0,0.4260069444444444,6007.5,2.7605346809030893,793.0,None,False,,
07ee91f9235d40f5b60d8b39af4cb18facd9e8ac,0260c336fe9e1480608cb773dae3f14cb56534b6,Wez Furlong,wez@fb.com,Tue Jul 31 19:25:00 2018 -0700,1533090300,"allow making progress even when content_hash_max_items is lowSummary:nThe prior diff highlighted a crash bug in this scenario.  With the crashnaddressed we can now look at the ergonomics in this situation.  The purpose ofn`content_hash_max_items` is to set an upper bound on the long term memory usagenof the watchman server, so it is reasonable to allow bursting above that thresholdnwhile satisfying the `getter` future associated with the cache.nnThis diff removes the exception throwing from `evictOne` and instead returns a boolean.nnWe now check for eviction at the start of a cache request and also at the end.  Atnthe end we will try to bring the usage below the configured limits rather than justntrying to remove a single item.nnReviewed By: chadaustinnnDifferential Revision: D9093948nnfbshipit-source-id: 44815525ffaff2e967028ba69f3639e6d54ae918n",73.0,56.0,"LRUCache.h,CAS_DELIMITER,tests/CacheTest.cpp,CAS_DELIMITER,tests/integration/test_content_hash.py,CAS_DELIMITER",3.0,2.0,3.0,1.5530921982757606,27.0,321.6666666666667,9.0,362.3266473765432,6010.0,1.001227171881522,795.0,None,False,,
0260c336fe9e1480608cb773dae3f14cb56534b6,ed6049ecb13d726ea79066ea8705615c1f94c327,Wez Furlong,wez@fb.com,Wed Aug 1 15:39:54 2018 -0700,1533163194,"fix flipped condition in LocalFileResult timestamp accessorsSummary:nSince this class is used only to synthesize results from parsednmercurial output, there isn't any other coverage for this functionality,nso of course the bug slipped through during code review.nnThis diff fixes up the flipped condition and adds explicit testsnfor the file existing and not existing cases.nnReviewed By: kcoonsnnDifferential Revision: D9115603nnfbshipit-source-id: 6de683384887aea46e7238b8f5c7ed032955c91en",31.0,3.0,"LocalFileResult.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,2.0,2.0,0.6722948170756379,27.0,334.0,29.0,36.489502314814814,6012.5,1.0328979138398342,796.0,Corrective,True,,
ed6049ecb13d726ea79066ea8705615c1f94c327,3d2c0320ac9f566baef69993f990859cf2f8a788,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:13 2018 -0700,1533246913,Add scm method to get source control dateSummary: Add a method to the existing SCM abstraction so we can get the source control date for a given commit hash.nnReviewed By: weznnDifferential Revision: D8224127nnfbshipit-source-id: 7de51cb8eb502253b2b890905b63fbfd3bd27522n,84.0,0.0,"scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,tests/MercurialTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",6.0,3.0,3.0,2.243950554198044,28.0,289.1666666666667,104.0,31.05683063271605,2.5,0.8390769453467497,1.0,Feature Addition,False,,
3d2c0320ac9f566baef69993f990859cf2f8a788,d8fd1901f3a1fd041da91aef6ca977cf9ff22e20,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:14 2018 -0700,1533246914,Add a method to get n prior commitsSummary: Add a method to the existing SCM abstraction to return the commits prior to and including the specified commit.nnReviewed By: stragernnDifferential Revision: D8226277nnfbshipit-source-id: 6d95323cfe3b945fd76254d8c9a401a1299cfe5bn,45.0,0.0,"scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.667488546454828,28.0,395.75,85.0,1.1574074074074072e-05,7.5,45001.0,1.0,Feature Addition,False,,
d8fd1901f3a1fd041da91aef6ca977cf9ff22e20,d4f00d8b0bcb674363d8e7ff03a313945283782a,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:16 2018 -0700,1533246916,"Add a saved state interface to WatchmanSummary: This is a basic interface for accessing information about saved states. For now, the get method simply throws because all storage types are unrecognized, but I will introduce specific storage types in subsequent diffs that implement this interface.nnReviewed By: weznnDifferential Revision: D8260417nnfbshipit-source-id: a55097ab93d9a60ec4fddeb4ca05305b579299a7n",65.0,0.0,"CMakeLists.txt,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,TARGETS,CAS_DELIMITER,saved_state/SavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",6.0,3.0,3.0,1.434029446329478,26.0,250.0,281.0,40.68008487654321,12.5,1.0166482958806409,1.0,Feature Addition,False,,
d4f00d8b0bcb674363d8e7ff03a313945283782a,275f46c110a25793ac5ca9f9348ae101054f06ca,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:19 2018 -0700,1533246919,"Add a local saved state implementation to WatchmanSummary:nAdd a local saved state manager implementation that finds savednstates stored in the local file system. Use the most recent n revisionsnto find the saved state, and return a JSON error message if none cannbe found.nnThrow if a saved state spec is specified in the clockspec, yet it isnmissing the required local storage path or project, or has the wrong typenfor any of its parameters including the optional max revs (defaults ton10, but could happily remove the default if desired).nnThis is primarily for integration testing the interface and the actualnintegration into Watchman queries/subscriptions, but it should benfunctional if something were to write these states locally.nnReviewed By: weznnDifferential Revision: D8263617nnfbshipit-source-id: fbe3bf719ee1c11e72ca073c45467031122f821fn",266.0,3.0,"CMakeLists.txt,CAS_DELIMITER,Makefile.am,CAS_DELIMITER,saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.h,CAS_DELIMITER,saved_state/SavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER,tests/LocalSavedStateInterfaceTest.cpp,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",9.0,4.0,4.0,2.006824690052963,28.0,166.11111111111111,273.0,2.700617283950617e-05,20.0,11658.142857142857,1.0,Feature Addition,False,,
275f46c110a25793ac5ca9f9348ae101054f06ca,5f1171600e89b5117128db294ec0be293ff0cb7b,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:23 2018 -0700,1533246923,Add XDB client for saved state XDBSummary:nPull the XDB-specific parts of the manifold saved state managernout into a separate class. This class should do nothing but providenan interface to the xdb. The only method it provides returns the mostnrecent saved state revision with a commit date less than or equal tonthe given source control commit date.nnReviewed By: weznnDifferential Revision: D8292011nnfbshipit-source-id: 9bfcb9f01a998a2e27b6621813943bf7176fc0c4n,11.0,0.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,284.0,38.0,8.101851851851852e-05,25.0,12343.857142857143,5.0,Feature Addition,False,,
5f1171600e89b5117128db294ec0be293ff0cb7b,68b6cac22abe6e1cc764adff3401a2a25a68478a,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:25 2018 -0700,1533246925,"Add manifold client for saved stateSummary:nPull manifold code out into its own class that contains only thencode for accessing manifold. Provide a method to get the properties forna revision that's present in manifold, and a method to get the manifoldnpath, which we'll return to the client so they can access the actual data.nnEventually we'll likely want to access the actual data here fornprefetching, but that's for a later time.nnOn failure, log the error but just return a null pointer, because we donnot want failures to load saved state info to be blocking.nnPull the manifold bucket, tier, and timeout settings from the watchmannconfiguration if specified, but fall back to reasonable defaults.nnReviewed By: weznnDifferential Revision: D8295319nnfbshipit-source-id: d463d55ad6ef0b44dc0ebad11ded1d079f2335bcn",2.0,0.0,"TARGETS,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,295.0,39.0,2.314814814814815e-05,26.0,43201.0,6.0,Feature Addition,False,,
68b6cac22abe6e1cc764adff3401a2a25a68478a,cdc855afd88d3ea4ea21a0d4870862694325fe1a,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:27 2018 -0700,1533246927,"Add a manifold watchman saved state implementationSummary:nAdd a facebook-specific manifold saved state implementation thatnchecks for the most recent saved state based on timestamp from a savednstate xdb, then loads the properties for that saved state from manifoldnand returns both the properties and manifold path so that clients cannaccess the saved state itself via the path.nnThe properties include info like the hack server version, hack config,nFactsDB version, etc., that may indicate to the client whether or notnthe saved state is useful.nnAs a follow up, I plan to prefetch the saved state and include infonregarding how to access the prefetched saved state. But, that will comenin a later diff.nnReviewed By: weznnDifferential Revision: D8267113nnfbshipit-source-id: cb3c717b2bc9dfdca190531a29696f3510d1e8c3n",15.0,3.0,"saved_state/SavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER",2.0,1.0,1.0,0.8524051786494786,28.0,34.0,4.0,9.259259259259259e-05,27.5,8101.0,7.0,Feature Addition,False,,
cdc855afd88d3ea4ea21a0d4870862694325fe1a,b06717ae22afbf43b91cf3007ab797b4b19fa638,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:29 2018 -0700,1533246929,"Read saved state info from watchman clockSummary:nAdd a saved state JSON object to the fat (now obese) clocknin watchman, as a sub-component of the scm part of the clock.nnThe saved-state segment includes the storage type (local and manifoldnare currently supported), a json_ref key that will be whatever typenthe specific storage type requries, and a revision that indicates whatnsource control commit the saved state is associated with in the response,nor an empty string if no saved state was available.nnThe saved-state key is optional, but if the saved-state key isnspecified then both its storage and its key must be specified. Thenrevision field is optional in the query. The only thing that will bendone with it is that it will be returned if the mergebase does not change.nnI tried putting this data in the clock but outside the scm component,noutside the clock entirely, and finally here inside the scm componentnof the clock. I liked this best becuase:nn1. Specifying saved state options without an scm-aware query makesnno sense.nn2. The saved-state revision modifies the files returned, and the set ofnfiles returned is tied to the clock returned, so it seemed appropriatenthat the clock would be different if the files were relative to a savednstate than if they were not. If the saved state info were outside thenclock, then the clock could be identical with two different sets ofnchanged files depending on whether a saved state was available or not,nand that seemed unintuitive.nnReviewed By: weznnDifferential Revision: D8306327nnfbshipit-source-id: 6cc898ed635d0f5e127dcb0003210106e4546b47n",35.0,6.0,"clockspec.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER",2.0,1.0,1.0,0.5349436990971067,18.0,163.0,42.0,480.03143518518516,29.5,1.001654249570798,8.0,None,False,,
b06717ae22afbf43b91cf3007ab797b4b19fa638,a06b204ddef1d298a4d1bb39eb904a87a97e2473,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:31 2018 -0700,1533246931,"Update watchman result with optional saved stateSummary:nUpdate the result of the watchman query with saved state infonif the query includes a saved state specification in the clock.nnUpdate the query, since, and subscribe commands to update the responsenwith an info blob that contains storage-type specific information aboutnhow to access the actual saved state, if one is available.nnThe saved state info will only be available if the mergebase has changed,notherwise it is not needed and we do not compute it.nnIf the mergebase did change, the client can tell whether a saved statenis available or not via the saved state revision in the clock, whichnwill be an empty string if the mergebase has changed yet no saved statenwas available. In that case the info blob will still be present, but itnwill contain error information.nnThis saved state info blob is in the main response along side the filesnreturned because it's part of the response only, and it, when combinednwith the files field, determines what the new state of the world isnfor the client.nnFor now, the fallback if no saved state is available is to the scm-awarenbehavior, where the client gets back the files changed since thenmergebase with trunk. This is the most logical fallback given the APIn(and the simplest to implement), but it's totally useless to the clientnmost likely. If no saved state is available, then the client must fallnback to all changes since the last clock. As a follow up, an optionnto control the fallback might make sense, so that clients don't neednto throw the response away and perform a subsequent query to get allnchanged files if the saved state lookup fails.nnReviewed By: weznnDifferential Revision: D8306759nnfbshipit-source-id: 87ac7809f4a41d844feaea148bb171c91cb7c153n",93.0,32.0,"cmds/query.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,3.0,3.0,0.7301095367257712,27.0,313.0,263.0,162.12712268518518,33.0,1.0016935245439151,9.0,None,False,,
a06b204ddef1d298a4d1bb39eb904a87a97e2473,abe35f47450e15256e60548d81a31cd0fcb33fb3,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:33 2018 -0700,1533246933,"Add a saved state integration testSummary:nAdd an integration test for local saved states that confirmsnerrors propagate end to end, and that successful queries and subscriptionsnreturn the proper values.nnThis reuses a lot of the scm-aware subscription testing code, so pullnthe shared code out into something both tests can use.nnReviewed By: weznnDifferential Revision: D8399743nnfbshipit-source-id: 5a82796b18f78c7d7278c5dad8bf4141e788347en",457.0,74.0,"tests/integration/WatchmanSCMTestCase.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_local_saved_state.py,CAS_DELIMITER,tests/integration/test_saved_state.py,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",5.0,1.0,1.0,1.7073831399286985,28.0,212.8,75.0,8.369428240740742,38.0,0.8194571424190397,8.0,Feature Addition,False,,
abe35f47450e15256e60548d81a31cd0fcb33fb3,b7ccef8c088171db5e8211152022a1fd5a12890b,Katie Coons,kcoons@fb.com,Thu Aug 2 14:55:35 2018 -0700,1533246935,Add more saved state integration testsSummary: Add more basic integration tests for saved state.nnReviewed By: weznnDifferential Revision: D8829071nnfbshipit-source-id: a90a70e616aaf7b7566fc6a25e040807f480c0fcn,15.0,0.0,"facebook/TARGETS,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/facebook/TARGETS,CAS_DELIMITER",3.0,3.0,3.0,1.2309595631140104,27.0,209.3333333333333,58.0,36.423472222222216,42.0,1.0135572377817574,9.0,Feature Addition,False,,
b7ccef8c088171db5e8211152022a1fd5a12890b,174dfa85e5888155d154bc3f6d15b3c6dd68e57d,Saurabh Singh,singhsrb@fb.com,Thu Aug 2 17:07:13 2018 -0700,1533254833,"disable telemetry logging for scm commandsSummary: Disable telemetry logging in the FB version of mercurial by default, as we generate a LOT of log calls.nnReviewed By: weznnDifferential Revision: D9141848nnfbshipit-source-id: 5fd6bac867527bbe1ae7ce35d0eba460308c9542n",6.0,0.0,"scm/Mercurial.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,321.0,22.0,0.0916550925925926,0.0,0.0,0.0,None,False,,
174dfa85e5888155d154bc3f6d15b3c6dd68e57d,b71f8bc2a8500fcfc52e04b28c1637e6d01726d9,Katie Coons,kcoons@fb.com,Fri Aug 3 06:14:22 2018 -0700,1533302062,Increase socket timeout for saved state integration testsSummary: Increase the socket timeout for saved state integration tests.nnDifferential Revision: D9147271nnfbshipit-source-id: 830c5f35d40824cef05b9c8bb4e24f2701a8f2b1n,1.0,1.0,"tests/integration/test_local_saved_state.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,305.0,1.0,0.6380671296296296,44.0,2.5672332166373417,10.0,Preventative,False,,
b71f8bc2a8500fcfc52e04b28c1637e6d01726d9,854372f22dc20022afe1953e245e94ba74655099,Philip Jameson,pjameson@fb.com,Wed Aug 8 00:20:30 2018 -0700,1533712830,"Remove def from TARGETS in watchmanSummary:nAs part of our migration to skylark, we must remove any skylark incompatible constructs.nOne of these constructs is having function definitions in build files (rather than .bzl files)nThese series of diffs seek to eliminate the definition by either moving to a sibling :defs.bzl file, removing unneeded functions, or other various methodsnnReviewed By: simpkinsnnDifferential Revision: D9147817nnfbshipit-source-id: 16d07d127ddf66aa9779665c134ce99c868c2c31n",81.0,80.0,"TARGETS,CAS_DELIMITER,defs.bzl,CAS_DELIMITER",2.0,1.0,1.0,0.9899303926829204,27.0,148.5,40.0,2.696209490740741,19.5,1.1854455307412457,4.0,None,False,,
854372f22dc20022afe1953e245e94ba74655099,44d55f04847afee867c73857d52e6fc53cf07666,Wez Furlong,wez@fb.com,Wed Aug 8 17:25:19 2018 -0700,1533774319,"don't wait forever for clients on shutdownSummary:nEvery so often we see folks with a slew of logs like these and an unusable watchman:nn```n2018-08-08T12:19:12,204: [listener] waiting for 1 clients to terminaten2018-08-08T12:19:13,204: [listener] waiting for 1 clients to terminaten2018-08-08T12:19:14,204: [listener] waiting for 1 clients to terminaten2018-08-08T12:19:15,204: [listener] waiting for 1 clients to terminaten2018-08-08T12:19:16,205: [listener] waiting for 1 clients to terminaten2018-08-08T12:19:17,205: [listener] waiting for 1 clients to terminaten```nnI thought we had a timeout for this, but all we really had was a limit onnthe sleep duration.nnThis diff adds a timeout.nnReviewed By: quark-zju, simpkinsnnDifferential Revision: D9228905nnfbshipit-source-id: 1441723e3cea6a9e119c24220dfee79e639a7279n",25.0,7.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,750.0,43.0,139.25888888888892,6014.0,1.0071808701618887,2816.0,None,False,,
44d55f04847afee867c73857d52e6fc53cf07666,2a6b8ac16c00426a4d71f4e4b5c52b1f9cec3deb,Chad Austin,chadaustin@fb.com,Thu Aug 9 13:24:45 2018 -0700,1533846285,fix buck cell parser deprecation warningsSummary:nSaw this warning:nn```nWarning raised by BUCK file parser: /data/users/chadaustin/fbsource/fbcode/watchman/tests/integration/eden/TARGETS has a load label xplat//configurations/buck/sandcastle:sandcastle_defs.bzl that uses a deprecated cell format. xplat should instead be xplat.nWarning raised by BUCK file parser: /data/users/chadaustin/fbsource/fbcode/watchman/tests/TARGETS has a load label xplat//configurations/buck/sandcastle:sandcastle_defs.bzl that uses a deprecated cell format. xplat should instead be xplat.n```nnChanged the syntax.nnReviewed By: simpkinsnnDifferential Revision: D9245742nnfbshipit-source-id: bb009f994e010e1a2d2175fdc70ea11655345450n,2.0,2.0,"tests/TARGETS,CAS_DELIMITER,tests/integration/eden/TARGETS,CAS_DELIMITER",2.0,1.0,2.0,1.0,28.0,127.5,28.0,8.043912037037037,0.5,0.5310794050020575,1.0,Corrective,True,,
2a6b8ac16c00426a4d71f4e4b5c52b1f9cec3deb,7efa29be2d21aa981dd9f3eeaae6001baf9ac678,Chad Austin,chadaustin@fb.com,Thu Aug 9 14:25:44 2018 -0700,1533849944,"fortify batch information and sha1 requestsSummary:nUse range-based for loops in the Eden watcher, and fortify some ofnthem against Eden returning bogus results for batch information andnSHA-1 lookups.nnReviewed By: weznnDifferential Revision: D8956921nnfbshipit-source-id: 3c58a4538b9adc84d6f37b390539acbcb7317a92n",34.0,29.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1169.0,55.0,6.979513888888889,2.0,1.1432764539077658,0.0,None,False,,
7efa29be2d21aa981dd9f3eeaae6001baf9ac678,9801c81d517029fabb21f00e5c7b64054e040b0a,Jacob Bower,jbower@fb.com,Thu Aug 9 23:31:49 2018 -0700,1533882709,Potential fix for deadlock when unsubscribing in WatchmanConnectionSummary: See task for details. Basically it looks like we may be getting a deadlock in this code if Watchman dies with outstanding writes. I haven't been able to verify this for sure but this change should be correct anyway.nnReviewed By: weznnDifferential Revision: D9261284nnfbshipit-source-id: 5589906f88c54affe3ab31e19060e890c83c9c2dn,4.0,1.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,396.0,6.0,204.18496527777785,30.0,1.0048975202392574,16.0,Corrective,True,,
9801c81d517029fabb21f00e5c7b64054e040b0a,c0dfd4cc34be8ce1bb72c71a598a2ef5054c38fe,Wez Furlong,wez@wezfurlong.org,Mon Aug 13 19:22:29 2018 -0700,1534213349,'Re-sync with internal repository' (#632),0.0,883.0,"TARGETS,CAS_DELIMITER,cppclient/TARGETS,CAS_DELIMITER,defs.bzl,CAS_DELIMITER,facebook/TARGETS,CAS_DELIMITER,python/bin/TARGETS,CAS_DELIMITER,python/pywatchman/TARGETS,CAS_DELIMITER,python/pywatchman_aio/TARGETS,CAS_DELIMITER,python/tests/TARGETS,CAS_DELIMITER,rust/serde_bser/TARGETS,CAS_DELIMITER,tests/TARGETS,CAS_DELIMITER,tests/integration/TARGETS,CAS_DELIMITER,tests/integration/eden/TARGETS,CAS_DELIMITER,tests/integration/facebook/TARGETS,CAS_DELIMITER,thirdparty/TARGETS,CAS_DELIMITER,thirdparty/jansson/TARGETS,CAS_DELIMITER,thirdparty/libart/src/TARGETS,CAS_DELIMITER,thirdparty/wildmatch/TARGETS,CAS_DELIMITER",17.0,7.0,16.0,3.2073246543225205,29.0,51.941176470588225,166.0,134.09765590958602,6023.0,1.012791362032102,240.0,None,False,,
c0dfd4cc34be8ce1bb72c71a598a2ef5054c38fe,0f31681c7533869ca8dd74dcecc162b894efc091,Wez Furlong,wez@fb.com,Mon Aug 13 18:30:14 2018 -0700,1534210214,"fix importing facebook.eden in eden integration testsSummary:nWhen the facebook specific integration tests were addednunder `watchman/tests/integration/facebook`, we broke the abilitynto resolve the `facebook.eden` thrift types used by the edennthrift client and caused the eden integration tests to skip.nnThis grubs around with the python path to allow the tests to work again.nnReviewed By: chadaustinnnDifferential Revision: D9307105nnfbshipit-source-id: 7732bf0940f98844b0c306a400920096efb14223n",2.0,4.0,"runtests.py,CAS_DELIMITER,tests/integration/test_eden_broken_mount.py,CAS_DELIMITER",2.0,2.0,2.0,1.0,27.0,310.0,50.0,43.43140625,6032.5,1.0506030232885275,801.0,Corrective,True,,
0f31681c7533869ca8dd74dcecc162b894efc091,4be30fc54adaf30c6e80965c26daeeea93106a96,Wez Furlong,wez@fb.com,Mon Aug 13 18:30:16 2018 -0700,1534210216,"test and fix symlink_target field under edenSummary:nAfter some refactoring and merging, this code was lookingnat the needed properties field after it had been cleared, so itnwould never load the symlink target.nnReviewed By: chadaustinnnDifferential Revision: D9307109nnfbshipit-source-id: 270d062b9170b64903586f512d02ba7ff35c8cben",31.0,16.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.8196004346196012,28.0,695.5,69.0,17.742245370370373,6034.5,1.030057617296988,303.0,Corrective,True,,
4be30fc54adaf30c6e80965c26daeeea93106a96,bcb6950ccf1de7bc9bf61fe48f461f41b855a755,Wez Furlong,wez@fb.com,Mon Aug 13 18:30:18 2018 -0700,1534210218,"fix unterminated render loop when rendering a deleted file in edenSummary:nThis issue manifested most often with the subscriptions used by Nuclide.nIn the scenario I observed, the `.hg/merge` file had been removed and I saw thatnwatchman was repeatedly querying for this file.nnSince its query had requested the `mode` of the file, we were calling into thenproperty accessor that was gated on whether `stat_.has_value()`.  The code thatnprocessed the `getFileInformation` results was setting `exists_` but then clearingnout the `stat_` optional, so we'd never believe that we had all the data needednto render the results to json, and just spin forever.nnReviewed By: chadaustinnnDifferential Revision: D9309012nnfbshipit-source-id: 12efd1dbc719c6b95f2c6563299012c54937ee68n",34.0,1.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.512709142030877,28.0,703.0,71.0,2.314814814814815e-05,6036.5,32401.0,304.0,Corrective,True,,
bcb6950ccf1de7bc9bf61fe48f461f41b855a755,21e47d5b966765140c1384c95c302ae538083659,Wez Furlong,wez@fb.com,Mon Aug 13 20:52:18 2018 -0700,1534218738,catch ENOENT for content.sha1hex with scm aware resultsSummary:nAdopt a similar pattern to the InMemoryFileResult; capture any errorninto a `Result` rather than letting it propagate out and blowing up the query.nnReviewed By: simpkinsnnDifferential Revision: D9310660nnfbshipit-source-id: f2b05768f8ae09b9a99c9e476f390744ca0d2a60n,14.0,7.0,"LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",3.0,2.0,2.0,1.3566695198333112,28.0,233.0,42.0,18.292658179012342,6039.0,1.0409985540332125,804.0,None,False,,
21e47d5b966765140c1384c95c302ae538083659,82fb9ca9660c2df6b55307cd269603a7264187d9,Wez Furlong,wez@fb.com,Tue Aug 14 13:42:55 2018 -0700,1534279375,make it easier to skip based on capabilitiesSummary:nThis fixes up a test failure in the opensource build thatncurrently doesn't know how to build in eden support.nnI've added automatic capability name generation for all registerednwatchers; the names are of the form `watcher-NAME`.nnReviewed By: simpkinsnnDifferential Revision: D9311887nnfbshipit-source-id: 088ad7442bf75e44362ba229e8608ba42dddb934n,12.0,0.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER,tests/integration/test_eden_broken_mount.py,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.5545851693377994,28.0,226.0,75.0,127.51159722222219,6042.0,1.0549101295420584,305.0,None,False,,
82fb9ca9660c2df6b55307cd269603a7264187d9,e48f0298e888817c6cc1ee27876b34358428de2a,Wez Furlong,wez@fb.com,Wed Aug 15 12:40:15 2018 -0700,1534362015,fixup py2 vs py3 compat issue with watchman-makeSummary:nCopied and pasted our logic from WatchmanTestCase.pynnFixes: https://github.com/facebook/watchman/issues/631nnReviewed By: chadaustinnnDifferential Revision: D9330044nnfbshipit-source-id: 3d19013d65fee640a6b209f6acc766e24d68c6b5n,7.0,1.0,"python/bin/watchman-make,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,299.0,6.0,73.93418981481481,6044.0,1.0135255421409868,104.0,Corrective,True,,
e48f0298e888817c6cc1ee27876b34358428de2a,3c590ded1a00c04487b4b6b4de62469efebb1202,Chad Austin,chadaustin@fb.com,Wed Aug 15 14:43:28 2018 -0700,1534369408,"restructure JournalDelta and fix Watchman subscription raceSummary:nWatchman's Eden integration has a bug where the combination ofnWatchman querying Eden for overlapping delta ranges (give me changesnbetween X and Y, now changes between X+1 and Y+1) and Eden elidingnredundant change events (add-modify-remove -> []) results innWatchman sometimes reporting that a file exists in its finalnsubscription update when it no longer does.nnThe fix is to never elide events, even for files that were added andnremoved in the same sequence. To continue to support Watchman's `new`nflag, track whether a file existed at the beginning and end of anjournal delta.nnReviewed By: weznnDifferential Revision: D9304964nnfbshipit-source-id: f34c12b25f2b24e3a0d46fc94aa428528f4c5098n",9.0,1.0,"tests/integration/test_eden_journal.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,88.0,5.0,77.55627314814815,3.0,1.012893863505919,2.0,Corrective,True,,
3c590ded1a00c04487b4b6b4de62469efebb1202,9b932d071d2157cf56ca3ac7990c9bc22121b101,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:27 2018 -0700,1534805187,fix some linter issuesSummary:nthese have been around for a while.  Fix and/or annotatenthem to make the linter happy.nnReviewed By: simpkinsnnDifferential Revision: D9407917nnfbshipit-source-id: 49b7799d774d1adcc34cef6de5ae3f3e3f2302b9n,4.0,4.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,250.0,31.0,61.09974537037037,6045.0,1.0163666803181954,807.0,Corrective,True,,
9b932d071d2157cf56ca3ac7990c9bc22121b101,953a98ed9bcc443dcccfbc70a824202d137b3fd4,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:31 2018 -0700,1534805191,"skip self-connect checks on win32Summary:nThese use a blocking named pipe client that I've seen getnstuck while examining the process under a debugger.  We'll revisitnunsticking that code in the future.  For the moment, let's justndisable it.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396866nnfbshipit-source-id: b775bad96c09cc0eba21a6ad90e09f9437c6c12cn",4.0,0.0,"checksock.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,197.0,11.0,151.19027777777774,6046.0,1.0066141819083751,2822.0,None,False,,
953a98ed9bcc443dcccfbc70a824202d137b3fd4,fe4e0741cef7691d22a9c1ef7dbe36aa11e05a34,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:34 2018 -0700,1534805194,"pywatchman: fixup error handling on win64Summary:nWhile this code worked on 32-bit windows, it would misbehavenon 64-bit windows.  The main problem was that the invalid handle valuenwould never match; this caused most of the tests in our test suitento incorrectly diagnose an error at connect, in most cases causing thenwarm up code not to wait long enough for the server to come up.nnI've improved some general error capturing cleanliness and reportingnas part of tracking this down.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396867nnfbshipit-source-id: f09f77bd4ec7b606cadbc087f9ad0d3ac46699c6n",14.0,8.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,1143.0,57.0,82.60009259259259,6047.0,1.0121065239591471,105.0,None,False,,
fe4e0741cef7691d22a9c1ef7dbe36aa11e05a34,e8d96d36b9d749dd010e0c85e5d1c818fdfa753d,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:39 2018 -0700,1534805199,"fix getopt_long compilation with VS 2017Summary:nThe compiler is rightly erroring out when we're tryingnto assign a const string literal to the non-const `optarg` global.nnWe can't change the definition for `optarg` because it is partnof the getopt interface, so we need some casts to make the compilernhappier.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396874nnfbshipit-source-id: d777fcd1791e8792fc9c33486b0e251854b3bce9n",3.0,3.0,"winbuild/getopt_long.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,196.0,1.0,703.0840740740741,6048.0,1.001422305008568,256.0,Corrective,True,,
e8d96d36b9d749dd010e0c85e5d1c818fdfa753d,00476856b987082466523b6612f77747b5e46772,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:41 2018 -0700,1534805201,"Add missing singleton shutdown handlingSummary:nThis will become more important once we have a hard depnon folly, and is a bit of a gap today: we set up the singletonninfra, but don't tear it down when we terminate the program.nnThis adds the shutdown via SCOPE_EXIT.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396879nnfbshipit-source-id: 186381b7cdc76b5d66efb3b12a9668e5a64c38e6n",4.0,0.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,1201.0,40.0,41.96861111111111,6049.0,1.0238273312727104,2823.0,Feature Addition,False,,
00476856b987082466523b6612f77747b5e46772,7573a765861ceb0f25e8112a6304be80e0f784ba,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:44 2018 -0700,1534805204,"fix backtrace.cpp compilation on vs 2017Summary:nA combination of the newer compiler and the headers pullednin by folly portability cause compilation failures in this modulenbecause nothing has defined the `IN`, `OUT`, or `OPTIONAL` parameternmarkers.nnThis diff defines them to the empty string if they haven't alreadynbeen set up.nnI couldn't find a single reasonable header file to include tonsatisfy this requirement that didn't cause other compilation issues,nso this is the minimal pragmatic approach.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396872nnfbshipit-source-id: 04b2bc143591f716b72bff4ebfba519b9878faa2n",12.0,0.0,"winbuild/backtrace.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,144.0,8.0,144.16109953703702,6050.0,1.0069366840514635,257.0,Corrective,True,,
7573a765861ceb0f25e8112a6304be80e0f784ba,4e621214fdb31d422c3f0329e2097975562edadd,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:46 2018 -0700,1534805206,"skip asyncio tests on win64 python3.xSummary:nThese tests currently assume unix sockets and alwaysnfail when run on windows, so skip them.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396878nnfbshipit-source-id: 83aa86bad0f73ca44a295e5799549f2158b3a9c7n",2.0,1.0,"tests/async/test_subscribe_async.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,69.0,4.0,82.60023148148149,6051.0,1.0121065036025256,808.0,Preventative,False,,
4e621214fdb31d422c3f0329e2097975562edadd,9c70387b8a306c685e48273b120b31528e1b3a5b,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:49 2018 -0700,1534805209,"skip saved_state tests on circle ciSummary:nFor reasons I haven't had time to debug, these tests arenconsistently failing on circle CI due to commit ids not matchingnexpectations.  They pass everywhere else.  This needs somenfurther investiation, but for now, they do should not blocknus from moving forwards.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396876nnfbshipit-source-id: 738e7607acf4e2dc2232de5fabdef32d9e45d8e3n",6.0,0.0,"tests/integration/test_local_saved_state.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,305.0,2.0,17.397534722222222,6052.0,1.057479408201593,809.0,Preventative,False,,
9c70387b8a306c685e48273b120b31528e1b3a5b,4a1714d48a9cde0a6dca308e1b0991be2845e9ae,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:51 2018 -0700,1534805211,fix compilation of stream_win.cpp on vs 2017Summary:nVC++ has been getting more strict about `struct` vs `class`nand it finally called us on mixing them up in this module.nnStandardize on `class`.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396868nnfbshipit-source-id: 2d9ab6d1151d2d41a278e897329547fa1ee7312fn,13.0,12.0,"stream_win.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,769.0,16.0,205.8064699074074,6053.0,1.0048589337373597,2824.0,Corrective,True,,
4a1714d48a9cde0a6dca308e1b0991be2845e9ae,ef594615f2ced70e610ade467df66c8946c57b0d,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:53 2018 -0700,1534805213,fix compilation of watcher/win32.cpp on vs 2017Summary:n`not` is a reserved word.  Use `notify` instead.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396864nnfbshipit-source-id: 848029443d04c51193f2b3b3facb23745d86b504n,7.0,6.0,"watcher/win32.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,383.0,31.0,151.1905324074074,6054.0,1.006614170769009,306.0,Corrective,True,,
ef594615f2ced70e610ade467df66c8946c57b0d,40337279f28a2cf9d4518b01208fc84a29fa1c2c,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:56 2018 -0700,1534805216,"fix unicode string issue with test tempdir on windowsSummary:nWe'd silently fail to make progress on appveyor when runningntests with python 3.x.  I traced it to errors being raised as a resultnof our manipulation of the tempdir; python3 wants it to be unicode,nso make sure that we store it as unicode.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396865nnfbshipit-source-id: 78e85fb657d2a80f1405eb75f182f0c6cebb835bn",7.0,2.0,"tests/integration/TempDir.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,83.0,6.0,102.0957175925926,6055.0,1.0097947301177748,810.0,Corrective,True,,
40337279f28a2cf9d4518b01208fc84a29fa1c2c,405c0cb888b5f39945b1079fa60e9a4ed28a5059,Wez Furlong,wez@fb.com,Mon Aug 20 15:46:59 2018 -0700,1534805219,"fix unicode issue with test_subscribe.pySummary:nThe code to fixup for unicode was happening in the wrong place,nleading to this failing to work properly on python3nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396875nnfbshipit-source-id: 05beed32e6d7499eb134720514053364a2e0636cn",5.0,4.0,"tests/integration/test_subscribe.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,715.0,34.0,58.913657407407406,6056.0,1.0169739928567778,811.0,Corrective,True,,
405c0cb888b5f39945b1079fa60e9a4ed28a5059,0b2e62ed2144d2152a5789827e698cd0815c1a57,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:02 2018 -0700,1534805222,"use uuid5 to derive named pipe path in test suiteSummary:nPreviously we were using a random uuid.  This switches tonusing a uuid based on the temporary path that we've already produced,nreducing the chances of the tests colliding with each other.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396871nnfbshipit-source-id: 81932f398f791d8f991a6b57e3ca3b1f5c93aab7n",4.0,1.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,250.0,32.0,0.00040509259259259264,6057.0,2469.5714285714284,812.0,Preventative,False,,
0b2e62ed2144d2152a5789827e698cd0815c1a57,1133028fbda697722f24755ba50613c2caa1888a,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:05 2018 -0700,1534805225,"use atexit to shut down outstanding instances in test suiteSummary:nI was tracking down an issue where a watchman instance was leftnrunning at the end of the tests, blocking the cleanup of temporary dirs.nnThis diff makes an extra effort to try to shut things down before wenget to temp dir cleanup.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396877nnfbshipit-source-id: 823a63fba06a8a9eaccec9cc1018b36df7e8cc65n",5.0,2.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,253.0,33.0,3.472222222222222e-05,6058.0,28801.0,813.0,Preventative,False,,
1133028fbda697722f24755ba50613c2caa1888a,1c734a68350dd74e5050d69acba25d5f268c129e,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:08 2018 -0700,1534805228,improve shutdown cleanliness around cli_log_file in test suiteSummary:nI saw warnings about this file handle being closed twice.nWe don't need to keep the file handle associated with the instancenso move it to be a local in the function that needs it.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396882nnfbshipit-source-id: 57e5b2b00e7984a3847a3e3d3fadc707ad5a0a01n,4.0,10.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,256.0,34.0,3.472222222222222e-05,6059.0,28801.0,814.0,Perfective,False,,
1c734a68350dd74e5050d69acba25d5f268c129e,2c05b86bc5ee85e0ba1fe519d7a1b5d79be84739,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:11 2018 -0700,1534805231,increase default client timeout for testsSummary:nI increased this to decrease flakiness of the tests in the OSS CInnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396880nnfbshipit-source-id: b5c41ffff2daa4996452f844d69ed362b79911c5n,1.0,1.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,512.0,58.0,6.086296296296296,6060.0,1.1643035355686728,815.0,Preventative,False,,
2c05b86bc5ee85e0ba1fe519d7a1b5d79be84739,5432e27328b74c3395e9bba6cef09c30e9d7197b,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:14 2018 -0700,1534805234,"Suppress telemetry for scm commands run by test harnessSummary:nAt FB, the `hg` executable logs performance telemetry tona central system.nnI saw the telemetry processes being spun up while observing thenprocess tree for the tests running on Windows.nnThis is undesirable on integration tests wherenmany commands are run with parallelism.nnSetting the `NOSCMLOG`nenvironment variable suppresses the telemetry reporting.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396863nnfbshipit-source-id: d91097df9c92b3d1b4d586bc1f44852cd35a3f7bn",1.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,590.0,47.0,6.886805555555553,6061.0,1.1452052031864477,2825.0,Preventative,False,,
5432e27328b74c3395e9bba6cef09c30e9d7197b,4e5bb88ec3f13f8da2804e7fffe28848142b0d0e,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:17 2018 -0700,1534805237,"prevent accidental spawns in test suiteSummary:nA confluence of issues could lead to client(s) accidentallynspawning a non-isolated watchman instance during the integration test run.nThe two main issues that contribute are:nn* Misinterpretation of connection errorsn* Race conditions with named pipe creationnnIn these circumstances, the client may choose to run `watchman get-sockname`nas part of a fallback.  When this happens, none of the settings from thenisolated environment of the test suite are propagated through to thenwatchman executable when it wants to spawn the server.nnThis diff adds a kill switch of sorts that we can set at the start ofnthe tests; when the environment variable is set, it implicitly setsnthe `--no-spawn` command line parameter.   This prevents breaking outnof the test environment.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396870nnfbshipit-source-id: 54ee8e9cd6b83fa9b9dd6319f8eec91dc5f5868dn",8.0,0.0,"main.cpp,CAS_DELIMITER,runtests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER",3.0,2.0,2.0,1.061278124459133,28.0,682.0,124.0,0.00018518518518518518,6063.0,2139.4615384615386,816.0,Preventative,False,,
4e5bb88ec3f13f8da2804e7fffe28848142b0d0e,8df690b84f07c705515afdbd6b0c1f887906e706,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:20 2018 -0700,1534805240,"explicitly scope ::close and ::dupSummary:nThis is effectively a NOP at this point in the diff stack.nLater, when we introduce the hard folly dep, folly takes the somewhatnaggressive step of importing its implementations of these functionsninto scope with a global `using` statement, and that causes thisnmodule to fail to compile due to ambiguous symbol resolution.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396881nnfbshipit-source-id: e0a5cbe54cadcc0c0968193272d5c13d49c135ban",5.0,5.0,"main.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1211.0,42.0,3.472222222222222e-05,6065.0,28801.0,2828.0,None,False,,
8df690b84f07c705515afdbd6b0c1f887906e706,e5f393c0848ddbc19acd22ada2833d90a1728e9e,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:24 2018 -0700,1534805244,keep named pipe instance alive for longerSummary:nSee the comments in the code.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9396869nnfbshipit-source-id: 43f8868498556db196560de0ec1aba26ef4c821cn,23.0,10.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,768.0,44.0,11.932002314814815,6066.0,1.0838082304726335,2829.0,None,False,,
e5f393c0848ddbc19acd22ada2833d90a1728e9e,f99890f21f1819f000ed51b56e7285463a4401de,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:27 2018 -0700,1534805247,"check server liveness between testsSummary:nSadly, a source of flakiness in the windows CI is the servernhaving problems in between tests.  When this happens, the servernassociated with that worker thread remains dead for the rest of thentest suite.nnWith the move to folly, we have 10-15 minutes of latency just fetchingnand building the folly deps, so this kind of flakiness is undesirable.nnThis diff adds a liveness check in between running each test; if thenserver appears to be dead, it cleans up the old one and spawns a newnone.nnThis allows the test suite to complete.nnIt does mask some server instability.  This is a reasonable trade:nit is impossible to diagnose those problems on appveyor, and theyndid not reproduce locally.  I don't feel great about this.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9397010nnfbshipit-source-id: 00e3f949e0b34e814e3765bb08e197df925a9c45n",32.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,592.0,49.0,0.00011574074074074077,6067.0,8641.0,2830.0,Preventative,False,,
f99890f21f1819f000ed51b56e7285463a4401de,52ac36000160da064827f51e9a02a02d29f7e124,Wez Furlong,wez@fb.com,Mon Aug 20 15:47:30 2018 -0700,1534805250,"upload appveyor artifacts to logs7.zip when --win7 is usedSummary:nSince introducing folly deps increases the build duration ton20 minutes per job, it is desirable to eliminate one of the jobs fromnthe matrix.   Currently the appveyor build matrix has two rows; onenfor the base build and another with an environmental variable setnto run the tests in a mode to enable win7 code paths.nnA later diff in this stack will replace the row in the matrix withnjust adding a second test run with the `--win7` flag passed tonruntests.nnWhen that flag is used, make sure we capture the logs from that runnin a separate zip file.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D9397011nnfbshipit-source-id: ee932aebe8736690458b14ef285c75a4cb1fff08n",5.0,3.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,624.0,50.0,3.472222222222222e-05,6068.0,28801.0,2831.0,None,False,,
52ac36000160da064827f51e9a02a02d29f7e124,13dff9f76eb0fc32a6ca9fbda95da1c15c8ce219,Wez Furlong,wez@wezfurlong.org,Tue Aug 21 14:56:36 2018 -0700,1534888596,'Re-sync with internal repository' (#637),1625.0,0.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER,build/fbcode_builder/.gitignore,CAS_DELIMITER,build/fbcode_builder/README.docker,CAS_DELIMITER,build/fbcode_builder/README.md,CAS_DELIMITER,build/fbcode_builder/docker_build_with_ccache.sh,CAS_DELIMITER,build/fbcode_builder/docker_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder_config.py,CAS_DELIMITER,build/fbcode_builder/make_docker_context.py,CAS_DELIMITER,build/fbcode_builder/parse_args.py,CAS_DELIMITER,build/fbcode_builder/shell_quoting.py,CAS_DELIMITER,build/fbcode_builder/specs/__init__.py,CAS_DELIMITER,build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER,build/fbcode_builder/specs/fbzmq.py,CAS_DELIMITER,build/fbcode_builder/specs/folly.py,CAS_DELIMITER,build/fbcode_builder/specs/gmock.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/re2.py,CAS_DELIMITER,build/fbcode_builder/specs/sigar.py,CAS_DELIMITER,build/fbcode_builder/specs/sodium.py,CAS_DELIMITER,build/fbcode_builder/specs/wangle.py,CAS_DELIMITER,build/fbcode_builder/specs/zstd.py,CAS_DELIMITER,build/fbcode_builder/travis.yml,CAS_DELIMITER,build/fbcode_builder/travis_docker_build.sh,CAS_DELIMITER,build/fbcode_builder/utils.py,CAS_DELIMITER",26.0,1.0,3.0,3.7776624445207725,1.0,0.0,0.0,0.0,6081.5,0.0,25.0,None,False,True,"[""50fb6c5f3028d097bacb352596873b5b71cafe94"", ""245f1a4112d3c28542533ec24bd528fabb41bd2e"", ""cba2d2baf0200f4c7b39c265f2b94f84859f6c24"", ""cdfd5d75babe1c943c10d0a230c2678286147262"", ""6eccc141876fbde9882939d63a608232a65a0596"", ""a06a8d37d53c41be40c7619ef766c370cff1965d"", ""cf434736141ad20c6dea3d7c46f4dc3d22a96ad8"", ""c81e4fcaa7cda5b4d413f1d72bc2e8832900ec09""]"
13dff9f76eb0fc32a6ca9fbda95da1c15c8ce219,c7cf8c85d10f6c8f94bc7ab47c8a40e2af8ad88d,svcscm,svcscm@fb.com,Mon Aug 20 21:42:20 2018 -0700,1534826540,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 702d71f194a9818340367e52be6f79789d6a81b6n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,1.0,-0.7182407407407407,0.0,0.0,0.0,None,False,,
c7cf8c85d10f6c8f94bc7ab47c8a40e2af8ad88d,cd8bf21ddf6f5cd8906208fae8bf62a061b83744,svcscm,svcscm@fb.com,Tue Aug 21 21:09:47 2018 -0700,1534910987,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6317133b23ecf21e9ec5cd4394de2c8b881c64b3n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,3.0,0.618275462962963,1.5,1.9159139778325969,2.0,None,False,,
cd8bf21ddf6f5cd8906208fae8bf62a061b83744,baf6f7068a5b2ed4da8df56b5d7da98e807b8054,svcscm,svcscm@fb.com,Tue Aug 21 21:57:24 2018 -0700,1534913844,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0047a77d3dd376dee6dfeb735a54d2677edbf20bn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,2.0,0.03306712962962964,3.0,31.24151207560379,3.0,None,False,,
baf6f7068a5b2ed4da8df56b5d7da98e807b8054,1c6764cc126d96cfa73358ba6af1c8e7be3ad131,Ajanthan Asogamoorthy,aasogamo@fb.com,Wed Aug 22 13:09:27 2018 -0700,1534968567,Link in fizz to wangle and wangle's dependenciesSummary: Update cmake configurations + legocastle jobs in order to add fizz as a dependency to wanglennReviewed By: reanimusnnDifferential Revision: D9337956nnfbshipit-source-id: 40f25694c2b3fd8aa37d254bc63a664f4c8ee526n,26.0,3.0,"build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER,build/fbcode_builder/specs/fizz.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/wangle.py,CAS_DELIMITER",4.0,1.0,1.0,1.634295881291166,2.0,19.0,3.0,0.6941927083333334,1.5,1.2451795025696817,3.0,None,False,True,"[""569523aaca00381161ece0aa723b091ff38f04f3""]"
1c6764cc126d96cfa73358ba6af1c8e7be3ad131,a2bad9de5425d7f2da7c497aed95c9691e76a178,svcscm,svcscm@fb.com,Wed Aug 22 15:18:11 2018 -0700,1534976291,Updating submodulesReviewed By: yns88nnfbshipit-source-id: da56aa40f9784f8c9d577d681ed8b37bdd9a83e0n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,6.0,0.7392997685185185,4.5,1.9996793220880853,5.0,None,False,,
a2bad9de5425d7f2da7c497aed95c9691e76a178,9d6e54e88688f779b51dfd31628bfd80e9e5ee25,svcscm,svcscm@fb.com,Thu Aug 23 08:50:39 2018 -0700,1535039439,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c277560477e33434467a8d9788b8723ba979fb1dn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,8.0,0.7308796296296296,6.5,2.0261607651865456,7.0,None,False,,
9d6e54e88688f779b51dfd31628bfd80e9e5ee25,569523aaca00381161ece0aa723b091ff38f04f3,Ajanthan Asogamoorthy,aasogamo@fb.com,Thu Aug 23 11:55:33 2018 -0700,1535050533,"fix proxygen travis buildsSummary: in the opensource spec I forgot to specify the github org as facebookincubator in D9337956 vs regular facebook, this caused travis builds for proxygen and anything that depends on fizz to failnnReviewed By: knekritznnDifferential Revision: D9482739nnfbshipit-source-id: ba5a8f465c81ec1b9f037114ce1da3614a838699n",4.0,1.0,"build/fbcode_builder/specs/fizz.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,17.0,1.0,0.9486805555555556,4.0,2.054095600614889,4.0,Corrective,True,,
569523aaca00381161ece0aa723b091ff38f04f3,bba2d9e421f7615af213fb443fe28c9b69d95410,Wez Furlong,wez@fb.com,Thu Aug 23 11:57:00 2018 -0700,1535050620,"pywatchman: detect use of a client after a forkSummary:nWe sometimes see what looks like invalid state-enter/leaventransitions in the mercurial integration.  One theory is that we'reninheriting a live connection across a fork boundary when multiprocessing,nand thus inheriting associated states.nnThis diff records the pid at the time that we establish a connectionnand sanity checks that it matches the current process pid before eachnread or write call.   We already centralized checking whether wenneeded to open a connection in this place, so thankfully there'snjust a single place to insert this logic.nnOne could argue that we could automatically attempt to open a newnconnection here.  It feels better to be more determistic and alwaysnreport an error in this case.   That way the caller has the optionnto catch and handle the error differently.nnReviewed By: quark-zjunnDifferential Revision: D9439758nnfbshipit-source-id: 77eaf911a53e7acf50af9760f16adf9e61acb783n",52.0,0.0,"python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/test_fork.py,CAS_DELIMITER",2.0,2.0,2.0,0.7062740891876007,26.0,574.5,58.0,1.4202893518518518,6095.5,1.3520409410575898,817.0,None,False,,
bba2d9e421f7615af213fb443fe28c9b69d95410,5f648738d9bdd6dea876525a1a1a1832aef82ffe,svcscm,svcscm@fb.com,Thu Aug 23 20:02:01 2018 -0700,1535079721,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d943235a5b89fbce2ea4384741648b8cbde7c617n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,10.0,0.4662268518518519,8.5,2.6086589543716805,9.0,None,False,,
5f648738d9bdd6dea876525a1a1a1832aef82ffe,63e776024008a8d220dfae258d848edce9387ae2,svcscm,svcscm@fb.com,Fri Aug 24 18:40:35 2018 -0700,1535161235,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8939ebac06ddaff494ff83f501499c64be748b1fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,12.0,0.9434490740740741,10.5,1.7949554677724069,11.0,None,False,,
63e776024008a8d220dfae258d848edce9387ae2,b4c5396103232ca57e4d436a367a19307062c08f,svcscm,svcscm@fb.com,Sat Aug 25 18:44:19 2018 -0700,1535247859,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8944fcd9ad7143d21e3ef9e18080a822f13acb93n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,14.0,1.0025925925925927,12.5,1.7480605836719614,13.0,None,False,,
b4c5396103232ca57e4d436a367a19307062c08f,f896babc97b202096757ea1761bf56636c09c7a3,svcscm,svcscm@fb.com,Sun Aug 26 18:09:34 2018 -0700,1535332174,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 571273e639b8926a25c317a3cc794fd7d2f6b825n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,16.0,0.9758680555555556,14.5,1.7685465219711791,15.0,None,False,,
f896babc97b202096757ea1761bf56636c09c7a3,dad753d55938829d76098d990f6d703bd1f330ef,svcscm,svcscm@fb.com,Mon Aug 27 13:56:51 2018 -0700,1535403411,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: f3aa0a06c716685e68d4d9c8eb98955db4d11372n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,18.0,0.8245023148148148,16.5,1.9096396535508235,17.0,None,False,,
dad753d55938829d76098d990f6d703bd1f330ef,884aebb6a68d29f9ebd91389f8fabf7d0e9cd58e,svcscm,svcscm@fb.com,Mon Aug 27 19:06:23 2018 -0700,1535421983,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 5a943215e7ebd4005455aacde40d243c19fd257dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,10.0,0.2149537037037037,18.0,5.652164548783113,18.0,None,False,,
884aebb6a68d29f9ebd91389f8fabf7d0e9cd58e,a2a2e4da672d4078d14b8fdbf03fbd861c829844,Lee Howes,lwh@fb.com,Mon Aug 27 19:08:39 2018 -0700,1535422119,Future<T>::then Future<T>::then(not-try-task) -> Future<T>::thenValue(task).Summary:nOverall plan to modify Future<T>::then to be r-value qualified and use Future<T>::thenTry or Future<T>::thenValue.nnThe goal is to disambiguate folly::Future and to improve type and lifetime safety of Future and its methods.nnCodemod:n * future<T>.then(callable with operator()(not-a-try)) to future<T>.thenValue(callable with operator()(not-a-try)).n * future<T>.then(callable with operator()()) to future<T>.thenValue(callable with operator()(auto&&)).n * future<T>.then(callable with operator()(auto)) to future<T>.thenValue(callable with operator()(auto)).nnReviewed By: weznnDifferential Revision: D9522330nnfbshipit-source-id: edc411702af02d4baed0e7dc820b60ecb66125c1n,1.0,1.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,165.0,4.0,89.2774074074074,0.0,0.0,0.0,None,False,,
a2a2e4da672d4078d14b8fdbf03fbd861c829844,0fcefa8e3f45f1f51b9b2394c5bce6d5179df24b,svcscm,svcscm@fb.com,Tue Aug 28 19:30:13 2018 -0700,1535509813,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: d1b2f72251c092ed05e322a25d0550e12870e07cn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,21.0,1.1240277777777778,19.5,1.7142737058221007,20.0,None,False,,
0fcefa8e3f45f1f51b9b2394c5bce6d5179df24b,3d450aaa51b179d0079c753a5e69d8346b62243d,svcscm,svcscm@fb.com,Wed Aug 29 19:04:19 2018 -0700,1535594659,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: b607cf7f2bc7f781e52b584962f3027299634c50n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,23.0,0.9820138888888889,21.5,1.7637366522876738,22.0,None,False,,
3d450aaa51b179d0079c753a5e69d8346b62243d,2d9116e74b15f75377ae6742245de28cb703f5f6,svcscm,svcscm@fb.com,Wed Aug 29 23:51:21 2018 -0700,1535611881,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 9fea3f99fb554baaa9650b51723ba131ffe69c1cn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,13.0,0.1993287037037037,23.0,6.0168389269538975,23.0,None,False,,
2d9116e74b15f75377ae6742245de28cb703f5f6,c59e216fad029206576d5aa89503a0d83b82ee97,Wez Furlong,wez@fb.com,Thu Aug 30 00:03:16 2018 -0700,1535612596,skip saved state tests on OSS CISummary:nThis suppresses some noise; we think we have a handle on the causenbut will address that separately.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: stragernnDifferential Revision: D9552414nnfbshipit-source-id: c75bf6eeb587ccab517ca55a2930c90abf531d34n,2.0,2.0,"tests/integration/test_local_saved_state.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,311.0,3.0,9.344756944444443,6097.0,1.1070118790617138,818.0,Preventative,False,,
c59e216fad029206576d5aa89503a0d83b82ee97,b28f09fde25bc36de2e444545e7dd035d1b8401b,Wez Furlong,wez@fb.com,Thu Aug 30 00:03:18 2018 -0700,1535612598,add folly deps to travis/deps.shSummary:nThis causes the folly deps to be installed via homebrew on the macos CInnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: stragernnDifferential Revision: D9552409nnfbshipit-source-id: 56ad21f2c48471aeb31c91ec0f550913876b9a92n,1.0,1.0,"travis/deps.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,84.0,29.0,83.36515046296296,6098.0,1.0119954200819714,48.0,Feature Addition,False,,
b28f09fde25bc36de2e444545e7dd035d1b8401b,5405f7b871a99b4652c62b4b83d1de898415ad6b,Wez Furlong,wez@fb.com,Thu Aug 30 00:03:20 2018 -0700,1535612600,expand travis linux deps for follySummary:nThis installs the deps needed to build folly on ubuntu.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: stragernnDifferential Revision: D9552410nnfbshipit-source-id: bbb9ba08a337a8b71145b0bd7a4ccea85c9e65f5n,30.0,0.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,63.0,23.0,153.50596064814815,6099.0,1.0065144050157904,2832.0,None,False,,
5405f7b871a99b4652c62b4b83d1de898415ad6b,37ea75d491391edffdfdb31c6ef63cb736a93dc0,Wez Furlong,wez@fb.com,Thu Aug 30 00:03:22 2018 -0700,1535612602,fix DESTDIR/install in the cmake rulesSummary:nI'd dogscienced in some use of DESTDIR in an earlier iterationnof the cmake bits.  The fbcode builder flavor of the build actuallynruns make install and this needs a proper install prefix to be set.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: stragernnDifferential Revision: D9552415nnfbshipit-source-id: 679e789a2991deb75584e0af62cf7d91e8986a57n,2.0,2.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,456.0,9.0,27.380590277777767,6100.0,1.0365222221235897,2833.0,Corrective,True,,
37ea75d491391edffdfdb31c6ef63cb736a93dc0,c74c7f01f25971eb07558ab2310a4c41f4c2a710,Wez Furlong,wez@fb.com,Thu Aug 30 00:03:27 2018 -0700,1535612607,"--watchman-path now sets WATCHMAN_BINARYSummary:nThis makes sure that tests can find the watchman binary.  Previouslynall flavors of the build would contrive to place the binary at the rootnof the watchman project.   Later, the windows build placed it in a `Release`nor `Debug` subdir.   While iterating on the cmake build, the binary can endnup somewhere that isn't otherwise in the path.nnThis diff makes sure to connect the use of the path option to setting upnthe environment so that the rest of the test infra can find it.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: stragernnDifferential Revision: D9552412nnfbshipit-source-id: c5133f8421d98ce4f549e600fba8660484703924n",2.0,0.0,"runtests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,626.0,51.0,9.344409722222222,6101.0,1.1070158554394154,2834.0,None,False,,
c74c7f01f25971eb07558ab2310a4c41f4c2a710,69561cd88a075e98ae8eccba91d7fa50874ca798,svcscm,svcscm@fb.com,Thu Aug 30 01:02:58 2018 -0700,1535616178,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 6082818fdf18a9bfa2cc6ca16f84459f7fdedea0n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,14.0,0.0497337962962963,24.0,21.107051431231085,24.0,None,False,,
69561cd88a075e98ae8eccba91d7fa50874ca798,50fb6c5f3028d097bacb352596873b5b71cafe94,Wez Furlong,wez@fb.com,Thu Aug 30 10:22:51 2018 -0700,1535649771,"don't fail if /etc/issue is not presentSummary:nWhen running on macOS there is no /etc/issue.  When runningnwith `set -e` enabled, we don't want this to break the build.nnNeither of these is possible today, but will be later in this diff stack.nnWhile I'm in here, also print out the cmake version.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: snarkmasternnDifferential Revision: D9552416nnfbshipit-source-id: 432b5b70678908de9f79787d37c3615a7f8649d3n",2.0,1.0,"build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,359.0,1.0,8.809895833333334,6102.0,1.113508720070943,26.0,Corrective,True,,
50fb6c5f3028d097bacb352596873b5b71cafe94,245f1a4112d3c28542533ec24bd528fabb41bd2e,Wez Furlong,wez@fb.com,Thu Aug 30 10:22:52 2018 -0700,1535649772,"fix apparent typo in fbcode_builder.pySummary:nI noticed this while testing some changes; the commentndoesn't seem to match up to the `raise` statement, and attemptingnto throw a list fails in python.nnReviewed By: stragernnDifferential Revision: D9566018nnfbshipit-source-id: 563e43dfd30867993cc2a0f816db3b835a52e6dfn",1.0,1.0,"build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,360.0,2.0,1.1574074074074072e-05,6103.0,86401.0,27.0,Corrective,True,,
245f1a4112d3c28542533ec24bd528fabb41bd2e,d2772b688ed89f10fd4f4a19c896ee30eec82354,svcscm,svcscm@fb.com,Thu Aug 30 10:31:01 2018 -0700,1535650261,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 6e9108fea3a1f6c54cb5ec55e78c0a7b965f1192n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,15.0,0.39447916666666666,25.0,3.5349881172432003,25.0,None,False,,
d2772b688ed89f10fd4f4a19c896ee30eec82354,857385bfa2f84df370c6c87a02500d9dd251b2f4,svcscm,svcscm@fb.com,Thu Aug 30 20:53:19 2018 -0700,1535687599,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: d7bdd87be9c1466b30de574c36df027cc588c58en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,28.0,0.7539236111111112,26.5,2.4885968138587686,27.0,None,False,,
857385bfa2f84df370c6c87a02500d9dd251b2f4,cba2d2baf0200f4c7b39c265f2b94f84859f6c24,Wez Furlong,wez@fb.com,Thu Aug 30 21:55:18 2018 -0700,1535691318,"fix a python 2.7 vs 3 compat issue with execSummary:nThis is a bit of a tricky issue; here's the bug in python 2.7nthat prevents using the function-like syntax:nhttps://bugs.python.org/issue21591nnThe nature of this bug is that scoped exec only works with nested functionsnwhen using the `exec` statement in 2.7.   That is a syntax error in python 3,nwhich only allows using the `exec` function.nnTo make the function syntax work in 2.7 we therefore need to avoid usingnlambdas or nested functions and have to resort to using a global variablento act as the closure.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: snarkmasternnDifferential Revision: D9552413nnfbshipit-source-id: a2cb9d325e18fb6fb06b9e284a84f0a0c80cfe7en",23.0,11.0,"build/fbcode_builder/README.md,CAS_DELIMITER,build/fbcode_builder/utils.py,CAS_DELIMITER",2.0,1.0,1.0,0.5225593745369408,1.0,71.5,2.0,9.290763888888893,6104.5,1.0807253320576735,29.0,Corrective,True,,
cba2d2baf0200f4c7b39c265f2b94f84859f6c24,447c08955db3097d7d63537deeae18f81f3f8a32,Wez Furlong,wez@fb.com,Thu Aug 30 21:55:20 2018 -0700,1535691320,factor out debian_deps()Summary:nI want to access the list of deps without the installninstructions attached later in this stack of diffs in `shell_builder.py`.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: snarkmasternnDifferential Revision: D9552419nnfbshipit-source-id: 333cfa0c33bc1aa623de7ac3546a8f1785869a4fn,38.0,30.0,"build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,360.0,3.0,0.4808796296296297,6106.0,3.0795224800231056,30.0,None,False,,
447c08955db3097d7d63537deeae18f81f3f8a32,e3850ebe538610ef6985288d9deba2a3b57caa7e,svcscm,svcscm@fb.com,Thu Aug 30 22:26:44 2018 -0700,1535693204,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: fb3074bab3cbaaaad87578c0af182896fe2b70abn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,30.0,0.06487268518518519,28.5,12.561106155218553,29.0,None,False,,
e3850ebe538610ef6985288d9deba2a3b57caa7e,68dc7dc3c809de01b218f72609a822844b68c07b,svcscm,svcscm@fb.com,Fri Aug 31 21:06:33 2018 -0700,1535774793,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: b9cb8a1a792ba9144932256351a2c25ff082bb0bn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,32.0,0.9443171296296295,30.5,1.7942247116645624,31.0,None,False,,
68dc7dc3c809de01b218f72609a822844b68c07b,dd1e1082246b1522796551f7b71f7d38c2b40b42,svcscm,svcscm@fb.com,Sat Sep 1 16:33:05 2018 -0700,1535844785,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 9c9a4d54172a59b95537da079d6974c8c4e4d8ffn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,34.0,0.8100925925925926,32.5,1.9258200937249967,33.0,None,False,,
dd1e1082246b1522796551f7b71f7d38c2b40b42,af1df083fee448fa44265f2e474d51c65a3c40a3,svcscm,svcscm@fb.com,Sun Sep 2 13:52:10 2018 -0700,1535921530,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 73aa9a8ca4efdbda390ccaa83f0324714880a133n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,36.0,0.8882523148148148,34.5,1.8443546810867155,35.0,None,False,,
af1df083fee448fa44265f2e474d51c65a3c40a3,b6b887be501dee4aa97ec58013821f78917b1f4e,svcscm,svcscm@fb.com,Mon Sep 3 13:13:18 2018 -0700,1536005598,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e260ef384b67f9f38830acdc19bc52eadf6f5fa4n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,38.0,0.9730092592592592,36.5,1.7708045867630964,37.0,None,False,,
b6b887be501dee4aa97ec58013821f78917b1f4e,251cc57a1bb9ed805d1f267e476b3d650edcb0be,svcscm,svcscm@fb.com,Mon Sep 3 19:05:03 2018 -0700,1536026703,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ff0ae069bf51b4db6520fdfb4de4215c94dd6cden,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,40.0,0.2442708333333333,38.5,4.070362473347548,39.0,None,False,,
251cc57a1bb9ed805d1f267e476b3d650edcb0be,62b7ea68e2d30199aba735c4c0e7a9ab9a8250e4,svcscm,svcscm@fb.com,Tue Sep 4 18:49:30 2018 -0700,1536112170,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b49deb77a3d90eea0f0c0c62939ccdb00021b0b3n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,42.0,0.9892013888888888,40.5,1.7581873705640774,41.0,None,False,,
62b7ea68e2d30199aba735c4c0e7a9ab9a8250e4,d0356cb810516a990d6c2566b05ccabc8402b20e,svcscm,svcscm@fb.com,Tue Sep 4 21:41:10 2018 -0700,1536122470,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 86ae10ddfd87a2fba91bde570d0fed0aa88be20dn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,44.0,0.11921296296296295,42.5,7.291262135922331,43.0,None,False,,
d0356cb810516a990d6c2566b05ccabc8402b20e,41be7797313dc28ba1f11a36812b5eca14d1a610,svcscm,svcscm@fb.com,Wed Sep 5 13:25:29 2018 -0700,1536179129,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7b4ebcdabefdd6921313b724554b366748ef9431n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,25.0,0.655775462962963,44.0,2.5249121940027184,44.0,None,False,,
41be7797313dc28ba1f11a36812b5eca14d1a610,2a49156f98051cfc30efe8afa2b28813fc1c9f35,svcscm,svcscm@fb.com,Wed Sep 5 14:59:02 2018 -0700,1536184742,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 90a242a326069f0b2f4c71f98b78e377372008dbn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,47.0,0.3928530092592593,45.5,9.332789359437571,46.0,None,False,,
2a49156f98051cfc30efe8afa2b28813fc1c9f35,bf8e7361ed0711eba677a8557bce7a0c0d8b6569,Matt Glazar,strager@fb.com,Wed Sep 5 17:04:28 2018 -0700,1536192268,"Fix symlink changes with kqueue watcherSummary:nThe test_symlink tests consistently fail on macOS with the kqueue watcher:nn$ ./runtests.py --watcher kqueue --retry-flaky 0 tests/integration/test_symlink.pynEden not available because: No module named configparsernPASS test_symlink.TestSymlinkCliJson.test_watchSymlinkTarget (0.239s)nPASS test_symlink.TestSymlinkLocalBser2.test_watchRelativeSymlinkTargetOneHop (0.107s)nPASS test_symlink.TestSymlinkCliJson.test_delSymlink (0.044s)nPASS test_symlink.TestSymlinkLocalBser2.test_watchSymlinkToDirContainsSymlink (0.175s)nFAIL test_symlink.TestSymlinkLocalBser.test_symlink (0.005s)nTraceback (most recent call last):n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py, line 331, in runnttestMethod()n  File /Users/mg/Projects/watchman/tests/integration/test_symlink.py, line 65, in test_symlinkntself.assertEqual(333, os.path.basename(res[files][0][symlink_target]))n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py, line 515, in assertEqualntassertion_func(first, second, msg=msg)n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py, line 508, in _baseAssertEqualntraise self.failureException(msg)nAssertionError: '333' != '222'n[snip]nFAIL test_symlink.TestSymlinkCliJson.test_symlinkToFileDir (0.040s)nTraceback (most recent call last):n  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py, line 331, in runnttestMethod()n  File /Users/mg/Projects/watchman/tests/integration/test_symlink.py, line 142, in test_symlinkToFileDirntor res[files][0][symlink_target] is Nonen  File /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py, line 424, in assertTruentraise self.failureException(msg)nAssertionError: False is not truen[snip]nRan 40, failed 7, skipped 4, concurrency 1nnThe test failures are caused by tracking changes in the symlink's targetninstead of tracking changes in the symlink itself. Use open()'snO_SYMLINK flag to track changes to the symlink itself, fixing the tests:nn$ ./runtests.py --watcher kqueue --retry-flaky 0 tests/integration/test_symlink.pynEden not available because: No module named configparsernPASS test_symlink.TestSymlinkLocalJson.test_delSymlink (0.006s)nPASS test_symlink.TestSymlinkLocalJson.test_watchRelativeSymlinkTarget (0.106s)nPASS test_symlink.TestSymlinkLocalJson.test_watchSymlinkTargetLinkToLink (0.114s)nPASS test_symlink.TestSymlinkCliJson.test_watchRelativeSymlinkTargetOneHop (0.142s)nSKIP test_symlink.TestSymlinkCliJson.test_invalidSymlink (0.000s) known fsevents bugnPASS test_symlink.TestSymlinkCliJson.test_delSymlink (0.043s)nPASS test_symlink.TestSymlinkLocalBser.test_watchSymlinkTarget (0.164s)nPASS test_symlink.TestSymlinkLocalBser2.test_delSymlink (0.004s)nSKIP test_symlink.TestSymlinkLocalBser.test_invalidSymlink (0.000s) known fsevents bugn[snip]nRan 40, failed 0, skipped 4, concurrency 1nnReviewed By: weznnDifferential Revision: D8431228nnfbshipit-source-id: 63c3a9366c38aabf0c9b7b9d828328fba8092de3n",19.0,1.0,"CMakeLists.txt,CAS_DELIMITER,configure.ac,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.5394910703001343,28.0,376.0,153.0,96.46938657407408,66.0,1.0538042164495638,23.0,Corrective,True,,
bf8e7361ed0711eba677a8557bce7a0c0d8b6569,8586908e027313cc692d3ef63fe742c46533b247,Matt Glazar,strager@fb.com,Wed Sep 5 17:04:30 2018 -0700,1536192270,"Enable test_symlink.test_invalidSymlink with kqueue watcherSummary:nThe test_symlink.test_invalidSymlink test is skipped on macOS 10.10 duento an fsevents bug:nn$ ./runtests.py --watcher fsevents --method test_invalidSymlink tests/integration/test_symlink.pynEden not available because: No module named configparsernSKIP test_symlink.TestSymlinkLocalBser.test_invalidSymlink (0.004s) known fsevents bugnSKIP test_symlink.TestSymlinkLocalJson.test_invalidSymlink (0.002s) known fsevents bugnSKIP test_symlink.TestSymlinkCliJson.test_invalidSymlink (0.012s) known fsevents bugnSKIP test_symlink.TestSymlinkLocalBser2.test_invalidSymlink (0.002s) known fsevents bugnRan 4, failed 0, skipped 4, concurrency 1nnUnfortunately, the skipping happens even when testing with the kqueuenwatcher, which doesn't have the same bug:nn$ ./runtests.py --watcher kqueue --method test_invalidSymlink tests/integration/test_symlink.pynEden not available because: No module named configparsernSKIP test_symlink.TestSymlinkLocalBser2.test_invalidSymlink (0.000s) known fsevents bugnSKIP test_symlink.TestSymlinkCliJson.test_invalidSymlink (0.000s) known fsevents bugnSKIP test_symlink.TestSymlinkLocalBser.test_invalidSymlink (0.000s) known fsevents bugnSKIP test_symlink.TestSymlinkLocalJson.test_invalidSymlink (0.000s) known fsevents bugnRan 4, failed 0, skipped 4, concurrency 1nnFix the skip conditions so the test runs with the kqueue watcher:nn$ ./runtests.py --watcher kqueue --method test_invalidSymlink tests/integration/test_symlink.pynEden not available because: No module named configparsernPASS test_symlink.TestSymlinkLocalBser2.test_invalidSymlink (0.006s)nPASS test_symlink.TestSymlinkLocalBser.test_invalidSymlink (0.005s)nPASS test_symlink.TestSymlinkLocalJson.test_invalidSymlink (0.004s)nPASS test_symlink.TestSymlinkCliJson.test_invalidSymlink (0.046s)nRan 4, failed 0, skipped 0, concurrency 1nnReviewed By: weznnDifferential Revision: D8431236nnfbshipit-source-id: 61fe60cd1d5524bc79cc23a5a37a44c4051e5928n",4.0,3.0,"tests/integration/test_symlink.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,314.0,8.0,98.65421296296296,68.0,1.0101364145530756,41.0,Preventative,False,,
8586908e027313cc692d3ef63fe742c46533b247,64b8ca67be33a71c51dd2a0db559421d70c38d08,svcscm,svcscm@fb.com,Wed Sep 5 18:38:31 2018 -0700,1536197911,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 96a5c9db8dfbef1f841f512579c2e39c1706dcf2n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,27.0,0.15241898148148147,47.0,7.560862631938644,47.0,None,False,,
64b8ca67be33a71c51dd2a0db559421d70c38d08,bac02ec2c4bb2c2ab8c5812b47a6b35287ef6b3e,svcscm,svcscm@fb.com,Wed Sep 5 19:02:08 2018 -0700,1536199328,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6b988e09b324f7a0006113e1bb5d9bb57be13902n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,28.0,0.016400462962962964,48.0,61.97388849682427,48.0,None,False,,
bac02ec2c4bb2c2ab8c5812b47a6b35287ef6b3e,fcf3672be5b2f3fd5e1307baab2976e2af3d7389,Matt Glazar,strager@fb.com,Thu Sep 6 12:47:38 2018 -0700,1536263258,Add missing #includesSummary:nIncluding `watchman_client.h` or `watchman_file.h` results in compilation errors because these headers don't #include their dependencies. Fix some of these compilation errors by #include-ing or forward declaring dependencies.nnThis diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D9566730nnfbshipit-source-id: de8d8782b096854bd572531759285ec9c5e13235n,6.0,0.0,"watchman_client.h,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,22.0,94.5,42.0,110.78014467592592,69.5,1.0118796803333234,25.0,Feature Addition,False,,
fcf3672be5b2f3fd5e1307baab2976e2af3d7389,acbb07dbf6f27bc375ad47431f15126a1dc04c16,svcscm,svcscm@fb.com,Thu Sep 6 21:20:36 2018 -0700,1536294036,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e2d6de7d8203f8c790de2ec2cdc5be9b68183f71n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,51.0,1.1805671296296296,49.5,1.6679014987226848,50.0,None,False,,
acbb07dbf6f27bc375ad47431f15126a1dc04c16,8644143f2a7d7759bbf502b6b2ab1b8cc0e53755,svcscm,svcscm@fb.com,Thu Sep 6 22:47:49 2018 -0700,1536299269,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: d95ef56b62aa6553ffffa714fea323618fdc8d4dn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,23.0,0.06056712962962961,51.0,17.51060577106822,51.0,None,False,,
8644143f2a7d7759bbf502b6b2ab1b8cc0e53755,8118e47f040da659070cc43ecc165506a0dd8197,svcscm,svcscm@fb.com,Fri Sep 7 10:03:35 2018 -0700,1536339815,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: cd5eeb9fd62c20b3b498b04becd715a948423d94n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,30.0,0.5298495370370371,52.0,2.887328250944756,52.0,None,False,,
8118e47f040da659070cc43ecc165506a0dd8197,863cb484a8fcf04a8ca7d559a2803693ccbb6fab,svcscm,svcscm@fb.com,Fri Sep 7 21:06:22 2018 -0700,1536379582,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 654b0df194a03e71c1f82cc29b42e2cef7549890n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,55.0,0.6949074074074074,53.5,2.4460880196766417,54.0,None,False,,
863cb484a8fcf04a8ca7d559a2803693ccbb6fab,d149fd83cdc05520206fd52a0cb36ab42994e187,svcscm,svcscm@fb.com,Sat Sep 8 21:01:13 2018 -0700,1536465673,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8cfe333b31c8c524da251f2ba573e01a871ccce5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,57.0,0.9964236111111112,55.5,1.7526919190159251,56.0,None,False,,
d149fd83cdc05520206fd52a0cb36ab42994e187,873101d576bdfb7e4d8a3fbc66c2ee425ba9398d,svcscm,svcscm@fb.com,Sun Sep 9 19:09:34 2018 -0700,1536545374,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ec75c1cf51771e6302eaf662d36d7560c547e680n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,59.0,0.9224652777777778,57.5,1.8130387322618289,58.0,None,False,,
873101d576bdfb7e4d8a3fbc66c2ee425ba9398d,04d9c4b95988834791db000d12b762bc76f5d166,svcscm,svcscm@fb.com,Mon Sep 10 19:24:50 2018 -0700,1536632690,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 905b94a6cd9d0bb9d5e3c1ac38456365043ee5ffn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,34.0,1.0106018518518518,59.0,1.9895093682715648,59.0,None,False,,
04d9c4b95988834791db000d12b762bc76f5d166,71f698428b94bf484ed243ec1048bda5a92323a3,svcscm,svcscm@fb.com,Mon Sep 10 21:31:43 2018 -0700,1536640303,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6dd88e454912f5ab40357f596ef5e70bd99b8374n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,62.0,0.5934143518518519,60.5,7.0957949258241175,61.0,None,False,,
71f698428b94bf484ed243ec1048bda5a92323a3,8aaa4cddb40115251457a1dcb67e10e09ad3b0fa,Matt Glazar,strager@fb.com,Tue Sep 11 12:19:18 2018 -0700,1536693558,"Fix clang-format IncludeCategories regexpSummary:nclang-format's IncludeCategories patterns are defined using POSIX Extended Regular Expressions [1]. In ERE, each pattern must match at least one character. This means both sides of `|` must match at least one character. This means that `^watchman(|_string).h` is an invalid ERE. This case is explicitly documented [2]:nn> A <vertical-line> ... immediately following a <vertical-line> or a <left-parenthesis> ... produces undefined results.nnThis invalid ERE seems to cause clang-format to ignore the IncludeCategories rule entirely. (It seems clang-format does not report ERE errors to the user, hence this issue went unnoticed.)nnFix the clang-format rule by using valid ERE syntax.nnA future diff will reorder Watchman's #include-s using clang-format.nn[1] https://clang.llvm.org/docs/ClangFormatStyleOptions.htmln[2] http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.htmlnnReviewed By: weznnDifferential Revision: D9672908nnfbshipit-source-id: d88f9661affb50fad647c70128d53614ad4af8ecn",1.0,1.0,".clang-format,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,91.0,2.0,635.100949074074,71.0,1.0015745528351956,26.0,Corrective,True,,
8aaa4cddb40115251457a1dcb67e10e09ad3b0fa,f7f4785ef33dbe0141715a594a126313f5af2900,svcscm,svcscm@fb.com,Wed Sep 12 03:00:35 2018 -0700,1536746435,Updating submodulesReviewed By: yns88nnfbshipit-source-id: f88a4d1467a169580b16fdc33d1068a7c6146d83n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,64.0,1.2283796296296297,62.5,1.6105604341763091,63.0,None,False,,
f7f4785ef33dbe0141715a594a126313f5af2900,059b71c364a91644628bde800812bdd7af64368a,svcscm,svcscm@fb.com,Thu Sep 13 02:57:42 2018 -0700,1536832662,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4dfc73b1ce8853ecd31cf3f5cf3a6814d40bddb9n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,66.0,0.9979976851851852,64.5,1.7515047490925115,65.0,None,False,,
059b71c364a91644628bde800812bdd7af64368a,8f22b51b04adee79390f59d27b6582240d9af5c9,svcscm,svcscm@fb.com,Thu Sep 13 03:37:53 2018 -0700,1536835073,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ccbd9c695e2f716eea11d126457cdcf0485db29en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,68.0,0.02790509259259259,66.5,27.87681459975114,67.0,None,False,,
8f22b51b04adee79390f59d27b6582240d9af5c9,d14b0f775d1d349cce82e9306e74fa837c5a635a,Jacob Bower,jbower@fb.com,Thu Sep 13 13:36:10 2018 -0700,1536870970,Missing quotes in Watchman SCM aware queries docSummary:nYesnnCreated from Diffusion's 'Open in Editor' feature.nnReviewed By: weznnDifferential Revision: D9509573nnfbshipit-source-id: 9daf5922d7fc3be8fae8890a4aad47e68f6ba171n,1.0,1.0,"website/_docs/scm-query.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,295.0,2.0,397.9656481481482,31.0,1.0025127796950648,4.0,Non Functional,False,,
d14b0f775d1d349cce82e9306e74fa837c5a635a,c9ada73bf02c0e71627c41d14246bb6356cc1e2c,svcscm,svcscm@fb.com,Thu Sep 13 21:27:00 2018 -0700,1536899220,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4cb83f69dda1d4b42aa831064a0e45310c8cfa9dn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,70.0,0.7424421296296296,68.5,2.0101797434018738,69.0,None,False,,
c9ada73bf02c0e71627c41d14246bb6356cc1e2c,ab717ee4b846a9ca6964c9b166ee0587e5e3e157,svcscm,svcscm@fb.com,Fri Sep 14 19:34:11 2018 -0700,1536978851,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 80b329c294522e8d842a52a0cbc1c11c9ab6aad9n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,72.0,0.9216550925925926,70.5,1.8137534377315367,71.0,None,False,,
ab717ee4b846a9ca6964c9b166ee0587e5e3e157,67c4854bcffdc114626b86885414c3aeb1324ef7,svcscm,svcscm@fb.com,Sat Sep 15 19:33:24 2018 -0700,1537065204,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8d63abc4b2187b7b4348cd7c42474c7ddc0b629en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,74.0,0.9994560185185184,72.5,1.7504082081687955,73.0,None,False,,
67c4854bcffdc114626b86885414c3aeb1324ef7,31c9f4bb0607cc8e1ffcf5e15f947beed284bedb,svcscm,svcscm@fb.com,Sun Sep 16 18:36:46 2018 -0700,1537148206,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0e352778fc7ad7446847080ca87312f553b2dbf1n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,76.0,0.9606712962962964,74.5,1.7807040794197733,75.0,None,False,,
31c9f4bb0607cc8e1ffcf5e15f947beed284bedb,df6d31451ba43de82f63390ca19774759ea09ccd,svcscm,svcscm@fb.com,Sun Sep 16 20:19:54 2018 -0700,1537154394,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 206c6b67b120c0813e8ca7ade28d77acea065153n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,43.0,0.07162037037037038,76.0,14.962508080155134,76.0,None,False,,
df6d31451ba43de82f63390ca19774759ea09ccd,2ccd7498c37560b1af917ede8e28767a4673bf2e,Lee Howes,lwh@fb.com,Mon Sep 17 17:06:53 2018 -0700,1537229213,Future<T>::then Future<T>::then() -> Future<T>::thenValue or thenTry.Summary:nPart of the larger project to modify Future<T>::then to be r-value qualified and use Future<T>::thenTry or Future<T>::thenValue.nnThe goal is to disambiguate folly::Future and to improve type and lifetime safety of Future and its methods.nnCodemod:n  future<T>.then(callable with operator()(not-a-try)) to future<T>.thenValue(callable with operator()(not-a-try)).n  future<T>.then(callable with operator()()) to future<T>.thenValue(callable with operator()(auto&&)).n  future<T>.then(callable with operator()(auto)) to future<T>.thenValue(callable with operator()(auto)).n  future<T>.then(callable with operator()(folly::Try<T>)) to future<T>.thenTry(callable)nnReviewed By: OrvidnnDifferential Revision: D9819831nnfbshipit-source-id: 4d06cc69057f62c4119f960641ea0c2085c1341dn,20.0,22.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.4537163391869448,17.0,282.0,12.0,29.8240625,1.5,1.0322882778095388,2.0,None,False,,
2ccd7498c37560b1af917ede8e28767a4673bf2e,b3069c32d028b9ca06f1297642c39f856b02aca9,svcscm,svcscm@fb.com,Tue Sep 18 01:04:45 2018 -0700,1537257885,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 817582a3714f29959bb99dd1e3e519466e52f655n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,44.0,1.1978125,77.0,1.8348552048004168,77.0,None,False,,
b3069c32d028b9ca06f1297642c39f856b02aca9,5d4dc576c3dda6e7fbf5def5bc15c8a199f091aa,svcscm,svcscm@fb.com,Tue Sep 18 01:42:46 2018 -0700,1537260166,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 0da7072aafd92c1a1e4fa0ac85af39d72211417en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,80.0,0.6611168981481482,78.5,20.317209765379012,79.0,None,False,,
5d4dc576c3dda6e7fbf5def5bc15c8a199f091aa,1796540e44046439ec3fb92b83e28fe0b689ad8a,svcscm,svcscm@fb.com,Wed Sep 19 00:28:57 2018 -0700,1537342137,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 4439a0f8e094d0c96f563991da1768e32c6ed3een,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,82.0,0.9487384259259259,80.5,1.7905234778153247,81.0,None,False,,
1796540e44046439ec3fb92b83e28fe0b689ad8a,b5159bd25c9c61aad3717552de8f5dabc2af5fca,svcscm,svcscm@fb.com,Wed Sep 19 16:43:10 2018 -0700,1537400590,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: a1163ddb98c249f987e1db4fe3b9cbb910fe4599n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,84.0,0.6765393518518519,82.5,2.1085829640908083,83.0,None,False,,
b5159bd25c9c61aad3717552de8f5dabc2af5fca,f0ad2536958e15800ca614082911653aed944cb2,Wez Furlong,wez@fb.com,Wed Sep 19 17:28:11 2018 -0700,1537403291,avoid a couple of Eden thrift calls in subscription processingSummary:nA couple of code paths call getMostRecentRootNumberAndTickValue()na couple of times.  We can do this once and pass it down to the helpernfunction.   There's no need to make the second call; in this context itnis fine to use the value we computed a few lines prior.nn(Note: this ignores all push blocking failures!)nnReviewed By: stragernnDifferential Revision: D9652041nnfbshipit-source-id: 071d53b6086c27b41921f56931e37b5ea19def6fn,7.0,7.0,"cmds/subscribe.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,610.0,65.0,48.10601851851853,6107.0,1.020787419761522,398.0,None,False,,
f0ad2536958e15800ca614082911653aed944cb2,f29f1237ae0ce286581fe492940c2be3b3968c56,Wez Furlong,wez@fb.com,Wed Sep 19 17:28:12 2018 -0700,1537403292,"add stale_file_handle error categorySummary:nI want to test for this condition in a later diff.nn(Note: this ignores all push blocking failures!)nnReviewed By: chadaustin, stragernnDifferential Revision: D9652042nnfbshipit-source-id: 919fc592f940bb20693d98b6fa074a4f3cd50932n",6.0,0.0,"error_category.cpp,CAS_DELIMITER,watchman_error_category.h,CAS_DELIMITER",2.0,1.0,1.0,0.6500224216483541,27.0,116.5,9.0,68.27152777777778,6108.5,1.0109855458697399,2836.0,Feature Addition,False,,
f29f1237ae0ce286581fe492940c2be3b3968c56,02d1d89b093bdbacdaa5e37471cef00080954ac5,Wez Furlong,wez@fb.com,Wed Sep 19 17:28:15 2018 -0700,1537403295,"catch some classes of error in processSubscriptionsSummary:nI noticed this issue while looking into an issue reported innone of our internal groups.   The user had an issue with their Edenndaemon that was causing the subscription processing to trip up:nn```n2018-09-04T16:09:49,111: [client=0x7f78ecaafa10:stm=0x7f78ecb83940:pid=1960898]nstd::terminate was called. Exception: readlink(/data/users/USER/REPO/.eden/socket) failed: Stale file handle.n```nnThe stack trace logged was in the subscription dispatching code.nFrom inspection and from the error message, this must have been thrown whilensetting up the eden thrift client.nnThis condition causes the program to terminate because the functionnhigher up in the call stack is marked `noexcept`.nnIn this case we don't want to halt the program, we just want to stopntrying to work on the broken repo, so let's catch this error andncancel the watch.nn(Note: this ignores all push blocking failures!)nnReviewed By: chadaustin, stragernnDifferential Revision: D9652040nnfbshipit-source-id: a54e48aeb450b64bc6251e1b19f50c9222e34828n",25.0,1.0,"cmds/subscribe.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",2.0,2.0,2.0,0.2351933818192415,27.0,373.0,98.0,6.597459490740741,6110.5,10801.037893374007,2837.0,None,False,,
02d1d89b093bdbacdaa5e37471cef00080954ac5,a2f9649198b1ccb690b82965ac9b8b562fcfaa46,Wez Furlong,wez@fb.com,Wed Sep 19 20:06:29 2018 -0700,1537412789,"add basic retry on ESTALE when obtaining an eden clientSummary:nThis is the lowest complexity approach for dealing with an unexpected ESTALEnresponse; a small retry loop in the event that we encounter an ESTALE error.nnIn practice we see ESTALE manifest in the `readlink` call when resolving the socket,nbut it is also possible for it to bubble up for any syscall interacting with thatnpath.nnWe've been discussing whether we should cache connections or the results of readlink,nbut managing invalidation and liveness checking is relatively complex.  For nownwe need to have a quicker solution to the ESTALE problem that we can deploy to avoidnannoying interruptions in eg: buck build.nnI've made this loop a few times with backoff because it seems like this conditionncan be sticky for a short period of time, and a single retry didn't guaranteensuccess.nnReviewed By: stragernnDifferential Revision: D9951798nnfbshipit-source-id: d6c0b290af0f4e5e2b12dab49946d256c7a300dan",49.0,10.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1179.0,58.0,37.066793981481474,6112.0,1.0269783246023274,307.0,Feature Addition,False,,
a2f9649198b1ccb690b82965ac9b8b562fcfaa46,c9ad583444cf8869c9fa562f8658ed48e60d6ba7,svcscm,svcscm@fb.com,Wed Sep 19 20:07:47 2018 -0700,1537412867,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: a710c632db3cb013d47a8ed2e4aafea5b93099e8n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,86.0,0.1420949074074074,84.5,6.278162417528713,85.0,None,False,,
c9ad583444cf8869c9fa562f8658ed48e60d6ba7,691ea2d3356929623195a40e8417a8126ea214c4,svcscm,svcscm@fb.com,Wed Sep 19 20:30:50 2018 -0700,1537414250,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 1ee0d9f35bd006270839688e3275fb9e36de4af9n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,88.0,0.016006944444444445,86.5,47.85466377440347,87.0,None,False,,
691ea2d3356929623195a40e8417a8126ea214c4,43b5aea53af1acffd11ff4c70095daaf2aff004d,Wez Furlong,wez@fb.com,Thu Sep 20 12:47:17 2018 -0700,1537472837,"adopt new thrift streaming APISummary:nIn heap profiles we observed a lot of objects associatednwith the journal related to the subscription path.   Those objectsnappear to be alive for the duration of the subscription session,nso it gives us good reason to move forwards with updating to thennewer thrift streaming API.nnThis diff introduces a new endpoint `subscribeStream` that usesnthe new RSocket based subscription channel.nnBoth the Eden server and the watchman client are able to dealnwith connections from/to old versions of the server which checksnoff the box around push safety.nnOnce this is widely deployed we can remove `StreamingSubscriber.{cpp|h}`nfrom the eden code base, and can remove the `legacySubscribe` codenfrom the watchman code base.nnReviewed By: stragernnDifferential Revision: D9595967nnfbshipit-source-id: 0843e56315f83f1e5fb9bc827b7ee6cf1bf507a6n",141.0,56.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1218.0,59.0,0.695,6113.0,2.4388489208633093,308.0,Feature Addition,False,,
43b5aea53af1acffd11ff4c70095daaf2aff004d,7698ac72bac68a3ae6b2f52ba7ead108bdbdb118,svcscm,svcscm@fb.com,Thu Sep 20 21:03:52 2018 -0700,1537502632,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 8d1cfffd5203697225c0a288ba3748f00b288056n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,50.0,1.0229398148148148,88.0,1.9775746192663664,88.0,None,False,,
7698ac72bac68a3ae6b2f52ba7ead108bdbdb118,83a67c55a52867b1c53d1aba8ce1ad4ca6745ba8,svcscm,svcscm@fb.com,Thu Sep 20 21:23:02 2018 -0700,1537503782,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 36375b23b15d0289316de397c0b3e0f38f4a37ecn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,91.0,0.5247800925925925,89.5,39.041607413579996,90.0,None,False,,
83a67c55a52867b1c53d1aba8ce1ad4ca6745ba8,22ad2b96c30ae581c36bba77be69ae58abf8f626,svcscm,svcscm@fb.com,Thu Sep 20 21:49:07 2018 -0700,1537505347,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 40fcc2bdefbbb8cdda73ec89463bd0f0d85fe8bbn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,52.0,0.018113425925925925,91.0,56.20766773162939,91.0,None,False,,
22ad2b96c30ae581c36bba77be69ae58abf8f626,6d58095b9b02fd033e29c40d73a7633dcff53135,svcscm,svcscm@fb.com,Fri Sep 21 19:58:45 2018 -0700,1537585125,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 52fb5b4f9dcc22dfd299f46094b49e5695cd3e62n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,94.0,0.9324131944444444,92.5,1.8096241438323224,93.0,None,False,,
6d58095b9b02fd033e29c40d73a7633dcff53135,826b92b3498a770dd1b5859f7a4e485555aed7b8,svcscm,svcscm@fb.com,Sat Sep 22 14:30:06 2018 -0700,1537651806,Updating submodulesReviewed By: zpaonnfbshipit-source-id: d0c600d67eaee46dcfc10a5ff59409e9439d38cfn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,96.0,0.7717708333333333,94.5,1.9717910649210424,95.0,None,False,,
826b92b3498a770dd1b5859f7a4e485555aed7b8,2558a2d25fa8f7b5ef77b1459e9a211438befddc,svcscm,svcscm@fb.com,Sat Sep 22 20:21:08 2018 -0700,1537672868,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 83807b51a8576f275dabe9002b54e21060643b06n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,43.0,0.24377314814814816,96.0,5.1021745323331125,96.0,None,False,,
2558a2d25fa8f7b5ef77b1459e9a211438befddc,f1f481e962c0b05525e2ea6799501610b90b3d15,svcscm,svcscm@fb.com,Sun Sep 23 20:58:17 2018 -0700,1537761497,Updating submodulesReviewed By: zpaonnfbshipit-source-id: fa2969a62a15190f89f084eee41dfb095af1a1ddn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,55.0,1.2695717592592592,97.0,1.7876671741528476,97.0,None,False,,
f1f481e962c0b05525e2ea6799501610b90b3d15,f3d55c954304da104c3d17a4bf3cb80dfe727635,svcscm,svcscm@fb.com,Mon Sep 24 14:12:47 2018 -0700,1537823567,Updating submodulesReviewed By: zpaonnfbshipit-source-id: eb665bfa3dd35fad463187c256d075f142e89e6bn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,100.0,1.2313020833333337,98.5,1.8990254967628493,99.0,None,False,,
f3d55c954304da104c3d17a4bf3cb80dfe727635,5aa8db14174edb59febd2873280fb0deac83b417,svcscm,svcscm@fb.com,Tue Sep 25 13:28:50 2018 -0700,1537907330,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b108c78ec0b3f263414ded88b34734b089fcf369n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,102.0,0.9694791666666668,100.5,1.7736112603416785,101.0,None,False,,
5aa8db14174edb59febd2873280fb0deac83b417,1556e5f31be7b42712c841d8dcd9ee71907261cf,svcscm,svcscm@fb.com,Wed Sep 26 12:38:06 2018 -0700,1537990686,Updating submodulesReviewed By: zpaonnfbshipit-source-id: ceac28a9f63c3beca83b079589ecdbe5738cc112n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,104.0,0.9647685185185184,102.5,1.7773885503143143,103.0,None,False,,
1556e5f31be7b42712c841d8dcd9ee71907261cf,9238d695ef112c8c848038c3dd99799a3a49fc49,svcscm,svcscm@fb.com,Wed Sep 26 17:53:54 2018 -0700,1538009634,Updating submodulesReviewed By: zpaonnfbshipit-source-id: a13308613dff24c12f1da8ed14db03fe972f99a3n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,47.0,0.2193055555555556,104.0,5.559848005066499,104.0,None,False,,
9238d695ef112c8c848038c3dd99799a3a49fc49,c64d154ea37f3ad58535c8b4d267887c719fb8ba,svcscm,svcscm@fb.com,Thu Sep 27 17:22:31 2018 -0700,1538094151,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 251afa9d10fd665e38d09da524c22e2df7783bb4n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,107.0,1.0878587962962962,105.5,1.6473417359672875,106.0,None,False,,
c64d154ea37f3ad58535c8b4d267887c719fb8ba,e2d31d3ea2a60411d8cbcad2a096307012e68b33,svcscm,svcscm@fb.com,Thu Sep 27 22:28:17 2018 -0700,1538112497,Updating submodulesReviewed By: zpaonnfbshipit-source-id: be88a4f28c01952bf1883d715d8323f5160dc3acn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,60.0,0.21233796296296287,107.0,5.709473454704022,107.0,None,False,,
e2d31d3ea2a60411d8cbcad2a096307012e68b33,d949c4ed2c7abcd4b0edbfa4e6dc0364191fce4a,Matt Glazar,strager@fb.com,Fri Sep 28 11:59:21 2018 -0700,1538161161,"Allow overriding version number when buildingSummary:nI want to continuously build the latest version of Watchman. I want unique version numbers, so allow CI systems to configure Watchman's version number:nn  $ cmake -DWATCHMAN_VERSION_OVERRIDE=4.9.4.185nnWithout `-DWATCHMAN_VERSION_OVERRIDE`, this diff should not change behaviour.nnReviewed By: weznnDifferential Revision: D9587792nnfbshipit-source-id: f54f2fcc456f63e5c8f8d2fd890c690ea8b7b23an",7.0,1.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,465.0,11.0,22.788113425925932,72.0,1.043882526881857,27.0,None,False,,
d949c4ed2c7abcd4b0edbfa4e6dc0364191fce4a,70ebbec331a2fb6b7117f95d2cf32374fb5ddb48,svcscm,svcscm@fb.com,Fri Sep 28 13:14:27 2018 -0700,1538165667,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 8bc06f5c1688bb10e6acbbf09af56fc3524acca3n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,61.0,0.6153935185185185,108.0,2.624976490502162,108.0,None,False,,
70ebbec331a2fb6b7117f95d2cf32374fb5ddb48,9f234f0855276b76bae8fd3171f9e1ae26263885,svcscm,svcscm@fb.com,Fri Sep 28 21:27:43 2018 -0700,1538195263,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e98bf7450f818a16b441f5734273b68f7b8b0fe2n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,111.0,0.7564120370370371,109.5,2.790164406911236,110.0,None,False,,
9f234f0855276b76bae8fd3171f9e1ae26263885,cabf60dcf82255212e17b14346c044f0d218d5f7,svcscm,svcscm@fb.com,Sat Sep 29 23:52:38 2018 -0700,1538290358,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 905574795e511ae164a4c944b2f6a8870dd68f7dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,63.0,1.100636574074074,111.0,1.9085651190914348,111.0,None,False,,
cabf60dcf82255212e17b14346c044f0d218d5f7,25e5de0823ad03fed05a0d57eb7ecf6dec17c3e5,svcscm,svcscm@fb.com,Sun Sep 30 22:07:32 2018 -0700,1538370452,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 9cf9cf4ca3233e7158ccc6e689a1ae39394fc291n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,114.0,1.477332175925926,112.5,1.708590203954758,113.0,None,False,,
25e5de0823ad03fed05a0d57eb7ecf6dec17c3e5,1d3e6f94eef90a9dc4cfadac880f9893257c5845,svcscm,svcscm@fb.com,Mon Oct 1 01:36:12 2018 -0700,1538382972,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 525f0688b793123eca80a907850d25f660a53406n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,51.0,0.1449074074074074,114.0,7.900958466453674,114.0,None,False,,
1d3e6f94eef90a9dc4cfadac880f9893257c5845,777c64c46ec843e13304938db2890d8cf169a1b8,Zsolt Dollenstein,zsol@fb.com,Mon Oct 1 07:15:19 2018 -0700,1538403319,Format with black 18.9b0Summary: Reformat all opted-in python code with version `18.9b0` of Black.nnReviewed By: ambvnnDifferential Revision: D10126605nnfbshipit-source-id: 82af0d645dd411ce8ae6b8d239e151b3730cd789n,0.0,1.0,"tests/integration/Interrupt.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,26.0,4.0,143.74042824074073,0.0,0.0,0.0,None,False,,
777c64c46ec843e13304938db2890d8cf169a1b8,2c15be84a39a2024ec49880d0604523a57d953db,Wez Furlong,wez@fb.com,Mon Oct 1 13:06:49 2018 -0700,1538424409,"avoid stack use after returnSummary:nit's only valid to capture a reference to the settle callback in here,nthe other captures have to be by value.nnReviewed By: stragernnDifferential Revision: D10080989nnfbshipit-source-id: 3797585d65fe109e5be0e054d585158868a3f7c4n",4.0,2.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1303.0,60.0,11.013564814814815,6114.0,1.0907971230763411,309.0,None,False,,
2c15be84a39a2024ec49880d0604523a57d953db,f9d5f58c3cbc8e13c0f3e8833c533f3242f8e6e7,Wez Furlong,wez@fb.com,Mon Oct 1 13:06:51 2018 -0700,1538424411,fallback to non-rsocket channel on timeoutSummary:nThe sandcastle tests use the -oss flavor of the eden server whichnappears to never respond to requests on the rsocket enabled endpoint.nnThe sandcastle/buck flavor of the build uses the -oss flavor of the edennserver which is why the test failures only manifest there.nnReviewed By: stragernnDifferential Revision: D10080988nnfbshipit-source-id: 0183acb97393ab66779ffaabddd89178b9a9d824n,21.0,1.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1305.0,61.0,2.314814814814815e-05,6115.0,43201.0,310.0,None,False,,
f9d5f58c3cbc8e13c0f3e8833c533f3242f8e6e7,f806a7606bfa3c09dc05e7e581662cb7d6430d6e,Wez Furlong,wez@fb.com,Mon Oct 1 13:06:58 2018 -0700,1538424418,refactor w_query_file_matches_relative_root -> methodSummary:nNo functional change; just moves this function to a method.nI'm going to add an overload of this to resolve an issue in anfollowing diff.nnReviewed By: stragernnDifferential Revision: D10024993nnfbshipit-source-id: d635e70f23bff5f263b3b1bd3c37812026bb9eadn,14.0,15.0,"InMemoryView.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,2.0,2.0,1.5013579287098406,27.0,623.3333333333334,236.0,60.52891203703704,6117.0,1.0099747021277403,2839.0,None,False,,
f806a7606bfa3c09dc05e7e581662cb7d6430d6e,4e06045e0b599f515b7aad02383d41fbcf7cd263,Wez Furlong,wez@fb.com,Mon Oct 1 13:07:01 2018 -0700,1538424421,"add overload for fileMatchesRelativeRootSummary:nAdds a variant of this method that checks based solely onnthe filename string.   The eden watcher had replicated this logic,nso refactor that code to call it.nnReviewed By: stragernnDifferential Revision: D10024991nnfbshipit-source-id: ef016f238c7eef4bface9484b461b267c22ed14an",42.0,25.0,"query/eval.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",3.0,3.0,3.0,1.5181694478394423,28.0,752.3333333333335,231.0,6.17283950617284e-05,6120.0,13616.384615384617,2840.0,Feature Addition,False,,
4e06045e0b599f515b7aad02383d41fbcf7cd263,796f6cbc94cf7eb90c5c89c5294093459c0e64b3,Wez Furlong,wez@fb.com,Mon Oct 1 13:07:03 2018 -0700,1538424423,"check relative_root when processing scm aware query resultsSummary:nThis was overlooked; add tests and fix it up.nnSince the relative root matching code operates on absolute paths,nI moved the construction of the fullPath out from the LocalFileResultnclass and into the the calling code.nnReviewed By: stragernnDifferential Revision: D10024992nnfbshipit-source-id: 89ebc50e1b5a71bba4188cf46563ca48b6d214c7n",35.0,6.0,"LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",4.0,3.0,3.0,1.5507666379201448,28.0,295.0,122.0,36.5076880787037,6123.5,1.0119837782170409,819.0,None,False,,
796f6cbc94cf7eb90c5c89c5294093459c0e64b3,cb81eb855887daebc7ceabdb4855aa65652ad725,Wez Furlong,wez@fb.com,Mon Oct 1 13:07:05 2018 -0700,1538424425,"add missing super setup/teardown for testsSummary:nwhile hunting down the rsocket issue, I noticed that we weren't alwaysncapturing all the log information under the tempdir structure that we tookncare to set up.  These setup/teardown calls plumb in the temp dir mungingnto make this work.nnReviewed By: stragernnDifferential Revision: D10081001nnfbshipit-source-id: 7a7032390d4579f10fdf34d815ccec26124f9484n",6.0,0.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,28.0,324.0,70.0,83.18907986111111,6126.5,1.0070216102730367,821.0,Feature Addition,False,True,"[""8a954a42206e34fb1bd42aef432747b1de10c5f8""]"
cb81eb855887daebc7ceabdb4855aa65652ad725,d0632df6c0773a2bb07a200e101b67f5863c20c1,svcscm,svcscm@fb.com,Mon Oct 1 23:45:22 2018 -0700,1538462722,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 3e48badf09a8da969b604c8f78029a9d063b035en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,65.0,1.067939814814815,115.0,1.9363823561287523,115.0,None,False,,
d0632df6c0773a2bb07a200e101b67f5863c20c1,888427f3861c645e1e1d56523c5a428699f3efb6,svcscm,svcscm@fb.com,Tue Oct 2 09:48:51 2018 -0700,1538498931,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 071bfdf0700a2229d92442c4479264c722d99635n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,118.0,0.8806018518518519,116.5,2.4769702909533,117.0,None,False,,
888427f3861c645e1e1d56523c5a428699f3efb6,a40b195fb433230727dce8c0a4d5d67ea9e493a3,Wez Furlong,wez@fb.com,Tue Oct 2 13:09:08 2018 -0700,1538510948,"use buck python unittests for integration testsSummary:nwhen we first migrated the source of truth for watchman from github tonfbsource, testpilot/buck weren't able to do as good a job at managingnconcurrency of the watchman tests as our own test runner.nnThat resulted in a rather clunky runtests wrapper script being built and run asna custom unit test.nnOne of the main downsides of this approach is that it makes it more difficultnto use the normal buck/testpilot test filtering which in turn made it rathernpainful to iterate and track down the recent issue with the -oss flavor of Edenn+ rsocket.nnThis prompted me to take a pass at making buck run the tests in the usual way;nit turns out that the runner has improved and is reasonably able to run thenwatchman tests now.nnReviewed By: chadaustinnnDifferential Revision: D10137837nnfbshipit-source-id: de2cfbf786a9f189ebb968c505c781ce2d7fffafn",7.0,1.0,"tests/integration/test_site_spawn.py,CAS_DELIMITER,tests/integration/test_wm_wait.py,CAS_DELIMITER",2.0,1.0,1.0,1.0,26.0,87.5,15.0,115.09034722222222,6128.5,1.0061565634690126,823.0,Preventative,False,,
a40b195fb433230727dce8c0a4d5d67ea9e493a3,73b8d9cde9b83d73b685f4835c64a23a48f7b567,svcscm,svcscm@fb.com,Tue Oct 2 15:28:43 2018 -0700,1538519323,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 97b1b74867cdb205103505f5f31c74a10ceeec38n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,53.0,0.2360185185185185,118.0,5.2369556688897605,118.0,None,False,,
73b8d9cde9b83d73b685f4835c64a23a48f7b567,5c95df1481b1ebd28042493eba97b463e020a2e6,Saif Hasan,has@fb.com,Wed Oct 3 14:19:55 2018 -0700,1538601595,fix oss buildSummary:nTwo thingsn- Use thenValue instead of then in one specific occurrence as later one has been deprecatedn- Build googletest on `release-1.8.1` as it is the one that compiles with c++11nnReviewed By: cenzhaonnDifferential Revision: D10178139nnfbshipit-source-id: 069578716e5e55ef0a25ea87e9ef5ceded1ff9d6n,1.0,0.0,"build/fbcode_builder/specs/gmock.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,18.0,1.0,42.97452546296297,0.0,0.0,0.0,Corrective,True,,
5c95df1481b1ebd28042493eba97b463e020a2e6,e74fe2d2a0182ff18dd410f5a317f361f94163b5,svcscm,svcscm@fb.com,Wed Oct 3 17:12:12 2018 -0700,1538611932,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 77c48936bea3b35d21cd3d131c2dc2f44af2e849n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,121.0,1.1898726851851853,119.5,1.5924040141211866,120.0,None,False,,
e74fe2d2a0182ff18dd410f5a317f361f94163b5,27f23e9ebcde21742f0560dad92e2b1cc4da84cf,svcscm,svcscm@fb.com,Wed Oct 3 19:58:10 2018 -0700,1538621890,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 1d539a7106daffdddb98884dc3a99a1c5831bbebn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,55.0,0.11525462962962962,121.0,9.676441052420165,121.0,None,False,,
27f23e9ebcde21742f0560dad92e2b1cc4da84cf,b3a87fec8d8bf9a591e5bbb828fb5357485f0614,svcscm,svcscm@fb.com,Thu Oct 4 08:17:17 2018 -0700,1538666237,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: bb9202757976c59019fa0e95384f4119c75451c5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,124.0,0.5709027777777778,122.5,2.2334097909220585,123.0,None,False,,
b3a87fec8d8bf9a591e5bbb828fb5357485f0614,9f0472d9d682c8398e1da3e462cd6f6b5dda7fd7,svcscm,svcscm@fb.com,Thu Oct 4 16:18:31 2018 -0700,1538695111,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8fbb8262f0b71d70622299320613e7163c4af476n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,126.0,0.3341898148148148,124.5,3.2442335665304425,125.0,None,False,,
9f0472d9d682c8398e1da3e462cd6f6b5dda7fd7,cd3f56bb72637256742434b01947ac9320399283,svcscm,svcscm@fb.com,Fri Oct 5 15:08:11 2018 -0700,1538777291,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 06c5fe2c872273640d19961210f059d45af3b5a4n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,128.0,0.9511574074074074,126.5,1.7885130201995618,127.0,None,False,,
cd3f56bb72637256742434b01947ac9320399283,401220a5948736a1438a34092db5202b9ab99fb8,svcscm,svcscm@fb.com,Sat Oct 6 10:17:01 2018 -0700,1538846221,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 81f48f96168e2b249c5cafe9df0fd3ebc3d257a4n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,130.0,0.7978009259259259,128.5,1.9400841433338167,129.0,None,False,,
401220a5948736a1438a34092db5202b9ab99fb8,30cb177b9e7f29a52d5691a1c820107f0923f8de,svcscm,svcscm@fb.com,Sun Oct 7 09:28:57 2018 -0700,1538929737,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 628ca1bb7cb91d521dcee8a4624327fdf19a04b5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,132.0,0.9666203703703704,130.5,1.7758992288902724,131.0,None,False,,
30cb177b9e7f29a52d5691a1c820107f0923f8de,cc2ecf27db990a4d632d700d6e6b9c31666e5ad4,svcscm,svcscm@fb.com,Mon Oct 8 07:01:53 2018 -0700,1539007313,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ce3bba525742f477952dfe7da44b76550e45133an,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,134.0,0.8978703703703703,132.5,1.835309889656595,133.0,None,False,,
cc2ecf27db990a4d632d700d6e6b9c31666e5ad4,38452a8a2f95852f8ab7f0910ff875a5b894c2c9,Wez Furlong,wez@fb.com,Mon Oct 8 07:50:38 2018 -0700,1539010238,add shell_builder.pySummary:n`shell_builder.py` allows running the fbcode_builder logicnon the host rather than in a container.nnIt emits a bash script with `set -exo pipefail` configured such thatnany failing step will cause the script to exit with failure.nnRefs: https://github.com/facebook/watchman/pull/639nnReviewed By: simpkinsnnDifferential Revision: D9552411nnfbshipit-source-id: c7835deedf07ea342dcb3de61d576a4fb5439985n,111.0,0.0,"build/fbcode_builder/shell_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6130.0,0.0,31.0,Feature Addition,False,,
38452a8a2f95852f8ab7f0910ff875a5b894c2c9,7741f44ef256d638c4a00a2f55f2d56998fa624b,Wez Furlong,wez@fb.com,Mon Oct 8 07:50:40 2018 -0700,1539010240,add fbcode builder config (#639)Summary:nThis adds configuration to build watchman using fbcode_builder.nnPull Request resolved: https://github.com/facebook/watchman/pull/639nnReviewed By: simpkinsnnDifferential Revision: D9552418nnfbshipit-source-id: 6578511de17f772918843f05a64cfee39fd631b2n,91.0,20.0,".circleci/config.yml,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,build/fbcode_builder_config.py,CAS_DELIMITER",3.0,3.0,3.0,1.475547185200125,23.0,42.0,27.0,56.03238040123457,6132.0,1.0065545030675158,32.0,Feature Addition,False,,
7741f44ef256d638c4a00a2f55f2d56998fa624b,1a87ccfa59ee4a867d46d830ad4261b7b90a2f88,svcscm,svcscm@fb.com,Mon Oct 8 08:14:37 2018 -0700,1539011677,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: bc2681d0efca9ea520b503f231d5212c5aa7f118n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,136.0,0.05050925925925926,134.5,15.848762603116406,135.0,None,False,,
1a87ccfa59ee4a867d46d830ad4261b7b90a2f88,ba9d21b3d0a57b15f17dc0236fa12d145b0cf10e,svcscm,svcscm@fb.com,Tue Oct 9 00:49:10 2018 -0700,1539071350,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c6403c4fe05ed3ea61edd53fa7b596ffceec31a9n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,138.0,0.6906597222222223,136.5,2.0859182544869537,137.0,None,False,,
ba9d21b3d0a57b15f17dc0236fa12d145b0cf10e,1ce198a91a3d33bab6b0c69f295f189cdce01a29,Wez Furlong,wez@fb.com,Tue Oct 9 02:01:14 2018 -0700,1539075674,"fixup some warnings in serde_bserSummary:nfixed these:nn```nwarning: use of deprecated item 'bytes::BufMut::put_i32': use put_i32_be or put_i32_len   --> /home/wez/fb/fbsource/fbcode/watchman/rust/serde_bser/src/ser/mod.rs:137:22n|n137 | self.scratch.put_i32::<NativeEndian>(v);n|  ^^^^^^^n|n= note: #[warn(deprecated)] on by defaultnnwarning: use of deprecated item 'bytes::BufMut::put_i64': use put_i64_be or put_i64_len   --> /home/wez/fb/fbsource/fbcode/watchman/rust/serde_bser/src/ser/mod.rs:144:22n|n144 | self.scratch.put_i64::<NativeEndian>(v);n|  ^^^^^^^nnwarning: use of deprecated item 'bytes::BufMut::put_f64': use put_f64_be or put_f64_len   --> /home/wez/fb/fbsource/fbcode/watchman/rust/serde_bser/src/ser/mod.rs:243:22n|n243 | self.scratch.put_f64::<NativeEndian>(v);n|  ^^^^^^^nnwarning: constant item is never used: `BSER_CAP_DISABLE_UNICODE`n  --> /home/wez/fb/fbsource/fbcode/watchman/rust/serde_bser/src/header.rs:22:1n   |n22 | pub const BSER_CAP_DISABLE_UNICODE: u8 = 0x01;n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^n   |n   = note: #[warn(dead_code)] on by defaultnnwarning: constant item is never used: `BSER_CAP_DISABLE_UNICODE_FOR_ERRORS`n```nnReviewed By: strager, singhsrbnnDifferential Revision: D10239516nnfbshipit-source-id: a873ee60b4133907ceeb9fe4ee20196cf0f7d67bn",18.0,5.0,"rust/serde_bser/src/header.rs,CAS_DELIMITER,rust/serde_bser/src/ser/mod.rs,CAS_DELIMITER",2.0,1.0,2.0,0.4262286569981449,18.0,254.5,2.0,193.73084490740746,6134.5,1.0038713504829782,2.0,Corrective,True,,
1ce198a91a3d33bab6b0c69f295f189cdce01a29,7e3e487ef3a151d29bc333e79cee3b2989aedbaa,Wez Furlong,wez@fb.com,Tue Oct 9 03:25:51 2018 -0700,1539080751,"fbcode_builder: fixup expansion of CC/CXXSummary:nThese were failing in the watchman buildnn```n$ cd build && python fbcode_builder/shell_builder.py > ~/run.sh && bash ~/run.shnTraceback (most recent call last):n  File fbcode_builder/shell_builder.py, line 110, in <module>nsteps = make_steps(builder)n  File /home/travis/build/facebook/watchman/build/fbcode_builder/utils.py, line 94, in <lambda>nsteps_for_spec(builder, config['fbcode_builder_spec'](builder))n  File /home/travis/build/facebook/watchman/build/fbcode_builder/fbcode_builder.py, line 144, in buildnreturn [self.setup(), self.diagnostics()] + stepsn  File fbcode_builder/shell_builder.py, line 61, in setupn).format(ccache_dir=ccache_dir)n  File /home/travis/build/facebook/watchman/build/fbcode_builder/shell_quoting.py, line 64, in formatn(k, shell_quote(v).do_not_use_raw_str) for k, v in kwargs.items()nKeyError: u'CC'n```nnReviewed By: snarkmasternnfbshipit-source-id: 614723e631a82f277739765a920731c872700c45n",1.0,1.0,"build/fbcode_builder/shell_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,111.0,1.0,0.8161226851851852,6136.0,2.225305971948435,33.0,None,False,,
7e3e487ef3a151d29bc333e79cee3b2989aedbaa,48b9c70618bea95511f47fb0719b138c8271d940,svcscm,svcscm@fb.com,Tue Oct 9 05:33:58 2018 -0700,1539088438,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7283ad65c38a5a95f3fb055f039e816a1dc007b3n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,140.0,0.19777777777777772,138.5,4.7921348314606735,139.0,None,False,,
48b9c70618bea95511f47fb0719b138c8271d940,c7690c571d418c8a352d8158eaa81a3b5c946e20,svcscm,svcscm@fb.com,Wed Oct 10 05:26:34 2018 -0700,1539174394,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 986a56fc9c406fceb0e5451b5121e20d4cf3475dn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,142.0,0.9948611111111112,140.5,1.753874075108195,141.0,None,False,,
c7690c571d418c8a352d8158eaa81a3b5c946e20,2f572b62f0c84c1b2a5a6820598dd251423ccec0,svcscm,svcscm@fb.com,Thu Oct 11 01:07:29 2018 -0700,1539245249,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ef94b8393288f3c60c8487f16e074688f440d0ebn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,144.0,0.8200810185185186,142.5,1.9145437866064496,143.0,None,False,,
2f572b62f0c84c1b2a5a6820598dd251423ccec0,8ce1a168d6d09050ac2641742870d87541fadc6f,svcscm,svcscm@fb.com,Thu Oct 11 20:36:57 2018 -0700,1539315417,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7a82aab2cf160569001db4e72b615a512b817e19n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,146.0,0.8121296296296296,144.5,1.9234978907764224,145.0,None,False,,
8ce1a168d6d09050ac2641742870d87541fadc6f,b64f01d35e1c7d6b2075e9d599bfe2ff2ae6726a,svcscm,svcscm@fb.com,Fri Oct 12 19:28:33 2018 -0700,1539397713,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b8cafb6cfc4e589d0abcf952964fdfdb47257e0cn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,148.0,0.9525,146.5,1.7874015748031498,147.0,None,False,,
b64f01d35e1c7d6b2075e9d599bfe2ff2ae6726a,12377724df8100becc92e31204762792f5112a64,Jacob Bower,jbower@fb.com,Fri Oct 12 23:15:16 2018 -0700,1539411316,"Make pywatchman_aio handle connection deathSummary:nMake it so the client detects if the Watchman server connection is broken and propagates this to consumers. Propagation happens by stuffing an exception into the queues consumers are reading from, and then turning this back into an exception at the other end.nnThe only change for existing users is Watchman connection failure will now cause an exception. This seems strictly better than the previous behavior of quietly just not working anymore.nnReviewed By: stragernnDifferential Revision: D10209724nnfbshipit-source-id: e84805451401c6aa2a75f589655d16c7da930f40n",106.0,11.0,"python/pywatchman_aio/__init__.py,CAS_DELIMITER,tests/async/test_dead_socket.py,CAS_DELIMITER",2.0,2.0,2.0,0.9719417519338608,26.0,172.5,3.0,67.95584490740741,32.5,1.0073577188346532,5.0,None,False,True,"[""504938ef6b9bc0e6ac1874397d47f2aab72342f3""]"
12377724df8100becc92e31204762792f5112a64,ccddfab5a87b9fd8f8d4d080e0f599811cc3e94e,svcscm,svcscm@fb.com,Sat Oct 13 16:37:37 2018 -0700,1539473857,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b90b3d71beaf9782bacfeecfda9fdd8e4162f30bn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,69.0,0.8812962962962962,148.0,2.1346921622189536,148.0,None,False,,
ccddfab5a87b9fd8f8d4d080e0f599811cc3e94e,e0e6d8cd8b893d8374cc146da0baa46dbaa35108,svcscm,svcscm@fb.com,Mon Oct 15 01:12:42 2018 -0700,1539591162,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 095c23e4fb99aec79715e1626aab3d51faa371dfn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,81.0,2.2389930555555555,149.0,1.4466293441682303,149.0,None,False,,
e0e6d8cd8b893d8374cc146da0baa46dbaa35108,9bd5787abcc4757738799eafb20c2c04ff9041ec,svcscm,svcscm@fb.com,Mon Oct 15 22:07:58 2018 -0700,1539666478,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 4dde19f2f1fa68ad4fbdf6172eb6ab3dbce9a168n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,152.0,1.5505613425925926,150.5,1.7348152337396097,151.0,None,False,,
9bd5787abcc4757738799eafb20c2c04ff9041ec,fe0ad79a1d7b391bfd62a789c74fd2d1a539d61a,svcscm,svcscm@fb.com,Tue Oct 16 09:40:25 2018 -0700,1539708025,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 8a2ef6b01cc1496b5e616f5e4f7be08c4bb43ce0n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,154.0,0.4808680555555556,152.5,2.5596793992346023,153.0,None,False,,
fe0ad79a1d7b391bfd62a789c74fd2d1a539d61a,c579d1bcf1bbccf7488a0386fad7b7609b7f046e,svcscm,svcscm@fb.com,Tue Oct 16 23:29:11 2018 -0700,1539757751,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 926f10d11ed15f703df452a91fa13a08bff7ae2fn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,84.0,0.5755324074074074,154.0,2.737521618469211,154.0,None,False,,
c579d1bcf1bbccf7488a0386fad7b7609b7f046e,5f3a65f7a48f054114359b01db3cc24fd65654c8,svcscm,svcscm@fb.com,Wed Oct 17 23:48:54 2018 -0700,1539845334,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: ebf4da9b6a83b1c19d695f565993e0188fd39190n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,157.0,1.3014583333333334,155.5,1.6853386105241002,156.0,None,False,,
5f3a65f7a48f054114359b01db3cc24fd65654c8,4db3b1eb7123a6f5c1059dc1bdb4b4b8eb14d5cc,svcscm,svcscm@fb.com,Thu Oct 18 18:13:12 2018 -0700,1539911592,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 4a048d0301014dea2d817b455181db1389991904n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,159.0,0.766875,157.5,1.9779951100244493,158.0,None,False,,
4db3b1eb7123a6f5c1059dc1bdb4b4b8eb14d5cc,f1b3c08df0217c9ea8acf06967ffad07ce4b1112,svcscm,svcscm@fb.com,Fri Oct 19 15:47:55 2018 -0700,1539989275,Updating submodulesReviewed By: zpaonnfbshipit-source-id: bc7b5d408973cd24a38b7e28a6c587bd139408e4n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,161.0,0.8991087962962963,159.5,1.8341593398813127,160.0,None,False,,
f1b3c08df0217c9ea8acf06967ffad07ce4b1112,4c58c38eba8e7cd61c7bf982f99a5eb1c6f2ec1a,svcscm,svcscm@fb.com,Fri Oct 19 16:56:50 2018 -0700,1539993410,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 1e4b07fb65743f07c4dc549f581aac52e2eeb00an,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,88.0,0.047858796296296295,161.0,21.894800483675933,161.0,None,False,,
4c58c38eba8e7cd61c7bf982f99a5eb1c6f2ec1a,2523c57fd3f24a27ed3e7058ca36b490ed6a3473,svcscm,svcscm@fb.com,Sat Oct 20 15:32:04 2018 -0700,1540074724,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 01d9a5dcfd18fd01c3fdb7a56edb3789598c8df5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,164.0,0.9650636574074074,162.5,1.7903240963297482,163.0,None,False,,
2523c57fd3f24a27ed3e7058ca36b490ed6a3473,9c3d239eb6f7253baf58d5941a2797eceec5b2ce,svcscm,svcscm@fb.com,Sun Oct 21 16:27:58 2018 -0700,1540164478,Updating submodulesReviewed By: ainsleyhnnfbshipit-source-id: 377e3ce1c0d324983d35f579a5f093e563f7ca10n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,76.0,1.0388194444444443,164.0,1.9626311919245936,164.0,None,False,,
9c3d239eb6f7253baf58d5941a2797eceec5b2ce,cdfd5d75babe1c943c10d0a230c2678286147262,Wez Furlong,wez@fb.com,Tue Oct 23 18:54:41 2018 -0700,1540346081,cmake in a _build subdir to fix macos buildSummary:nThis addresses a hilarious but hard to trace build problem onnmacOS.  The issue is that the build manages to resolve `folly/String.h`nin place of `string.h` and breaks compilation of `<cstring>` and allnthat include it.nnThe resolution is to ensure that we generate a subdir for the cmakenbuild.nnReviewed By: simpkinsnnDifferential Revision: D10520960nnfbshipit-source-id: 9bebeda69c6e28ebca146f9b96ee01bedd2d6ef1n,7.0,1.0,"build/fbcode_builder/specs/folly.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,13.0,1.0,63.16533564814814,6137.0,1.015831468157952,34.0,Corrective,True,,
cdfd5d75babe1c943c10d0a230c2678286147262,640cf199f0af05333d554258062b1fd956f9d733,Wez Furlong,wez@fb.com,Wed Oct 24 10:03:40 2018 -0700,1540400620,bump xcode for newer compiler so we can build follySummary: Need the compiler from xcode10 to build folly.nnfbshipit-source-id: 6c78b743631405469de09c91c4d79f37b0a8d86en,1.0,0.0,".travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,87.0,25.0,16.09236111111111,6138.0,1.0621412851162992,2844.0,Feature Addition,False,,
640cf199f0af05333d554258062b1fd956f9d733,a3a51fef7047437a5b34956b81996f793ca34ca4,Wez Furlong,wez@fb.com,Wed Oct 24 13:14:34 2018 -0700,1540412074,fixup circleci buildSummary:nNeed to upgrade to debian stretch to get a new enoughncompiler to build folly.nnLet's also add ubuntu 18.04 in the mix.nnfbshipit-source-id: 04e11c8c6bf5692a5497d027d3cc5a8efe77ea62n,11.0,7.0,".circleci/config.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,61.0,4.0,16.224930555555556,6139.0,1.061633545769328,2.0,Corrective,True,,
a3a51fef7047437a5b34956b81996f793ca34ca4,a68b22e00a60e96b07968eb7be331dd30aeab5a9,svcscm,svcscm@fb.com,Fri Oct 26 12:50:27 2018 -0700,1540583427,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 27e294ad69dcd1f9aab1819b6944c10a7f534f27n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,167.0,5.368356481481481,165.5,1.1314910378574032,166.0,None,False,,
a68b22e00a60e96b07968eb7be331dd30aeab5a9,262020f9eeae2f779fd2c04f3fd01051f33e82f1,svcscm,svcscm@fb.com,Sat Oct 27 11:33:33 2018 -0700,1540665213,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 973718fab9e80b1cf8911db7587e4ac488aac8f7n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,169.0,0.9465972222222222,167.5,1.7923116425794146,168.0,None,False,,
262020f9eeae2f779fd2c04f3fd01051f33e82f1,d60c1f5b4e64bb370bbdccf3a66434ef100e7ceb,svcscm,svcscm@fb.com,Sat Oct 27 19:54:33 2018 -0700,1540695273,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 3a186d9cc473c84d44c75166c95b7766ec1bc9efn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,171.0,0.34791666666666665,169.5,3.155688622754491,170.0,None,False,,
d60c1f5b4e64bb370bbdccf3a66434ef100e7ceb,d939fd9e4b5a84b36d1a55b59375fad70064a76c,svcscm,svcscm@fb.com,Sun Oct 28 15:43:31 2018 -0700,1540766611,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 1dff37398c7edaa234408f26df21294891d7975dn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,80.0,0.8256712962962963,171.0,2.211135720093078,171.0,None,False,,
d939fd9e4b5a84b36d1a55b59375fad70064a76c,6eaec95d2b84e1dd374282210ef6b9682ac39d64,svcscm,svcscm@fb.com,Mon Oct 29 17:19:47 2018 -0700,1540858787,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e4998d8402f3aaa528b7592e35c08101bc8be6ecn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,93.0,1.8925231481481481,172.0,1.5283951221302152,172.0,None,False,,
6eaec95d2b84e1dd374282210ef6b9682ac39d64,d62494a89778e2d7d883ceba95b948d424ef3e10,svcscm,svcscm@fb.com,Tue Oct 30 15:13:22 2018 -0700,1540937602,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: bc1f95c3933090c59ee4b32a528c77948588c5f1n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,175.0,1.445636574074074,173.5,1.7210532098150817,174.0,None,False,,
d62494a89778e2d7d883ceba95b948d424ef3e10,a9055dbfa7bdeffea07b1ab93a094c63a9fa0f96,svcscm,svcscm@fb.com,Tue Oct 30 19:06:13 2018 -0700,1540951573,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 625611fae0175fa0d5016b9d160f41c4ac4cdb61n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,177.0,0.16170138888888888,175.5,5.638179085248014,176.0,None,False,,
a9055dbfa7bdeffea07b1ab93a094c63a9fa0f96,fd590f255616a4f66d80e05c9f48a76dfc90ec9c,Matt Glazar,strager@fb.com,Tue Oct 30 19:38:50 2018 -0700,1540953530,"Write failed watcher init attempts to log fileSummary:nI have seen Watchman use the inotify watcher instead of the edenfs watcher for an EdenFS (FUSE) repository. Unfortunately, Watchman didn't report why it couldn't use the edenfs watcher.nnWhenever Watchman falls back to a lower-quality watcher (such as kqueue on macOS), log what the problem with the higher-quality watcher was.nnReviewed By: weznnDifferential Revision: D12742390nnfbshipit-source-id: 935031f66ee5be2d41b098b6ce7e34f6a2a32ca0n",7.0,1.0,"watcher/auto.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,146.0,14.0,77.24716435185185,73.0,1.0129454590131637,1.0,Corrective,True,,
fd590f255616a4f66d80e05c9f48a76dfc90ec9c,66c08896e22e457801a0b23b53acb7a3febbe7fe,svcscm,svcscm@fb.com,Wed Oct 31 11:47:36 2018 -0700,1541011656,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 370475168f806da594b90c5873d67262e8cda86an,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,83.0,0.6954050925925926,177.0,2.4380107517933522,177.0,None,False,,
66c08896e22e457801a0b23b53acb7a3febbe7fe,c347c8b081576a3742aa6510a859aa92aa8134f6,svcscm,svcscm@fb.com,Thu Nov 1 10:08:39 2018 -0700,1541092119,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 45d8817abacba3b787c3db45bb25e586737e5d61n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,180.0,1.2789872685185184,178.5,1.5028398280597632,179.0,None,False,,
c347c8b081576a3742aa6510a859aa92aa8134f6,e1e13f3ff8b0da4b2ff7098d6a5b6285f2562192,svcscm,svcscm@fb.com,Thu Nov 1 22:30:58 2018 -0700,1541136658,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b8ba37965230956cdbbdac5a78bd1b7eb1c2bbe8n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,182.0,0.5154976851851852,180.5,2.4549046902714475,181.0,None,False,,
e1e13f3ff8b0da4b2ff7098d6a5b6285f2562192,bea63a0501200cf28976d78862e35e12fc00a410,svcscm,svcscm@fb.com,Fri Nov 2 21:56:58 2018 -0700,1541221018,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ee0dff206f1d5b0cabca2be94df2c2ea07553e76n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,184.0,0.9763888888888888,182.5,1.7681365576102417,183.0,None,False,,
bea63a0501200cf28976d78862e35e12fc00a410,79861e7bc3e192fb5deed8f9f2d929d9d942f1a7,svcscm,svcscm@fb.com,Sat Nov 3 14:55:33 2018 -0700,1541282133,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 12bafef109342d8e6bdca7a993181f8e48b6e1dcn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,186.0,0.7073495370370371,184.5,2.0602961629714467,185.0,None,False,,
79861e7bc3e192fb5deed8f9f2d929d9d942f1a7,835228d7e871575a8f9d9f89c5b23290ef2c376f,svcscm,svcscm@fb.com,Sat Nov 3 22:41:39 2018 -0700,1541310099,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: df35e94c668d92fe1d148042fc839742e75cce51n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,88.0,0.3236805555555556,186.0,4.089465779875563,186.0,None,False,,
835228d7e871575a8f9d9f89c5b23290ef2c376f,2aa63045e8117277eed1c9ce0b6045acbaee124f,svcscm,svcscm@fb.com,Mon Nov 5 09:45:42 2018 -0800,1541439942,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4ec9acd052c91a3d0ae34a43f6b0cdbd9d012cc3n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,100.0,1.8264930555555559,187.0,1.5474972910290288,187.0,None,False,,
2aa63045e8117277eed1c9ce0b6045acbaee124f,78ca13749f33144f0c9e8ca6419272ab87101231,svcscm,svcscm@fb.com,Mon Nov 5 11:13:05 2018 -0800,1541445185,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 37f1ccdcd31fdf41f5a5d3f04ff6df157b692c88n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,190.0,0.8120891203703704,188.5,9.547405491049878,189.0,None,False,,
78ca13749f33144f0c9e8ca6419272ab87101231,31a708bf7e7905eecacb5d5c0ff2c6bd74d42fc4,Lee Howes,lwh@fb.com,Mon Nov 5 14:02:15 2018 -0800,1541455335,Future<T>::then Future<T>::then() -> Future<T>::thenValue or thenTry.Summary:nPart of the larger project to modify Future<T>::then to be r-value qualified and use Future<T>::thenTry or Future<T>::thenValue.nnThe goal is to disambiguate folly::Future and to improve type and lifetime safety of Future and its methods.nnCodemod:n  future<T>.then(callable with operator()(not-a-try)) to future<T>.thenValue(callable with operator()(not-a-try)).n  future<T>.then(callable with operator()()) to future<T>.thenValue(callable with operator()(auto&&)).n  future<T>.then(callable with operator()(auto)) to future<T>.thenValue(callable with operator()(auto)).n  future<T>.then(callable with operator()(folly::Try<T>)) to future<T>.thenTry(callable)nnReviewed By: OrvidnnDifferential Revision: D12898896nnfbshipit-source-id: 84bedcef4ffced8728a02d89e13ca99475e12cccn,18.0,17.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.cpp,CAS_DELIMITER,tests/FutureTest.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.140535024125108,17.0,237.3333333333333,16.0,246.20170910493823,4.0,1.0106734385948417,4.0,None,False,,
31a708bf7e7905eecacb5d5c0ff2c6bd74d42fc4,832d798472d0bf398d291811ecbfd4b973791a3c,svcscm,svcscm@fb.com,Mon Nov 5 20:34:37 2018 -0800,1541478877,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 3b5529b771504f5aaa4ac312f0bf004610e94286n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,102.0,0.3899537037037037,190.0,3.5644069808856704,190.0,None,False,,
832d798472d0bf398d291811ecbfd4b973791a3c,fa0741bcd5a8009588da3cdbde187f86500c8e0e,svcscm,svcscm@fb.com,Tue Nov 6 17:32:20 2018 -0800,1541554340,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ba22831344fab6cbd005922640875b7bddf768c0n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,193.0,1.0683912037037038,191.5,1.8064626617507769,192.0,None,False,,
fa0741bcd5a8009588da3cdbde187f86500c8e0e,99f1c8a74d9648a5aa5b907470987f59153f9ae6,svcscm,svcscm@fb.com,Wed Nov 7 15:09:30 2018 -0800,1541632170,Updating submodulesReviewed By: yns88nnfbshipit-source-id: bdeffa5a50ee2602f77477517584b81414487669n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,195.0,0.9008101851851852,193.5,1.8325838365668763,194.0,None,False,,
99f1c8a74d9648a5aa5b907470987f59153f9ae6,2d2577c5a3506743006a3939b136d5e00271579c,svcscm,svcscm@fb.com,Wed Nov 7 19:56:08 2018 -0800,1541649368,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c473261276bd52c52123cf28fba54e2986e913f5n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,105.0,0.19905092592592594,195.0,6.023839981393185,195.0,None,False,,
2d2577c5a3506743006a3939b136d5e00271579c,bf6249355fae2bfa8f9394668ce92d38e9877437,Wez Furlong,wez@fb.com,Thu Nov 8 12:02:07 2018 -0800,1541707327,Back out keep named pipe instance alive for longerSummary:nWe've traced a hang-on-start regression in sandcastlento this change.  The original purpose of this change was to minimizenflakeyness on CI so we can tolerate undoing this for now while wenfigure out how best to solve the core problem.nnThis is a partial back out of 43f886849855; I'm preserving the helpernfunction but removing the extra unused server pipe.nnhttps://bugzilla.mozilla.org/show_bug.cgi?id=1501416nnReviewed By: stragernnDifferential Revision: D12971374nnfbshipit-source-id: db585ee4ccc706718294ee14ed912fb8191eb091n,0.0,9.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,22.0,781.0,45.0,79.8852199074074,6140.0,1.012517960157825,2845.0,None,False,,
bf6249355fae2bfa8f9394668ce92d38e9877437,9a6f3dd799f14a196b7ba485c105b4e01df107ab,svcscm,svcscm@fb.com,Thu Nov 8 13:47:39 2018 -0800,1541713659,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4658a0baf10716d03dbb0a2961d4d26e12c3156en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,106.0,0.7441087962962963,196.0,2.3438895024186897,196.0,None,False,,
9a6f3dd799f14a196b7ba485c105b4e01df107ab,3ae482c396b0d5faaf939c9cfe252805edf3cde3,svcscm,svcscm@fb.com,Thu Nov 8 19:16:38 2018 -0800,1541733398,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 1868dd3065b5290a96723416d7383bec76659ae0n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,199.0,0.7000405092592593,197.5,3.5456829077110026,198.0,None,False,,
3ae482c396b0d5faaf939c9cfe252805edf3cde3,6e29d9d13875c887ffdbb8b1cf74a59c6005863e,Yunus Rahbar,yrahbar@fb.com,Fri Nov 9 09:50:12 2018 -0800,1541785812,Add copyright headers to fbcode builder source filesReviewed By: simpkinsnnDifferential Revision: D12990230nnfbshipit-source-id: 58d82299a8fe6aed75115008fe5dfb0f46d847c6n,21.0,0.0,"build/fbcode_builder/docker_build_with_ccache.sh,CAS_DELIMITER,build/fbcode_builder/docker_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder_config.py,CAS_DELIMITER,build/fbcode_builder/make_docker_context.py,CAS_DELIMITER,build/fbcode_builder/parse_args.py,CAS_DELIMITER,build/fbcode_builder/shell_builder.py,CAS_DELIMITER,build/fbcode_builder/shell_quoting.py,CAS_DELIMITER,build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER,build/fbcode_builder/specs/fbzmq.py,CAS_DELIMITER,build/fbcode_builder/specs/fizz.py,CAS_DELIMITER,build/fbcode_builder/specs/folly.py,CAS_DELIMITER,build/fbcode_builder/specs/gmock.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/re2.py,CAS_DELIMITER,build/fbcode_builder/specs/sigar.py,CAS_DELIMITER,build/fbcode_builder/specs/sodium.py,CAS_DELIMITER,build/fbcode_builder/specs/wangle.py,CAS_DELIMITER,build/fbcode_builder/specs/zstd.py,CAS_DELIMITER,build/fbcode_builder/travis_docker_build.sh,CAS_DELIMITER,build/fbcode_builder/utils.py,CAS_DELIMITER",21.0,1.0,2.0,4.39231742277876,2.0,77.66666666666667,32.0,71.35780478395063,10.0,0.9540641268678148,20.0,Feature Addition,False,,
6e29d9d13875c887ffdbb8b1cf74a59c6005863e,e8b7e8caa0b4a4bd987725d7c8b22c5bca062684,svcscm,svcscm@fb.com,Fri Nov 9 10:04:37 2018 -0800,1541786677,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a78bb040f735e28a90abda6a718f2131fb6b5618n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,201.0,0.6166550925925925,199.5,2.216239043525592,200.0,None,False,,
e8b7e8caa0b4a4bd987725d7c8b22c5bca062684,697eaace0ed0df4918cc420b1a9679544f581f5a,svcscm,svcscm@fb.com,Fri Nov 9 10:15:12 2018 -0800,1541787312,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e4cd85d6ae5a56e33007ff4d5f75fb779cacfabfn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,94.0,0.007349537037037037,201.0,137.06299212598424,201.0,None,False,,
697eaace0ed0df4918cc420b1a9679544f581f5a,4e3d78cbafd3c7b0f700f3268153c391dd7f10d1,Jun Wu,quark@fb.com,Fri Nov 9 10:21:55 2018 -0800,1541787715,"ChildProcess: avoid closing pipe with unread dataSummary:nPreviously, this can happen:nn  subprocess> write N bytes; close stdoutn  watchman>   get POLLHUP | POLLIN eventn  watchman>   read BUFSIZ (can be < N)n  watchman>   close the pipe (BUFSIZ - N bytes get lost)nnThis diff fixes it. The stresstest can fail more easily if BUFSIZ is changed tona small number, like 3.nnThis is likely the cause of wrong scm-aware query issue that has been buggingnmeerkat for months.nnReviewed By: stragernnDifferential Revision: D12991151nnfbshipit-source-id: 57c830fb7efa314d3d9dfaae6f03cc9927d3a252n",34.0,2.0,"ChildProcess.cpp,CAS_DELIMITER,tests/childproc.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.943601631299382,23.0,363.5,15.0,228.49186342592603,16.5,1.003249242639702,2.0,None,False,,
4e3d78cbafd3c7b0f700f3268153c391dd7f10d1,6ece8afd9d12f31d8c64bf3e9c3b394280cb9f42,Matt Glazar,strager@fb.com,Fri Nov 9 12:14:58 2018 -0800,1541794498,"Make remove default value from required argumentSummary:n`None` is an invalid value for `args`, and no one should call `hg` without an argument list anyway. Make `hg`'s `args` parameter non-optional.nnThis diff should not change behavior.nnReviewed By: weznnDifferential Revision: D12993031nnfbshipit-source-id: 928a4050cd0db3bcb9bf877bb8dcbf92c7d12786n",1.0,1.0,"tests/integration/WatchmanSCMTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,93.0,1.0,98.93015046296296,74.0,1.0101081419094209,42.0,None,False,,
6ece8afd9d12f31d8c64bf3e9c3b394280cb9f42,e6d939caa06c8eeb1a7ac159e6ffe85cff58201a,Matt Glazar,strager@fb.com,Fri Nov 9 15:14:48 2018 -0800,1541805288,"Stop hiding start-up errors in integration testsSummary:nWatchmanInstance.start waits for the Watchman server to start by trying to connect, retrying on errors. Unfortunately, it retries on *any* error, even when an error indicates an unrelated bug.nnOn Windows, before D12971374, the first connection to Watchman always hung (i.e. the server never responded to requests from that client). WatchmanInstance.start's wait loop caught the timeout error and tried connecting again. The second connection succeeded, so the hang was not reported by any tests. The hang bug was discovered by users, but it should have been caught by Watchman's test suite.nnWhen connecting to Watchman fails, instead of catching *all* errors, catch only connection errors. Doing this requires fixing another issue:nnOn Windows, if the named pipe is missing (e.g. because the Watchman server hasn't created it yet), pywatchman.client._connect throws an IOError. Make it raise a SocketConnectError instead so WatchmanInstance.start's wait loop can catch it. This matches the behavior of the UDS code for Linux and macOS.nnReviewed By: weznnDifferential Revision: D12983214nnfbshipit-source-id: 3d9cdc51d88ed97aae741789462d87091f50b10cn",33.0,3.0,"python/pywatchman/__init__.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER",3.0,2.0,3.0,1.002329251086288,28.0,598.0,132.0,107.6059452160494,76.0,1.0066748491843076,43.0,Preventative,False,,
e6d939caa06c8eeb1a7ac159e6ffe85cff58201a,50f1160c6ca3d8562e5cffa096ae1db06b31d607,svcscm,svcscm@fb.com,Fri Nov 9 15:46:34 2018 -0800,1541807194,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6ebfbb62e62c169895e4c4a74ff2df273048ebbcn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,109.0,0.2374652777777778,202.0,5.211141979821611,202.0,None,False,,
50f1160c6ca3d8562e5cffa096ae1db06b31d607,a3b90744718153b4e540e1340f3d9533bd1c410a,Wez Furlong,wez@fb.com,Fri Nov 9 15:56:09 2018 -0800,1541807769,fixup eden integration tests for changes in D10503169Summary: This adjusts for the change in locating POST_CLONEnnReviewed By: stragernnDifferential Revision: D13000379nnfbshipit-source-id: c9a744d8736760d402d96ba0ada2c47d32ca9f58n,2.0,3.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,140.0,12.0,39.15907407407408,6141.0,1.0255368653024937,824.0,Corrective,True,,
a3b90744718153b4e540e1340f3d9533bd1c410a,abad2965f15b3f19b9376ef0b00d1f4247651a8f,Wez Furlong,wez@fb.com,Fri Nov 9 15:56:09 2018 -0800,1541807769,ensure we fail the tests if we overlook a change in edenSummary:nThis causes the watchman tests to fail if we change thingsnaround in eden and break importing the pieces from the test suite.nnWe look for evidence that we are running under buck to decide tonraise or swallow the exception.nnReviewed By: stragernnDifferential Revision: D13000380nnfbshipit-source-id: 518994c2d769f9d95469b73ce9d69acc71b09a29n,9.0,1.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,139.0,13.0,0.0,6142.0,0.0,825.0,Corrective,True,,
abad2965f15b3f19b9376ef0b00d1f4247651a8f,d19aab94315d4771421783595bffa1a09b91965b,Matt Glazar,strager@fb.com,Fri Nov 9 19:19:54 2018 -0800,1541819994,"Fix integration tests on Windows with Python 3Summary:nPython 3's `os.path.join` disallows mixing `str` and `bytes` arguments:nn```n$ python3nPython 3.6.2+ (heads/master-dirty:404de642c0, Sep 15 2017, 15:52:01)n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.37)] on darwinnType help, copyright, credits or license for more information.n>>> import ntpathn>>> ntpath.join(hello, bworld)n[snip]nTypeError: Can't mix strings and bytes in path componentsnn>>> import posixpathn>>> posixpath.join(hello, bworld)n[snip]nTypeError: Can't mix strings and bytes in path componentsn```nn`get_canonical_filesystem_path` returns paths as `bytes`. This function is used by `TempDir`, so temp dir paths are `bytes`. Various parts of Watchman's code uses `os.path.join` to join the temp dir path (`bytes`) with other paths represented using `str`. This API misuse leads to a `TypeError`.nnFor Python 3, make `get_canonical_filesystem_path` return `str` instead of `bytes` so `os.path.join` is happy.nnFor Python 2.7, keep `get_canonical_filesystem_path` as-is; make it return `str` and not `unicode`.nnReviewed By: weznnDifferential Revision: D12983213nnfbshipit-source-id: 94fb566cbcff7ccaf4227c9d591869c0e4d82df7n",5.0,1.0,"python/pywatchman/compat.py,CAS_DELIMITER,tests/integration/path_utils.py,CAS_DELIMITER",2.0,2.0,2.0,0.6500224216483541,26.0,85.5,9.0,162.1370949074074,78.5,1.0042698928072484,44.0,Corrective,True,,
d19aab94315d4771421783595bffa1a09b91965b,8b9f4673f9bfd5b315579e298b61ec45f89464e2,svcscm,svcscm@fb.com,Fri Nov 9 23:16:15 2018 -0800,1541834175,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 2a7d245b0dd6e7e9dc0606658da1001448bf1040n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,95.0,0.5423958333333333,203.0,2.8436719800268864,203.0,None,False,,
8b9f4673f9bfd5b315579e298b61ec45f89464e2,0b8bd8db3d174ea3c8ccc379179e11ba42706d38,Matt Glazar,strager@fb.com,Sat Nov 10 13:06:37 2018 -0800,1541883997,"Delete unused STRING_TYPES variable from test_scm.pySummary:nFrom what I can tell, `STRING_TYPES` is unused in these files. Delete them.nnThis diff should not change behavior.nnReviewed By: weznnDifferential Revision: D12993030nnfbshipit-source-id: 07d3cee3dc8422c63b2ca295e3fb273539162edfn",0.0,12.0,"tests/integration/test_saved_state.py,CAS_DELIMITER,tests/integration/test_scm.py,CAS_DELIMITER",2.0,1.0,1.0,1.0,28.0,285.5,23.0,70.00369212962963,80.5,1.0085729398590442,46.0,Preventative,False,,
0b8bd8db3d174ea3c8ccc379179e11ba42706d38,564e3f33ce012357e2bda3816d2a7bfba0aeebb7,svcscm,svcscm@fb.com,Sun Nov 11 09:25:06 2018 -0800,1541957106,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 04a09032e9717cf6977b3a73f3a6eb8305a70680n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,110.0,1.7350925925925926,204.0,1.5763381183627727,204.0,None,False,,
564e3f33ce012357e2bda3816d2a7bfba0aeebb7,ba46a68c0097ffbfb6629e9597ae19860e2e3194,svcscm,svcscm@fb.com,Sun Nov 11 13:34:40 2018 -0800,1541972080,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4fe717eb99b2d9c1f9da2446e3fd6e8325fcf98fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,207.0,0.8847164351851852,205.5,4.167577084467457,206.0,None,False,,
ba46a68c0097ffbfb6629e9597ae19860e2e3194,1e6d1c62218f6140d18adcd29284c638ed4ea288,svcscm,svcscm@fb.com,Mon Nov 12 13:21:53 2018 -0800,1542057713,Updating submodulesReviewed By: zpaonnfbshipit-source-id: cdebda1d81b39e85072e7d997fb4092de78f8cf3n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,209.0,0.9911226851851852,207.5,1.7567176205434822,208.0,None,False,,
1e6d1c62218f6140d18adcd29284c638ed4ea288,1d750b6018c06edf01be56e4a9335eeed0721907,svcscm,svcscm@fb.com,Mon Nov 12 16:06:25 2018 -0800,1542067585,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c1009e8484d3458706047323eadc2df322a40302n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,211.0,0.11425925925925925,209.5,7.564019448946516,210.0,None,False,,
1d750b6018c06edf01be56e4a9335eeed0721907,db241e991e5a4353b39a6bc8a2f40d6c629d8f19,Matt Glazar,strager@fb.com,Tue Nov 13 13:20:08 2018 -0800,1542144008,"Disable flaky test to make Facebook diff builds greenSummary:ntest_scmHg is failing very frequently for Facebook's internal watchman-lego-linux-autoconf and watchman-lego-linux-cmake builds. Since those builds use `make integration` to run test instead of using Facebook's test runners, normal test infra doesn't handle the failures. This means that test_scmHg failures always appear in a diff's UI as the diff's fault, not as flakiness.nnUntil we can investigate the cause of the failures, disable the test manually and make builds green again.nnReviewed By: weznnDifferential Revision: D13033895nnfbshipit-source-id: 4fac357631fa667abbfc9afdfe0a6bd233cdd49en",5.0,0.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,512.0,23.0,3.0093865740740733,82.0,1.3322936337308806,47.0,Preventative,False,,
db241e991e5a4353b39a6bc8a2f40d6c629d8f19,a925953f500665f4184dc4e4aee03231e2e2fb01,svcscm,svcscm@fb.com,Tue Nov 13 15:31:35 2018 -0800,1542151895,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e4a300c840b020776285598fd6ff6615955fbf53n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,213.0,0.9758101851851853,211.5,1.7685921005811889,212.0,None,False,,
a925953f500665f4184dc4e4aee03231e2e2fb01,72775be2b8a339a1464d48295cfcd2d6e225b068,svcscm,svcscm@fb.com,Wed Nov 14 14:53:31 2018 -0800,1542236011,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 627d0e93a16386dcb20afedcd9fd6d62f49ba79fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,215.0,0.9735648148148148,213.5,1.7703647344143798,214.0,None,False,,
72775be2b8a339a1464d48295cfcd2d6e225b068,ced1221d67906bfcf58b9f07dc2c8498e5e0b26c,svcscm,svcscm@fb.com,Thu Nov 15 13:25:21 2018 -0800,1542317121,Updating submodulesReviewed By: zpaonnfbshipit-source-id: cb4ef9a7233d67d04798a4a9425219f73962c01cn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,217.0,0.9387731481481482,215.5,1.7989150536308718,216.0,None,False,,
ced1221d67906bfcf58b9f07dc2c8498e5e0b26c,f72c48500bb0e01b10a983f7230ebd4b4ee6e11b,svcscm,svcscm@fb.com,Fri Nov 16 00:17:42 2018 -0800,1542356262,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c3b4076014d737622b335ce1544bb8ce93a5a0cen,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,219.0,0.4530208333333333,217.5,2.6555530006898143,218.0,None,False,,
f72c48500bb0e01b10a983f7230ebd4b4ee6e11b,d7fcdf5d8785dfe5228822347566fe9eccc8739b,svcscm,svcscm@fb.com,Sat Nov 17 00:45:33 2018 -0800,1542444333,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b89122842708a593d015140c450349bcaf5e0302n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,221.0,1.0193402777777778,219.5,1.7357700037469768,220.0,None,False,,
d7fcdf5d8785dfe5228822347566fe9eccc8739b,51a6435cd9e060b3e6991d01de263d65149f7367,svcscm,svcscm@fb.com,Sat Nov 17 18:27:56 2018 -0800,1542508076,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 449424e52de85484f35ac2b19b68408b67da495en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,223.0,0.7377662037037037,221.5,2.0165822129488724,222.0,None,False,,
51a6435cd9e060b3e6991d01de263d65149f7367,0d5800aef484d2b11f004557ea082ada574b0e91,svcscm,svcscm@fb.com,Sun Nov 18 18:09:23 2018 -0800,1542593363,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 54107d2977a6690c827ca39e607747d867afac34n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,225.0,0.9871180555555557,223.5,1.7597875408913437,224.0,None,False,,
0d5800aef484d2b11f004557ea082ada574b0e91,d73bef383d02c384ab82781e534eaa78ca68b766,svcscm,svcscm@fb.com,Sun Nov 18 18:26:06 2018 -0800,1542594366,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4cb66dd1b61d0e395b5230b62a3a05b11e7c0b80n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,106.0,0.011608796296296296,225.0,87.14157527417747,225.0,None,False,,
d73bef383d02c384ab82781e534eaa78ca68b766,a1841252fe337c56c58955a0d23865b7e3547077,svcscm,svcscm@fb.com,Wed Nov 21 00:25:17 2018 -0800,1542788717,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 3c17e12a579245a84e9a56b1d8a1641232150675n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,228.0,2.2552372685185187,226.5,1.3319900939843063,227.0,None,False,,
a1841252fe337c56c58955a0d23865b7e3547077,2fb010d3a9e9063a021b74e87883a09ef0e7b1b5,svcscm,svcscm@fb.com,Wed Nov 21 22:53:00 2018 -0800,1542869580,Updating submodulesReviewed By: yns88nnfbshipit-source-id: faa1adffb477c21ac5a02d1202a8ad618b1f8c83n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,230.0,0.9359143518518521,228.5,1.8013553788506493,229.0,None,False,,
2fb010d3a9e9063a021b74e87883a09ef0e7b1b5,53d3797a47df186f2f0ecf5a80f144232d3d8a49,svcscm,svcscm@fb.com,Thu Nov 22 12:42:40 2018 -0800,1542919360,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a1c52d75797076f3fd5d6549bd996339f7e1b61en,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,109.0,0.5761574074074074,230.0,2.7356368019284854,230.0,None,False,,
53d3797a47df186f2f0ecf5a80f144232d3d8a49,c6cd3dfb7b37b1cbfeeded7011d22e7823b58207,svcscm,svcscm@fb.com,Mon Nov 26 14:27:21 2018 -0800,1543271241,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e1ac6a3f4b1ecbd0a64aeb9510a1911072d01e05n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,123.0,4.648854166666666,231.0,1.2151067691411417,231.0,None,False,,
c6cd3dfb7b37b1cbfeeded7011d22e7823b58207,c12ab4caeac0091d8318c4236643797658a3ed50,svcscm,svcscm@fb.com,Tue Nov 27 11:20:46 2018 -0800,1543346446,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e63160e97550942931bacaa860d91d591d2e1712n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,234.0,2.9067766203703704,232.5,1.6604358125001168,233.0,None,False,,
c12ab4caeac0091d8318c4236643797658a3ed50,21c217dd59c64b3a1c40621bce67747a6cc5cef6,svcscm,svcscm@fb.com,Wed Nov 28 08:36:55 2018 -0800,1543423015,Updating submodulesReviewed By: yns88nnfbshipit-source-id: bb5c3bd9ce393ad89f3e06e7faf7ec1fa954ff3en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,236.0,0.8862152777777778,234.5,1.846295498178114,235.0,None,False,,
21c217dd59c64b3a1c40621bce67747a6cc5cef6,693090c0635bcf4a0c9fdfd3eaf3b50373305584,svcscm,svcscm@fb.com,Wed Nov 28 23:38:45 2018 -0800,1543477125,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ff2e24798d987b9bd5b64e971e3dd3e289a92c0fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,238.0,0.6262731481481482,236.5,2.1975605248567733,237.0,None,False,,
693090c0635bcf4a0c9fdfd3eaf3b50373305584,ac18c801b8e7649323db2b99627578caac5aa2bd,svcscm,svcscm@fb.com,Thu Nov 29 19:44:24 2018 -0800,1543549464,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 44cd40cc9bc25629ec9547327a515bac22e5c905n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,240.0,0.8372569444444444,238.5,1.8957823580641149,239.0,None,False,,
ac18c801b8e7649323db2b99627578caac5aa2bd,0c893d929c3fc1787b8d0a75e34c1577c56aa3c6,svcscm,svcscm@fb.com,Fri Nov 30 19:45:18 2018 -0800,1543635918,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6b3905b999b1211196c9138d7236700a1b308491n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,242.0,1.000625,240.5,1.7495315427857587,241.0,None,False,,
0c893d929c3fc1787b8d0a75e34c1577c56aa3c6,f230114e50df7a7f017e1e99107aed68ee74e5a7,svcscm,svcscm@fb.com,Sat Dec 1 18:58:27 2018 -0800,1543719507,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9a72cfd5fc30f70488f22deb332d448ef27ed042n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,244.0,0.9674652777777778,242.5,1.7752216200696265,243.0,None,False,,
f230114e50df7a7f017e1e99107aed68ee74e5a7,5d7dacfe4e304fe7b92342158ad0ee81efcb2a5f,svcscm,svcscm@fb.com,Sun Dec 2 18:31:15 2018 -0800,1543804275,Updating submodulesReviewed By: yns88nnfbshipit-source-id: f06bfc800767a3a263f50633ee7c941b2b353064n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,246.0,0.9811111111111112,244.5,1.7644394110985278,245.0,None,False,,
5d7dacfe4e304fe7b92342158ad0ee81efcb2a5f,7e14ba5a3b6931470388a00d6efb725b8d947978,svcscm,svcscm@fb.com,Mon Dec 3 09:43:27 2018 -0800,1543859007,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 2ab54d1543ba73e01fe4f75a0cce21cbe7d0e28cn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,131.0,0.6334722222222222,246.0,2.578601183950888,246.0,None,False,,
7e14ba5a3b6931470388a00d6efb725b8d947978,0d4d81b55455804edee29b5458270d4ee2d08b2e,svcscm,svcscm@fb.com,Tue Dec 4 06:40:52 2018 -0800,1543934452,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a64ab57fd39cd283512c1ba0e576dd357e85f5c2n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,249.0,1.1899421296296295,247.5,1.782696808770154,248.0,None,False,,
0d4d81b55455804edee29b5458270d4ee2d08b2e,dc1ec235c8da943598d47fd5776d450bcb90ce68,svcscm,svcscm@fb.com,Wed Dec 5 05:54:33 2018 -0800,1544018073,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 72aa317fb92981104aea568ca6fddce665e0490cn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,251.0,0.9678356481481482,249.5,1.7749249590413891,250.0,None,False,,
dc1ec235c8da943598d47fd5776d450bcb90ce68,c5a178cfbcb1a62543f01bc2e0930b6e386bc55b,svcscm,svcscm@fb.com,Wed Dec 5 07:45:29 2018 -0800,1544024729,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 2b7eee7305346453902ce560d9bb968e00bbbba5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,253.0,0.07703703703703704,251.5,10.735576923076923,252.0,None,False,,
c5a178cfbcb1a62543f01bc2e0930b6e386bc55b,cf276335a600dbf8d5954144f90023b639e1d95f,Adam Simpkins,simpkins@fb.com,Wed Dec 5 15:32:37 2018 -0800,1544052757,save the filesystem type in the watchman_rootSummary:nSave the detected filesystem type in the `watchman_root` object.  This allowsnthe watcher detection code to examine the filesystem type without having tonredetect it.nnReviewed By: weznnDifferential Revision: D13336816nnfbshipit-source-id: 01f0e7f3b21d543392527dc100d23941cb2698e5n,10.0,6.0,"root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",3.0,1.0,1.0,1.4197367178034823,26.0,201.0,157.0,312.664637345679,7.0,1.0014720318701802,2.0,None,False,,
cf276335a600dbf8d5954144f90023b639e1d95f,52d7474a4765f4d3eb4393228bd002ff502087f2,Adam Simpkins,simpkins@fb.com,Wed Dec 5 15:32:38 2018 -0800,1544052758,detect Linux FUSE filesystems in w_fstype()Summary:nDetect Linux FUSE filesystems from the `f_type` field in the `statfs()`nresponse.nnReviewed By: weznnDifferential Revision: D13336818nnfbshipit-source-id: 65dd04832187cb8d81101dee08a8bb7631fc30c7n,8.0,0.0,"fstype.cpp,CAS_DELIMITER,tests/integration/test_fstype.py,CAS_DELIMITER",2.0,2.0,2.0,0.5435644431995964,26.0,73.5,9.0,359.7381712962963,9.5,1.0016018238553115,5.0,None,False,,
52d7474a4765f4d3eb4393228bd002ff502087f2,8d54fa5625bb23d8af0bbb8ad7c52e656009a5f3,Adam Simpkins,simpkins@fb.com,Wed Dec 5 15:32:38 2018 -0800,1544052758,"never attempt to monitor FUSE filesystems with inotifySummary:nUpdate the InotifyWatcher to explicitly disable itself if the root is on anFUSE filesystem.nnIt looks like there are some recent-ish proposals for ways to add inotifynsupport to FUSE (https://github.com/libfuse/libfuse/wiki/Fsnotify-and-FUSE).nHowever nothing appears to be currently implemented.  If FUSE ever does getninotify support we can remove this check at that time.nnCurrently it can cause a bad experience for users if watchman does incorrectlyntry to watch a FUSE filesystem using inotify: Watchman will claim to benwatching the filesystem, but it will not actually detect file modifications.nnReviewed By: weznnDifferential Revision: D13336817nnfbshipit-source-id: 92c69a7b3afa6541d8d03c825cfcbb07a8eb3ba5n",12.0,1.0,"watcher/inotify.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,389.0,30.0,272.04877314814814,11.0,1.0036758114672897,0.0,None,False,,
8d54fa5625bb23d8af0bbb8ad7c52e656009a5f3,5a65dd99c02a376aafda6c872bbbe96b5512b69d,Adam Simpkins,simpkins@fb.com,Wed Dec 5 21:53:23 2018 -0800,1544075603,"change Eden detection to look for FUSE filesystem typeSummary:nUpdate the `detectEden()` function to check that this is a FUSE filesystem,nand skip trying to make a thrift call to Eden.nnOlder versions of Eden had a bug where resolving the `.eden/socket` file couldntemporarily return `ESTALE` errors in some situation.  This has since beennfixed (D12954819), however it is still nice to have watchman work correctly ifnusers are still running an older Eden version.  Previously watchman wouldnincorrectly fall back to trying to use an inotify watcher, which then causesnit to respond successfully to queries but not actually detect filesystemnchanges.nnWith this new behavior Watchman should detect the watcher type correctly.  Itnmay still fail some queries with errors if it gets ESTALE errors trying tonconnect to the Eden socket.  However, this is much better than respondingnsuccessfully with inaccurate results.nnReviewed By: weznnDifferential Revision: D13336815nnfbshipit-source-id: 30b855de9fb6046e4a8beccfd1a8c13ff9771c59n",42.0,53.0,"tests/integration/test_eden_broken_mount.py,CAS_DELIMITER,tests/integration/test_eden_unmount.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.5848020754678622,29.0,448.66666666666674,69.0,59.59648919753087,13.0,1.0077442043605669,1.0,None,False,,
5a65dd99c02a376aafda6c872bbbe96b5512b69d,d45298ad24ae82c7b9ba33227ca189fb6a4408e4,svcscm,svcscm@fb.com,Thu Dec 6 02:36:19 2018 -0800,1544092579,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e2fe500f014226895dd0f9d661ffae7058157708n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,135.0,0.7853009259259259,253.0,2.273397199705232,253.0,None,False,,
d45298ad24ae82c7b9ba33227ca189fb6a4408e4,559ea59d8891d624253d05f24197262d0c079b20,svcscm,svcscm@fb.com,Thu Dec 6 07:40:11 2018 -0800,1544110811,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b609346e35ee8e2eccb400dc42747a73a38b1b22n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,256.0,0.6036689814814815,254.5,3.783594538119597,255.0,None,False,,
559ea59d8891d624253d05f24197262d0c079b20,dd62ce3deaf1fbb761e38320170813b474644f0e,svcscm,svcscm@fb.com,Thu Dec 6 22:50:09 2018 -0800,1544165409,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7da015701f18f8a0b5a8092aae02a42ede7bfd44n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,137.0,0.6319212962962963,256.0,2.582475548554892,256.0,None,False,,
dd62ce3deaf1fbb761e38320170813b474644f0e,1d7afa32a58dc974dd0cdfa46fe543bfb553d476,svcscm,svcscm@fb.com,Fri Dec 7 22:22:28 2018 -0800,1544250148,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8afa3d2ed0f4c28151bccfa11a6d21e0e10b8974n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,259.0,1.2967361111111109,257.5,1.7025924134712855,258.0,None,False,,
1d7afa32a58dc974dd0cdfa46fe543bfb553d476,ec33a7664376b949186898add8be0119470e98ec,svcscm,svcscm@fb.com,Sat Dec 8 08:55:21 2018 -0800,1544288121,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c4eaa179538e01e49b0289ef97c51af037afcba6n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,261.0,0.4395023148148148,259.5,2.7064756537539827,260.0,None,False,,
ec33a7664376b949186898add8be0119470e98ec,358c90461ee78d26c9051ed929ee016babb2149d,svcscm,svcscm@fb.com,Sat Dec 8 22:36:22 2018 -0800,1544337382,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 29ab3f40d753ff5d09d4472cb9d53bfcaae721ban,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,123.0,0.570150462962963,261.0,2.753922981669069,261.0,None,False,,
358c90461ee78d26c9051ed929ee016babb2149d,b2d55b9f60d2a00636b02a019e144ebd9c80b0e8,svcscm,svcscm@fb.com,Sun Dec 9 18:49:19 2018 -0800,1544410159,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 65c949eac3fc4f435e092d02e9ba38adbca4e6e3n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,264.0,1.1274016203703705,262.5,1.5757369407083583,263.0,None,False,,
b2d55b9f60d2a00636b02a019e144ebd9c80b0e8,7e6569d1997c10ad743480eb39d7b1f6f7f85312,svcscm,svcscm@fb.com,Mon Dec 10 22:20:34 2018 -0800,1544509234,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 66953a3258d0fbc4edb46f6a1b181f6cbace6b28n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,266.0,1.1467013888888888,264.5,1.6540499621498863,265.0,None,False,,
7e6569d1997c10ad743480eb39d7b1f6f7f85312,040f2a65eddce0a421816e3404f90c39bc49e5bd,svcscm,svcscm@fb.com,Tue Dec 11 07:42:44 2018 -0800,1544542964,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 1db7452033268217c94b18971a94a52f70273eb3n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,268.0,0.3903935185185185,266.5,2.9211384524162467,267.0,None,False,,
040f2a65eddce0a421816e3404f90c39bc49e5bd,dcfc04c2084b03c1eff3fa0151425f0748dc7ed3,Adam Simpkins,simpkins@fb.com,Wed Dec 12 16:23:50 2018 -0800,1544660630,fix watchman tests after the addition of .eden/this-dirSummary:nD12954819 added a new `this-dir` entry inside the `.eden/` subdirectory in allnEden checkouts.  The watchman tests need to be updated to expect this newnfile.nnReviewed By: chadaustinnnDifferential Revision: D13437957nnfbshipit-source-id: 1a78bf02a7596d57ea4c03ad00591e82f1379675n,11.0,29.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER",3.0,1.0,1.0,1.3609640474436808,28.0,177.0,38.0,109.94663194444445,16.0,1.0132706011557768,10.0,Corrective,True,,
dcfc04c2084b03c1eff3fa0151425f0748dc7ed3,dfdcf344c45b88787359bd4ee99884cbcf56621d,svcscm,svcscm@fb.com,Wed Dec 12 21:42:01 2018 -0800,1544679721,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 691a42d28568095cffeaa90c3fd90d830e4de14dn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,270.0,1.5828356481481485,268.5,1.4738331493086276,269.0,None,False,,
dfdcf344c45b88787359bd4ee99884cbcf56621d,0274b154554fe97bfaa66e98ee2cc87d297a8461,svcscm,svcscm@fb.com,Thu Dec 13 03:11:57 2018 -0800,1544699517,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ce6a227a3dae174b7cad87924ae4b5eab6efbf35n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,272.0,0.2291203703703704,270.5,4.2733885633461295,271.0,None,False,,
0274b154554fe97bfaa66e98ee2cc87d297a8461,4e04d702f8702be9da2efbc35de958dfcd54974e,Adam Simpkins,simpkins@fb.com,Thu Dec 13 17:16:03 2018 -0800,1544750163,update the tests to successfully clean up read-only tmp dirsSummary:nUpdate the code in TempDir.py to try making directories writable if itnencounters a permissions error when cleaning up.  This is necessary in ordernto fully clean up checkout directories created by eden clone.nnThis logic was largely copied and adapted from Eden's code inn`eden/test_support/temporary_directory.py`nnReviewed By: weznnDifferential Revision: D13447042nnfbshipit-source-id: 605d8b75df1d85d13daa9ef9eab9951f8f45c4b7n,24.0,1.0,"tests/integration/TempDir.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,88.0,7.0,115.10355324074074,18.0,1.008687829105575,11.0,Perfective,False,,
4e04d702f8702be9da2efbc35de958dfcd54974e,8ac9feef990b3601f783006882fd19d58abafc70,Adam Simpkins,simpkins@fb.com,Thu Dec 13 17:16:03 2018 -0800,1544750163,implement EdenView::waitUntilReadyToQuery() correctlySummary:nPreviously `waitUntilReadyToQuery()` always returned a std::future that wasnimmediately ready.  This changes it to wait until the Eden subscription hasnactually been completed.nnReviewed By: weznnDifferential Revision: D13454638nnfbshipit-source-id: 97db7b7cf7625ecc154ec9054c3614a9bdd681e1n,7.0,4.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1303.0,64.0,7.807407407407408,19.0,1.1280834914611009,2.0,None,False,,
8ac9feef990b3601f783006882fd19d58abafc70,a86597d67bb111aff6bf6294ab89ffc4ee933e8b,svcscm,svcscm@fb.com,Thu Dec 13 19:30:47 2018 -0800,1544758247,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ffd113973fe052485c978cc9eb1d064a2c114280n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,129.0,0.6797453703703704,272.0,2.4711391111867878,272.0,None,False,,
a86597d67bb111aff6bf6294ab89ffc4ee933e8b,031869c4c246e1d111d35ab2829615583fd32132,svcscm,svcscm@fb.com,Fri Dec 14 03:41:11 2018 -0800,1544787671,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 25101f65488f4d4d9285a1ce0a3240fef452702en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,275.0,0.6804282407407407,273.5,1.857467173782772,274.0,None,False,,
031869c4c246e1d111d35ab2829615583fd32132,1d4d1bf43d435ec5a7d7f9a60897be18a5030739,svcscm,svcscm@fb.com,Fri Dec 14 17:39:20 2018 -0800,1544837960,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: aa684aff6b0f3985d88d4d14868a989bda5e4632n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,146.0,0.5820486111111111,275.0,2.7180695579550203,275.0,None,False,,
1d4d1bf43d435ec5a7d7f9a60897be18a5030739,977e22a0d3985041470f9f4dd6baa8d17083fd24,svcscm,svcscm@fb.com,Sat Dec 15 04:56:30 2018 -0800,1544878590,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b87b50767de7ab98e73866d01bdc2bb12320b245n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,131.0,1.0523032407407409,276.0,1.950296417690472,276.0,None,False,,
977e22a0d3985041470f9f4dd6baa8d17083fd24,0075dc6fd69ebcc6952cdcfb27d86169b9f52447,svcscm,svcscm@fb.com,Sat Dec 15 20:30:32 2018 -0800,1544934632,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 156c408c3cbdc5935d1514c660bce9cb005565f4n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,279.0,0.8837615740740741,277.5,1.729753623349182,278.0,None,False,,
0075dc6fd69ebcc6952cdcfb27d86169b9f52447,00eae597b1e873ccac46f46a0cdd49732a3238a8,svcscm,svcscm@fb.com,Sun Dec 16 20:33:55 2018 -0800,1545021235,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7c39c72b91c7b37df14528eb707f68cf84bf92een,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,281.0,1.002349537037037,279.5,1.7482419777605858,280.0,None,False,,
00eae597b1e873ccac46f46a0cdd49732a3238a8,d4f1a1955677cc4a12ec6fe558fa854696d9d1e1,svcscm,svcscm@fb.com,Sun Dec 16 23:21:48 2018 -0800,1545031308,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f7ef93c88654a2aeed2ea1f25127830ffa4225a6n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,149.0,0.11658564814814815,281.0,9.577385088851383,281.0,None,False,,
d4f1a1955677cc4a12ec6fe558fa854696d9d1e1,6d0018c6b21895e90aca58dc2c9c5f1bb68378cb,svcscm,svcscm@fb.com,Mon Dec 17 21:23:30 2018 -0800,1545110610,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4bf66581d07d839f459869bc9c6428011063cc5bn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,134.0,1.0344328703703705,282.0,1.9667132867132864,282.0,None,False,,
6d0018c6b21895e90aca58dc2c9c5f1bb68378cb,d95ce903b2498e38e0724c007073482e5ec58a4b,svcscm,svcscm@fb.com,Tue Dec 18 23:03:50 2018 -0800,1545203030,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 462143ac4492269663dc7f7feccbd861b5a610ean,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,150.0,1.9875231481481481,283.0,1.5031387940974366,283.0,None,False,,
d95ce903b2498e38e0724c007073482e5ec58a4b,637f727ff02d6bae4a0dfe1dd970af37b1867e9a,svcscm,svcscm@fb.com,Wed Dec 19 15:31:01 2018 -0800,1545262261,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 54c6592f1ca0951f02dfd6198dbb0d8abde7a459n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,286.0,1.2203819444444444,284.5,1.934201707072884,285.0,None,False,,
637f727ff02d6bae4a0dfe1dd970af37b1867e9a,bcf234e58ba56f6823c6f5f9d56f1b030a972ee8,Adam Simpkins,simpkins@fb.com,Wed Dec 19 15:31:10 2018 -0800,1545262270,"move creation of the .hg directory into the Eden CLISummary:nUpdate the `eden clone` command to automatically create the `.hg` directorynwhen creating a checkout for a Mercurial repository.nnPreviously this logic was performed by a separate post-clone hook that wasninvoked by `eden clone`.  Having this logic in a separate script made the codenslightly more complicated, and meant that configuring Eden was also morencomplicated, as the hook also needed to be installed and configured.  Movingnthe logic into the Eden CLI will make it easier to re-use this code inn`eden doctor` if the `.hg` directory needs to be repaired.nnReviewed By: weznnDifferential Revision: D13447272nnfbshipit-source-id: 11c4f8e389aead151dd235eff95c860a326967afn",17.0,25.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/test_eden_journal.py,CAS_DELIMITER,tests/integration/test_eden_pathgen.py,CAS_DELIMITER,tests/integration/test_eden_since.py,CAS_DELIMITER,tests/integration/test_eden_subscribe.py,CAS_DELIMITER",5.0,1.0,1.0,1.8467771753361848,28.0,155.8,54.0,61.23943981481482,22.0,1.032974924248552,16.0,None,False,,
bcf234e58ba56f6823c6f5f9d56f1b030a972ee8,f3c1c7fd86164e60982fb7d8351a6492db444b49,Wez Furlong,wez@fb.com,Wed Dec 19 22:57:57 2018 -0800,1545289077,"port getdeps.py from edenSummary:nThis script is responsible for obtaining the build depsnfor watchman.  It knows how to fetch the appropriate packagesnon ubuntu (via apt), and windows (via vcpkg).nnSome deps are fetched and built manually because they are notnpackaged, or because they move too quickly to package (eg: folly).nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: stragernnDifferential Revision: D9397048nnfbshipit-source-id: 71dc87eabf08b0b2093a693da51b1fedc02fe7edn",545.0,0.0,".gitignore,CAS_DELIMITER,getdeps.py,CAS_DELIMITER",2.0,1.0,1.0,0.019323822159362687,23.0,48.0,32.0,132.7511111111111,6143.5,1.003766446817771,2847.0,None,False,True,"[""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
f3c1c7fd86164e60982fb7d8351a6492db444b49,774d5f18ea16cb2005967892075d8ad676e0f5f6,Wez Furlong,wez@fb.com,Wed Dec 19 22:57:57 2018 -0800,1545289077,expand cmake bits to probe for pcreSummary:nThis is one function that we have in autoconf that we didn'tnyet have in cmake.nnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: stragernnDifferential Revision: D13486482nnfbshipit-source-id: 0b111bec2a5d40580b60244c198e138d7869e9e9n,21.0,1.0,"CMake/FindPCRE.cmake,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER",2.0,2.0,2.0,0.9940302114769564,28.0,235.5,12.0,41.24951388888889,6145.5,0.5060606774827313,2848.0,None,False,,
774d5f18ea16cb2005967892075d8ad676e0f5f6,47fc89b9a4115ad22a346852089a9764e2f169ce,Wez Furlong,wez@fb.com,Wed Dec 19 22:57:57 2018 -0800,1545289077,cmake: prep for running with getdeps.pySummary:nhave cmake search the external dir that is maintained by getdeps.pynnRefs: https://github.com/facebook/watchman/pull/636nnReviewed By: simpkinsnnDifferential Revision: D13486487nnfbshipit-source-id: fe7dea3e9652af425291012cb0e7b9a6066cfa81n,6.0,0.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,481.0,13.0,0.0,6147.0,0.0,2849.0,None,False,,
47fc89b9a4115ad22a346852089a9764e2f169ce,0381154472986765aae658d241a7d52d64b2550d,svcscm,svcscm@fb.com,Thu Dec 20 09:09:41 2018 -0800,1545325781,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a4e043278d4df2b2af0cab1ea2f0a04d6a95c9d5n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,152.0,0.7351851851851852,286.0,2.3602015113350125,286.0,None,False,,
0381154472986765aae658d241a7d52d64b2550d,39e18a7b2532340aff67acc5bf65db9d9fd52eb1,svcscm,svcscm@fb.com,Thu Dec 20 19:51:34 2018 -0800,1545364294,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e87e364026e69497f65c9a38a9eafb9dc05ac282n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,289.0,0.8133449074074074,287.5,2.4290718416535917,288.0,None,False,,
39e18a7b2532340aff67acc5bf65db9d9fd52eb1,f2ce04feb5cc54660b91b402b80a4c3419615ece,svcscm,svcscm@fb.com,Fri Dec 21 17:11:47 2018 -0800,1545441107,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5be27c34b4c99425e3e47f76366c1ca53f1ba0c0n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,291.0,0.8890393518518519,289.5,1.8436072019059275,290.0,None,False,,
f2ce04feb5cc54660b91b402b80a4c3419615ece,592d480e4b5a1d6b8344139e87df61b3102b2d2b,Mick Killianey,mkillianey@fb.com,Thu Dec 27 17:53:59 2018 -0800,1545962039,Ignore the buck artifacts in watchman/javaSummary:nAdd a `.gitignore` file so that artifacts created by buck operationsnin `watchman/java` are ignored by source control.nnReviewed By: IanChildsnnDifferential Revision: D13553079nnfbshipit-source-id: 33eef27ba6ede458e1f23a6d4c14b227aaa8c1c3n,4.0,0.0,"java/.gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,10.0,0.0,10.0,None,False,,
592d480e4b5a1d6b8344139e87df61b3102b2d2b,dd23f4f331b1214df82dd8059aa7b6798c795074,svcscm,svcscm@fb.com,Thu Dec 27 18:00:40 2018 -0800,1545962440,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4c050de29d952ce263764eb324442a0e05a687a6n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,155.0,6.0339467592592575,291.0,1.1657290062205925,291.0,None,False,,
dd23f4f331b1214df82dd8059aa7b6798c795074,8bb444c1a19939004d71160eb8290b5f6ccb27b5,svcscm,svcscm@fb.com,Fri Dec 28 07:40:39 2018 -0800,1546011639,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b6a7a54bebf2c9e46949dd73c12dff68050ceccfn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,294.0,3.58640625,292.5,1.9477742908567297,293.0,None,False,,
8bb444c1a19939004d71160eb8290b5f6ccb27b5,8e270e67726e8086d16069c3c2ee97af46a51407,svcscm,svcscm@fb.com,Fri Dec 28 18:45:37 2018 -0800,1546051537,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 063e5d9bdc052673fa186614ad8b19ca7348ff41n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,139.0,0.4617824074074074,294.0,3.165522081307334,294.0,None,False,,
8e270e67726e8086d16069c3c2ee97af46a51407,379edbf7cfe0cf5ccb2306063f21c77d5f8fcb76,svcscm,svcscm@fb.com,Sun Dec 30 02:30:39 2018 -0800,1546165839,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8e4a0424e380bfc05bcd47f663dbcd89cddb246dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,157.0,1.7847222222222223,295.0,1.5603112840466926,295.0,None,False,,
379edbf7cfe0cf5ccb2306063f21c77d5f8fcb76,274a17f66d80edfe65b6c311268aa337f951496f,svcscm,svcscm@fb.com,Sun Dec 30 03:39:34 2018 -0800,1546169974,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 3ac34d2b7f48b0b8c669d51fe4c312f60a5c4d79n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,140.0,1.3707986111111108,296.0,1.7295017604295957,296.0,None,False,,
274a17f66d80edfe65b6c311268aa337f951496f,3b276ea30e71e1597214293395fa8af23da25b4c,svcscm,svcscm@fb.com,Wed Jan 2 05:28:49 2019 -0800,1546435729,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: dc50ae71f4cea3432c5fc7e8c3c18915ad807794n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,158.0,3.1237268518518517,297.0,1.3201304235058728,297.0,None,False,,
3b276ea30e71e1597214293395fa8af23da25b4c,38e43f50301e61d7f85c118416e5431f6dacac68,svcscm,svcscm@fb.com,Wed Jan 2 22:31:48 2019 -0800,1546497108,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c16a47b6ca091628e8ef800ec0f0099b28084d1fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,300.0,2.24833912037037,298.5,1.815016973825332,299.0,None,False,,
38e43f50301e61d7f85c118416e5431f6dacac68,76eab7f5bb754e4da74eecaa7f96607f167baf0f,svcscm,svcscm@fb.com,Thu Jan 3 20:47:55 2019 -0800,1546577275,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e83c2d87e42ce93129f13e429dfdee5c9b972a61n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,302.0,0.9278587962962964,300.5,1.80831264734866,301.0,None,False,,
76eab7f5bb754e4da74eecaa7f96607f167baf0f,830523da2374edaa20daa429a73746d32b1701bc,svcscm,svcscm@fb.com,Fri Jan 4 15:01:18 2019 -0800,1546642878,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9928e5c74b4606ef848350ca492d34ed5ad8e925n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,304.0,0.7592939814814815,302.5,1.987759706111001,303.0,None,False,,
830523da2374edaa20daa429a73746d32b1701bc,f00755686275f526024e48abf7dd6ff5c51496fd,svcscm,svcscm@fb.com,Sat Jan 5 09:29:48 2019 -0800,1546709388,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6f2af233c5ce7c94783a4f6aa64612b8663dde07n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,144.0,0.7697916666666667,304.0,2.2990527740189446,304.0,None,False,,
f00755686275f526024e48abf7dd6ff5c51496fd,5055aa85caab5678200ba4431310005cfbb24efe,svcscm,svcscm@fb.com,Mon Jan 7 11:52:49 2019 -0800,1546890769,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 3619d5ac6c0a4270b92fd114bce0b8aa9098db91n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,162.0,2.8691087962962962,305.0,1.3485402858514428,305.0,None,False,,
5055aa85caab5678200ba4431310005cfbb24efe,ae2bd61c34559317b1d5668d418636405039f383,svcscm,svcscm@fb.com,Tue Jan 8 10:32:40 2019 -0800,1546972360,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4a1c8cb0d578b48e0c89927b50637e0aef531fefn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,308.0,1.9939988425925923,306.5,1.6548463633093866,307.0,None,False,,
ae2bd61c34559317b1d5668d418636405039f383,482fa59aee8de76627cfd3dfe942ff0291689d99,svcscm,svcscm@fb.com,Tue Jan 8 16:34:47 2019 -0800,1546994087,Updating submodulesReviewed By: zpaonnfbshipit-source-id: cbec781de58b3b9d98541a805ad17280ae034bfcn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,310.0,0.25146990740740743,308.5,3.982464215031986,309.0,None,False,,
482fa59aee8de76627cfd3dfe942ff0291689d99,f7fe5e7ffef07f3211e8610d7303409a9e9780bb,svcscm,svcscm@fb.com,Wed Jan 9 12:45:36 2019 -0800,1547066736,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 281a2b09dd027c89bd7a83ee61152a9e14d8e6e8n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,147.0,0.8408449074074074,310.0,2.1892799625597053,310.0,None,False,,
f7fe5e7ffef07f3211e8610d7303409a9e9780bb,412e35cbd79f72c3addf9c164d08dee683c9d9fc,svcscm,svcscm@fb.com,Thu Jan 10 08:48:12 2019 -0800,1547138892,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b4e6a89c7b1b7cab2bd25bda1ef99d28ddecb39en,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,313.0,1.2555613425925929,311.5,1.4974463664108408,312.0,None,False,,
412e35cbd79f72c3addf9c164d08dee683c9d9fc,5f7d911785cb6c85060606ba839c13b097fd149c,svcscm,svcscm@fb.com,Fri Jan 11 05:29:26 2019 -0800,1547213366,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 376b9ce3f9fac1d9eba21326c117c52ad12722c5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,315.0,0.8619675925925926,313.5,1.870102317587346,314.0,None,False,,
5f7d911785cb6c85060606ba839c13b097fd149c,7b09ef0dde77157bf6ef2cc65a7e1e43af95c043,svcscm,svcscm@fb.com,Fri Jan 11 21:30:56 2019 -0800,1547271056,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 45071484d32861e28dd17f44253d8e55ee6f5461n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,317.0,0.6677083333333333,315.5,2.123244929797192,316.0,None,False,,
7b09ef0dde77157bf6ef2cc65a7e1e43af95c043,734c2b74624e2c25bf60af7007d19c477231a527,svcscm,svcscm@fb.com,Sat Jan 12 19:31:56 2019 -0800,1547350316,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 6ca5c9bfea61cd68fa0f55dd94b7df833c57d9e9n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,151.0,0.9173611111111112,317.0,2.0900832702498118,317.0,None,False,,
734c2b74624e2c25bf60af7007d19c477231a527,d595ffb0895c21e9dac8acadfc93cb9a161ac28a,svcscm,svcscm@fb.com,Sun Jan 13 11:52:03 2019 -0800,1547409123,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7962062c03ef7641640ed15cff3eb26e2001041bn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,320.0,1.1393171296296296,318.5,1.5323212531297496,319.0,None,False,,
d595ffb0895c21e9dac8acadfc93cb9a161ac28a,c7782cdd57daaa203e6ce4aebb0fdcf5e773ef70,svcscm,svcscm@fb.com,Mon Jan 14 08:50:37 2019 -0800,1547484637,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4e78acf6c622e2976dbed5b36b05a95022e68364n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,169.0,0.8740046296296297,320.0,2.144158699049183,320.0,None,False,,
c7782cdd57daaa203e6ce4aebb0fdcf5e773ef70,dc204bae61f0736cf7cabfcfa980c3a43781e8d0,svcscm,svcscm@fb.com,Tue Jan 15 08:42:44 2019 -0800,1547570564,Updating submodulesReviewed By: yns88nnfbshipit-source-id: db728a4e51333af9dc4832b9362e3fe39417bb35n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,323.0,1.4315277777777775,321.5,1.6773909314149753,322.0,None,False,,
dc204bae61f0736cf7cabfcfa980c3a43781e8d0,5e7966d58c1237329725b94c40a0cf8e6cef6a6a,svcscm,svcscm@fb.com,Wed Jan 16 08:43:42 2019 -0800,1547657022,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 3b885cb07e87ac78c4a7ea7daf1fec49536e297fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,325.0,1.0006712962962965,323.5,1.7494968655300842,324.0,None,False,,
5e7966d58c1237329725b94c40a0cf8e6cef6a6a,6e0465587b973918c0ed1b03cc2a818a0d68a6c9,svcscm,svcscm@fb.com,Thu Jan 17 01:03:01 2019 -0800,1547715781,Updating submodulesReviewed By: yns88nnfbshipit-source-id: de202ec58f8504d58641f1844c3fec26db8bec00n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,327.0,0.6800810185185185,325.5,2.1028097823312173,326.0,None,False,,
6e0465587b973918c0ed1b03cc2a818a0d68a6c9,a4a4c31e91d6abd3ec3fd3cf871f05ee275d33a3,svcscm,svcscm@fb.com,Thu Jan 17 21:35:56 2019 -0800,1547789756,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0877a134ec999103b5b6f9f9931bd7b60c397e5bn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,329.0,0.8561921296296297,327.5,1.875971612031092,328.0,None,False,,
a4a4c31e91d6abd3ec3fd3cf871f05ee275d33a3,8b0adc98c0c96cc803b334c29e1bd1890cb3aec0,svcscm,svcscm@fb.com,Fri Jan 18 21:55:07 2019 -0800,1547877307,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 75f09893855b97e3933e2cf48261a44e6454097fn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,331.0,1.0133217592592592,329.5,1.7401400326666745,330.0,None,False,,
8b0adc98c0c96cc803b334c29e1bd1890cb3aec0,b508a0174ba4adb1b0d5bd25aa1db460f99c3c77,svcscm,svcscm@fb.com,Sat Jan 19 12:15:08 2019 -0800,1547928908,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 758dc9f61c0e4e6f49251fc8b070be8bdfef9cf6n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,175.0,0.5972337962962962,331.0,2.674386155307068,331.0,None,False,,
b508a0174ba4adb1b0d5bd25aa1db460f99c3c77,6af1de6af496aeeb66fe864cc760d99344531271,Wez Furlong,wez@fb.com,Sat Jan 19 13:03:17 2019 -0800,1547931797,"Link watchman against folly (#636)Summary:nIn theory this is the minimum needed to unconditionally link to folly.nIt requires pulling in a fairly big set of dependencies that can be hard to manage,nso the `getdeps,py` script has been expanded with a little bit of smarts.nnThis diff started life as a pull request on github a few months ago and once it passednthe CI there we imported it into the FB internal machinery.  Since it has been idlenfor a while it is probable that now that I've got it building on the FB internal CInsome additional changes will be required to make it build successfully on the OSS CI again.nnThe main code changes in this diff are to replace some of our windows portability bits with those in folly and to unconditionally initialize folly.nnThe bulk of this diff is messing around with build dependencies and environment.nnReviewed By: simpkinsnnDifferential Revision: D9396698nnfbshipit-source-id: aaa98214c6578b52df979725589c57ee04da4255n",254.0,171.0,".circleci/config.yml,CAS_DELIMITER,.gitignore,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,CMake/FindGlog.cmake,CAS_DELIMITER,CMake/FindLibEvent.cmake,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,appveyor.yml,CAS_DELIMITER,getdeps.py,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,winbuild/asprintf.cpp,CAS_DELIMITER,winbuild/hostname.cpp,CAS_DELIMITER,winbuild/sys/time.h,CAS_DELIMITER,winbuild/time.cpp,CAS_DELIMITER",18.0,6.0,7.0,3.2018131988964837,28.0,265.72222222222223,245.0,267.572890303498,6156.5,1.0027058511786742,261.0,None,False,True,"[""24bba3c92e5e023006f2d01777c8c38587a5aa75""]"
6af1de6af496aeeb66fe864cc760d99344531271,8ce02d80b9afa5eee62418817ca2cb670fbd4eee,svcscm,svcscm@fb.com,Sat Jan 19 18:34:06 2019 -0800,1547951646,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5131f211740ef26ad17f2894db7696f90b83619en,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,158.0,0.8604050925925926,332.0,2.1622432370626448,332.0,None,False,,
8ce02d80b9afa5eee62418817ca2cb670fbd4eee,24bba3c92e5e023006f2d01777c8c38587a5aa75,Wez Furlong,wez@fb.com,Sat Jan 19 19:25:03 2019 -0800,1547954703,fixup OSS CI after folly dep changeSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/669nnDifferential Revision: D13746412nnPulled By: weznnfbshipit-source-id: 1d5bec1749e4e1f0e3252d5c15b1edd502d5b4ebn,49.0,117.0,".circleci/config.yml,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,appveyor.yml,CAS_DELIMITER,autogen.sh,CAS_DELIMITER,getdeps.py,CAS_DELIMITER,travis/deps.sh,CAS_DELIMITER,travis/run.sh,CAS_DELIMITER",7.0,3.0,3.0,2.1713599831454595,28.0,147.0,121.0,102.69779927248676,6169.0,1.9886837108665327,52.0,Corrective,True,,
24bba3c92e5e023006f2d01777c8c38587a5aa75,abae8d0128942a4beb86cdee0d1cb5649b496eee,svcscm,svcscm@fb.com,Mon Jan 21 13:24:34 2019 -0800,1548105874,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7c36cb1e769289e33c6c6ef2c9f6c53fefa17eacn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,176.0,2.0482175925925925,333.0,1.4882293773945277,333.0,None,False,,
abae8d0128942a4beb86cdee0d1cb5649b496eee,9453e8a051646469bd3bc91bfa44c754b208a54b,svcscm,svcscm@fb.com,Tue Jan 22 13:13:29 2019 -0800,1548191609,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b7078aa17f6f59268027dc54ceb3c6eb7cfa12c8n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,336.0,1.8848263888888888,334.5,1.6365164402857997,335.0,None,False,,
9453e8a051646469bd3bc91bfa44c754b208a54b,409cd3272b0aaef03f851907b2e468cfd3836467,svcscm,svcscm@fb.com,Tue Jan 22 14:54:05 2019 -0800,1548197645,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4bb7cabc8c9389f9e30fd8c9dc2dc0cec978aa38n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,160.0,0.06986111111111111,336.0,15.314115308151093,336.0,None,False,,
409cd3272b0aaef03f851907b2e468cfd3836467,ddaa00a30d1e69eed289f4e2f5bbb68daa078be8,svcscm,svcscm@fb.com,Tue Jan 22 18:13:41 2019 -0800,1548209621,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 67a83894d577a3428b595360e0e40e73d5e9c35en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,178.0,0.20847222222222225,337.0,5.796802131912059,337.0,None,False,,
ddaa00a30d1e69eed289f4e2f5bbb68daa078be8,da2a033799d182e6f8a206e7089bfdb19fc66b32,Wez Furlong,wez@fb.com,Wed Jan 23 09:17:35 2019 -0800,1548263855,'Re-sync with internal repository',1577.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER,common/CMakeLists.txt,CAS_DELIMITER,common/README.md,CAS_DELIMITER,common/fb303/cpp/FacebookBase2.h,CAS_DELIMITER,common/fb303/if/fb303.thrift,CAS_DELIMITER,common/logging/logging.h,CAS_DELIMITER,common/network/if/Address.thrift,CAS_DELIMITER,common/stats/DynamicCounters.h,CAS_DELIMITER,common/stats/ExportType.h,CAS_DELIMITER,common/stats/ExportedHistogramMap.h,CAS_DELIMITER,common/stats/ExportedHistogramMapImpl.h,CAS_DELIMITER,common/stats/ExportedStatMap.h,CAS_DELIMITER,common/stats/ExportedStatMapImpl.h,CAS_DELIMITER,common/stats/MonotonicCounter.h,CAS_DELIMITER,common/stats/ServiceData.cpp,CAS_DELIMITER,common/stats/ServiceData.h,CAS_DELIMITER,common/stats/ThreadCachedServiceData.h,CAS_DELIMITER,common/stats/ThreadLocalStats.h,CAS_DELIMITER,eden/fs/service/eden.thrift,CAS_DELIMITER,eden/fs/service/streamingeden.thrift,CAS_DELIMITER",21.0,3.0,8.0,2.75410477674661,1.0,0.047619047619047616,161.0,0.036491402116402116,6183.0,2.1951798390402844,1.0,None,False,,
da2a033799d182e6f8a206e7089bfdb19fc66b32,8c96a749cad9217415b0353771a5972b68755e6a,Wez Furlong,wez@fb.com,Wed Jan 23 15:12:20 2019 -0800,1548285140,'Re-sync with internal repository',2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,163.0,0.2463541666666667,6194.5,4.044397463002114,38.0,None,False,,
8c96a749cad9217415b0353771a5972b68755e6a,44c72e0ccfef7726f6259579fd6702cef14bfde2,svcscm,svcscm@fb.com,Tue Jan 22 18:40:56 2019 -0800,1548211256,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 2be8cc62d424803bee6e2a040e1dadd996e5d7bdn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,165.0,-0.8551388888888889,338.5,0.12294948838720154,339.0,None,False,,
44c72e0ccfef7726f6259579fd6702cef14bfde2,c5c57c41764dd6d924fbd86861e36396c7291116,svcscm,svcscm@fb.com,Wed Jan 23 18:02:50 2019 -0800,1548295370,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8cd6ee94e413dcd7bf62358984adc518b23831e4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,346.0,0.9798495370370373,341.0,1.6253369630577317,342.0,None,False,,
c5c57c41764dd6d924fbd86861e36396c7291116,23d1b523e030fce23b1d6c3b370a93287e858622,Victor Zverovich,viz@fb.com,Wed Jan 23 18:06:37 2019 -0800,1548295597,"Migrate to optional_field_ref Thrift APISummary:nMigrate the code from accessing optional Thrift fields directly to a safern`optional_field_ref` API. See https://fburl.com/safe for more details.nnThe output of this codemod has been reviewed in D13259011.nnTo preserve semantics, each unchecked access is replaced with an explicit callnto `value_unchecked()`. If you are sure that accessing a field is safe (thenfield is marked as set), you can later replace `value_unchecked()` withn`value()` or dereferencing (`operator *`):nn```n  ThriftStruct s = ...n- auto foo = s.foo_ref().value_unchecked();n+ auto foo = *s.foo_ref(); // will throw if s.foo is unsetn```nnReviewed By: weznnDifferential Revision: D13744691nnfbshipit-source-id: 9ebe052e3ff6317563913980920ac3ec1ba83e2cn",4.0,2.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1306.0,65.0,41.03511574074074,0.0,0.0,0.0,None,False,,
23d1b523e030fce23b1d6c3b370a93287e858622,d22ab451cec3fc44a65e848ebc46e74289e66b3b,svcscm,svcscm@fb.com,Wed Jan 23 19:08:29 2019 -0800,1548299309,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: d4fbe8a3f89d3715a8759e9f6123f93b4874ffffn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,180.0,0.04559027777777778,343.0,22.934501142421926,343.0,None,False,,
d22ab451cec3fc44a65e848ebc46e74289e66b3b,2d5e3ccea7669ec1b4b14b91ddf0142e9f79424c,svcscm,svcscm@fb.com,Thu Jan 24 09:42:42 2019 -0800,1548351762,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 314ad0f0a80b8ac9ed0d2271e50caac436a08694n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,181.0,0.6070949074074075,344.0,2.6471889119783425,344.0,None,False,,
2d5e3ccea7669ec1b4b14b91ddf0142e9f79424c,191c1f27dc8d5e1aed738052fea55ed73ca9481a,svcscm,svcscm@fb.com,Thu Jan 24 15:28:36 2019 -0800,1548372516,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 12c650601b5f1ded5dc447a7e54e6226c9ed56e4n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,182.0,0.2402083333333333,345.0,5.163052905464006,345.0,None,False,,
191c1f27dc8d5e1aed738052fea55ed73ca9481a,a427aff67b7bd9167af34c5c875aad60b53dcfbc,Wez Furlong,wez@fb.com,Thu Jan 24 18:00:47 2019 -0800,1548381647,"thrift: plumb rsocket into cmake buildSummary: The headers are installed, but we weren't compiling the implementation.nnReviewed By: simpkinsnnDifferential Revision: D13778568nnfbshipit-source-id: 4d297b732d1e70bbd69100f13eb68f9477d7f014n",5.0,5.0,"build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,44.0,3.0,76.34068287037037,6196.0,1.0130991754645169,39.0,None,False,,
a427aff67b7bd9167af34c5c875aad60b53dcfbc,bc55c7afc3e0351206d58717c62466a30c781d51,svcscm,svcscm@fb.com,Thu Jan 24 18:21:57 2019 -0800,1548382917,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 9c7c0242a8002e95320e4970cc5afeabae2f1b42n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,183.0,0.12038194444444444,346.0,9.306893567926162,346.0,None,False,,
bc55c7afc3e0351206d58717c62466a30c781d51,60f86761a13fa23269688338f97df59b7f1a3195,Wez Furlong,wez@fb.com,Thu Jan 24 19:33:00 2019 -0800,1548387180,watchman: remove autoconf build systemSummary: We now require cmakennReviewed By: chadaustinnnDifferential Revision: D13746461nnfbshipit-source-id: 664d49e34da1ba272054c64fceecc107641cff03n,4.0,1346.0,"Makefile.am,CAS_DELIMITER,acinclude.m4,CAS_DELIMITER,configure.ac,CAS_DELIMITER,website/_docs/contributing.markdown,CAS_DELIMITER",4.0,2.0,2.0,1.5746473069343725,29.0,357.5,263.0,397.66896701388885,6198.5,1.0020377161008005,235.0,None,False,,
60f86761a13fa23269688338f97df59b7f1a3195,806f9bcf46fa7186cfef051cf15d82164d46b3c5,svcscm,svcscm@fb.com,Thu Jan 24 20:23:30 2019 -0800,1548390210,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5a11ed7bf2587b66cba59f416cf1e5b38a5c59e1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,353.0,0.7599266975308643,348.0,1.7318675250901785,349.0,None,False,,
806f9bcf46fa7186cfef051cf15d82164d46b3c5,088dffd10c845d06b9cf41e78f8de5aeda077881,Wez Furlong,wez@fb.com,Thu Jan 24 20:35:08 2019 -0800,1548390908,watchman: fixup cmake installSummary:n* Fixed setting up the watchman state dir to be based on the cmake install prefixn* Fixed python installation to respect DESTDIRnnReviewed By: simpkinsnnDifferential Revision: D13747960nnfbshipit-source-id: b2357d94343ccadc0127400d3d8b513088f7763cn,34.0,9.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,499.0,15.0,5.3137847222222225,6201.0,1.1881897841698412,2865.0,None,False,,
088dffd10c845d06b9cf41e78f8de5aeda077881,77f519c0141bcb09ecd278c2d64d876ce98f3b9e,Wez Furlong,wez@fb.com,Thu Jan 24 20:35:08 2019 -0800,1548390908,watchman: add folly and glog deps to all targetsSummary: This makes it easier in subsequent diffs as they add folly headers.nnReviewed By: simpkinsnnDifferential Revision: D13763943nnfbshipit-source-id: a09dde8b0da13bb02a54875b885d4da060bc48f0n,13.0,7.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,524.0,16.0,0.0,6202.0,0.0,2866.0,None,False,,
77f519c0141bcb09ecd278c2d64d876ce98f3b9e,d0a5ca96f1164f1bb2bacf529c407cae9f609f47,Wez Furlong,wez@fb.com,Thu Jan 24 20:35:09 2019 -0800,1548390909,"watchman: watchman_scopeguard.h -> folly/ScopeGuard.hSummary: Now we can link in folly, we can use its implementationnnReviewed By: chadaustinnnDifferential Revision: D13754363nnfbshipit-source-id: 6f727883900710a16fe26e3db526bef7a3569e3dn",18.0,368.0,"ChildProcess.cpp,CAS_DELIMITER,ContentHash.cpp,CAS_DELIMITER,FileDescriptor.cpp,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,SymlinkTargets.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,watchman_scopeguard.h,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER",14.0,5.0,5.0,0.7843640602180414,28.0,377.3571428571428,302.0,296.04187169312166,6209.5,1.0016213527179572,262.0,None,False,,
d0a5ca96f1164f1bb2bacf529c407cae9f609f47,4c2ad931b5ca40d8c76277fb9a836ab50385759d,Wez Furlong,wez@fb.com,Thu Jan 24 20:53:32 2019 -0800,1548392012,watchman: remove old windows build systemSummary: We now use only cmakennReviewed By: chadaustinnnDifferential Revision: D13754359nnfbshipit-source-id: 6fbbc60d3d0b4e6e6c8c8ee06d6b1c2ef6ccb57cn,0.0,425.0,"make.bat,CAS_DELIMITER,winbuild/Makefile,CAS_DELIMITER",2.0,2.0,2.0,0.43450331069860987,28.0,212.5,112.0,238.353125,6217.5,1.0027077018864132,263.0,None,False,,
4c2ad931b5ca40d8c76277fb9a836ab50385759d,532b95782f8a455e445e010336df8991dcfebd8d,Wez Furlong,wez@fb.com,Thu Jan 24 22:59:55 2019 -0800,1548399595,watchman: watchman::Optional -> folly::OptionalSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D13754358nnfbshipit-source-id: 36173993f70819b03ff7d225e1e39ab0d557a607n,89.0,332.0,"CMakeLists.txt,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LocalFileResult.cpp,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,Optional.h,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,tests/OptionalTest.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",15.0,4.0,4.0,2.87182337238864,29.0,326.26666666666665,419.0,140.5105563271605,6226.0,1.9958542257315803,2883.0,None,False,,
532b95782f8a455e445e010336df8991dcfebd8d,9ee3b0415a44bdbadb3fbfa17dde81e8569f27f7,Wez Furlong,wez@fb.com,Thu Jan 24 22:59:55 2019 -0800,1548399595,watchman: remove watchman/make_unique.hSummary: Just use std::make_uniquennReviewed By: chadaustinnnDifferential Revision: D13754362nnfbshipit-source-id: d023c205b8ad3b717a5747fbd283973780caedc6n,103.0,117.0,"ChildProcess.cpp,CAS_DELIMITER,CookieSync.cpp,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,LRUCache.h,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,make_unique.h,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/empty.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.cpp,CAS_DELIMITER,scm/SCM.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER",34.0,9.0,9.0,4.691588833145781,29.0,351.0882352941177,805.0,179.56823597494557,6250.5,1.29312093819424,264.0,None,False,,
9ee3b0415a44bdbadb3fbfa17dde81e8569f27f7,44e5cb19fd2717d7bd75e16af734f8320b10a8df,Wez Furlong,wez@fb.com,Thu Jan 24 22:59:55 2019 -0800,1548399595,watchman: watchman::Synchronized -> folly::SynchronizedSummary:nNote that `watchman::Synchronized` allowed using `wlock`nwith exclusive mutexes; it was equivalent to `lock`.n`folly::Synchronized` is more strict about the names of thesenlocking methods.nnReviewed By: chadaustinnnDifferential Revision: D13754369nnfbshipit-source-id: f2ea26ee77d6f66710e0fc8e0cdf3fdcfe1f1eaen,95.0,1177.0,"CMakeLists.txt,CAS_DELIMITER,CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LRUCache.h,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,state.cpp,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER,timedlock.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_pending.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_shared_mutex.h,CAS_DELIMITER,watchman_synchronized.h,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER",34.0,5.0,5.0,2.0049076146123785,29.0,285.0294117647058,745.0,253.5470162717865,6284.5,0.9417630690948584,265.0,None,False,,
44e5cb19fd2717d7bd75e16af734f8320b10a8df,bfc4418404a4af533cccfa3b8447e8294484991e,Wez Furlong,wez@fb.com,Thu Jan 24 22:59:55 2019 -0800,1548399595,watchman: standardize on std::this_thread::sleep_for for sleepsSummary:nThis allows the removal of the windows portabilitynsleep code.nnReviewed By: chadaustinnnDifferential Revision: D13759417nnfbshipit-source-id: edb0d49acf731cdb930ed70fa31cce846eb1a206n,7.0,28.0,"root/watchlist.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER,winbuild/sys/time.h,CAS_DELIMITER,winbuild/time.cpp,CAS_DELIMITER",6.0,3.0,4.0,1.8933339916018856,29.0,161.5,60.0,43.67934220679013,6304.5,0.5019486676584499,267.0,None,False,,
bfc4418404a4af533cccfa3b8447e8294484991e,47c3ed72849d74be0e390556db476b5f2c7e1ec2,Wez Furlong,wez@fb.com,Thu Jan 24 23:22:26 2019 -0800,1548400946,skip aio dead socket tests on windows (#674)Summary:npywatchman_aio currently only works on unix systems.nPull Request resolved: https://github.com/facebook/watchman/pull/674nnDifferential Revision: D13816438nnPulled By: weznnfbshipit-source-id: a01396c87052f3da43aabcf2abf8d126e91a89e1n,2.0,0.0,"tests/async/test_dead_socket.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,47.0,1.0,104.04664351851852,6308.0,1.0096110740931497,831.0,Preventative,False,,
47c3ed72849d74be0e390556db476b5f2c7e1ec2,5f36c3de5d52b6d66554b6f0c537a9c8cbe771a4,Shrikrishna Khare,skhare@fb.com,Fri Jan 25 10:34:55 2019 -0800,1548441295,"enable BST stats by defaultSummary:nThis patch enables BST stats by default, and works as follows:n  - it uses quantile stats to maintain per queue per port stats.n  - these stats are exposed to ODS.n  - experiments showed that a significant CPU cycles were spent in doingnbcm_cosq_bst_stat_sync which syncs the hw stat value to sw copy.nFor example, calling bcm_cosq_bst_stat_sync while retrieving BST statsnfor for every port/every queue/every second resulted into CPU utilizationngoing up from ~ 50% for Wedge 100 to ~100-120%. Thus, this patch callsnbcm_cosq_bst_stat_sync only once per minute and then retrieves all BST stats.n  - The above optimization also helps when bufferstatlogging is enabled.n  - when bufferstatlogging is enabled, the BST stats will be retrieved everynsecond for scuba logging, and quantile stats will also be exported everynsecond.n  - The bufferstatlogging is enabled using fboss CLI (over thrift).nWe no longer need enable_fine_grained_buffer_stats option. But, a new optionnviz. update_bststats_interval_s is introduced that keeps the frequency of BSTnstats updates configurable.nnThe virtual memory overhead of always maintaining BST stats is < 5%, andnphysical memory overhead is < 0.1%. Thanks to the sync optimization above,nthe CPU overhead is negligible. Refer Test Plan for raw data and math.nnAn alternative is to explore using TimeSeriesMinMax (to maintain max over antime window) and TLCounter (to expose stats to ODS) instead of quantile stats.nOne benefit of using quantile stats is that we don't need to maintain our ownnTimeSeriesMinMax but can rely on common facebook wide infra. Moreoever,nquantile stats interface is (arguably) simpler than using combination ofnTimeSeriesMinMax + TlCounter'.nnA separate diff against configerator is sent out to expose the new bst_stats: D8902636nnDifferential Revision: D8764329nnfbshipit-source-id: 78db3de5340497f2f5780863035dd9ff28dcd79bn",22.0,0.0,"common/time/Time.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,None,False,,
5f36c3de5d52b6d66554b6f0c537a9c8cbe771a4,55695f9fea26c76f0190afe9ca916fdd7af9a6fe,Wez Furlong,wez@fb.com,Fri Jan 25 12:57:02 2019 -0800,1548449822,"rsocket: add fbcode builder bitsSummary:nThis should allow more direct testing of changes without waiting for things to land on github first.nnAs part of this, to avoid a conflict between the deps that bistro downloads and those used bynthe rest of the fbcode builder CI, I've updated the version of gtest used by bistro.nnReviewed By: zertoshnnDifferential Revision: D13802637nnfbshipit-source-id: fd71bfabd2a85f4f63c21b44a1e868f2d293180an",22.0,11.0,"build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER,build/fbcode_builder/specs/rsocket.py,CAS_DELIMITER",2.0,1.0,1.0,0.9672947789468944,2.0,22.0,4.0,0.39453125,6309.5,2.267326732673268,41.0,None,False,True,"[""a06a8d37d53c41be40c7619ef766c370cff1965d""]"
55695f9fea26c76f0190afe9ca916fdd7af9a6fe,330ba931aa7a98984270aa11aa2595b9a50df800,Pawan Kartik,satyapawank@outlook.com,Fri Jan 25 14:03:04 2019 -0800,1548453784,"Check CreateFileW() return value correctly (#670)Summary:n`CreateFileW()` returns `INVALID_HANDLE_VALUE` if the handle is invalid, sonthis piece of code wouldn't correct handle a failure here.  Switch the code tonuse the `FileDescriptor` class to make this less error prone.nnPull Request resolved: https://github.com/facebook/watchman/pull/670nnReviewed By: simpkinsnnDifferential Revision: D13758292nnPulled By: weznnfbshipit-source-id: 94a8abf3acfa6df52caa296adf79c595e930c132n",18.0,9.0,"watcher/win32.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,384.0,33.0,0.6271875,0.0,0.0,0.0,Feature Addition,False,,
330ba931aa7a98984270aa11aa2595b9a50df800,b393858ec560677900450f0dc3f20b488cc5342b,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:09 2019 -0800,1548457989,"watchman: move CookieSync to folly::FutureSummary:nnow that we can use folly, cut this file over to folly::Futurenfrom the watchman Future implementation.nnReviewed By: stragernnDifferential Revision: D13754367nnfbshipit-source-id: dd06d68830c3ca63684585616b3906fe8cc85bc6n",14.0,15.0,"CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.7965050034651298,29.0,461.5,94.0,2.0294386574074075,6312.5,1.7089485582652575,2928.0,None,False,,
b393858ec560677900450f0dc3f20b488cc5342b,8922e6f76cf7a394dc3a39ba2fc02bdf6d33adb2,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:09 2019 -0800,1548457989,watchman: ChildProcess Future -> folly::FutureSummary: migrate this file to use folly futures.nnReviewed By: stragernnDifferential Revision: D13754364nnfbshipit-source-id: 1de50c90bbf812e4da1b4a785924c3ceed1b8404n,11.0,18.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER",2.0,1.0,1.0,0.7355085815538398,29.0,414.5,23.0,301.50342592592585,6315.5,1.7406312124300485,2930.0,None,False,,
8922e6f76cf7a394dc3a39ba2fc02bdf6d33adb2,d6e2f87cca9312e9737ee141c47b43b5c8d10b83,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:09 2019 -0800,1548457989,watchman: watchman::Executor -> folly::ExecutorSummary:nprep this code so that it is compatible with bothnwatchman and folly futures.nnReviewed By: chadaustinnnDifferential Revision: D13754356nnfbshipit-source-id: 1ca2182e63ed914651e6e36a920479b0d947af0fn,19.0,54.0,"Future.h,CAS_DELIMITER,ThreadPool.cpp,CAS_DELIMITER,ThreadPool.h,CAS_DELIMITER,tests/CacheTest.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.5264160138234044,27.0,205.75,11.0,380.51304108796296,6318.5,1.0012830190298392,832.0,None,False,,
d6e2f87cca9312e9737ee141c47b43b5c8d10b83,a75431e32506cef3c513bed7666f956573cf12dd,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:09 2019 -0800,1548457989,watchman: migrate LRUCache to folly futuresSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D13754357nnfbshipit-source-id: e41e5376a32a4a046b9d6d2e8363ec3d52ed086bn,74.0,75.0,"ContentHash.cpp,CAS_DELIMITER,ContentHash.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,LRUCache.h,CAS_DELIMITER,SymlinkTargets.cpp,CAS_DELIMITER,SymlinkTargets.h,CAS_DELIMITER,tests/CacheTest.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",8.0,3.0,3.0,2.6609610080209114,29.0,425.75,164.0,79.8956365740741,6324.5,1.1631149722461482,320.0,None,False,,
a75431e32506cef3c513bed7666f956573cf12dd,e4bcfde6079db30af3499364adbef7f292e86186,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:11 2019 -0800,1548457991,watchman: remove some references to watchman::FutureSummary: pruning!nnReviewed By: chadaustinnnDifferential Revision: D13754360nnfbshipit-source-id: ed19f2956fc99dd554a5725a9d185ced9202cb19n,2.0,5.0,"ThreadPool.h,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",4.0,3.0,3.0,1.8423709931771088,29.0,549.0,178.0,0.3379513888888889,6330.5,10801.739754528251,321.0,None,False,,
e4bcfde6079db30af3499364adbef7f292e86186,342013c7438ef0902fa0e50753c1c44646fbe0fd,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:11 2019 -0800,1548457991,watchman: migrate final watchman::Future -> folly::FutureSummary: selectWinner -> collectAnynnReviewed By: stragernnDifferential Revision: D13754361nnfbshipit-source-id: cbee69d50835c2eb8ec51ed362a8da712910ddc0n,10.0,14.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1311.0,70.0,0.0,6333.0,0.0,322.0,None,False,,
342013c7438ef0902fa0e50753c1c44646fbe0fd,b9c842b5b6e43d894962678df227588ab39356ca,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:11 2019 -0800,1548457991,watchman: remove watchman::FutureSummary: We now use folly::FuturennReviewed By: yfeldblumnnDifferential Revision: D13754365nnfbshipit-source-id: e3848cff328cb9f406b91963bbcfc00e41f8b733n,0.0,651.0,"CMakeLists.txt,CAS_DELIMITER,Future.h,CAS_DELIMITER,tests/FutureTest.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",5.0,3.0,3.0,0.8319724858610041,29.0,593.6,194.0,16.480208333333334,6336.0,1.5991328305700496,2943.0,None,False,,
b9c842b5b6e43d894962678df227588ab39356ca,726506117de671f08bdd7e68690fefdd02a5ffc3,Wez Furlong,wez@fb.com,Fri Jan 25 15:13:11 2019 -0800,1548457991,watchman: watchman::Unit -> folly::UnitSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D13754366nnfbshipit-source-id: 1178a5b7b2c927696d63e7a30db9dbaf94ed3eebn,5.0,11.0,"Result.h,CAS_DELIMITER,tests/ResultTest.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.5435644431995964,18.0,215.5,6.0,449.8471817129631,6339.5,1.0033668359931378,835.0,None,False,,
726506117de671f08bdd7e68690fefdd02a5ffc3,8439f43173b0d491af530eb14a780a3714563c83,svcscm,svcscm@fb.com,Fri Jan 25 18:01:26 2019 -0800,1548468086,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c1ad7223dc24a1d0023afe81e478bccbdd455a70n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,190.0,0.9013425925925926,350.5,1.8320920437618784,351.0,None,False,,
8439f43173b0d491af530eb14a780a3714563c83,f3df44414689fd630b6567a743224e317c9db04e,svcscm,svcscm@fb.com,Fri Jan 25 21:17:30 2019 -0800,1548479850,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: d8817461a029702276c6f0edbc925622e1f97555n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,358.0,0.436604938271605,353.0,4.9267092346762364,354.0,None,False,,
f3df44414689fd630b6567a743224e317c9db04e,ef0cc1bd8f6fe3e3690077e7f85b1fea511f9ad2,Wez Furlong,wez@fb.com,Fri Jan 25 21:24:41 2019 -0800,1548480281,watchman: add to facebook_fbcode_builderSummary:nThis allows testing the OSS build of watchman againstnits deps in fbsource without first waiting for them to get pushednto github.nnReviewed By: simpkinsnnDifferential Revision: D13807935nnfbshipit-source-id: 6887d6ba79db0a020e95c906f173eb4a3d29e0d9n,8.0,4.0,"build/fbcode_builder_config.py,CAS_DELIMITER,python/tests/tests.py,CAS_DELIMITER",2.0,2.0,2.0,1.0,28.0,230.0,39.0,93.43190972222223,6341.5,1.0072374996449027,107.0,None,False,True,"[""efef068c458434268d01ab83e4610e6fe8481410""]"
ef0cc1bd8f6fe3e3690077e7f85b1fea511f9ad2,c6419c1d6eecdc8e05e5b3e7c4f65b0a53333b42,Wez Furlong,wez@fb.com,Fri Jan 25 21:24:42 2019 -0800,1548480282,fbcode_builder: add VERBOSE=1 to make invocationsSummary: This makes it easier to debug and diagnose build problemsnnReviewed By: simpkinsnnDifferential Revision: D13831342nnfbshipit-source-id: 3921a05715fb00264b2e1a6e134686d68aea804dn,2.0,2.0,"build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,369.0,5.0,77.48229166666667,6343.0,1.0129061747980048,43.0,None,False,,
c6419c1d6eecdc8e05e5b3e7c4f65b0a53333b42,6c42e3e18892bff1b5a6b914d092a67a88fff703,svcscm,svcscm@fb.com,Fri Jan 25 21:31:55 2019 -0800,1548480715,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7eae37d12cccda8625273b0a1f58252fe0a3e9e6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,7.0,0.010011574074074074,355.0,100.8843930635838,355.0,None,False,,
6c42e3e18892bff1b5a6b914d092a67a88fff703,96ab45c9fa244e4791e3b893d28807425e02de88,svcscm,svcscm@fb.com,Sat Jan 26 21:26:58 2019 -0800,1548566818,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 396aa896f326c9c040b4a189e0a12456db415c98n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,362.0,1.0032368827160494,357.0,1.6116414317043002,358.0,None,False,,
96ab45c9fa244e4791e3b893d28807425e02de88,6e3c0e37da3d7fe2ae3cf936a925d246649f5172,svcscm,svcscm@fb.com,Sun Jan 27 17:12:44 2019 -0800,1548637964,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8a3c55b6a7432d227c6970a9927de18eea620daan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,365.0,0.8234490740740741,360.0,1.7421358895791752,361.0,None,False,,
6e3c0e37da3d7fe2ae3cf936a925d246649f5172,d1d678a2ae0b5276521819e7afa693ae6c334352,svcscm,svcscm@fb.com,Mon Jan 28 09:29:31 2019 -0800,1548696571,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b746d2a11f520e3b3827caccf83bf52249d42a5bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,368.0,0.6783217592592593,363.0,1.9009162728001767,364.0,None,False,,
d1d678a2ae0b5276521819e7afa693ae6c334352,659ebe9bfce99f47078340463a82b8c114add866,Wez Furlong,wez@fb.com,Mon Jan 28 19:11:14 2019 -0800,1548731474,watchman: [EASY] remove another bit of the old windows build stuffSummary: deadcodennReviewed By: stragernnDifferential Revision: D13851988nnfbshipit-source-id: 45d0569754a1d2865b9a18257bef95b7dddbef2bn,0.0,200.0,"winbuild/depends.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,11.0,200.0,3.0,864.267962962963,6344.0,1.0011570485576855,268.0,None,False,,
659ebe9bfce99f47078340463a82b8c114add866,42cac5e0ea2978e81f341d5c64de8e0e961dc32d,svcscm,svcscm@fb.com,Mon Jan 28 21:20:11 2019 -0800,1548739211,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4af85a4175861f216b7e86609ae4663311f73829n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,201.0,0.4935185185185185,365.5,2.519699812382739,366.0,None,False,,
42cac5e0ea2978e81f341d5c64de8e0e961dc32d,26e964f666bbf55989098398a5672500ba83bf9e,svcscm,svcscm@fb.com,Tue Jan 29 08:44:05 2019 -0800,1548780245,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 856b5a8760163ecdadc7d13f0d7812910441cd30n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,373.0,0.6394367283950618,368.0,2.226549537865468,369.0,None,False,,
26e964f666bbf55989098398a5672500ba83bf9e,a49d0c05fcced1bcfbdc9cab8dc6e0b004143964,svcscm,svcscm@fb.com,Wed Jan 30 07:10:20 2019 -0800,1548861020,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 0bd383944818f37bfc93e0f4bed24beeaff856f5n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,376.0,0.9348958333333334,371.0,1.6536675951717734,372.0,None,False,,
a49d0c05fcced1bcfbdc9cab8dc6e0b004143964,e100c15c17d7d9157c60e0a14867aeebacaa2fcf,svcscm,svcscm@fb.com,Thu Jan 31 01:39:07 2019 -0800,1548927547,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 58779af1ad23a3853c7eaf6c8a7f2592f8f45095n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,379.0,0.7699884259259259,374.0,1.793662723405535,375.0,None,False,,
e100c15c17d7d9157c60e0a14867aeebacaa2fcf,2dacb16742fb3f024d258bc436d7676ea419665e,svcscm,svcscm@fb.com,Thu Jan 31 22:41:36 2019 -0800,1549003296,Updating submodulesReviewed By: zpaonnfbshipit-source-id: fc5ccf27dd3a8c8c7ddb29114b39be7fda290269n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,382.0,0.876724537037037,377.0,1.6970389048040238,378.0,None,False,,
2dacb16742fb3f024d258bc436d7676ea419665e,b14b7c09b54d85f0a394cdf9cc022d1ded3f26bc,svcscm,svcscm@fb.com,Fri Feb 1 20:13:53 2019 -0800,1549080833,Updating submodulesReviewed By: zpaonnfbshipit-source-id: dc7dcac836f567888e2db6d738e788e097bf72c6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,385.0,0.8974189814814815,380.0,1.6809652166062652,381.0,None,False,,
b14b7c09b54d85f0a394cdf9cc022d1ded3f26bc,f998cf0add22bb3ce2445035ba94fb48b532f5b7,svcscm,svcscm@fb.com,Sat Feb 2 19:45:17 2019 -0800,1549165517,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 97e9df0173d08e236619e3dc9a7bb70d164b174cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,388.0,0.9801388888888888,383.0,1.6234944027207032,384.0,None,False,,
f998cf0add22bb3ce2445035ba94fb48b532f5b7,8ff6e0c1d918b50efc0e61ebc810771573f898d7,svcscm,svcscm@fb.com,Sun Feb 3 11:20:08 2019 -0800,1549221608,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 0aaffe751d94aef037422f675659a75dace16cfan,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,18.0,0.6492013888888889,385.0,2.5403540674974594,385.0,None,False,,
8ff6e0c1d918b50efc0e61ebc810771573f898d7,0f9ab45a074cdaa12facc08017fedca7eb90b3a5,svcscm,svcscm@fb.com,Mon Feb 4 07:51:15 2019 -0800,1549295475,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 215e9fc00896de783e7b8c1328254f3aeb707c8cn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,19.0,0.8549421296296297,386.0,2.1696698119593325,386.0,None,False,,
0f9ab45a074cdaa12facc08017fedca7eb90b3a5,4bd46b0fc499cb9e89edd252854e13165b574009,Wez Furlong,wez@fb.com,Mon Feb 4 13:09:08 2019 -0800,1549314548,"probe for dll deps (#677)Summary:nFor our windows packaging, now that we have dynamic deps via folly, it is important to collect the non-system deps together for distribution.nnThis diff adds a script to collect them into the `.zip` archive produced by appveyor, and in the FB internal CI, runs the same script but does not yet change the internal package to include those deps.nnPull Request resolved: https://github.com/facebook/watchman/pull/677nnReviewed By: chadaustinnnDifferential Revision: D13869172nnPulled By: weznnfbshipit-source-id: 5ca42d292fff0b7e7803a211ebd9b98d216029e3n",209.0,0.0,"appveyor.yml,CAS_DELIMITER,winbuild/copy-dyn-deps.py,CAS_DELIMITER",2.0,2.0,2.0,0.0437636231174992,28.0,33.0,14.0,7.8694733796296275,6345.5,1.0635366530744312,269.0,None,False,,
4bd46b0fc499cb9e89edd252854e13165b574009,15334d32fde11ce23ed02f403e15842bc5dc9476,svcscm,svcscm@fb.com,Mon Feb 4 14:47:25 2019 -0800,1549320445,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ac91d32fa458c6698f6ff7c6569fdc57685cf40cn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,20.0,0.28900462962962964,387.0,4.460152182619144,387.0,None,False,,
15334d32fde11ce23ed02f403e15842bc5dc9476,7dc0789697a54ea3b0964ef1494bdb3ec4a48930,svcscm,svcscm@fb.com,Mon Feb 4 20:43:35 2019 -0800,1549341815,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 23f27370e7178c1dfc1d34867fc5be8c9e056924n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,394.0,1.442770061728395,389.0,2.5703948659850027,390.0,None,False,,
7dc0789697a54ea3b0964ef1494bdb3ec4a48930,631bdda241a136d975883de7d78aacce59dc0721,Wez Furlong,wez@fb.com,Mon Feb 4 21:34:59 2019 -0800,1549344899,"watchman: pull in thrift in the oss build for eden supportSummary:nThis diff enables building the eden watcher by linking in thrift andnits various dependencies.nnTo support building in-fbsource and in the github repo, a `maybe_shipit_dir`nfunction is used to setup a symlink to the `eden` and `fboss/common` dirs (thisnmirrors the shipit configuration for this project: we cannot simply run shipitnbecause we have to build on mac and windows and shipit requires Hack, and thatndoes not support those platforms).nnI tried to persuade cmake to let me build this without the use of a symlink butnfound it too difficult to teach everything about the path mapping.  Thensymlinks aren't terrible, but are the reason why this diff also updates somen`.gitinore` files that are seemingly unrelated to this diff.nnThis diff changes a couple of build/link options: without them the end productnfails to link either due to implicit/unilateral enablement of UBSAN in some ofnthe deps, or because warning->error promotion is turned on.nnThis diff includes a copy of the `ThriftCppLibrary.cmake` file from the fbossnrepo.  This should get centralized and shipit'ed out into the places thatnconsume it.  That can be done when someone gets around to doing the same fornthe `FindGlog.cmake` file and doesn't need to hold up this diff.nnReviewed By: simpkinsnnDifferential Revision: D13486486nnfbshipit-source-id: 3bb5b011771b2a87618147ca019b4e50a8e0aaf2n",249.0,46.0,".gitignore,CAS_DELIMITER,CMake/ThriftCppLibrary.cmake,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder_config.py,CAS_DELIMITER,common/.gitignore,CAS_DELIMITER,common/fb303/if/.gitignore,CAS_DELIMITER,getdeps.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",8.0,5.0,6.0,1.7813718969125862,29.0,326.375,131.0,7.872876157407408,6350.5,1.0345750974316057,324.0,None,False,,
631bdda241a136d975883de7d78aacce59dc0721,74dc331d549941587fce1fc5e943dcd00eeb6a49,Wez Furlong,wez@fb.com,Mon Feb 4 22:37:49 2019 -0800,1549348669,"copy appveyor deps to artifact zip file (#679)Summary:nI misread this and thought that they should go in the Release dir,nbut really they should go into the Watchman dir so that they getnincluded in the zip file.nPull Request resolved: https://github.com/facebook/watchman/pull/679nnDifferential Revision: D13954839nnPulled By: weznnfbshipit-source-id: 41bfd7e9d04423d59d605de432088c3f9bcbcf56n",1.0,1.0,"appveyor.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,67.0,15.0,0.3949189814814815,6355.0,3.5321649424108323,2949.0,None,False,,
74dc331d549941587fce1fc5e943dcd00eeb6a49,03b8c93efd508b9a90dccd78f6f971c9bf34f627,svcscm,svcscm@fb.com,Tue Feb 5 02:14:10 2019 -0800,1549361650,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 765e4a805726f31cb693d4f3412a5cb76f27d1fcn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,198.0,0.2295717592592593,391.0,5.355936475926391,391.0,None,False,,
03b8c93efd508b9a90dccd78f6f971c9bf34f627,a91faf110a1c48b372a8e56ee6f43f7883805c03,svcscm,svcscm@fb.com,Tue Feb 5 20:52:02 2019 -0800,1549428722,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 59893e35e94a8d99b9a9709cbf70c675bc7537c2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,398.0,0.9293441358024692,393.0,1.6379858475344768,394.0,None,False,,
a91faf110a1c48b372a8e56ee6f43f7883805c03,a2e27c04071b6720f8f29acb8e45ecac35fe99f1,svcscm,svcscm@fb.com,Wed Feb 6 21:25:12 2019 -0800,1549517112,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6faac98460b2d9e414f38eb52804db32731d58b1n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,200.0,1.0230324074074073,395.0,1.9774861409661728,395.0,None,False,,
a2e27c04071b6720f8f29acb8e45ecac35fe99f1,e86f5b3828d4a927f4a726415f55717f8180dbff,svcscm,svcscm@fb.com,Thu Feb 7 21:48:43 2019 -0800,1549604923,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 18ae8c05a4f4dd7399168a78f8015af31667e594n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,402.0,1.69835262345679,397.0,1.3379585221274521,398.0,None,False,,
e86f5b3828d4a927f4a726415f55717f8180dbff,541bbd0f9373340840bee8235bce0baa331bcdb0,svcscm,svcscm@fb.com,Thu Feb 7 23:17:18 2019 -0800,1549610238,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 52cc9a6b3235c41032594c5acee25887d74f67a3n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,405.0,0.0615162037037037,400.0,10.934148635936026,401.0,None,False,,
541bbd0f9373340840bee8235bce0baa331bcdb0,eb1de2293257be0301f6068648361a686a10082f,svcscm,svcscm@fb.com,Fri Feb 8 00:50:54 2019 -0800,1549615854,Updating submodulesReviewed By: yns88nnfbshipit-source-id: f9f8b623c045cc8eb71e3e427736fe579a854da8n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,203.0,0.065,402.0,16.384615384615387,402.0,None,False,,
eb1de2293257be0301f6068648361a686a10082f,944c075141f8a4b5aab2fd1d4d74490b1cf517a8,svcscm,svcscm@fb.com,Sat Feb 9 00:48:25 2019 -0800,1549702105,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 180882d38355689969b188bc379c3ff3086ad5dan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,409.0,1.0416087962962963,404.0,1.581859843029339,405.0,None,False,,
944c075141f8a4b5aab2fd1d4d74490b1cf517a8,5cc44401ea602227c8d60926fadaa60c95ae0fa3,svcscm,svcscm@fb.com,Sun Feb 10 00:33:23 2019 -0800,1549787603,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a340a0b4f3edf5e4ec42bd54d970e31eec900b96n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,412.0,0.9895601851851852,407.0,1.6175583054574378,408.0,None,False,,
5cc44401ea602227c8d60926fadaa60c95ae0fa3,a6613eef167eb65ee791929645f5788916ce9cb7,svcscm,svcscm@fb.com,Sun Feb 10 21:47:55 2019 -0800,1549864075,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 73b0af64aa46b0293b24183bba26fd71c44d8814n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,27.0,0.8850925925925925,409.0,2.129825295533005,409.0,None,False,,
a6613eef167eb65ee791929645f5788916ce9cb7,f6f5d68be308bf3b5a53a4f4e44b7f378c93dbba,svcscm,svcscm@fb.com,Mon Feb 11 21:55:52 2019 -0800,1549950952,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b5cfeab0fc2dcdd7a47da535449281f04c5f03e2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,416.0,1.595582561728395,411.0,1.5162358172439945,412.0,None,False,,
f6f5d68be308bf3b5a53a4f4e44b7f378c93dbba,8619a8581b8fb6a39693c31c4ec1cb4d5d2cde1c,svcscm,svcscm@fb.com,Tue Feb 12 05:36:05 2019 -0800,1549978565,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8a39fc7391c898b67310902c8c216a63a369f12cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,419.0,0.3195949074074074,414.0,2.9121428312751227,415.0,None,False,,
8619a8581b8fb6a39693c31c4ec1cb4d5d2cde1c,13499a02baf43625253c847581a6017bd7e308a7,svcscm,svcscm@fb.com,Tue Feb 12 20:42:10 2019 -0800,1550032930,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7d730945dbdd7bb7d10192061229ee6e759a1a7fn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,30.0,0.6292245370370371,416.0,2.589257794536926,416.0,None,False,,
13499a02baf43625253c847581a6017bd7e308a7,a3739e7e1f5c67635b00c6b6ff29b34fff85b1fd,svcscm,svcscm@fb.com,Wed Feb 13 03:11:40 2019 -0800,1550056300,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 65593445c8ea127829b6001df363017928364a8bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,423.0,0.6899691358024692,418.0,2.6782393459348715,419.0,None,False,,
a3739e7e1f5c67635b00c6b6ff29b34fff85b1fd,13f1862c3f997ad88152487e411019e66389cc8e,svcscm,svcscm@fb.com,Wed Feb 13 20:26:10 2019 -0800,1550118370,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e074a865b859fd72b34b012505dfbd3a27a0cc41n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,241.0,0.7184027777777777,420.5,2.0439826002899952,421.0,None,False,,
13f1862c3f997ad88152487e411019e66389cc8e,8fd3843d64402612af54db84ed658629979d1ca1,svcscm,svcscm@fb.com,Thu Feb 14 09:56:10 2019 -0800,1550166970,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ec4d26c138f94771e7c57d4c00e61c2b0f356d49n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,428.0,0.8019675925925925,423.0,2.027437019932329,424.0,None,False,,
8fd3843d64402612af54db84ed658629979d1ca1,07f4f79e651347e410b24c4f46732b2d142001d0,svcscm,svcscm@fb.com,Thu Feb 14 19:25:51 2019 -0800,1550201151,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f19f7547854887506029b7da6a8507b6da272f24n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,245.0,0.3956134259259259,425.5,2.8957900588046,426.0,None,False,,
07f4f79e651347e410b24c4f46732b2d142001d0,6a4d3735b62e963d1f56b6cc438f21fcb766d712,svcscm,svcscm@fb.com,Thu Feb 14 21:18:53 2019 -0800,1550207933,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ae401307723d68bd98b8abd3f14b328c5f8f31ban,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,433.0,0.21036651234567905,428.0,7.897981118626058,429.0,None,False,,
6a4d3735b62e963d1f56b6cc438f21fcb766d712,d72594a2c9aff950be6296d55591abe69d6c8e41,svcscm,svcscm@fb.com,Thu Feb 14 23:20:02 2019 -0800,1550215202,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8b129c5ef0fef7833caf10ec2bca15576615bcddn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,187.0,0.08413194444444444,430.0,12.886091621956256,430.0,None,False,,
d72594a2c9aff950be6296d55591abe69d6c8e41,1f18e1a7dacc30e799a61702b166c0220a55f89d,svcscm,svcscm@fb.com,Fri Feb 15 13:54:55 2019 -0800,1550267695,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7f032b8919f075dcd3dd6d1359e1f032678cdca3n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,36.0,0.6916898148148148,431.0,2.445734747833071,431.0,None,False,,
1f18e1a7dacc30e799a61702b166c0220a55f89d,ae597506c6faa6c06e49c792fc8a80ea2fb00a2d,Adam Simpkins,simpkins@fb.com,Fri Feb 15 19:00:36 2019 -0800,1550286036,add thrift APIs to the fault injection frameworkSummary: Add some thrift APIs that allow injecting faults into Eden's FaultInjector.nnReviewed By: weznnDifferential Revision: D14079490nnfbshipit-source-id: a9ec16b560ddcc79d5d819dbbc120ad5da556b4en,49.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,874.0,1.0,23.404872685185186,25.0,1.0427261456813213,0.0,Feature Addition,False,,
ae597506c6faa6c06e49c792fc8a80ea2fb00a2d,585ef34fcda3f20beac1bc7a9250805e36780f28,svcscm,svcscm@fb.com,Sat Feb 16 00:32:29 2019 -0800,1550305949,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b4540f823d1166f02fb2c5c6ed8c95b049ba4085n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,213.0,1.1344444444444444,432.0,1.881488736532811,432.0,None,False,,
585ef34fcda3f20beac1bc7a9250805e36780f28,489258bd9b9071ef7f3d4a0bda661035be2d8f28,svcscm,svcscm@fb.com,Sat Feb 16 10:16:34 2019 -0800,1550340994,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5686cec1ca1c00f8f8bb7cb3aa815165f75c0b5bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,225.0,1.152146990740741,433.5,1.8063530422190088,434.0,None,False,,
489258bd9b9071ef7f3d4a0bda661035be2d8f28,3aeedd49cb941122af950c30d8e5ec662208c30e,svcscm,svcscm@fb.com,Mon Feb 18 02:39:13 2019 -0800,1550486353,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 54574a3be9cceb8e05b4bac5e3fd9711b6c180b8n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,214.0,2.0880092592592594,435.0,1.4789250792665352,435.0,None,False,,
3aeedd49cb941122af950c30d8e5ec662208c30e,897e68d68dd5d84ddbfc958ecac656240d3742cf,svcscm,svcscm@fb.com,Mon Feb 18 23:03:59 2019 -0800,1550559839,Updating submodulesReviewed By: zpaonnfbshipit-source-id: eca3ff4ed61a49cea862a1f17fa2ba31b9fa90d0n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,227.0,2.5329282407407407,436.5,1.2960999794375012,437.0,None,False,,
897e68d68dd5d84ddbfc958ecac656240d3742cf,79da271b535c3148ce95327a2dcc94eb0a7a163d,svcscm,svcscm@fb.com,Tue Feb 19 10:59:26 2019 -0800,1550602766,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 2ab936d2fab2aa83fc161095bb0e19e7b97d64cen,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,254.0,0.9221064814814816,438.5,2.2774779970453105,439.0,None,False,,
79da271b535c3148ce95327a2dcc94eb0a7a163d,66560125bf5ce3f30ef4a0a00c2e4feb36d5a77a,Wez Furlong,wez@fb.com,Tue Feb 19 11:23:30 2019 -0800,1550604210,"add dtype as an optional return value from globSummary:nThis diff adds the dtype field to the glob results;nthis will help to reduce the cost of some watchman queries by avoiding angetFileInformation call that instantiates inodes.nnAs part of this, I added a bunch of unit test coverage.nnReviewed By: stragernnDifferential Revision: D8779149nnfbshipit-source-id: 3064a3e42be55ec576fed9e0f7112edef426f32dn",9.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,923.0,2.0,3.6825694444444435,6356.0,1.2715495295027253,2.0,Feature Addition,False,,
66560125bf5ce3f30ef4a0a00c2e4feb36d5a77a,d4656ccb429c8f8ae937c98fa65aab8464eae031,Wez Furlong,wez@fb.com,Tue Feb 19 11:23:31 2019 -0800,1550604211,watchman: remove fallback to old eden glob methodSummary: it has been long enough that we can delete this fallbacknnReviewed By: simpkinsnnDifferential Revision: D14111363nnfbshipit-source-id: 337ba8fc376114021397133bb922bd98bc7cc506n,8.0,28.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1306.0,73.0,14.575370370370367,6357.0,1.068608891204086,325.0,None,False,True,"[""1c796889735b9cb5bbec2c7d789ca7554ee81e9c""]"
d4656ccb429c8f8ae937c98fa65aab8464eae031,e30f2cd694288339622a9997aeff050384b61820,Wez Furlong,wez@fb.com,Tue Feb 19 11:23:31 2019 -0800,1550604211,watchman: add DType concept to FileInformationSummary:nDType information can be cheaper to query for a file than thenfull stat information (particularly with the Eden watcher).nnThis diff introduces an enum that allows portablynworking with that concept and adds an accessor that returns the dtypenfrom FileInformation.nnReviewed By: simpkinsnnDifferential Revision: D14111364nnfbshipit-source-id: 1eac4dfc5575f77dba9aba8a57b4de15f44bc1ean,60.0,0.0,"FileInformation.cpp,CAS_DELIMITER,FileInformation.h,CAS_DELIMITER",2.0,1.0,1.0,0.8812908992306927,22.0,84.5,6.0,348.8658101851852,6358.5,1.0021498237376771,2951.0,None,False,,
e30f2cd694288339622a9997aeff050384b61820,c956663304b3fbe915651b2a44d98a2b9c226ce8,svcscm,svcscm@fb.com,Tue Feb 19 11:23:52 2019 -0800,1550604232,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c39d85ffa346a77baff52f9f2ecf2f2607f9fc61n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,230.0,0.2653877314814815,440.5,31.4099578972226,441.0,None,False,,
c956663304b3fbe915651b2a44d98a2b9c226ce8,0bf5f99c43294706ec724349f3cf8007d6c34c2f,Wez Furlong,wez@fb.com,Tue Feb 19 11:26:42 2019 -0800,1550604402,"watchman: fix local var type, avoid badness for config getsSummary:nFound these while code modding in the next diff; these were using annexplicit json_t* type for the local variable which is implicitly convertiblenfrom the json_ref returned by the functions they call, but is potentially badnbecause the ref is released before the rest of the function is done consumingnit.  In practice I think this is fine because the config is generally notnmutated.nnReviewed By: chadaustinnnDifferential Revision: D14102883nnfbshipit-source-id: ba8ed39edb616e259f2afa6ad5eeb4ca0bb82e54n",4.0,11.0,"root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER",3.0,1.0,1.0,1.521928094887362,29.0,154.66666666666666,96.0,243.04600308641972,6361.0,1.0168085319958442,2954.0,None,False,,
0bf5f99c43294706ec724349f3cf8007d6c34c2f,265f549b654b5d916ecef1f733f65f457b917791,Wez Furlong,wez@fb.com,Tue Feb 19 11:26:42 2019 -0800,1550604402,watchman: `json_is_XXX(o)` -> `o.isXxx()`Summary: This makes the json_ref api look more like folly::dynamic and eases a future attempt to migrate to it.nnReviewed By: chadaustinnnDifferential Revision: D14102882nnfbshipit-source-id: 7930309b2e11d71b9ea99f8dd5df561429dfd4d2n,110.0,80.0,"cfg.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/base.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/since.cpp,CAS_DELIMITER,query/suffix.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/vcs.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER",24.0,6.0,6.0,3.947719985742416,29.0,250.75,561.0,121.0634765625,6374.5,1.0032326819082262,243.0,None,False,,
265f549b654b5d916ecef1f733f65f457b917791,061e6abd75449256e00cd8880b94d030f3360ee4,Wez Furlong,wez@fb.com,Tue Feb 19 11:26:42 2019 -0800,1550604402,watchman: `json_is_true(o)` -> `o.asBool()`Summary: This also helps make the api more folly::dynamic-alikennReviewed By: chadaustinnnDifferential Revision: D14102884nnfbshipit-source-id: 201b4b697d58be4dbb3c59cc0c91d87ac9d9969fn,21.0,8.0,"cfg.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",6.0,4.0,4.0,2.2354379673685973,29.0,583.3333333333334,200.0,57.685366512345674,6389.5,0.3342964152436101,326.0,None,False,,
061e6abd75449256e00cd8880b94d030f3360ee4,9ba9a089f9709f50215a0aaf195aa2b0b5d708e3,svcscm,svcscm@fb.com,Tue Feb 19 17:00:29 2019 -0800,1550624429,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 874eba7c0dc145fb2ceb6439a0b35c0c342e4e3cn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,216.0,0.2507291666666667,442.0,4.988367262152057,442.0,None,False,,
9ba9a089f9709f50215a0aaf195aa2b0b5d708e3,fb7d0c93f2dfa3b5563c50ca2301cce750356e1a,svcscm,svcscm@fb.com,Wed Feb 20 09:23:27 2019 -0800,1550683407,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4ee15707bcf8c23c2d7feb6987acecef4131d467n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,258.0,0.7994965277777777,443.5,1.8583235688151984,444.0,None,False,,
fb7d0c93f2dfa3b5563c50ca2301cce750356e1a,ee02986f9f6ebfb325e653e9aa226ea9325cccb1,svcscm,svcscm@fb.com,Wed Feb 20 23:57:29 2019 -0800,1550735849,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 2bb63bc18d993d9d8cf5667ac7ffb904cb257a59n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,451.0,0.912426697530864,446.0,1.9455425931021777,447.0,None,False,,
ee02986f9f6ebfb325e653e9aa226ea9325cccb1,bc98e9bb71d8432e2bd25c2e1a88c6d230bfc1f0,svcscm,svcscm@fb.com,Thu Feb 21 01:16:38 2019 -0800,1550740598,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 842f5989cf8a1cc9a3525a563860407e4d596baen,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,43.0,0.05496527777777778,448.0,19.193303853442828,448.0,None,False,,
bc98e9bb71d8432e2bd25c2e1a88c6d230bfc1f0,521d98bc4a8ada3ed8b7c7c19887ea62c0c5f447,svcscm,svcscm@fb.com,Thu Feb 21 02:23:52 2019 -0800,1550744632,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b4bf998c27aa91b9905ab417f5538a7be1971bf4n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,263.0,0.0741724537037037,449.5,15.079497246796935,450.0,None,False,,
521d98bc4a8ada3ed8b7c7c19887ea62c0c5f447,0ec2395802c2b090abedb9a4db8c03ab43b9266c,svcscm,svcscm@fb.com,Thu Feb 21 16:41:40 2019 -0800,1550796100,Updating submodulesReviewed By: zpaonnfbshipit-source-id: ef385e1caea238225b5e4b0971b1bc7e08381010n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,220.0,0.5956944444444444,451.0,2.678712986710189,451.0,None,False,,
0ec2395802c2b090abedb9a4db8c03ab43b9266c,d2012803b813a1c815c6f5330ccd0a74ae8704be,svcscm,svcscm@fb.com,Fri Feb 22 13:14:24 2019 -0800,1550870064,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 696b7f50c4a2fc573e9fcf6738c9fa8ad8f985c1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,458.0,1.287079475308642,453.0,1.4603707660231071,454.0,None,False,,
d2012803b813a1c815c6f5330ccd0a74ae8704be,47cd2c277cf9c77ebc246fd1c3a2d08fea0f23ce,svcscm,svcscm@fb.com,Sat Feb 23 11:23:18 2019 -0800,1550949798,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b7c9e14a3d4f4fd611ad36d79e0034a0062a64a0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,461.0,0.9228472222222224,456.0,1.6622018210550078,457.0,None,False,,
47cd2c277cf9c77ebc246fd1c3a2d08fea0f23ce,ee47a8238aba4c0a9847b5d39eb73ed0aa6e6877,svcscm,svcscm@fb.com,Sun Feb 24 11:42:17 2019 -0800,1551037337,Updating submodulesReviewed By: zpaonnfbshipit-source-id: af795e19e9ee4a4ee01c66ac27a2c99576e470b8n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,464.0,1.0131828703703705,459.0,1.6031597345183288,460.0,None,False,,
ee47a8238aba4c0a9847b5d39eb73ed0aa6e6877,e992aa2c7d033e38f725c2dcb1386d987a519a35,svcscm,svcscm@fb.com,Mon Feb 25 11:37:08 2019 -0800,1551123428,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 1801b5ca540ca00a76a90fc1b68d0116749e05fbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,467.0,0.9964236111111112,462.0,1.6133045266055686,463.0,None,False,,
e992aa2c7d033e38f725c2dcb1386d987a519a35,7e753ce276a49dc3955b1ed24e9e60c529bbcbe4,svcscm,svcscm@fb.com,Tue Feb 26 10:30:52 2019 -0800,1551205852,Updating submodulesReviewed By: yns88nnfbshipit-source-id: fa79672a634964ada8b5a4903e64f4a3227e78f5n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,470.0,0.9539814814814814,465.0,1.6405901193827042,466.0,None,False,,
7e753ce276a49dc3955b1ed24e9e60c529bbcbe4,a835e54906437a8139c2693e486ba62e639e28b3,svcscm,svcscm@fb.com,Tue Feb 26 15:53:58 2019 -0800,1551225238,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c6aa56a50d7efa4e6108933774bdc384cce150can,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,50.0,0.224375,467.0,5.456824512534818,467.0,None,False,,
a835e54906437a8139c2693e486ba62e639e28b3,838a72498b1fd8aa5abe08f4d6516306570309e6,Wez Furlong,wez@fb.com,Tue Feb 26 16:46:28 2019 -0800,1551228388,watchman: remove some uses of `json_unpack`Summary:nI'd like to remove `json_unpack` in the future and thesenare the easiest uses to migrate away.nnReviewed By: stragernnDifferential Revision: D14102885nnfbshipit-source-id: 04deb92d8cacf4631c1e4798d190ad14fe3b5334n,15.0,11.0,"cmds/subscribe.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER",3.0,3.0,3.0,1.3701635095276024,29.0,429.0,121.0,7.222060185185184,6394.0,1.084617283080069,422.0,None,False,,
838a72498b1fd8aa5abe08f4d6516306570309e6,536ad5849b3227a55dff5fd5f8e527d57e2ecdd8,svcscm,svcscm@fb.com,Tue Feb 26 17:18:54 2019 -0800,1551230334,Updating submodulesReviewed By: yns88nnfbshipit-source-id: fbf3d672b8293dbd3bc2938f9fd39fe293902dd3n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,277.0,0.17116898148148146,468.5,10.937782048327527,469.0,None,False,,
536ad5849b3227a55dff5fd5f8e527d57e2ecdd8,c163f648fd591846cb93cd2921bec96938d20f46,svcscm,svcscm@fb.com,Tue Feb 26 18:05:12 2019 -0800,1551233112,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 80078ecb8caa920c62a417928f6122ead9cd3b52n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,476.0,0.12660493827160493,471.0,17.428376612367355,472.0,None,False,,
c163f648fd591846cb93cd2921bec96938d20f46,78de9c9cdd828e8b12ff8437cdd6a5226c97839c,svcscm,svcscm@fb.com,Tue Feb 26 23:06:59 2019 -0800,1551251219,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 81bf6c1751d0e71c073bc3979af42fb83c23e5f9n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,228.0,0.20957175925925925,473.0,5.7716352791738,473.0,None,False,,
78de9c9cdd828e8b12ff8437cdd6a5226c97839c,89d8e5b5e2179512c19bd6cc4278266692746d63,svcscm,svcscm@fb.com,Wed Feb 27 15:14:14 2019 -0800,1551309254,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 65e29a27d4579dbcd6bffd8cfc74aedb0c2fe7d9n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,282.0,0.7764872685185185,474.5,1.8893237639320508,475.0,None,False,,
89d8e5b5e2179512c19bd6cc4278266692746d63,f622db5851ff4ea4a862caa19de987c955990c35,Wez Furlong,wez@fb.com,Wed Feb 27 15:30:45 2019 -0800,1551310245,"watchman: add dtype concept to FileResultSummary:nintroduce the `dtype` method with a default implementationnthat calls `FileInformation::dtype`.   Make the `type` field renderernand `type` query term aware of `dtype`, which makes them potentiallynvery slightly faster as they can now be executed using a switchnstatement rather than a series of conditionals on posix systems.nnThis should not change behavior in an observable way.nnReviewed By: stragernnDifferential Revision: D14111365nnfbshipit-source-id: 08e71fe032f0536daf4084d3bbad2da5548f8530n",70.0,0.0,"query/eval.cpp,CAS_DELIMITER,query/fieldlist.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER",4.0,2.0,2.0,1.7472206457339492,29.0,343.0,218.0,26.97048900462963,6397.5,1.0193000985528586,2964.0,None,False,,
f622db5851ff4ea4a862caa19de987c955990c35,13ae0e319dd256a9b2ce6cb748bf8c41081ecfc1,Wez Furlong,wez@fb.com,Wed Feb 27 16:08:52 2019 -0800,1551312532,watchman: tweak windows docs (#686)Summary:nRefs: https://github.com/facebook/watchman/issues/683nCloses: https://github.com/facebook/watchman/issues/684nPull Request resolved: https://github.com/facebook/watchman/pull/686nnDifferential Revision: D14249670nnPulled By: weznnfbshipit-source-id: 981715ae4900b6ea6ff974cae6b43129ba346c7cn,2.0,2.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,216.0,12.0,233.12305555555562,6400.0,1.00428958001437,236.0,None,False,,
13ae0e319dd256a9b2ce6cb748bf8c41081ecfc1,8a4ed60a914f19ef3f0404a491b432cdc25283ff,svcscm,svcscm@fb.com,Wed Feb 27 17:26:42 2019 -0800,1551317202,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 02e9b8c1aa8171378256b3157ab3d2b0a3ded223n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,230.0,0.09199074074074072,476.0,11.870659285354805,476.0,None,False,,
8a4ed60a914f19ef3f0404a491b432cdc25283ff,05c91aa1fac8319e1889a071afe7cef6afebca86,svcscm,svcscm@fb.com,Wed Feb 27 18:29:46 2019 -0800,1551320986,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6345e83a393cf3189d381d045c2d1e3abfc3d585n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,429.0,0.5304282407407408,477.5,12.8878077744379,478.0,None,False,,
05c91aa1fac8319e1889a071afe7cef6afebca86,eb513108e59a6b3a130155acb2629c12c0a34aaf,svcscm,svcscm@fb.com,Wed Feb 27 22:19:47 2019 -0800,1551334787,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5dd7b2be10952ce367970b7e5c738f87b26a31f5n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,232.0,0.1597337962962963,479.0,7.260415911890442,479.0,None,False,,
eb513108e59a6b3a130155acb2629c12c0a34aaf,f9e52a576c235c09c18aac517ce92b84af552018,svcscm,svcscm@fb.com,Thu Feb 28 18:30:38 2019 -0800,1551407438,Updating submodulesReviewed By: yns88nnfbshipit-source-id: bf91b610642926dc2d046c78401a44fd69ee3a29n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,486.0,0.9926195987654322,481.0,1.5738477890450804,482.0,None,False,,
f9e52a576c235c09c18aac517ce92b84af552018,d67a9994164375336ea7302711f33fadffcf8ea0,svcscm,svcscm@fb.com,Fri Mar 1 18:30:12 2019 -0800,1551493812,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 41df7b073885162da03b748c87c0b7df911f4d0en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,489.0,0.999699074074074,484.0,1.6112950656447542,485.0,None,False,,
d67a9994164375336ea7302711f33fadffcf8ea0,0fc5fee6811fc411c2516cb96a149bc8b73b555d,svcscm,svcscm@fb.com,Sat Mar 2 12:08:52 2019 -0800,1551557332,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 26979bcbb28cb1e55112485935ff0f05b487c015n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,436.0,0.7351851851851852,486.5,2.020151133501259,487.0,None,False,,
0fc5fee6811fc411c2516cb96a149bc8b73b555d,60a73f4260a399db683bb67228baa6271e7ea284,svcscm,svcscm@fb.com,Sat Mar 2 19:44:33 2019 -0800,1551584673,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b7da6be6cea932cab32af8b1db7959eedfafc330n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,258.0,0.6840393518518518,488.5,1.840927563325456,489.0,None,False,,
60a73f4260a399db683bb67228baa6271e7ea284,6907a44297dfa7779346ab5001452184259aa510,svcscm,svcscm@fb.com,Sun Mar 3 19:25:02 2019 -0800,1551669902,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c3dd262c9f8a42a38f16af8b188af6a706b99053n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,57.0,0.9864467592592592,490.0,2.013739454880381,490.0,None,False,,
6907a44297dfa7779346ab5001452184259aa510,00b63ac799fc18f9137fed7ebc53207030ebfc37,svcscm,svcscm@fb.com,Mon Mar 4 12:40:54 2019 -0800,1551732054,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a5471febd63f061cc92668e9e02a3f69390e7a38n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,497.0,1.4824652777777778,492.0,1.6599139555012643,493.0,None,False,,
00b63ac799fc18f9137fed7ebc53207030ebfc37,f8f8a04d952c888d1c625288509be82d6796c402,svcscm,svcscm@fb.com,Mon Mar 4 13:51:57 2019 -0800,1551736317,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 67ed9781375ce712d8a93f48c42d3f2ffeb21418n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,59.0,0.049340277777777775,494.0,21.26741731175229,494.0,None,False,,
f8f8a04d952c888d1c625288509be82d6796c402,a8b8552c3383ddf99f20b698d52447fbf817a83f,Matt Glazar,strager@fb.com,Mon Mar 4 15:13:37 2019 -0800,1551741217,Delete unused function in testsReviewed By: chadaustinnnDifferential Revision: D14272083nnfbshipit-source-id: 4c0f54759b3c423d65b35aae0e151d7e2ebc9319n,0.0,4.0,"tests/integration/WatchmanTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,514.0,60.0,154.12953703703704,83.0,1.0064880490736807,48.0,Preventative,False,,
a8b8552c3383ddf99f20b698d52447fbf817a83f,e50866e321524aa4084a0f75e9d6dead1e612c17,svcscm,svcscm@fb.com,Mon Mar 4 15:30:26 2019 -0800,1551742226,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 94ace1140283ff1583dc0318cdfd6b1b08f39c23n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,60.0,0.0683912037037037,495.0,15.621763411744794,495.0,None,False,,
e50866e321524aa4084a0f75e9d6dead1e612c17,85c01903167ec377a39324edc4e88dc35ef47b8b,svcscm,svcscm@fb.com,Mon Mar 4 22:47:02 2019 -0800,1551768422,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 254ba5e77d676ca27b4ef5938c23e1c001292d13n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,298.0,0.3620601851851852,496.5,3.339599669086817,497.0,None,False,,
85c01903167ec377a39324edc4e88dc35ef47b8b,6b6e8cbf9cf590630724e7b16b2b00d297b1fb92,Matt Glazar,strager@fb.com,Tue Mar 5 12:34:14 2019 -0800,1551818054,"Reduce test flakiness when starting WatchmanSummary:nOn machines with high load (e.g. when stress-testing), Watchman tests frequently fail due to a timeout in WatchmanInstance.start. A timeout of 5 seconds is pretty low, especially with unoptimized builds with sanitizers enabled.nnMake tests less flaky by increasing the timeout.nnReviewed By: simpkinsnnDifferential Revision: D14294193nnfbshipit-source-id: 2e94ad719500025252a5fa45626cf43169a4745cn",1.0,1.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,251.0,37.0,115.88849537037035,84.0,1.0086289842387208,49.0,Preventative,False,,
6b6e8cbf9cf590630724e7b16b2b00d297b1fb92,b64ed23c718a079541e19cb994576b7ccbd180e7,Matt Glazar,strager@fb.com,Tue Mar 5 12:41:57 2019 -0800,1551818517,"Delete unused temp dir in testsSummary:n`_Instance.__init__` sets base_dir, then immediately calls `_init_state`. `_init_state` overrides base_dir, making the earlier assignment pointless.nnRemove the dead store to base_dir and the unused temporary directory.nnThis diff should not change behavior.nnReviewed By: simpkinsnnDifferential Revision: D14294179nnfbshipit-source-id: b159c99da581d61e5b843a2a9bca5c1f35b9e222n",0.0,1.0,"tests/integration/WatchmanInstance.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,251.0,38.0,0.005358796296296296,85.0,187.6090712742981,50.0,Preventative,False,,
b64ed23c718a079541e19cb994576b7ccbd180e7,e9ffc32f8cb8b8e5947f5155ccd9b58c51ba7020,Wez Furlong,wez@fb.com,Wed Mar 6 01:38:40 2019 -0800,1551865120,"watchman: add script to bootstrap a vcpkg install for windows depsSummary:nThis diff sets up a script that can re-create the vcpkg installation needed to build the dependencies for watchman on windows.   The intent is to share this with the eden build.nnThe bootstrap creates a zip file containing a vcpkg installation and then uses the `lfs.py` tool to upload that archive and capture its contents hash.nnAs a proof of concept, this diff includes that hash and the changes needed to the watchman lego windows build to stop using the fbpkg version of these deps (T40874235)nnReviewed By: pkaushnnDifferential Revision: D13954452nnfbshipit-source-id: 606b381c3b447ffbbb17e71ac1886e2212295340n",48.0,12.0,"CMake/FindGflags.cmake,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,getdeps.py,CAS_DELIMITER",3.0,2.0,2.0,1.3366664819166876,29.0,411.33333333333326,25.0,19.446149691358027,6402.0,0.6838080205399976,2966.0,None,False,,
e9ffc32f8cb8b8e5947f5155ccd9b58c51ba7020,729d6eba6942969108dee116d0539f84bdf232c0,Matt Glazar,strager@fb.com,Thu Mar 7 19:29:53 2019 -0800,1552015793,Add missing copyright noticesSummary: Internal Facebook infrastructure is nagging me about some files not having a Facebook copyright notice. Add a notice to these files to make the nagging stop.nnReviewed By: simpkinsnnDifferential Revision: D14173944nnfbshipit-source-id: 7234431224fcf4f86ea56ca2f9108f47ef959d87n,20.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER,eden/fs/service/streamingeden.thrift,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,480.0,4.0,29.88148726851852,86.5,1.0389703230830611,1.0,Feature Addition,False,,
729d6eba6942969108dee116d0539f84bdf232c0,fb1a28b533a96039a1569ea88fb962e1dcba341e,Matt Glazar,strager@fb.com,Thu Mar 7 20:48:17 2019 -0800,1552020497,Document how Watchman queries handle symlinksSummary: Explain how Watchman currently handles symlinks for the `query` command.nnReviewed By: weznnDifferential Revision: D14288418nnfbshipit-source-id: c8b99958b6511d0b3e8c916652a2278db69e8db1n,30.0,0.0,"website/_docs/file-query.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,261.0,5.0,736.218599537037,88.0,1.0013582922254731,0.0,Non Functional,False,,
fb1a28b533a96039a1569ea88fb962e1dcba341e,b9435f81cf018e9d2c30f499a75535ea81d599bc,Matt Glazar,strager@fb.com,Fri Mar 8 15:47:19 2019 -0800,1552088839,Make setup and teardown symmetrical in WatchmanEdenTestCaseSummary:nWatchmanEdenTestCase is inconsistent in how it sets up and tears down its fixture components:nnSetup:nn1. Fake $HOMEn2. Spawn EdenFSn3. Spawn Watchmann4. Connect Watchman clientnnTeardown:nn1. Restore $HOMEn2. Shut down EdenFSn3. Shut down Watchmann4. Disconnect Watchman clientnnReorder steps in each to make teardown perform the opposite steps of setup:nnSetup:nn1. Fake $HOMEn2. Spawn Watchmann3. Connect Watchman clientn4. Spawn EdenFSnnTeardown:nn1. Shut down EdenFSn2. Disconnect Watchman clientn3. Shut down Watchmann4. Restore $HOMEnnReviewed By: chadaustinnnDifferential Revision: D14294029nnfbshipit-source-id: e130e3ea6c6c9c7b118281460d78f31d527ccbf8n,12.0,11.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,132.0,16.0,79.01121527777778,89.0,1.0126564310710109,51.0,Preventative,False,True,"[""8a954a42206e34fb1bd42aef432747b1de10c5f8""]"
b9435f81cf018e9d2c30f499a75535ea81d599bc,8a954a42206e34fb1bd42aef432747b1de10c5f8,Matt Glazar,strager@fb.com,Fri Mar 8 15:47:20 2019 -0800,1552088840,"Clean up test edenfs if Watchman fails to startSummary:nIn the past, WatchmanEdenTestCase's setUp method started edenfs then starts Watchman. If starting Watchman fails, edenfs wasn't cleaned up. This is because the unittest module does not call tearDown if setUp fails.nnD14294029 fixed this issue by starting Watchman before starting edenfs. However, if more code is added to WatchmanEdenTestCase.setUp and that code raises an exception, edenfs won't be cleaned up.nnInstead of cleaning up edenfs in tearDown, clean it up using addCleanup. Functions registered with addCleanup are called if setUp fails.nntearDown is called before addCleanup callbacks are called. edenfs cleanup requires that the Watchman server and client are still alive. If we clean up edenfs in an addCleanup callback, we are forced to clean up the Watchman server and client using addCleanup too.nnFor tests using WatchmanTestCase but not WatchmanEdenTestCase, this diff should not change behavior.nnReviewed By: chadaustinnnDifferential Revision: D14268738nnfbshipit-source-id: e02bceb4eb3071323cc01d21097767dfb57d1bfdn",16.0,17.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER,tests/integration/WatchmanTestCase.py,CAS_DELIMITER",2.0,1.0,1.0,0.6136190195993708,28.0,321.5,78.0,2.0117129629629638,90.5,43201.12427220215,53.0,Corrective,True,,
8a954a42206e34fb1bd42aef432747b1de10c5f8,6aeb52db66e10d70e55495bea939486895add792,Shrikrishna Khare,skhare@fb.com,Sat Mar 9 10:12:06 2019 -0800,1552155126,"spawn thread to publish statsSummary:nwedge_agent uses ThreadLocal stats update API to avoid the overhead ofnacquiring lock for each stat update. Prior to this patch, wedge_agent used itsnown StatsPublisher class which called publishStats every second. StatsPublishernalso asserted if startPublishThread is not running as StatsPublisher was doingnthe stats publish.nnHowever, there is no reason for wedge_agent to publish stats on its own.nInstead, the wedge_agent could use startPublishThread mechanism.nnWith D14255180, servicerouter/dispatcher now calls startPublishThread, whichnstarted hitting in the aforementioned ASSERT in StatsPublisher.nnThis patch fixes it by having wedge_agent start the publish thread by callingnstartPublishThread. Among other things, StatsPublisher also updated route statsnand port info. That functionality is moved to updateStats.nnDifferential Revision: D14388119nnfbshipit-source-id: 503d08f12131317592be64e46243401d8a2e5baen",3.0,5.0,"common/stats/ThreadCachedServiceData.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,80.0,1.0,45.0378587962963,1.0,1.022203542235943,1.0,None,False,,
6aeb52db66e10d70e55495bea939486895add792,3071603d91429298581c89ff426561910fd0ce67,Lee Howes,lwh@fb.com,Sun Mar 10 19:39:06 2019 -0700,1552271946,Replace Future::onError with Future::thenErrorSummary:nReplace Future::onError with Future::thenError:n * to remove ambiguous typingn * to ensure that the executor is not lost and the returned Future is still bound to an executornnSee:nhttps://fb.workplace.com/groups/fbcode/permalink/2002251863144976/nfor details.nnReviewed By: yfeldblumnnDifferential Revision: D14400425nnfbshipit-source-id: 1b9c46b2a6097691281aa39fd802d23172e62c7dn,2.0,2.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,396.0,9.0,125.19225694444445,6.0,1.0079877144514118,5.0,None,False,,
3071603d91429298581c89ff426561910fd0ce67,cc087ace3086dfe0ede993d63a98ad7b3e65d717,svcscm,svcscm@fb.com,Tue Mar 12 13:22:58 2019 -0700,1552422178,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 06c0f738c791cccf79025d15f1fc2076bf34fcd1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,504.0,7.706929012345679,499.0,1.0804967404021308,500.0,None,False,,
cc087ace3086dfe0ede993d63a98ad7b3e65d717,084f8cf6678dd9174a189dec3288cff839a07cb0,svcscm,svcscm@fb.com,Tue Mar 12 13:50:43 2019 -0700,1552423843,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 1082ee5f5918746ccb0bae6c7fda76ab51444e57n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,268.0,0.01927083333333333,501.5,39.91891891891892,502.0,None,False,,
084f8cf6678dd9174a189dec3288cff839a07cb0,57ea59981ae07da1c31b0d25a27079fff44d6187,svcscm,svcscm@fb.com,Tue Mar 12 20:13:54 2019 -0700,1552446834,Updating submodulesReviewed By: zpaonnfbshipit-source-id: aa8b6f1ddd3eb65759fcef86ab567709b51da2cbn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,239.0,0.2853703703703704,503.0,4.504218040233615,503.0,None,False,,
57ea59981ae07da1c31b0d25a27079fff44d6187,36a3056d3d9225dcb647906f8856aa2f3141edec,svcscm,svcscm@fb.com,Wed Mar 13 13:47:50 2019 -0700,1552510070,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 2b7a0eb963c9d88c4549406f791658a780451641n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,510.0,0.9092978395061728,505.0,1.6488863482064091,506.0,None,False,,
36a3056d3d9225dcb647906f8856aa2f3141edec,384e6e7fd39292a9fa2f3bffeadb9f0da4804398,svcscm,svcscm@fb.com,Thu Mar 14 03:30:00 2019 -0700,1552559400,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4199d39d23bcaf766dea9d82861ae85c84cf08c1n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,65.0,0.5709490740740739,507.0,2.751469693898237,507.0,None,False,,
384e6e7fd39292a9fa2f3bffeadb9f0da4804398,14e7f2d8e912f91a950110f1a4b44ed9f6629f88,svcscm,svcscm@fb.com,Thu Mar 14 10:59:25 2019 -0700,1552586365,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7db9c5e072006b8bf0f63b8d720d3132454e4aean,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,66.0,0.3120949074074074,508.0,4.2041535323567585,508.0,None,False,,
14e7f2d8e912f91a950110f1a4b44ed9f6629f88,c30b8812884d05e7d2467fbf8adde78aa9c87d28,Wez Furlong,wez@fb.com,Thu Mar 14 12:48:43 2019 -0700,1552592923,"watchman: disable test_scm for ubuntu hostsSummary:nWe were already doing this but only for jobs spawned directly via NBTD.nnThe fbcode_builder spawned jobs don't have a good way to pass down thenenvironment variable that was used to skip this test, so this diff changes thentest to look to see if we're on an ubuntu host where this test is mostnstrongly flakey rather than looking at an env var.nnWe should spend some time to root cause this, but for now, this should reduce noise.nnReviewed By: mzleennDifferential Revision: D14383916nnfbshipit-source-id: 5403c713c515db49ab93824f16523a503550e621n",11.0,4.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,517.0,24.0,120.9365162037037,6404.0,1.0082688011147571,837.0,None,False,,
c30b8812884d05e7d2467fbf8adde78aa9c87d28,cb9d838e729ce8f718d12f94b20bfc7c8bf53246,svcscm,svcscm@fb.com,Thu Mar 14 13:52:43 2019 -0700,1552596763,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 472e13e0bf8d3cddb22a61fa7eb868962b8c4058n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,241.0,1.0033912037037036,509.0,1.9966202576909324,509.0,None,False,,
cb9d838e729ce8f718d12f94b20bfc7c8bf53246,5bcab23a228d13adad302a67c6f8cb7ac7902da9,svcscm,svcscm@fb.com,Thu Mar 14 17:29:53 2019 -0700,1552609793,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 03dd985270df198e0c8b28395fbc5e970bc90637n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,274.0,0.7126793981481482,510.5,3.1947362823010463,511.0,None,False,,
5bcab23a228d13adad302a67c6f8cb7ac7902da9,422c345664cf5e65e64ca9d5946d0a3e2f6898fc,svcscm,svcscm@fb.com,Thu Mar 14 18:36:38 2019 -0700,1552613798,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4be3bbfcaf007b1926f04f4deccad28504e3b2f3n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,68.0,0.04635416666666667,512.0,22.57303370786517,512.0,None,False,,
422c345664cf5e65e64ca9d5946d0a3e2f6898fc,f383be461004af4b81cd3b67229186e16b49456e,svcscm,svcscm@fb.com,Thu Mar 14 19:37:19 2019 -0700,1552617439,Updating submodulesReviewed By: zpaonnfbshipit-source-id: ef35553d77e7d73710ca775c6307c3cc80f77134n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,311.0,0.14072337962962966,513.5,14.641407222241044,514.0,None,False,,
f383be461004af4b81cd3b67229186e16b49456e,615a2150f32616369d9b951c6d029f21e02d8171,svcscm,svcscm@fb.com,Fri Mar 15 03:11:57 2019 -0700,1552644717,Updating submodulesReviewed By: zpaonnfbshipit-source-id: d23adf73fce8de29b92db9d854a8c2f18733917dn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,70.0,0.3157175925925926,515.0,4.167387638389911,515.0,None,False,,
615a2150f32616369d9b951c6d029f21e02d8171,1264996e2dd3aa07cef6d3822da2859478aad48f,svcscm,svcscm@fb.com,Fri Mar 15 08:43:55 2019 -0700,1552664635,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 550dd9b61f1ffda4f45db033b43d18515b129264n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,314.0,0.3883912037037037,516.5,3.8125733602354974,517.0,None,False,,
1264996e2dd3aa07cef6d3822da2859478aad48f,6eccc141876fbde9882939d63a608232a65a0596,Joe Loser,joeloser93@gmail.com,Mon Mar 18 15:22:11 2019 -0700,1552947731,Fix shellcheck warnings on docker_build_with_ccache.sh (#1054)Summary:n- Fix a few shellcheck warnings on `docker_build_with_ccache.sh`.n- This will help when new changes are made to this script asn  shellcheck is run internally.nPull Request resolved: https://github.com/facebook/folly/pull/1054nnReviewed By: yns88nnDifferential Revision: D14454554nnPulled By: yfeldblumnnfbshipit-source-id: f4b692f21d2478f9db06b478ce56c1ba57fa59e0n,2.0,2.0,"build/fbcode_builder/docker_build_with_ccache.sh,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,219.0,2.0,129.18887731481482,0.0,0.0,0.0,Corrective,True,,
6eccc141876fbde9882939d63a608232a65a0596,78e2295ed6a14c9106855b336a926e4a96e27a65,svcscm,svcscm@fb.com,Mon Mar 18 16:16:51 2019 -0700,1552951011,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ed297c07c681f5f45d3f99edf48680015ca5b138n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,524.0,3.5261188271604937,519.0,1.1823615110421868,520.0,None,False,,
78e2295ed6a14c9106855b336a926e4a96e27a65,4b2a8e6ed26fdf0cb1b06d82d50912f344c60f9b,svcscm,svcscm@fb.com,Tue Mar 19 16:08:41 2019 -0700,1553036921,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9b4baa231c7484cb73ed7ed905cad359076c79cdn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,527.0,0.9943287037037036,522.0,1.6145966709346993,523.0,None,False,,
4b2a8e6ed26fdf0cb1b06d82d50912f344c60f9b,13be9f75869234a8ebb648edd579d85d99f979e0,svcscm,svcscm@fb.com,Wed Mar 20 10:13:57 2019 -0700,1553102037,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 121317d51bd7a99b9cc0a5c4918d205d96ed239dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,530.0,0.7536574074074074,525.0,1.810860617974077,526.0,None,False,,
13be9f75869234a8ebb648edd579d85d99f979e0,cd4e9a4b53a0769f967f040315a36c8e358ee178,svcscm,svcscm@fb.com,Wed Mar 20 20:08:59 2019 -0700,1553137739,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5432a28f2808869271da2744fc73d5291240c705n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,533.0,0.41321759259259255,528.0,2.478908744608145,529.0,None,False,,
cd4e9a4b53a0769f967f040315a36c8e358ee178,59f3b87d7987b1eb03a3f00151e9e667c20f9adf,Wez Furlong,wez@fb.com,Thu Mar 21 07:38:11 2019 -0700,1553179091,watchman: skip local saved state tests on ubuntuSummary:nThis is problematic on the lego-linux hosts for the same reasons that test_scm.py is.nSkip it for now.nnReviewed By: avalonalexnnDifferential Revision: D14550119nnfbshipit-source-id: 6c1ae3f50c2990f6ab1d8e6f1c8dab0508623e3an,12.0,0.0,"tests/integration/test_local_saved_state.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,311.0,4.0,203.31591435185183,6405.0,1.0049184541366958,838.0,None,False,,
59f3b87d7987b1eb03a3f00151e9e667c20f9adf,0fbe24b2197cbe6e6302f08b90c693a5785b19e5,svcscm,svcscm@fb.com,Thu Mar 21 13:08:10 2019 -0700,1553198890,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 80b00c33e6f6c7cfa08f645cd33419f6545f45d2n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,288.0,0.7077662037037037,530.5,2.0596719595754767,531.0,None,False,,
0fbe24b2197cbe6e6302f08b90c693a5785b19e5,cb5aaa73d06340e8d2930c2383a08652face8d90,svcscm,svcscm@fb.com,Thu Mar 21 15:12:15 2019 -0700,1553206335,Updating submodulesReviewed By: yns88nnfbshipit-source-id: df29c35f2f3827b8ad9d30e84c9b9d5d7acc285an,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,77.0,0.08616898148148149,532.0,12.6051040967092,532.0,None,False,,
cb5aaa73d06340e8d2930c2383a08652face8d90,d7f4624c911b71ff97ee65dea1f75572a921a79e,Wez Furlong,wez@fb.com,Thu Mar 21 15:37:16 2019 -0700,1553207836,"fbcode_builder: teach it to build folly on macosSummary:nThis diff expands fbcode_builder so that it can optionally spawn a macos lego job to run a build.nnI've pulled in the macOS third party dependencies used by the watchman and eden builds to support this.nLonger term I want to move to a more granular solution for the third party deps.  Medium term we can move the logic for managing these deps to somewhere more central than just the watchman code.nnIn the linux flavor of fbcode builder, the setup step is responsible for installing system packages, so I've inserted the LFS download of the macOS deps into that stage.nnIn order for those macOS deps to be picked up without modifying the folly cmake we need to adjust the environment so this diff also inserts that logic at the top of each generated sandcastle step.nnA similar technique could potentially be used for windows builds, but note that fbcode_builder makes some assumptions about linux and requires that bash be available.  Cygwin vs. native paths passed through the environment may be a real concern.  That is something for a follow up diff.nnReviewed By: simpkinsnnDifferential Revision: D14514601nnfbshipit-source-id: c2882f45aa4b910b5e65ce6b246c750d20ca2948n",5.0,1.0,"build/fbcode_builder/specs/gmock.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,20.0,3.0,132.19935185185184,6406.0,1.0075643336067233,45.0,None,False,,
d7f4624c911b71ff97ee65dea1f75572a921a79e,21401e7ebd08ba381f31fa086a7f8db75bf34ea3,svcscm,svcscm@fb.com,Thu Mar 21 15:51:13 2019 -0700,1553208673,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e0ece729e2231f9c8e3162c9a909c905dfa2734en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,248.0,0.8209953703703704,533.0,2.218033665097132,533.0,None,False,,
21401e7ebd08ba381f31fa086a7f8db75bf34ea3,5d23e11b98c62f94aebdfe60274db155a052d015,svcscm,svcscm@fb.com,Fri Mar 22 11:28:39 2019 -0700,1553279319,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 47ebf5a2945a4c64847952a96b04ac7d5225fca4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,540.0,0.8644251543209877,535.0,1.7236598225510331,536.0,None,False,,
5d23e11b98c62f94aebdfe60274db155a052d015,2b8cc3e82ad7a31eb65aaa7c61c61032d723dd19,svcscm,svcscm@fb.com,Fri Mar 22 16:47:21 2019 -0700,1553298441,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 1919b5d422c35f6fd4a76179cb283abef7a17a00n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,464.0,0.22131944444444449,537.5,4.388766865390648,538.0,None,False,,
2b8cc3e82ad7a31eb65aaa7c61c61032d723dd19,3725e19d7c7d08b08e8a17880ca3a8d08e85aa91,Wez Furlong,wez@fb.com,Fri Mar 22 16:51:33 2019 -0700,1553298693,"watchman:folly:thrift:wangle:fizz: move CMake library bits to a central locationSummary:nUse the watchman cmake files to seed the common cmake library and adjustna number of our opensource projects to take their glog and gflags modulenfinding from that central location.nnNote that there are a variety of ad-hoc re-implementations of shipit in various build scripts used in sandcastle jobs at the moment that result in adding multiple cmake module paths to correctly locate the shared cmake directory.  The long term solution is to get all those projects integrated in the new fbcode_builder stuff that I'm working on.nnReviewed By: simpkins, calebmarchentnnDifferential Revision: D14549654nnfbshipit-source-id: e49a7f20a15af52b4b3ed3037b8973fc293656dcn",280.0,228.0,"CMake/FindGflags.cmake,CAS_DELIMITER,CMake/FindGlog.cmake,CAS_DELIMITER,CMake/FindLibEvent.cmake,CAS_DELIMITER,CMake/FindPCRE.cmake,CAS_DELIMITER,CMake/ThriftCppLibrary.cmake,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/CMake/FindGflags.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FindGlog.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FindLibEvent.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FindPCRE.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",11.0,3.0,3.0,3.0004551374570214,29.0,78.36363636363636,27.0,26.89851430976431,6412.0,1.0098377998813166,50.0,None,False,,
3725e19d7c7d08b08e8a17880ca3a8d08e85aa91,81e3d55118489ca377ebe5749d261b256b58c83d,svcscm,svcscm@fb.com,Fri Mar 22 17:02:32 2019 -0700,1553299352,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8f65cbfe8009f15e3549e6b58872a5c2c4f858a1n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,330.0,0.1212037037037037,539.5,5.219085110026821,540.0,None,False,,
81e3d55118489ca377ebe5749d261b256b58c83d,ff8d1bfbe753632a63f7f9a4c131674df7ada979,svcscm,svcscm@fb.com,Sat Mar 23 15:54:12 2019 -0700,1553381652,Updating submodulesReviewed By: yns88nnfbshipit-source-id: aa98642ad20951766dba8825e28a6d33b7f2a103n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,547.0,0.9560609567901236,542.0,1.6411264713049818,543.0,None,False,,
ff8d1bfbe753632a63f7f9a4c131674df7ada979,978171b67f7e11389540fe5d6414573f23d4438a,svcscm,svcscm@fb.com,Sat Mar 23 18:19:26 2019 -0700,1553390366,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 19966d0d662b76b0e6a87e773db890e728520a8dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,297.0,0.10085648148148148,544.5,8.436309387193022,545.0,None,False,,
978171b67f7e11389540fe5d6414573f23d4438a,130cbfffc64b05a472d4cd74fe0fb0210ff49eb9,svcscm,svcscm@fb.com,Sun Mar 24 18:46:28 2019 -0700,1553478388,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0c6ef0ccc58b18a865059266da39635148094378n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,253.0,1.1196296296296295,546.0,1.8931524975190208,546.0,None,False,,
130cbfffc64b05a472d4cd74fe0fb0210ff49eb9,018a28a879b38d34d6f46eecfb7fecba9c2dcd8e,svcscm,svcscm@fb.com,Sun Mar 24 23:22:12 2019 -0700,1553494932,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8880196f81b89894a6f9252016b81fd8ef255698n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,553.0,0.8706635802469136,548.0,1.6408410638979058,549.0,None,False,,
018a28a879b38d34d6f46eecfb7fecba9c2dcd8e,cc3aa81ebffb71ea26edde5dbda8e8969d13868d,svcscm,svcscm@fb.com,Mon Mar 25 10:46:52 2019 -0700,1553536012,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 488764ab8ff656b9109bd04d49cb803ccb0b436dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,255.0,0.475462962962963,550.0,3.1032132424537484,550.0,None,False,,
cc3aa81ebffb71ea26edde5dbda8e8969d13868d,1e2552e8998204348a111b6fa471b15fd9d49176,svcscm,svcscm@fb.com,Mon Mar 25 11:28:38 2019 -0700,1553538518,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 3569d1b208389a4f03d19857178a4ca236ef2778n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,256.0,0.02900462962962963,551.0,35.47725458898643,551.0,None,False,,
1e2552e8998204348a111b6fa471b15fd9d49176,dd82596769d7375039dd8cb5ce11e8b2629e826b,Jeff Hemphill,jhemphill@fb.com,Mon Mar 25 12:15:49 2019 -0700,1553541349,"Add WatchmanClient::querySummary:nI want to be able to run a single one-off query on a `WatchPathPtr`, to get all changes since a given clock.nn`run` allows me to run queries, but requires me to pass the relative path to the repo via a string. And if I used `watch` and got a `WatchPathPtr`, I can't access the relative path inside the `WatchPathPtr` from outside the client.nn`subscribe` takes a `WatchPathPtr`, but it creates a whole subscription with a whole callback.nnI guess I could just use `subscribe` and then unsubscribe after a single result comes back, but that feels a little heavyweight.nnUltimately it feels like there's a gap in the API, hence this diff.nnReviewed By: stragernnDifferential Revision: D14382325nnfbshipit-source-id: 7f5ff3b3b183d43ce74f0c931b4343cbd30e5f2fn",47.0,0.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanClient.h,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.5723682907883645,29.0,173.66666666666663,16.0,171.48783950617286,1.0,0.6680472680658691,1.0,Feature Addition,False,,
dd82596769d7375039dd8cb5ce11e8b2629e826b,f77a545fef770a349d1640d0e1d45cc54be87bbd,Jeff Hemphill,jhemphill@fb.com,Mon Mar 25 12:15:49 2019 -0700,1553541349,"Make WatchmanClient correctly set WatchPathPtr::relativeRoot_Summary:nWhen you run `WatchmanClient::watch` on a subdirectory of a root that's already watched, you get back JSON with two fields:nn```n{n  watch: /data/users/jhemphill/fbsource,n  relative_path: fbcode,n}n```nn`WatchmanClient` then uses this data to create a `WatchPathPtr` which encapsulates a watched root. This allows clients to pretend that *their* root is being watched, even though behind the scenes Watchman may be watching a superdirectory of your root.nnIt looks like the WatchmanClient was checking a field called `relativePath` instead of `relative_path`, though. This diff fixes that typo and augments the test.nnReviewed By: stragernnDifferential Revision: D14392897nnfbshipit-source-id: c1733b67b3644ce5e5c6fc775f1c7cba1618fa2cn",47.0,7.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.691289869405789,29.0,166.0,14.0,0.0,3.5,0.0,1.0,None,False,,
f77a545fef770a349d1640d0e1d45cc54be87bbd,beafc8911532d790df190c5ca5003c828f393d3d,svcscm,svcscm@fb.com,Mon Mar 25 12:32:41 2019 -0700,1553542361,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f0f01591357f68a620b5de84eb1525fc36c2e38en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,83.0,0.5489467592592593,552.0,2.821670286111872,552.0,None,False,,
beafc8911532d790df190c5ca5003c828f393d3d,dcbeb405eacc3115355bb7edf8973e040e98449a,svcscm,svcscm@fb.com,Mon Mar 25 13:53:20 2019 -0700,1553547200,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 1aac05267124072fe8d95ce211d8cedd531516ffn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,257.0,0.10048611111111112,553.0,10.95162404975812,553.0,None,False,,
dcbeb405eacc3115355bb7edf8973e040e98449a,99874e40eaa5a12fe482b5a14e2a94e068985275,Saif Hasan,has@fb.com,Mon Mar 25 14:22:39 2019 -0700,1553548959,Add copyright headers to new filesSummary:nCopyright header was missing from cmake files and Open Source Bot complainednabout it. Adding header to be compliant with our oss policiesnnReviewed By: yns88nnDifferential Revision: D14603978nnfbshipit-source-id: fab9e781969e10038537ebbdab87b1272f093bf1n,5.0,0.0,"build/fbcode_builder/CMake/FindGflags.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FindGlog.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FindLibEvent.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FindPCRE.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",5.0,1.0,1.0,2.3219280948873617,29.0,54.8,5.0,2.8965972222222223,3.0,1.1576562537460142,5.0,Feature Addition,False,,
99874e40eaa5a12fe482b5a14e2a94e068985275,d5b38b94ff471de5149c2f6a0bd84429eb0570a7,svcscm,svcscm@fb.com,Mon Mar 25 14:46:51 2019 -0700,1553550411,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 25e7d41a4ddaedc9064b685f3de1a4cee1f3e770n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,560.0,0.2574845679012346,555.0,7.566664407682984,556.0,None,False,,
d5b38b94ff471de5149c2f6a0bd84429eb0570a7,2d0c000a7c34e350041b0257a5ec6daa6f85205a,svcscm,svcscm@fb.com,Tue Mar 26 03:25:38 2019 -0700,1553595938,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5ad4acc7ac6e476604d62ed906dc0976cf11b8f4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,563.0,0.5269328703703704,558.0,2.1597513563379973,559.0,None,False,,
2d0c000a7c34e350041b0257a5ec6daa6f85205a,95f7dc1f5420f66404211702247cae43a3910a88,svcscm,svcscm@fb.com,Tue Mar 26 20:22:20 2019 -0700,1553656940,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7e717d907cb475efa598c5a7b29585c87ab84e6cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,566.0,0.7060416666666667,561.0,1.8655453919543623,562.0,None,False,,
95f7dc1f5420f66404211702247cae43a3910a88,136b11b645f60d8f320afa56c64b790a2e9325c2,Jeff Hemphill,jhemphill@fb.com,Wed Mar 27 00:03:21 2019 -0700,1553670201,Use an atomic bool instead of a lockSummary: This bit of code takes out a lock to read and set a bool. We can use compare-and-swap as a more lightweight alternative.nnReviewed By: stragernnDifferential Revision: D14494149nnfbshipit-source-id: 3ce14583a51cc51f17158ebbefa918cd91326890n,4.0,10.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.h,CAS_DELIMITER",2.0,1.0,1.0,0.5916727785823275,18.0,263.0,13.0,344.33227430555564,5.5,1.0316216949719157,4.0,None,False,,
136b11b645f60d8f320afa56c64b790a2e9325c2,620e89252e41546fd76007c5c22cd3910c3863c8,svcscm,svcscm@fb.com,Wed Mar 27 09:08:07 2019 -0700,1553702887,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 02f0c91531131bc4ee94d209868b0f37f7f75628n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,569.0,0.5317939814814815,564.0,2.1491501077328223,565.0,None,False,,
620e89252e41546fd76007c5c22cd3910c3863c8,d9f24bd0f4cbbc8583b2abe7378ed4d643f256d8,svcscm,svcscm@fb.com,Wed Mar 27 13:36:11 2019 -0700,1553718971,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 661c44c302bb8862d89a775bc72527835d008f48n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,572.0,0.1861574074074074,567.0,4.282765481223576,568.0,None,False,,
d9f24bd0f4cbbc8583b2abe7378ed4d643f256d8,8fc2439d1d44afbaa18208a57c22ffc790c2d3db,Caleb Marchent,cmarchent@fb.com,Wed Mar 27 13:38:26 2019 -0700,1553719106,"Allow LogDevice to build without Submodules (#71)Summary:nAs a step in the plan to migrate LogDevice to using fbcode_builder asnthe primary build method, allow LogDevice to build without submodules.nIn place of the self compiled modules, the CMake scripts will look innthe system (or provided prefix locations) and use precompiled modulesnthere. Users can then use fbcode_builder to ensure those requirednmodules are built and available.nn* Use new 'folly_test_util' library rather than referencing sourcesndirectlynPull Request resolved: https://github.com/facebookincubator/LogDevice/pull/71nnReviewed By: AhmedSolimannnDifferential Revision: D14578119nnPulled By: calebmarchentnnfbshipit-source-id: 36400d41d3f1906919706d20d0fb53195fec2e63n",18.0,0.0,"build/fbcode_builder/specs/rocksdb.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,None,False,,
8fc2439d1d44afbaa18208a57c22ffc790c2d3db,6be1fcf22c1b3d2490ce6f69600d02952fa69075,svcscm,svcscm@fb.com,Wed Mar 27 14:18:33 2019 -0700,1553721513,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e7601b6056d9e2cbeff80dfe1e1f89eca5893606n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,575.0,0.029421296296296293,570.0,21.77104642014162,571.0,None,False,,
6be1fcf22c1b3d2490ce6f69600d02952fa69075,e24f6deed120b394f47d1ec00bf72daff23a5a76,svcscm,svcscm@fb.com,Wed Mar 27 22:02:56 2019 -0700,1553749376,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 89d2ba19bcd7c074cabea295ede582715a5aabcen,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,578.0,0.3224884259259259,573.0,2.89498618239242,574.0,None,False,,
e24f6deed120b394f47d1ec00bf72daff23a5a76,49ffc8d5b3b3f55d66d54acc49a97aedb33b62d9,Doug Scandrett,dougscandrett@fb.com,Thu Mar 28 08:19:36 2019 -0700,1553786376,Annotate the main 'from_socket()' entry point.Summary: This is for usage in more strictly typed targets.nnDifferential Revision: D14603592nnfbshipit-source-id: 42eb424219e2a4383e8547e48c39d581b72578e4n,2.0,1.0,"python/pywatchman_aio/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,393.0,4.0,166.37800925925927,0.0,0.0,0.0,None,False,,
49ffc8d5b3b3f55d66d54acc49a97aedb33b62d9,18537d2c3fe33c058048f469e85f0f4397e1579b,svcscm,svcscm@fb.com,Thu Mar 28 08:45:32 2019 -0700,1553787932,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: d26aa098185e6c8cc499f1193b7648a9b9074115n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,91.0,0.44625,575.0,3.2408963585434174,575.0,None,False,,
18537d2c3fe33c058048f469e85f0f4397e1579b,784dec69657b75e7f7a2ad554fcef57939b44a0e,svcscm,svcscm@fb.com,Thu Mar 28 13:46:20 2019 -0700,1553805980,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: eabf4cf36f18eb744646b1ca3bc1a628ae34813dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,357.0,0.4320138888888889,576.5,3.9723021201353,577.0,None,False,,
784dec69657b75e7f7a2ad554fcef57939b44a0e,25047b6ac95949f0fec0fd04740a349a1353ccb3,Caleb Marchent,cmarchent@fb.com,Thu Mar 28 13:48:13 2019 -0700,1553806093,"Add __pychache__ to .gitignoreSummary:nWhen running shell_building, the tree gets littered with __pycache__ files,nhence ignore them.nnReviewed By: weznnDifferential Revision: D14664303nnfbshipit-source-id: d41837cdfda1ae93c2d9330f00284128b3f7f7d0n",1.0,0.0,"build/fbcode_builder/.gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,3.0,1.0,218.9525115740741,1.0,1.0045672004071151,1.0,Feature Addition,False,,
25047b6ac95949f0fec0fd04740a349a1353ccb3,3b7cf07dd6ea04d4c9d4d73b95cf1b43305df385,svcscm,svcscm@fb.com,Thu Mar 28 15:25:32 2019 -0700,1553811932,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e78ecebff80fa22bde14883bb2cbff8fa4f24f6en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,584.0,0.2872685185185185,579.0,8.644849367055704,580.0,None,False,,
3b7cf07dd6ea04d4c9d4d73b95cf1b43305df385,493bea70bf724c29965fc810a477931fc1bf3780,svcscm,svcscm@fb.com,Fri Mar 29 14:45:31 2019 -0700,1553895931,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 28eda03b086779301a5399cc44715c2d14bf8cc2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,587.0,0.9722106481481482,582.0,1.6285789116537102,583.0,None,False,,
493bea70bf724c29965fc810a477931fc1bf3780,2cc30b6f91fec6f8b82e74df2a96f2ccdea45f20,Wez Furlong,wez@fb.com,Fri Mar 29 14:57:58 2019 -0700,1553896678,"watchman: cmake: fixup pcre dependencySummary:nWhen pulling in pcre from a install prefix that isnnot in the default include path, we need to add the includendirectory to the compilation flags.nnReviewed By: stragernnDifferential Revision: D14681156nnfbshipit-source-id: 68e2b33f7b8b188ef53cc0dae7b5da29c784f8f1n",1.0,0.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,640.0,23.0,6.9211226851851855,6418.0,1.1444852295626144,2968.0,None,False,,
2cc30b6f91fec6f8b82e74df2a96f2ccdea45f20,8b9d7bb808089e54f31a41f9e33d01bbb6c4b148,Wez Furlong,wez@fb.com,Fri Mar 29 14:57:58 2019 -0700,1553896678,ThriftCppLibrary.cmake: fixup depsSummary:nthis adds the include and library dirs for generated thrift targets;nthese are important when those dependencies are not installed into a defaultnprefix.nnReviewed By: stragernnDifferential Revision: D14683957nnfbshipit-source-id: ed47ffac5c8732810afe77e6947584b7a2f05155n,3.0,0.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,117.0,2.0,4.024525462962963,6419.0,1.2484764997023459,51.0,None,False,,
8b9d7bb808089e54f31a41f9e33d01bbb6c4b148,8000df7dc82279b5d75f0092bd221e3600f6617e,svcscm,svcscm@fb.com,Fri Mar 29 15:31:46 2019 -0700,1553898706,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 82234b48a178ea0125632c3ec83f1ea79ad8c5d7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,590.0,0.03211805555555555,585.0,20.027027027027028,586.0,None,False,,
8000df7dc82279b5d75f0092bd221e3600f6617e,f77e433642dd61edc963a2d2174443e7b632d292,svcscm,svcscm@fb.com,Sat Mar 30 01:32:29 2019 -0700,1553934749,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 096d087f53bc053b53549d61da783638df34b1b0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,593.0,0.4171643518518519,588.0,2.464916904808146,589.0,None,False,,
f77e433642dd61edc963a2d2174443e7b632d292,00ad64e5ade7e0d92a6373a4f5bcddf9483f21c7,Wez Furlong,wez@fb.com,Sat Mar 30 13:49:13 2019 -0700,1553978953,"watchman: make the eden watcher code portable to windowsSummary:nthese changes allow the eden watcher code to compile on windows,nassuming that you have a working thrift installation available.nnReviewed By: stragernnDifferential Revision: D14691017nnfbshipit-source-id: 501c389078cdaf59adbaf6b5118d0b8d089bd3dan",5.0,26.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1286.0,75.0,39.05730324074073,6420.0,1.025603406201299,327.0,None,False,,
00ad64e5ade7e0d92a6373a4f5bcddf9483f21c7,07054165674df11711e219cd2db4220d9c5ed47e,svcscm,svcscm@fb.com,Sat Mar 30 15:04:37 2019 -0700,1553983477,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: fcd1c09e1562a2c181de42e787be06681079665dn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,97.0,0.5639814814814815,590.0,2.7731078640617297,590.0,None,False,,
07054165674df11711e219cd2db4220d9c5ed47e,e0834a77488642917dc13f7d111f566ab00f7794,svcscm,svcscm@fb.com,Sun Mar 31 10:32:51 2019 -0700,1554053571,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 707564dd911cd81d960f2032c5471d389b9e6f23n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,327.0,1.0932638888888888,591.5,1.8449882948718617,592.0,None,False,,
e0834a77488642917dc13f7d111f566ab00f7794,58c66bb823a9dfa910f263586037c31a171c0d6a,svcscm,svcscm@fb.com,Mon Apr 1 10:22:48 2019 -0700,1554139368,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6d5446982016baf52ee590927a155763173b4d29n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,599.0,1.4514390432098765,594.0,1.5113965410751289,595.0,None,False,,
58c66bb823a9dfa910f263586037c31a171c0d6a,1ae8cecdf193633e10974f6c2d99c4460fb7aefc,svcscm,svcscm@fb.com,Mon Apr 1 17:36:52 2019 -0700,1554165412,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b1844097f2936a2bff75683c04cfb265e802c03dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,602.0,0.3014351851851852,597.0,3.0273383504837965,598.0,None,False,,
1ae8cecdf193633e10974f6c2d99c4460fb7aefc,15d8bdc7fcd06cb5eddf441df6c9abf08f6a1df5,Wez Furlong,wez@fb.com,Mon Apr 1 18:59:48 2019 -0700,1554170388,"folly:wangle: fixup libevent detection and exportSummary:nI finally got to the bottom of the weird `-levent` or `event.lib`nlinker errors that crop up in the cmake builds.nnThe issue is that if you have installed a recent libevent it deploysna cmake CONFIG package that exports just a bare `event` target as thendep on libevent.  This is unfortunate because it is interpreted asnmeaning `-levent` with no library path, which for an installationnof libevent that is not in the default path will result in linkernerrors in libraries downstream of folly.nnTo resolve this, I've given the common `FindLibEvent.cmake` filen(that was derived from the folly library of the same name) a similarntreatment to the recent changes to find glog and taught it how tonlocate libevent from a config package and to fall back on a basicninclude/library check.nnIf we find an `event` target then we extract the actual librarynpath from it and export that.nnI've removed folly's and wangle's own FindLibEvent.cmake so that it will picknup the common library which gets shipit sync'd out tonhttps://github.com/facebook/folly/blob/master/CMake/FindLibEvent.cmakenand https://github.com/facebook/wangle/blob/master/build/fbcode_builder/CMake/FindLibEvent.cmakennReviewed By: yfeldblumnnDifferential Revision: D14702577nnfbshipit-source-id: d35d9f741e009dcd77976c0637ba3024a8a4aef3n",49.0,16.0,"build/fbcode_builder/CMake/FindLibEvent.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,38.0,2.0,7.192465277777778,6421.0,1.1390343868728363,52.0,None,False,,
15d8bdc7fcd06cb5eddf441df6c9abf08f6a1df5,45249eefe6a3340f76a20694f4d5f23d1325c61b,Wez Furlong,wez@fb.com,Mon Apr 1 19:47:10 2019 -0700,1554173230,"watchman: assume we were built with cmake in childproc testSummary:nthere are no guarantees that there is an `echo.exe` innthe path on win32.  Previously, we would detect that we were builtnusing cmake by looking for a preprocessor defined symbol.  Thatnsymbol is only present when generating a vcxproj and isn't availablenwhen using the ninja generator.nnSince the build requires cmake let's just assume that we have itnavailable in the path.nnReviewed By: stragernnDifferential Revision: D14702583nnfbshipit-source-id: 6adcaa4593397f0ceebf78cd5cafa28cc8bd5b09n",1.0,8.0,"tests/childproc.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,23.0,112.0,4.0,143.35086805555557,6422.0,1.0069758907885542,839.0,None,False,,
45249eefe6a3340f76a20694f4d5f23d1325c61b,5aeade386ae72b7f5d5c7455de95860b957cf901,svcscm,svcscm@fb.com,Mon Apr 1 20:30:48 2019 -0700,1554175848,Updating submodulesReviewed By: zpaonnfbshipit-source-id: f2a7b57ff9a57cabde45e73ae1ae561b56fe0047n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,605.0,0.12078703703703705,600.0,6.059409735530855,601.0,None,False,,
5aeade386ae72b7f5d5c7455de95860b957cf901,0c76e555731ce6373a960a11f1ca34aaf023bd82,svcscm,svcscm@fb.com,Tue Apr 2 03:52:52 2019 -0700,1554202372,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 56effa41414b1ac8d7c87fddf1aec9b696a32b77n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,608.0,0.30699074074074073,603.0,2.9906499773789776,604.0,None,False,,
0c76e555731ce6373a960a11f1ca34aaf023bd82,e6448e721e73a0bf2e86023f91c896729898ef28,Wez Furlong,wez@fb.com,Tue Apr 2 08:04:53 2019 -0700,1554217493,folly:wangle: centralize FindGMock.cmakeSummary:nmove the FindGMock to the common cmake library and adjustnfolly and wangle to consume it from there.nnReviewed By: stragernnDifferential Revision: D14710329nnfbshipit-source-id: 35ac9d6d2ec03468f389f5b9f1c126b007c7c798n,80.0,0.0,"build/fbcode_builder/CMake/FindGMock.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6423.0,0.0,53.0,None,False,,
e6448e721e73a0bf2e86023f91c896729898ef28,195923fe70ad1f49c57cd23ae52bf779edbda01a,svcscm,svcscm@fb.com,Tue Apr 2 09:32:14 2019 -0700,1554222734,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 6bc0786d0fe8e80a295b5435e38a4bc5be2bfb07n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,611.0,0.2356712962962963,606.0,3.5930655141931047,607.0,None,False,,
195923fe70ad1f49c57cd23ae52bf779edbda01a,2e8c39e12c885d3148e534438cf8f3938ce98ee9,Matthew Glazar,strager.nds@gmail.com,Tue Apr 2 09:48:12 2019 -0700,1554223692,"Don't clobber CXXFLAGS/CMAKE_CXX_FLAGS (#692)Summary:nCMake allows the user to add additional compilation options using CXXFLAGS= or -DCMAKE_CXX_FLAGS=. For example, each of the following commands would enable GCC security features in generated code:nn$ CXXFLAGS=-fstack-protector-strong cmake .n$ cmake -DCMAKE_CXX_FLAGS=-fstack-protector-strong .nnUnfortunately, this doesn't work with Watchman's build system; CXXFLAGS and CMAKE_CXX_FLAGS are ignored. This makes it harder for package managers to tweak Watchman's compilation.nnTeach Watchman to respect user-supplied compiler flags instead of overriding them.nPull Request resolved: https://github.com/facebook/watchman/pull/692nnDifferential Revision: D14725645nnPulled By: weznnfbshipit-source-id: 2f0dc0fd104ee99f22a34c2f0aed041bec80f2cbn",2.0,2.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,641.0,24.0,3.7848842592592593,3.0,1.2642088717914215,0.0,None,False,,
2e8c39e12c885d3148e534438cf8f3938ce98ee9,ce6dedfcd94e6df4b984f985bd8900898062fabd,svcscm,svcscm@fb.com,Tue Apr 2 10:55:16 2019 -0700,1554227716,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 815807e883fc71603d675d9e5d145e435de1be4an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,614.0,0.05766203703703704,609.0,11.598153352067444,610.0,None,False,,
ce6dedfcd94e6df4b984f985bd8900898062fabd,9db0b4b9fb838868e7ce243840a19ad63447cc46,svcscm,svcscm@fb.com,Wed Apr 3 09:03:46 2019 -0700,1554307426,Updating submodulesReviewed By: zpaonnfbshipit-source-id: aabf73dd8736aa0d09237c30a510eb97b02a40ban,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,617.0,0.9225694444444444,612.0,1.6624012043658265,613.0,None,False,,
9db0b4b9fb838868e7ce243840a19ad63447cc46,424e650494f464952163f98655698a5fbef3ac9b,svcscm,svcscm@fb.com,Thu Apr 4 00:32:00 2019 -0700,1554363120,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 83b5445d7de8c9b1038bb6680eefd961612cd385n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,383.0,0.6446064814814815,614.5,2.1635005566129206,615.0,None,False,,
424e650494f464952163f98655698a5fbef3ac9b,06263d15eaefbc84e4d134e4cc5aa45a0023d96c,svcscm,svcscm@fb.com,Fri Apr 5 00:12:40 2019 -0700,1554448360,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b99d3f00d63cdda16051f5c512e9215a3773f77an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,622.0,1.201442901234568,617.0,1.5992857085531156,618.0,None,False,,
06263d15eaefbc84e4d134e4cc5aa45a0023d96c,c49fa3d3cb3a27c1137261da9f0895c13c678888,svcscm,svcscm@fb.com,Fri Apr 5 14:44:39 2019 -0700,1554500679,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e9f39ba3b50ee39b4d4fc06f8b0a86ff6c1f20cen,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,387.0,0.6055439814814815,619.5,2.2385557827940135,620.0,None,False,,
c49fa3d3cb3a27c1137261da9f0895c13c678888,479565f6f9911468e6e3ce829598e3f40db3e09a,Yedidya Feldblum,yfeldblum@fb.com,Fri Apr 5 15:43:44 2019 -0700,1554504224,"Cut fbcode_builder dep for thrift on krb5Summary: [Thrift] Cut `fbcode_builder` dep for `thrift` on `krb5`. In the past, Thrift depended on Kerberos and the `krb5` implementation for its transport-layer security. However, Thrift has since migrated fully to Transport Layer Security for its transport-layer security and no longer has any build-time dependency on `krb5`. Clean this up.nnReviewed By: stevegury, vitautnnDifferential Revision: D14814205nnfbshipit-source-id: dca469d22098e34573674194facaaac6c4c6aa32n",0.0,3.0,"build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,35.0,5.0,70.07409722222222,5.0,1.0142706083936943,0.0,None,False,,
479565f6f9911468e6e3ce829598e3f40db3e09a,189daae599a9b51b4f12d26c37b9da2ce852056b,svcscm,svcscm@fb.com,Fri Apr 5 16:46:12 2019 -0700,1554507972,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 04d9c29e302081098150673c60747da824fe5b4dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,627.0,0.2862577160493827,622.0,7.311638900435492,623.0,None,False,,
189daae599a9b51b4f12d26c37b9da2ce852056b,7b5605a37c9d27051c9bd680de9e494363b8cae4,svcscm,svcscm@fb.com,Sat Apr 6 14:43:37 2019 -0700,1554587017,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4076156c58265070b7535519c550dd57dc4daa47n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,630.0,0.9148726851851852,625.0,1.6679739388955657,626.0,None,False,,
7b5605a37c9d27051c9bd680de9e494363b8cae4,fb583c63023f5ba4045024618745d003b0b4fd27,svcscm,svcscm@fb.com,Sun Apr 7 12:32:15 2019 -0700,1554665535,Updating submodulesReviewed By: zpaonnfbshipit-source-id: ecf9cf8b61423b21deaacd25cecd3ac3f586e980n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,633.0,0.9087731481481479,628.0,1.6724572709442418,629.0,None,False,,
fb583c63023f5ba4045024618745d003b0b4fd27,aba06e441b97504795c944eb1ec1203566a08b3f,svcscm,svcscm@fb.com,Mon Apr 8 01:37:43 2019 -0700,1554712663,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 0d943694c5ab44793b3d9e49319f12c3db5e79e7n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,524.0,0.5454629629629629,630.5,2.3749787811916483,631.0,None,False,,
aba06e441b97504795c944eb1ec1203566a08b3f,469c3b7be8a2dbcbbd477989aa3d40fafff952b0,Wez Furlong,wez@fb.com,Mon Apr 8 10:56:15 2019 -0700,1554746175,"oss: FindLibEvent.cmake: workaround cmake POLICY annoyancesSummary:nWhen pulled in as an external project into an environmentnthat has changed the default cmake policy, the trick we're usingnto extract the full library path errors out.  This works aroundnthat issue by saving the policy settings and then setting themnhow we need them before restoring them after we're done.nnrefs https://github.com/facebook/folly/issues/1100nnReviewed By: yfeldblumnnDifferential Revision: D14766991nnfbshipit-source-id: e2506bc0aebd9e66bc70b12c4c538c9e034f9f73n",6.0,0.0,"build/fbcode_builder/CMake/FindLibEvent.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,71.0,3.0,6.6642013888888885,6424.0,1.1500554892694694,54.0,None,False,,
469c3b7be8a2dbcbbd477989aa3d40fafff952b0,001c6c47eb2877fb886e5477beee5c3d4e289609,svcscm,svcscm@fb.com,Mon Apr 8 11:49:05 2019 -0700,1554749345,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 95206ccbda795d26aac81e4ea0e583b440eaac05n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,638.0,0.6063811728395062,633.0,1.7658908422418325,634.0,None,False,,
001c6c47eb2877fb886e5477beee5c3d4e289609,4affaf4aa5da24d22d19bec31763c2d94b1b3600,svcscm,svcscm@fb.com,Tue Apr 9 10:38:26 2019 -0700,1554831506,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5e51217e8b516f81c3c549e31a47d991e321442en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,641.0,0.9509375,636.0,1.6426406689305146,637.0,None,False,,
4affaf4aa5da24d22d19bec31763c2d94b1b3600,bd900b310a903b73fe0dac7ba9d069bf909924fd,svcscm,svcscm@fb.com,Wed Apr 10 10:25:29 2019 -0700,1554917129,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 86a856b626b323e34f7e7729673cd8fad494b248n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,644.0,0.9910069444444444,639.0,1.61665673942749,640.0,None,False,,
bd900b310a903b73fe0dac7ba9d069bf909924fd,940a3d36ade3e1c47a1c8148b5e8cec6551f0997,svcscm,svcscm@fb.com,Wed Apr 10 17:47:16 2019 -0700,1554943636,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 37dfc0f5507e49d6d74c6bb85604bc2dc5db97ben,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,647.0,0.30679398148148146,642.0,2.991926660882031,643.0,None,False,,
940a3d36ade3e1c47a1c8148b5e8cec6551f0997,c77c6f640c0049a7c26837886d77c2fd91be1bfb,svcscm,svcscm@fb.com,Wed Apr 10 20:35:48 2019 -0700,1554953748,Updating submodulesReviewed By: yns88nnfbshipit-source-id: dce4b357bb382385939622a492ce30b2b3f3e7cfn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,116.0,0.11703703703703705,644.0,9.544303797468354,644.0,None,False,,
c77c6f640c0049a7c26837886d77c2fd91be1bfb,9a4bf52fa23c468fba8764be942d784cffd3f480,svcscm,svcscm@fb.com,Thu Apr 11 07:23:42 2019 -0700,1554992622,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5113eef2a386c3327fc1f5c2625e68cfa313c61bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,405.0,0.5084490740740739,645.5,2.6029739324516434,646.0,None,False,,
9a4bf52fa23c468fba8764be942d784cffd3f480,92a6d1855e09064fd98fc354883c35fd498c7f58,Caleb Marchent,cmarchent@fb.com,Thu Apr 11 09:42:47 2019 -0700,1555000967,Add .pyc to gitignoreReviewed By: weznnDifferential Revision: D14890912nnfbshipit-source-id: 7ea8f28348d27131cf896bd8b5669153211af591n,1.0,0.0,"build/fbcode_builder/.gitignore,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,4.0,2.0,13.829560185185185,2.0,1.0723088794299651,2.0,Feature Addition,False,,
92a6d1855e09064fd98fc354883c35fd498c7f58,a118f8f24d71cd63fee44a064c9408e6c078667b,svcscm,svcscm@fb.com,Thu Apr 11 10:14:41 2019 -0700,1555002881,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d5482e176820b132e976a1119c1ccd4796d0a1f7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,653.0,0.3077276234567901,648.0,5.572006407367634,649.0,None,False,,
a118f8f24d71cd63fee44a064c9408e6c078667b,7c83600de54d9f8051eb57ccc7c3d9d5812d2254,Caleb Marchent,cmarchent@fb.com,Thu Apr 11 12:28:23 2019 -0700,1555010903,"fbcode_builder support for using Python virtualenv (#76)Summary:nNeeds to be enabled by option PYTHON_VENV in the config.nnshell_builder.py sets up the venv and uses it once; calling activatennFor docker we set ENV; resulting in the virtual environment being presentnwhen the resulting container is run as well as at build time. This is also cleanernand easier to follow than re-asserting on each RUN step.nnFor Lego builder we need to source activate on each command as environmentnwill not persist between commands.nnWhile man on the posts say it makes no sense to use virtualenv within dockerncontainer, this method simplifies the process considerably as we can rely on thenname pip being valid and we don't need to either ensure we are root or pass then--user flag to pip and setuptools.nnPull Request resolved: https://github.com/facebookincubator/LogDevice/pull/76nnReviewed By: weznnDifferential Revision: D14875633nnPulled By: calebmarchentnnfbshipit-source-id: aabbcdd509d2a59fa36f8004032a052f014ce1ban",30.0,3.0,"build/fbcode_builder/docker_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER,build/fbcode_builder/shell_builder.py,CAS_DELIMITER",3.0,1.0,1.0,1.2685347577182178,2.0,217.0,11.0,127.2407523148148,4.0,1.004508720263297,5.0,None,False,,
7c83600de54d9f8051eb57ccc7c3d9d5812d2254,a2a345b6a9e8b704de376420e3aa13b5c31f6b87,svcscm,svcscm@fb.com,Thu Apr 11 18:23:06 2019 -0700,1555032186,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ff2f19b881e7d760816fbea6b05aa6a11a474497n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,366.0,0.3391782407407408,650.5,3.2112267531138032,651.0,None,False,,
a2a345b6a9e8b704de376420e3aa13b5c31f6b87,4fa9ceed6d3212c494146a5e8809190124c1e6b1,svcscm,svcscm@fb.com,Thu Apr 11 20:21:03 2019 -0700,1555039263,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9e52c37b478fc073eaa79408ec1d10dd53c330b3n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,658.0,0.1949691358024692,653.0,6.3021053276560925,654.0,None,False,,
4fa9ceed6d3212c494146a5e8809190124c1e6b1,94f6fbaceb9b6bcff229cff609e8e87cf9aa1939,Caleb Marchent,cmarchent@fb.com,Fri Apr 12 02:55:16 2019 -0700,1555062916,Travis split out docker ipv6 enable (#1108)Summary:nSplit out enable IPv6 on docker into its own script.nDo not do this on MacOS hosts; where we would not be running in a docker container.nuse apt add-on rather; which automatically disabled for non-apt supporting OSes (MacOSX)nPull Request resolved: https://github.com/facebook/folly/pull/1108nnReviewed By: vitautnnDifferential Revision: D14899358nnPulled By: calebmarchentnnfbshipit-source-id: 342e7a37e27317018d98d77e8603c896f34b3bc6n,20.0,13.0,"build/fbcode_builder/docker_enable_ipv6.sh,CAS_DELIMITER,build/fbcode_builder/travis.yml,CAS_DELIMITER",2.0,1.0,1.0,0.9456603046006402,2.0,25.0,1.0,116.74953703703704,6.5,0.5021413361144267,7.0,Non Functional,False,,
94f6fbaceb9b6bcff229cff609e8e87cf9aa1939,9a980ad495cb700499db0838ee75fbdf11da73b9,svcscm,svcscm@fb.com,Fri Apr 12 03:22:37 2019 -0700,1555064557,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e6a401c77b11ffa2f268713bbda0f11cc1fb5a38n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,661.0,0.2927546296296296,656.0,3.087451569542184,657.0,None,False,,
9a980ad495cb700499db0838ee75fbdf11da73b9,682878f1ca5edfed6907fb340bccfe8c88c49e53,svcscm,svcscm@fb.com,Fri Apr 12 18:17:20 2019 -0700,1555118240,Updating submodulesReviewed By: yns88nnfbshipit-source-id: f7e88353f0620f96636975985cb8116945d81d52n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,664.0,0.6213310185185185,659.0,1.983551589888792,660.0,None,False,,
682878f1ca5edfed6907fb340bccfe8c88c49e53,63f22ff484be18f627769c40ede220a004d4a6a9,svcscm,svcscm@fb.com,Sat Apr 13 04:36:02 2019 -0700,1555155362,Updating submodulesReviewed By: yns88nnfbshipit-source-id: cb2df368a0453d9aa1fcdce5a4238b1541fab7e3n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,374.0,0.4296527777777778,661.5,2.745595603685146,662.0,None,False,,
63f22ff484be18f627769c40ede220a004d4a6a9,71bc85e6535e9d83bf39abed59695d36788b6320,Victor Zverovich,viz@fb.com,Mon Apr 15 08:04:46 2019 -0700,1555340686,Add fmt to Folly's open-source dependenciesReviewed By: yfeldblumnnDifferential Revision: D14813810nnfbshipit-source-id: b6294f0b2e52bd062ad7b1d5977fbe68dec82d1bn,16.0,0.0,"build/fbcode_builder/specs/fmt.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1.0,0.0,0.0,Feature Addition,False,,
71bc85e6535e9d83bf39abed59695d36788b6320,e500d20b64a6bd80a4dc42be527fb15d0dc06d12,svcscm,svcscm@fb.com,Mon Apr 15 12:39:37 2019 -0700,1555357177,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e1c5df28bfba48a9bd98ef8796b9f9d249a68a73n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,669.0,2.4790393518518514,664.0,1.2528680499707814,665.0,None,False,,
e500d20b64a6bd80a4dc42be527fb15d0dc06d12,f718db583eedfcd650d73590dff544aacc936a50,svcscm,svcscm@fb.com,Mon Apr 15 20:23:24 2019 -0700,1555385004,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 146b43985dd6a894c093cb446d77b00f709720cdn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,672.0,0.32207175925925924,667.0,2.8974377403241456,668.0,None,False,,
f718db583eedfcd650d73590dff544aacc936a50,8e137e988e7e8525f4baec984aadf354e18075ed,Shrikrishna Khare,skhare@fb.com,Tue Apr 16 08:21:40 2019 -0700,1555428100,"Remove stale fb303 countersSummary:nWhen counters are renamed (port, trunk or queues), the current FBOSS logicncreates a new monotonic counter with new name and removes (last reference to)nmonotonic counter for the old name.nnHowever, the old counter continues to unncessarily get exported. This patchnfixes it by deleting the old counters.nnDifferential Revision: D14942193nnfbshipit-source-id: 34cf7dd5290ae87a2c8002775e9d0940615c47fbn",5.0,0.0,"common/stats/ExportedStatMap.h,CAS_DELIMITER,common/stats/MonotonicCounter.h,CAS_DELIMITER",2.0,1.0,1.0,0.9709505944546686,1.0,47.5,2.0,82.91950231481482,2.5,1.009044916805609,3.0,None,False,,
8e137e988e7e8525f4baec984aadf354e18075ed,5e67a510ab2bf970a0aa58ca85558f892cdd719f,svcscm,svcscm@fb.com,Tue Apr 16 09:33:47 2019 -0700,1555432427,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ef78f7239e6b7dd2a57606acd54775eead23ba70n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,254.0,0.5488773148148148,669.0,2.8219007654513635,669.0,None,False,,
5e67a510ab2bf970a0aa58ca85558f892cdd719f,d0c90eb98a14cf46cc0f66733aee9b18ba570cb3,svcscm,svcscm@fb.com,Tue Apr 16 19:59:55 2019 -0700,1555469995,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f1bda9752f9c6f52c6f8b5caa1899f232c8079a1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,676.0,0.8007330246913579,671.0,1.6470508571229363,672.0,None,False,,
d0c90eb98a14cf46cc0f66733aee9b18ba570cb3,54730248971c0a6827bfc69ca3b75d1fe8ccc10f,svcscm,svcscm@fb.com,Tue Apr 16 22:42:10 2019 -0700,1555479730,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c19330be9245980f7b9df7581e5af0ff16b69d8fn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,127.0,0.11267361111111113,673.0,9.875192604006164,673.0,None,False,,
54730248971c0a6827bfc69ca3b75d1fe8ccc10f,e34b0804cb334f0f209010db03533b8a89213c80,svcscm,svcscm@fb.com,Wed Apr 17 07:20:30 2019 -0700,1555510830,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5e90b31d9d998fa7241b2a79da1de1edd5d2a9a9n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,424.0,0.4162905092592593,674.5,2.9896096802289134,675.0,None,False,,
e34b0804cb334f0f209010db03533b8a89213c80,3c1c74d8d27250b12c327bb501880b5965f6f5c8,svcscm,svcscm@fb.com,Wed Apr 17 09:24:40 2019 -0700,1555518280,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: fac8db10f95ddb397e1ba505db0715a3fb4448e0n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,426.0,0.08622685185185185,676.5,9.697986577181206,677.0,None,False,,
3c1c74d8d27250b12c327bb501880b5965f6f5c8,15ae5828e06b9bd5428b4b296edbd492ced71238,svcscm,svcscm@fb.com,Wed Apr 17 10:16:08 2019 -0700,1555521368,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5bd04c33dfccad635837e784aabdcdd990428206n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,428.0,0.03574074074074074,678.5,21.984455958549226,679.0,None,False,,
15ae5828e06b9bd5428b4b296edbd492ced71238,8c867bc6680b3b6f6c9b715b959ad2d44f6e18f7,svcscm,svcscm@fb.com,Wed Apr 17 13:06:35 2019 -0700,1555531595,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e147ce3967479f1525c7668ef6ac2beae19fbe75n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,387.0,0.4156655092592592,680.5,5.8255577820183895,681.0,None,False,,
8c867bc6680b3b6f6c9b715b959ad2d44f6e18f7,cafaca421697a8f7c887ee5bfb477f614cc5faf5,svcscm,svcscm@fb.com,Wed Apr 17 13:22:33 2019 -0700,1555532553,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: dc5167c7b3174630018b43de2820a8c0ecde1e20n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,132.0,0.011087962962962964,682.0,91.18789144050105,682.0,None,False,,
cafaca421697a8f7c887ee5bfb477f614cc5faf5,91949fbc8beb8f5975b93860d390b58a36ab7a81,Adam Simpkins,simpkins@fb.com,Wed Apr 17 13:50:39 2019 -0700,1555534239,"use fb_github_project_workdir() for follySummary:nUpdate the folly spec to use `fb_github_project_workdir()` rather than justn`github_project_workdir()`.nnThis shouldn't have any impact for external github-based builds, but for ourninternal continuous integration builds this should make builds for downstreamnprojects pick up the correct local version of folly that matches the commit ofnthe downstream project that is being built.nnThis behavior was unintentionally changed to not use the `fb_*` version innD10520960.nnDifferential Revision: D14969380nnfbshipit-source-id: 000b10525821fb5e0312d1869198a68befa0bd91n",1.0,1.0,"build/fbcode_builder/specs/folly.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,20.0,3.0,159.1253125,26.0,1.006284355293882,0.0,None,False,,
91949fbc8beb8f5975b93860d390b58a36ab7a81,c0bdab6ff799b3fb9e0ce4eda5d0018e8415b7d4,svcscm,svcscm@fb.com,Wed Apr 17 15:15:23 2019 -0700,1555539323,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5a4ef34767665bf89ff723b8e8076810bd2d0d9cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,689.0,0.12520447530864198,684.0,7.306312197669036,685.0,None,False,,
c0bdab6ff799b3fb9e0ce4eda5d0018e8415b7d4,4d22e5b7a4d18625073f198b96a323cd16f4daeb,svcscm,svcscm@fb.com,Thu Apr 18 14:32:45 2019 -0700,1555623165,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c085fedf8650405003fc7844e5a222b5ff451960n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,692.0,0.9703935185185184,687.0,1.6297559695617947,688.0,None,False,,
4d22e5b7a4d18625073f198b96a323cd16f4daeb,05d3b2425d4e7aac05f46df0558c93f133f887dd,svcscm,svcscm@fb.com,Thu Apr 18 19:05:59 2019 -0700,1555639559,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a79f796fd8c4181b080a99eab6faf10bba4423a1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,695.0,0.18974537037037034,690.0,4.220690496523118,691.0,None,False,,
05d3b2425d4e7aac05f46df0558c93f133f887dd,0d24aa846f5ee4191dc536e8037fd2d43bce028b,svcscm,svcscm@fb.com,Thu Apr 18 21:50:03 2019 -0700,1555649403,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7e226ea329de11f9702bc57bae7429bc05d13048n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,302.0,0.11393518518518518,692.0,9.776919951239334,692.0,None,False,,
0d24aa846f5ee4191dc536e8037fd2d43bce028b,9e9988f6f944025f66a3b1640c504c6630cedda8,svcscm,svcscm@fb.com,Fri Apr 19 19:53:51 2019 -0700,1555728831,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: eccb6c092108169dfdc426da8efa8c31aaad727bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,699.0,0.9952623456790124,694.0,1.6049668253309648,695.0,None,False,,
9e9988f6f944025f66a3b1640c504c6630cedda8,2091bcbac8e3db1f64456e1e0a678136cac8ce32,svcscm,svcscm@fb.com,Sat Apr 20 03:04:52 2019 -0700,1555754692,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c2ad92fef56a9af95d3c2a6b40e688b463fd980cn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,261.0,0.29931712962962964,696.0,4.340938092107807,696.0,None,False,,
2091bcbac8e3db1f64456e1e0a678136cac8ce32,f7129077a33535e632cc0563674dac13ce827563,svcscm,svcscm@fb.com,Sun Apr 21 02:19:52 2019 -0700,1555838392,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4b0da4093b0d5b59ef34decbad3a7faa924f0a34n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,703.0,1.1682947530864196,698.0,1.4894062671757482,699.0,None,False,,
f7129077a33535e632cc0563674dac13ce827563,3b0a4a03c9da5ad1b6a34639d015320920993778,svcscm,svcscm@fb.com,Mon Apr 22 01:26:23 2019 -0700,1555921583,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 89688d5ab751973ab552b314a0f0a7e72f3baf22n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,706.0,0.9628587962962964,701.0,1.6346840403409022,702.0,None,False,,
3b0a4a03c9da5ad1b6a34639d015320920993778,6f803cca14fb859737821e5baf4a9a5be6e7f39a,svcscm,svcscm@fb.com,Mon Apr 22 03:34:40 2019 -0700,1555929280,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6c83512ea95412bd79845562315280ba8fba5ebbn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,139.0,0.08908564814814815,703.0,12.225152656879306,703.0,None,False,,
6f803cca14fb859737821e5baf4a9a5be6e7f39a,259befe9e3bdf236fd9850ca91170c961ab2238b,Lee Howes,lwh@fb.com,Mon Apr 22 11:05:04 2019 -0700,1555956304,Replace Future::onError with Future::thenErrorSummary:nReplace Future::onError with Future::thenError:n * to remove ambiguous typingn * to ensure that the executor is not lost and the returned Future is still bound to an executornnSee:nhttps://fb.workplace.com/groups/fbcode/permalink/2002251863144976/nfor details.nnReviewed By: OrvidnnDifferential Revision: D15027526nnfbshipit-source-id: 0ad12c58c0fd54a8a2855855ca08d578251ade34n,5.0,4.0,"cppclient/CLI.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,59.0,2.0,699.0573842592592,7.0,1.001430497728108,6.0,None,False,,
259befe9e3bdf236fd9850ca91170c961ab2238b,1a0560b4a816f37e4754f2bb50c96ef2fc39f21a,svcscm,svcscm@fb.com,Mon Apr 22 11:23:46 2019 -0700,1555957426,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4d525a7abd69bbb537f5fb1a5e52b634d4a12a69n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,140.0,0.3257638888888889,704.0,4.069707951396291,704.0,None,False,,
1a0560b4a816f37e4754f2bb50c96ef2fc39f21a,7825abae6a5f3354e8173b92e8452a332c154039,svcscm,svcscm@fb.com,Tue Apr 23 10:17:06 2019 -0700,1556039826,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 610176ac9e9873ed2790083f071e6984deb834a2n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,447.0,1.1611284722222224,705.5,1.7395796301299091,706.0,None,False,,
7825abae6a5f3354e8173b92e8452a332c154039,585d0dcdea01919c235e50b2b074e10b717c9f56,svcscm,svcscm@fb.com,Tue Apr 23 19:09:20 2019 -0700,1556071760,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 5fd385d9d34f32d38105ca7e4242968f48367f4cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,713.0,0.8257908950617284,708.0,2.4873412754294884,709.0,None,False,,
585d0dcdea01919c235e50b2b074e10b717c9f56,6a7708e7680c4c72f58ba675086d4c2505226ff9,Nick Terrell,terrelln@fb.com,Tue Apr 23 22:37:32 2019 -0700,1556084252,Update to zstd-1.4.xSummary:n* Update to zstd-1.4.xn* Update to the latest zstd-rsnnReviewed By: Cyan4973nnDifferential Revision: D15040909nnfbshipit-source-id: 938904d95ab8b1108d750d83602ee9c11c2c87b5n,1.0,1.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,19.0,3.0,320.0924074074074,0.0,0.0,0.0,None,False,,
6a7708e7680c4c72f58ba675086d4c2505226ff9,074274c65b404f9b4e9f82d7b1c10b583a52dfb0,svcscm,svcscm@fb.com,Tue Apr 23 23:13:33 2019 -0700,1556086413,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 96152bbbe7d1f5dd8fbd160dd56edffbbbce031fn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,308.0,0.1695949074074074,710.0,6.896403466866852,710.0,None,False,,
074274c65b404f9b4e9f82d7b1c10b583a52dfb0,c333b4495d4d531b59ec614cc04899abe5fb0113,Mohamed Bassem,mbassem@fb.com,Wed Apr 24 01:25:35 2019 -0700,1556094335,Add missing copyright headersReviewed By: AhmedSolimannnDifferential Revision: D15060131nnfbshipit-source-id: 428f50129ec79c0f6091829dc5946163e532cde1n,2.0,1.0,"build/fbcode_builder/CMake/FindGMock.cmake,CAS_DELIMITER,build/fbcode_builder/docker_enable_ipv6.sh,CAS_DELIMITER",2.0,1.0,2.0,0.9182958340544896,2.0,46.0,2.0,16.830214120370368,0.5,0.5148542376354804,1.0,Feature Addition,False,,
c333b4495d4d531b59ec614cc04899abe5fb0113,240751e2e00b3ca0e017d6fb4ced8a805efd460e,svcscm,svcscm@fb.com,Wed Apr 24 01:55:16 2019 -0700,1556096116,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 742dceb4555f7d285c673e5e47d20bdf299cab9dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,717.0,0.22536651234567906,712.0,3.521075699745149,713.0,None,False,,
240751e2e00b3ca0e017d6fb4ced8a805efd460e,c111cee4dcb922a4b3275e8fd18b7e109ca81f36,svcscm,svcscm@fb.com,Wed Apr 24 17:27:57 2019 -0700,1556152077,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 1cd67b22d5692a542faa3e3c053ddd4c49d375dan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,720.0,0.6476967592592593,715.0,1.9435142331266415,716.0,None,False,,
c111cee4dcb922a4b3275e8fd18b7e109ca81f36,3d9a013351a4578aae950a74d07d038c4f1d975e,svcscm,svcscm@fb.com,Wed Apr 24 20:55:48 2019 -0700,1556164548,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 3d8dd83e523f1696ab0ba4c6f72ae908e631c9c5n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,145.0,0.14434027777777778,717.0,7.928073129660812,717.0,None,False,,
3d9a013351a4578aae950a74d07d038c4f1d975e,69b693cd669ed3d948f672561b24a98523e2cdf5,svcscm,svcscm@fb.com,Thu Apr 25 09:05:14 2019 -0700,1556208314,Updating submodulesReviewed By: zpaonnfbshipit-source-id: a8cf96168ca6a32582075fbbbc46d2ca6182b7d1n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,457.0,0.5787210648148148,718.5,2.4190546270999342,719.0,None,False,,
69b693cd669ed3d948f672561b24a98523e2cdf5,7593edc93e92b4b0be0f903f0ad1d164cab4ccc4,Victor Zverovich,viz@fb.com,Thu Apr 25 15:04:16 2019 -0700,1556229856,Migrate from Folly Format to fmtSummary: Migrate from Folly Format to fmt which provides smaller compile times and per-call binary code size.nnReviewed By: alandaunnDifferential Revision: D14954926nnfbshipit-source-id: 9d2c39e74a5d11e0f90c8ad0d71b79424c56747fn,9.0,1.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER,getdeps.py,CAS_DELIMITER",3.0,2.0,2.0,1.295461844238322,30.0,425.0,36.0,31.236620370370368,3.0,1.0256302977290628,1.0,None,False,,
7593edc93e92b4b0be0f903f0ad1d164cab4ccc4,895043387f8f57e7ca0449dc2be80d095a5f98d5,Cen Zhao,cenzhao@fb.com,Thu Apr 25 15:47:48 2019 -0700,1556232468,"add handshake events handlingSummary: zmq4.3 bring up 4 more handshake events, add proper handling in sock monitornnReviewed By: saifhhasannnDifferential Revision: D15058676nnfbshipit-source-id: d2553c7e32471a2403857741cbb77a40e50d353en",1.0,1.0,"build/fbcode_builder/specs/fbzmq.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,40.0,2.0,167.20666666666668,0.0,0.0,0.0,Feature Addition,False,,
895043387f8f57e7ca0449dc2be80d095a5f98d5,e536e0a1046da6de9cf8b7205ce0b0961c359cdb,svcscm,svcscm@fb.com,Thu Apr 25 15:49:50 2019 -0700,1556232590,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 97a8bebece37346d947f6508d627e4232405b848n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,579.0,0.6064178240740741,720.5,3.1917923552584284,721.0,None,False,,
e536e0a1046da6de9cf8b7205ce0b0961c359cdb,ef7e17ffeb9463dd2fc5b7ed90b6bb1ec8339a3c,svcscm,svcscm@fb.com,Fri Apr 26 11:55:49 2019 -0700,1556304949,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 8c7985dae0573e787dbba51c4acc87883ead2fb1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,728.0,0.9311458333333332,723.0,1.5877762085582514,724.0,None,False,,
ef7e17ffeb9463dd2fc5b7ed90b6bb1ec8339a3c,eb671587007ab49e13ada9d42c8f48b8495577f1,svcscm,svcscm@fb.com,Fri Apr 26 12:48:13 2019 -0700,1556308093,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4ce80b9af230ab92702c494990f59cfaa70f545an,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,314.0,0.03638888888888889,725.0,28.480916030534353,725.0,None,False,,
eb671587007ab49e13ada9d42c8f48b8495577f1,fb25b175fdea96c58417b616e57a70859f537366,svcscm,svcscm@fb.com,Fri Apr 26 14:08:50 2019 -0700,1556312930,Updating submodulesReviewed By: zpaonnfbshipit-source-id: fd36b9f5749a92b1d5f976a73fc9910850ff32bbn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,148.0,0.09237268518518517,726.0,11.825711063776467,726.0,None,False,,
fb25b175fdea96c58417b616e57a70859f537366,89e47c0e678d96f9bf1b5b7a32fab51066c10e7d,Adam Simpkins,simpkins@fb.com,Fri Apr 26 14:35:22 2019 -0700,1556314522,update copyright headers in some of the common/ stub headersSummary: Update copyright messages to match the patterns expected by our open source linters.nnReviewed By: chadaustinnnDifferential Revision: D15105843nnfbshipit-source-id: 6c66b4e3a552f9d71e6b43f9a5e6fcda48fd00d9n,5.0,2.0,"common/fb303/if/fb303.thrift,CAS_DELIMITER,common/network/if/Address.thrift,CAS_DELIMITER,common/time/Time.h,CAS_DELIMITER",3.0,1.0,3.0,1.5566567074628228,2.0,37.0,3.0,92.49444830246914,28.0,1.0065672883143009,2.0,None,False,,
89e47c0e678d96f9bf1b5b7a32fab51066c10e7d,7d7e5d40233310c217032f9df93bbc8f0877c86c,svcscm,svcscm@fb.com,Fri Apr 26 16:50:35 2019 -0700,1556322635,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 459ae013d33f3f157856320e67a8f6b16ea5e32an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,733.0,0.16177854938271605,728.0,5.842128222228934,729.0,None,False,,
7d7e5d40233310c217032f9df93bbc8f0877c86c,98b4cba3c0da209aad83199f8fb6b537ff24d9cf,svcscm,svcscm@fb.com,Sat Apr 27 15:48:56 2019 -0700,1556405336,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 944a2e986ee8984bf420145bb73dc4a4fb17a3ban,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,736.0,0.9571875,731.0,1.6384445169949575,732.0,None,False,,
98b4cba3c0da209aad83199f8fb6b537ff24d9cf,80e9807cdbbd400a419c0e13e5a9a24e8a1a157f,svcscm,svcscm@fb.com,Sat Apr 27 21:40:43 2019 -0700,1556426443,Updating submodulesReviewed By: zpaonnfbshipit-source-id: de3fb65efe75f212e9ea15adc2253f23d16fa94en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,151.0,0.2442939814814815,733.0,5.093428720329748,733.0,None,False,,
80e9807cdbbd400a419c0e13e5a9a24e8a1a157f,d416c249dd8f463dc69fc2691d0f890598c045a9,svcscm,svcscm@fb.com,Sun Apr 28 20:45:25 2019 -0700,1556509525,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 8df93ce85103903056f8543f49658af98e965bc4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,740.0,1.12445987654321,735.0,1.5992461820959756,736.0,None,False,,
d416c249dd8f463dc69fc2691d0f890598c045a9,0513bb4dc6719b49d1ee6455ac538457bc64491c,svcscm,svcscm@fb.com,Mon Apr 29 19:16:22 2019 -0700,1556590582,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d03118e363bf26c0bc437fe04c4e3d0f314b82efn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,743.0,0.9381597222222222,738.0,1.6513934638587662,739.0,None,False,,
0513bb4dc6719b49d1ee6455ac538457bc64491c,ce0dfcb84dbd53b28a4d919851a24a56ad70fec6,svcscm,svcscm@fb.com,Tue Apr 30 18:52:31 2019 -0700,1556675551,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b8f638d43ab0d8ce61ca964bd2a4248540d13001n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,746.0,0.9834375,741.0,1.621403099954101,742.0,None,False,,
ce0dfcb84dbd53b28a4d919851a24a56ad70fec6,f00e04bcb513346483ded22eafa74a5d5d05e77d,svcscm,svcscm@fb.com,Wed May 1 04:40:16 2019 -0700,1556710816,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 80b839b89f04818388d339ef8e801fc065a26c2bn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,320.0,0.40815972222222224,743.0,3.450021267545725,743.0,None,False,,
f00e04bcb513346483ded22eafa74a5d5d05e77d,0379216e5d0a45dd74043e17f77c5c308da60b27,Wez Furlong,wez@fb.com,Wed May 1 09:19:03 2019 -0700,1556727543,"watchman: make win32 boost dep staticSummary:nthe same reasons that thrift and folly need to force boostnto be static also apply to watchman: something causes boost to emitna mixture of static and shared boost library deps when building innshared library mode.  Without explicitly selecting static mode,nthe static deps that get emitted don't have a libdir and thusncause a linker failure.nnReviewed By: simpkins, stragernnDifferential Revision: D14726770nnfbshipit-source-id: 3b9202bec55386e9c5c8d7dddd4b25e2f2040d07n",13.0,0.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,642.0,26.0,5.760266203703703,6425.0,1.173603087884554,2969.0,None,False,,
0379216e5d0a45dd74043e17f77c5c308da60b27,a3c5c0e2019caaa477046df2386cb5eac926ffa3,Wez Furlong,wez@fb.com,Wed May 1 09:19:05 2019 -0700,1556727545,"watchman: fixup python install ruleSummary:nSee inline comments; we need to do something smarternabout the absolute paths, but for now we can just turn this off on windows.nnOn linux, since we can't easily figure out whether python is configurento install to `lib` vs. `lib64`, we test for both.nnReviewed By: simpkinsnnDifferential Revision: D14726768nnfbshipit-source-id: 86cc20dc1daef61fd5e9b1d3e6983f326ba5092en",30.0,18.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,655.0,27.0,2.314814814814815e-05,6426.0,43201.0,2970.0,None,False,,
a3c5c0e2019caaa477046df2386cb5eac926ffa3,91ba67c816ec9ebbab888e5fa6936836d544e483,Wez Furlong,wez@fb.com,Wed May 1 09:19:05 2019 -0700,1556727545,"watchman: refactor cmake third party depsSummary:nadd an interface library to hold all the deps, and make our targetsnall depend upon that.nnReviewed By: simpkinsnnDifferential Revision: D14726769nnfbshipit-source-id: 35d221a334a3c07416525ae4fc26d0f2c1ccece4n",55.0,36.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,667.0,28.0,0.0,6427.0,0.0,2971.0,None,False,,
91ba67c816ec9ebbab888e5fa6936836d544e483,d16296ad56dc5caa39219827e534e8c7e8d3fd52,svcscm,svcscm@fb.com,Wed May 1 10:00:21 2019 -0700,1556730021,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e7090567ddcb01dbcb8b1823525938c44df4a0cen,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,155.0,0.6304398148148148,744.0,2.586194235358913,744.0,None,False,,
d16296ad56dc5caa39219827e534e8c7e8d3fd52,ff68b74fefa8e57600f94dbdf7333421038fccb0,svcscm,svcscm@fb.com,Wed May 1 21:40:34 2019 -0700,1556772034,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c3448d193e49051cc00769ad43e7a59daaa979dbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,751.0,0.7705015432098765,746.0,2.108694284896848,747.0,None,False,,
ff68b74fefa8e57600f94dbdf7333421038fccb0,306058f6a68e96c80e96f5df6db3f8e2f04b314d,Katie Coons,kcoons@fb.com,Thu May 2 11:21:17 2019 -0700,1556821277,"Move try/catch to base classSummary:nSaved state is always a performance optimization no matter whatnimplementation of it you're using, so move the try/catch to the base class sonthat all implementations will share it.nnReviewed By: weznnDifferential Revision: D14768023nnfbshipit-source-id: b1fc44505075886bc450565695826de9f255afb3n",47.0,43.0,"saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.h,CAS_DELIMITER,saved_state/SavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER",4.0,1.0,1.0,1.157162003582475,29.0,54.5,10.0,178.78259548611112,46.5,1.005114300437312,11.0,None,False,,
306058f6a68e96c80e96f5df6db3f8e2f04b314d,5be3769818830b8a82256855071c259e73005b74,Katie Coons,kcoons@fb.com,Thu May 2 11:21:17 2019 -0700,1556821277,Move project argument to base classSummary:nMove the project argument to the base class since it's shared by allnsaved state implementations.nnReviewed By: weznnDifferential Revision: D14768042nnfbshipit-source-id: fff3cdbc7d1ac59b19465a8f275b1de260aa979an,17.0,12.0,"saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.h,CAS_DELIMITER,saved_state/SavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER,tests/integration/test_local_saved_state.py,CAS_DELIMITER",5.0,2.0,2.0,1.829422880788689,29.0,109.0,19.0,8.43098611111111,51.0,0.20474440349833864,11.0,None,False,,
5be3769818830b8a82256855071c259e73005b74,873861eadb553fa3463bb8c560888796ae08fe1a,Katie Coons,kcoons@fb.com,Thu May 2 11:21:17 2019 -0700,1556821277,Add more tests for facebook saved stateSummary: Add more tests for facebook-specific saved state infrastructure.nnReviewed By: weznnDifferential Revision: D14788705nnfbshipit-source-id: ec6e9ef61538ad8d38ebb4816ccac1c0d5ca7006n,16.0,8.0,"cfg.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,399.0,13.0,71.95457175925925,54.0,1.0138976575852017,11.0,Feature Addition,False,,
873861eadb553fa3463bb8c560888796ae08fe1a,bdd1dda9348994544a8e7c3dfde3297477c16ecb,Katie Coons,kcoons@fb.com,Thu May 2 11:21:17 2019 -0700,1556821277,"Add test for local storage pathSummary:nAdd a test to verify that the local storage path for saved state isnbeing set up properly.nnThis setup is relatively trivial right now, but it will get more complex as wenadd project metadata along with the base project, so it will be handy to have antest ready for it.nnReviewed By: weznnDifferential Revision: D14789137nnfbshipit-source-id: e73aee202238c91bf1a3ed92c452809f1df4489fn",21.0,3.0,"saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.h,CAS_DELIMITER,tests/LocalSavedStateInterfaceTest.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.0434356963218767,29.0,71.0,8.0,90.95045524691359,56.0,0.3345549996879378,12.0,Feature Addition,False,,
bdd1dda9348994544a8e7c3dfde3297477c16ecb,1a5d214e0ae97aa07c8d65565474a8fc588a2c48,Katie Coons,kcoons@fb.com,Thu May 2 11:21:17 2019 -0700,1556821277,"Add project metadata for local saved stateSummary:nAdd a project metadata field to all saved state implementations thatncan be used to differentiate multiple saved states for a given project at angiven source control revision. For example, a tool using saved states mightnwant multiple saved states for a particular revision, one for each supportednversion of the tool.nnUpdate the local saved state interface to use the project metadata, ifnspecified, by appending it, separated by an underscore, to the end of the hashnin the filename.nnReviewed By: weznnDifferential Revision: D14789784nnfbshipit-source-id: d92d730e4362ff0d8eb1791b840c632ba14be539n",121.0,5.0,"saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.h,CAS_DELIMITER,saved_state/SavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER,tests/LocalSavedStateInterfaceTest.cpp,CAS_DELIMITER,tests/integration/test_local_saved_state.py,CAS_DELIMITER",6.0,2.0,3.0,1.7033119599867457,29.0,111.5,28.0,0.0,60.5,0.0,14.0,Feature Addition,False,,
1a5d214e0ae97aa07c8d65565474a8fc588a2c48,e288ee69f55a4c93e59f584818da9572b4adc36a,svcscm,svcscm@fb.com,Thu May 2 16:14:28 2019 -0700,1556838868,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 89fcc80618a65cea87d30988a498cf50d948b5f5n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,597.0,0.7735416666666667,748.5,1.969566388365204,749.0,None,False,,
e288ee69f55a4c93e59f584818da9572b4adc36a,20a0bc339fb86ff823b08aa0c6c7facd9e2c014b,svcscm,svcscm@fb.com,Thu May 2 21:45:20 2019 -0700,1556858720,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 345b0ecaa54caf0c4e07824749d884f9a024c57en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,756.0,0.4876157407407407,751.0,1.830425788147648,752.0,None,False,,
20a0bc339fb86ff823b08aa0c6c7facd9e2c014b,e4fee56654bf535d9d9aaeaf811b8476f6c8aca8,Wez Furlong,wez@fb.com,Fri May 3 15:52:36 2019 -0700,1556923956,"fbcode_builder: getdeps: add boolean expression parserSummary:nAs part of folding getdeps into fbcode_builder, thisnexpression parser is needed to allow constrained and deterministicnconditionals in the manifest file format.nnFor example, the watchman manifest will use this cargo-inspired syntaxnfor system dependent sections:nn```n[dependencies]nfollynn[dependencies.not(os=windows)]nthriftn```nnReviewed By: sinancepelnnDifferential Revision: D14691014nnfbshipit-source-id: 080bcdb20579da40d225799f5f22debe65708b03n",226.0,0.0,"build/fbcode_builder/getdeps/expr.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/expr_test.py,CAS_DELIMITER",2.0,1.0,2.0,0.6926889992682926,1.0,0.0,0.0,0.0,6428.5,0.0,56.0,None,False,True,"[""a17dbf85e02f324b90a83e8c8876d3b445853df9""]"
e4fee56654bf535d9d9aaeaf811b8476f6c8aca8,8ae6245b48204caab944a90f1b4c9afe9713c0ae,Wez Furlong,wez@fb.com,Fri May 3 15:52:36 2019 -0700,1556923956,fbcode_builder: add manifest file parserSummary:nAdds a parser for manifest files that describe projectsnthat may be either 1st party or 3rd party.nnA selection of manifest files appears in a later diff in this stack.nnThis diff provides the raw parser and a couple of low level helpers.nIt also defines a mechanism for validating the schema to help catchnstructural (rather than semantic) issues with manifest file contents.nnLater diffs in the stack add helpers for accessing the data inna higher level way.nnReviewed By: sinancepelnnDifferential Revision: D14691003nnfbshipit-source-id: 7d2930a3359ede0f6e21fdc45686b083ab7a9ffan,462.0,0.0,"build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER",2.0,1.0,2.0,0.99084226751683,1.0,0.0,0.0,0.0,6430.5,0.0,58.0,None,False,True,"[""5e83260a7d604db82ae08f257f2b5b5e3b00ce09"", ""a17dbf85e02f324b90a83e8c8876d3b445853df9""]"
8ae6245b48204caab944a90f1b4c9afe9713c0ae,3e1dad29c004ceb3b5b2ff58076923b18436b100,Wez Furlong,wez@fb.com,Fri May 3 15:52:37 2019 -0700,1556923957,"fbcode_builder: add manifest files for some dependenciesSummary:nThese are ported over from the logic in the watchman and eden getdepsnscripts, with additions to help bootstrap a build environment.nnThese are sufficient to build watchman with thrift support on windows, mac andnlinux, and eden on mac and linux when combined with the getdeps code thatnfollows in later diffs in this stack.nnReviewed By: simpkinsnnDifferential Revision: D14691005nnfbshipit-source-id: 7f8b02fedcdc020e2d0e758c466959d8161d4587n",671.0,0.0,"build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER,build/fbcode_builder/manifests/autoconf,CAS_DELIMITER,build/fbcode_builder/manifests/automake,CAS_DELIMITER,build/fbcode_builder/manifests/bison,CAS_DELIMITER,build/fbcode_builder/manifests/boost,CAS_DELIMITER,build/fbcode_builder/manifests/cmake,CAS_DELIMITER,build/fbcode_builder/manifests/cpptoml,CAS_DELIMITER,build/fbcode_builder/manifests/double-conversion,CAS_DELIMITER,build/fbcode_builder/manifests/eden,CAS_DELIMITER,build/fbcode_builder/manifests/fbthrift,CAS_DELIMITER,build/fbcode_builder/manifests/fizz,CAS_DELIMITER,build/fbcode_builder/manifests/fmt,CAS_DELIMITER,build/fbcode_builder/manifests/folly,CAS_DELIMITER,build/fbcode_builder/manifests/gflags,CAS_DELIMITER,build/fbcode_builder/manifests/glog,CAS_DELIMITER,build/fbcode_builder/manifests/googletest,CAS_DELIMITER,build/fbcode_builder/manifests/libevent,CAS_DELIMITER,build/fbcode_builder/manifests/libgit2,CAS_DELIMITER,build/fbcode_builder/manifests/libsodium,CAS_DELIMITER,build/fbcode_builder/manifests/libtool,CAS_DELIMITER,build/fbcode_builder/manifests/mstch,CAS_DELIMITER,build/fbcode_builder/manifests/ninja,CAS_DELIMITER,build/fbcode_builder/manifests/openssl,CAS_DELIMITER,build/fbcode_builder/manifests/osxfuse,CAS_DELIMITER,build/fbcode_builder/manifests/pcre,CAS_DELIMITER,build/fbcode_builder/manifests/perl,CAS_DELIMITER,build/fbcode_builder/manifests/rocksdb,CAS_DELIMITER,build/fbcode_builder/manifests/rsocket-cpp,CAS_DELIMITER,build/fbcode_builder/manifests/snappy,CAS_DELIMITER,build/fbcode_builder/manifests/sqlite3,CAS_DELIMITER,build/fbcode_builder/manifests/wangle,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER,build/fbcode_builder/manifests/zlib,CAS_DELIMITER,build/fbcode_builder/manifests/zstd,CAS_DELIMITER",34.0,1.0,2.0,4.934412770276915,1.0,6.029411764705883,1.0,3.404139433551198e-07,6448.5,86401.0,92.0,None,False,,
3e1dad29c004ceb3b5b2ff58076923b18436b100,2eed341733fb74ab0433a4da559c8ac8d40de4c6,Wez Furlong,wez@fb.com,Fri May 3 15:52:37 2019 -0700,1556923957,"fbcode_builder: getdeps: add envfuncs.pySummary:nAdd some helpers for manipulating environment variablesnthat will hold either compiler flags or paths.nnThese are used in later diffs when setting up arguments/environmentnfor eg: cmake.nnReviewed By: sinancepel, simpkinsnnDifferential Revision: D14690993nnfbshipit-source-id: 7f9753cd99d968550fe9e3ba8b7017a44683061en",175.0,0.0,"build/fbcode_builder/getdeps/envfuncs.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6466.0,0.0,93.0,None,False,,
2eed341733fb74ab0433a4da559c8ac8d40de4c6,8c66851e44c169d67b37e7d1172c30de7a53ae38,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: add getdeps main entrypointSummary:nThis is the new getdeps entrypoint.  It lives in `opensource/fbcode_builder` so thatnit is synced into the various opensource projects at FB.nnIn the incarnation in this diff is has a single subcommand that can be used to validatena manifest file.nnReviewed By: sinancepelnnDifferential Revision: D14690995nnfbshipit-source-id: 53f8ec9bafb7b1930970079e3ce20f496ac1c188n,127.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/__init__.py,CAS_DELIMITER,build/fbcode_builder/getdeps/subcmd.py,CAS_DELIMITER",3.0,1.0,2.0,0.994581653424978,1.0,0.0,0.0,0.0,6468.0,0.0,96.0,None,False,True,"[""523477228bc7bd733030e2115e7f886aa40c091a""]"
8c66851e44c169d67b37e7d1172c30de7a53ae38,b94033804de4b877cd96237c10da2fcfae658c2b,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add run_cmd() functionSummary:nThis runs a command, raising an exception if it exits with a non-zero error status.nnIt prints out the arguments in a mostly copy-and-pasteable form, with PATH-likenenv vars pretty printed to make it easier to see what is being invoked; here'snan example of how cmake is being invoked later in this stack:nn```n ---n+ CMAKE_PREFIX_PATH=n+  /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/installed/ninja-5d7ec7:n+  /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/installed/cmake-91dc9a:n+ PKG_CONFIG_PATH=n+  /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/installed/ninja-5d7ec7/lib/pkgconfig:n+  /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/installed/cmake-91dc9a/lib/pkgconfig:n+ cd /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/build/zstd-470344 && n+ cmake configure /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.git/build/cmake -DCMAKE_INSTnALL_PREFIX=/data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/installed/zstd-470344 -DBUILD_SHARED_LIBS=OFF -DCMAKE_BUILD_TYPE=RnelWithDebInfo -G Ninjan```nnReviewed By: simpkinsnnDifferential Revision: D14690999nnfbshipit-source-id: cdb0c681c7dfdfdc6e8c96bf4830bfbcf666411bn",87.0,0.0,"build/fbcode_builder/getdeps/runcmd.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6470.0,0.0,97.0,None,False,,
b94033804de4b877cd96237c10da2fcfae658c2b,ce6af570c949cb40559547abb339386ae3ab56a7,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add copytree helperSummary:nthis module adds some functions that help with copyingndirectory trees.  The copytree function is aware of eden and willnissue a prefetch prior to walking the directory.nnReviewed By: simpkinsnnDifferential Revision: D14691006nnfbshipit-source-id: 079bf850756f61aca17978453d07bc73b2f91788n,54.0,0.0,"build/fbcode_builder/getdeps/copytree.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6471.0,0.0,98.0,None,False,,
ce6af570c949cb40559547abb339386ae3ab56a7,ec74337d15df40bcecbb9b32bd967658f1d1695c,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add platform type tuple helperSummary:nThis will feed into the manifest context for systemndependent manifest sections.  This is essentially the samencode borrowed from the watchman and eden getdeps.py.nnReviewed By: simpkinsnnDifferential Revision: D14690997nnfbshipit-source-id: 3d3ae146237a2cd49609aaa2bd0e785ebe21f02cn,150.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/platform.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/platform_test.py,CAS_DELIMITER",3.0,1.0,3.0,1.1614835292394714,1.0,23.0,1.0,0.0,6473.0,0.0,101.0,None,False,,
ec74337d15df40bcecbb9b32bd967658f1d1695c,f12aaabad520c16912df9a001715c23ed012843f,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add build optionsSummary:nThe build options class contains some environmental andnbuild related information that will be passed down to fetchernand builder objects that will be introduced in later diffs.nnReviewed By: simpkinsnnDifferential Revision: D14691007nnfbshipit-source-id: e8fe7322f590667ac28a5a3925a072056df0b3e3n,254.0,4.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/subcmd.py,CAS_DELIMITER",3.0,1.0,2.0,0.6271898399898131,1.0,45.33333333333334,3.0,0.0,6476.0,0.0,104.0,None,False,True,"[""523477228bc7bd733030e2115e7f886aa40c091a""]"
f12aaabad520c16912df9a001715c23ed012843f,9744da77f4d9f54b6150fb72f140497eaced89de,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: define the Fetcher interfaceSummary:nFetchers are used to fetch a source directory from ansource defined in a manifest file.nnMore details can be found in comments on the various methods.nnThe Manifest class offers a create_fetcher method for constructingnan appropriate fetcher.  This is just a stub in this commit, butnwill expand over the course of the next few diffs as concretenfetcher instances are added.nnReviewed By: simpkinsnnDifferential Revision: D14691001nnfbshipit-source-id: 8c9038eacae3345e9403d5d1304bf979a9ee1555n",104.0,0.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.2781710079264945,1.0,128.5,1.0,1.736111111111111e-05,6478.5,14400.5,106.0,None,False,,
9744da77f4d9f54b6150fb72f140497eaced89de,1a77434969fc5a9dbc95790c1edcf50c354305e8,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add GitFetcherSummary: this fetcher knows how to check out sources via git.nnReviewed By: simpkinsnnDifferential Revision: D14691000nnfbshipit-source-id: 60f1ffbfed7b32a019aef6aa70ae0903f2782451n,123.0,0.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.2811937964320427,1.0,180.5,3.0,0.0,6480.5,0.0,108.0,None,False,,
1a77434969fc5a9dbc95790c1edcf50c354305e8,19c08921dbc47d686f06720ec3144211ede351b8,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add ArchiveFetcherSummary:nthis fetcher knows how to download a URL that referencesnan archive and extract the sources from it.  Compressed tarballsnand zipfiles are supported.nnReviewed By: simpkinsnnDifferential Revision: D14690994nnfbshipit-source-id: ffbbd1d9479b0d5aa3e5cd13fe11a560e9d01c2an,154.0,1.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.29320934275200816,1.0,242.0,5.0,0.0,6482.5,0.0,110.0,None,False,,
19c08921dbc47d686f06720ec3144211ede351b8,437219b06810742ae437a3faae86423353a5f501,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add ShipitTransformer fetcherSummary:nThis fetcher knows how to take a 1st party FB projectnfrom fbsource and transform it to the same shape as our githubnrepos using ShipIt.  The transformation creates a transformednmirror of the code in scratch space (rather than mutating fbsourcendirectly).nnThis can only be used in environments where shipit is available.nA later diff implements an alternative that works in more environments.nnReviewed By: simpkinsnnDifferential Revision: D14691013nnfbshipit-source-id: 539e307755c9fc0a098a235868ab622652061494n,83.0,1.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.5600443203590992,1.0,318.5,7.0,0.0,6484.5,0.0,112.0,None,False,,
437219b06810742ae437a3faae86423353a5f501,dd6d13ed620f130f7b0e4e11c11f18d1f3696bcd,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add SimpleShipitTransformer fetcherSummary:nThis fetcher knows how to transform a 1st party projectnfrom fbsource into approximately the same shape as ShipIt producesnfor the github repo mirrors.  It does this by reading shipitnmapping information from the manifest file for the project.nnSince this fetcher uses data in the manifest and is implementedndirectly in the getdeps codebase, it is suitable for iteratingnon the opensource builds directly out of fbsource on both devserversnand laptops inside FB.nnReviewed By: simpkinsnnDifferential Revision: D14691012nnfbshipit-source-id: 05f68a7be64a2e465937b24b8825d25d3348ed13n",218.0,1.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.3064247298705149,1.0,359.5,9.0,0.0,6486.5,0.0,114.0,None,False,True,"[""dd8cb1b33c2cb56d3c8288e634eb87b609ba5750""]"
dd6d13ed620f130f7b0e4e11c11f18d1f3696bcd,412456ddcb8092ef90fe48781287ba1da6d18e0f,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add fetch subcommandSummary:nAdds a command that can be used to trigger a fetch for a projectnn```n$  ./opensource/fbcode_builder/getdeps.py fetch zstdnCloning https://github.com/facebook/zstd.git...n ---n+ git clone --depth=100 https://github.com/facebook/zstd.git /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.gitnCloning into '/data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.git'...nremote: Enumerating objects: 3816, done.nremote: Counting objects: 100% (3816/3816), done.nremote: Compressing objects: 100% (1415/1415), done.nremote: Total 3816 (delta 2556), reused 3312 (delta 2288), pack-reused 0nReceiving objects: 100% (3816/3816), 2.93 MiB | 9.59 MiB/s, done.nResolving deltas: 100% (2556/2556), done.nUpdating /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.git -> v1.3.8n ---n+ git -C /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.git fetch origin v1.3.8nFrom https://github.com/facebook/zstdn * tag   v1.3.8 -> FETCH_HEADn ---n+ git -C /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.git checkout FETCH_HEADnNote: checking out 'FETCH_HEAD'.nnYou are in 'detached HEAD' state. You can look around, make experimentalnchanges and commit them, and you can discard any commits you make in thisnstate without impacting any branches by performing another checkout.nnIf you want to create a new branch to retain commits you create, you mayndo so (now or later) by using -b with the checkout command again. Example:nn  git checkout -b <new-branch-name>nnHEAD is now at 470344d Merge pull request #1479 from facebook/visualTestn ---n+ git -C /data/users/wez/scratch/dataZusersZwezZfbsource/fbcode_builder_getdeps/repos/github.com-facebook-zstd.git submodule update --initn```nnReviewed By: simpkinsnnDifferential Revision: D14691008nnfbshipit-source-id: 3afa391360518a08ebd6ff97f5b8b4993f10c4e8n",40.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",2.0,1.0,2.0,0.99819587904281,1.0,50.0,3.0,0.0,6488.5,0.0,116.0,None,False,,
412456ddcb8092ef90fe48781287ba1da6d18e0f,52ecd036a6f0ab65c03455007e837ce155f63b28,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add list-deps subcommandSummary:nWhile the command isn't necessarily super usefulnon its own, it does show that the plumbing for walking thendeps is functioning, and that is important when it comesnto building.nnThe output lists the projects in the order that theynwould be built.nnThe `fetch` command has been augmented to add a `--recursive`nflag that uses the same mechanism to recursively fetchnthe dependencies.nnReviewed By: simpkinsnnDifferential Revision: D14691004nnfbshipit-source-id: b00bf6ad4742f8bb0a70698f71a5fe03d6a1f453n",144.0,6.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/platform.py,CAS_DELIMITER",3.0,1.0,2.0,1.397520139692261,1.0,79.33333333333333,6.0,0.0,6491.0,0.0,119.0,None,False,,
52ecd036a6f0ab65c03455007e837ce155f63b28,daae465ce65e84e335af2dea8753969cb5dd8c52,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add BuilderBase classSummary:na builder knows how to build and install a project.nnLater diffs add concrete implementations of the BuilderBasennReviewed By: simpkinsnnDifferential Revision: D14691018nnfbshipit-source-id: 89b14614b5160353cd7e59f27037afcdf6229eb7n,101.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.4966221117153493,1.0,146.5,6.0,0.0,6493.5,0.0,121.0,None,False,,
daae465ce65e84e335af2dea8753969cb5dd8c52,1578be38ace7ecf54e1860b7c7a0344352b2fde0,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add MakeBuilderSummary:nthe make builder runs `make` in the source directory.nThe `make.args` section from the manifest is passed as argumentsnto the `make` invocation.nnReviewed By: simpkinsnnDifferential Revision: D14690996nnfbshipit-source-id: 180d657ad05f0c0266a8c1d30979d8d1473958c9n,20.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,1.0,197.0,8.0,0.0,6495.5,0.0,123.0,None,False,,
1578be38ace7ecf54e1860b7c7a0344352b2fde0,b9a056608f02aaa768eb80db4ebdbf077dc56f08,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add AutoconfBuilderSummary:nthe autoconf builder performs an out-of-source build usingnthe autoconf suite to configure the build rules.nnThe `autoconf.args` section from the manifest is passed to the `./configure`ncommand line.nnIf an `autogen.sh` script is present then it will be used to regeneratena missing `configure` script, otherwise we'll try `autoreconf`.nnReviewed By: simpkinsnnDifferential Revision: D14691002nnfbshipit-source-id: ab8cceafb833dab513d5a50c65f4c895a4f40047n",47.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.6420642892306891,1.0,207.0,10.0,0.0,6497.5,0.0,125.0,None,False,,
b9a056608f02aaa768eb80db4ebdbf077dc56f08,56a4a5ebb5dbfce6587c74b08b8ba4cd0ec6d167,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add CMakeBuilderSummary:nthe cmake builder knows how to use cmake to configure a buildnfor (preferably) and out-of-src build.  The `cmake.defines` section ofnthe manifest is used to pass `-Dkey=value` options to the cmake configurencommand line.nnWe prefer to use `ninja` to execute the build so that we can use morencores than 1 on Windows and just for consistency across platformsnwith mac and linux.nnReviewed By: simpkinsnnDifferential Revision: D14690998nnfbshipit-source-id: 8102e8b4a47da515ca001772788ed0e5f2645ad7n,86.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.4394969869215134,1.0,229.5,12.0,0.0,6499.5,0.0,127.0,None,False,,
56a4a5ebb5dbfce6587c74b08b8ba4cd0ec6d167,c795f4efd1ffc4103bc13533e0d6775e7764525b,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add NinjaBootstrap builderSummary:nthis builder is used to bootstrap the ninja build tool.nnOn Windows and mac the manifest for ninja is set to download a pre-built executable.nWhile pre-built executables are available for linux they aren't portable enoughnfor our purposes so we need to be able to build it for ourselves.nnReviewed By: simpkinsnnDifferential Revision: D14690992nnfbshipit-source-id: b60fd02ad04f58dc7c2931280341791270609737n,24.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.8554508105601307,1.0,271.5,14.0,0.0,6501.5,0.0,129.0,None,False,,
c795f4efd1ffc4103bc13533e0d6775e7764525b,cdd15d03980e5da32fe9e424119c062802d4b12d,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add OpenSSL builderSummary:nthe openssl builder knows how to perform the non-standardnconfiguration and build steps to build openssl.nnOn Linux systems the manifests for our projects don't mentionnopenssl, causing them to pick up the system openssl.nnOn Mac, apple don't ship openssl headers so we need to build our own.nOn Windows there is no standard openssl installation so we also neednto build our own.nnAs a result, this builder only works on windows and mac.nnReviewed By: simpkinsnnDifferential Revision: D14691010nnfbshipit-source-id: 9f8979f9eaeb5209c290cf4f43c97c0cb43d13a2n",59.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.7540340561971326,1.0,283.0,16.0,0.0,6503.5,0.0,131.0,None,False,,
cdd15d03980e5da32fe9e424119c062802d4b12d,d2e3bdc80308bb12db97dd50d25d799e488fd85c,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add Boost builderSummary:nthe boost builder knows how to perform the non-standardnconfigure and build for boost.nnIdeally we'd just build this statically and be happy but there arensome nuances I've observed while building on different platforms:nn* One of our projects (thrift or wangle) explicitly requests staticn  boost linkage for reasons unspecifiedn* on darwin the install_name is broken when building dynamic libsnnFor the sake of expediency in getting getdeps up and running, thensolution for the moment is to build static on posix systems andnbuild both static and shared on windows systems.nnReviewed By: simpkinsnnDifferential Revision: D14691009nnfbshipit-source-id: 634770a6f53c3ada42d1877cc6c3dacc6eed7d18n",54.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.3809465857053901,1.0,312.0,18.0,0.0,6505.5,0.0,133.0,None,False,,
d2e3bdc80308bb12db97dd50d25d799e488fd85c,5c2f736f69660430685c6bea01bafe583fee36c3,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add NopBuilderSummary:nthis could do with a better name; the NopBuilder doesn't actuallynbuild anything, but instead copies some files to the destination location.nnThis is used together with eg: cmake to install pre-built binaries downloadednfrom a tarball.nnReviewed By: simpkinsnnDifferential Revision: D14691015nnfbshipit-source-id: a938e977aa4ec5a664bdb8085ff708319a204594n",47.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.419921097375718,1.0,339.0,20.0,0.0,6507.5,0.0,135.0,None,False,,
5c2f736f69660430685c6bea01bafe583fee36c3,32d397d1aa8729cf7f625c16b9f19af15c2f815c,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,getdeps: add build subcommandSummary:nadds the command that is used to drive a build.nnThe dependencies of the named project are computed usingnthe same mechanism behind the `list-deps` subcommand.nIf a manifest specifies that it uses the `cmake` builder thenna dependency on `cmake` is synthesized so that we can downloadna recent version of cmake ahead of time.nnThe build command uses the fetcher to update the src and thennexecutes the builder.nnReviewed By: simpkinsnnDifferential Revision: D14691011nnfbshipit-source-id: 31ae59614651ef021a9505e89c13b5717b440071n,76.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,166.0,5.0,0.0,6509.0,0.0,136.0,None,False,,
32d397d1aa8729cf7f625c16b9f19af15c2f815c,7dd360ebe6ec07fcab008b89768bf22e793e5e73,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"watchman: add cmake option to select whether we build with edenSummary:nThis makes it possible to disable eden (and thus thrift) support.nnI've defaulted this to off so that we don't break the existingnwatchman CI.nnReviewed By: simpkins, stragernnDifferential Revision: D14726767nnfbshipit-source-id: 0f4d0597d901a91850f1ba6d71609c059c064c22n",13.0,12.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER",2.0,2.0,2.0,0.5293608652873644,30.0,355.5,30.0,1.1366666666666667,6510.5,1.4398849375161753,137.0,None,False,,
7dd360ebe6ec07fcab008b89768bf22e793e5e73,5f786df044e6a1561b3be2abe8534b7aff04af52,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add flag to use the real shipitSummary:nThis fixes a TODO; in our CI environment we want to use thenreal shipit, so we'll use this flag to make that happen.nnReviewed By: simpkinsnnDifferential Revision: D14695576nnfbshipit-source-id: 64ee72c210e2472d295dcbd39c86549273b68452n",25.0,4.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",3.0,1.0,2.0,1.5275302083002935,1.0,271.0,21.0,0.0,6513.0,0.0,140.0,None,False,True,"[""523477228bc7bd733030e2115e7f886aa40c091a""]"
5f786df044e6a1561b3be2abe8534b7aff04af52,902bd685dbfc6547e56bf76bca66c733b7df785a,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add clean commandSummary:nThis cleans up the scratch dir, removing everything exceptnfor downloaded tarballs.nnReviewed By: simpkinsnnDifferential Revision: D14781328nnfbshipit-source-id: 9304e44a268cf7996c5e572a2eca219aefbf4b46n",16.0,5.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,248.0,7.0,0.0,6515.0,0.0,141.0,None,False,,
902bd685dbfc6547e56bf76bca66c733b7df785a,a99fb20d88865062d137644477a8927570c608dd,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add testing conceptSummary:nAdds a `test` subcommand that runs the tests for project.nWe're mostly interested in the 1st party facebook projects for this.nnThe `sandcastle` flow will run the `test` subcommand just for the leaf project--the one named on the command line.nnReviewed By: simpkinsnnDifferential Revision: D14710331nnfbshipit-source-id: 7d04a46cfd723894d61018de2f230140b52285acn,131.0,16.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/manifests/folly,CAS_DELIMITER,build/fbcode_builder/manifests/wangle,CAS_DELIMITER",5.0,1.0,3.0,1.3791383071094527,1.0,189.8,20.0,9.25925925925926e-06,6518.0,12960.4,146.0,None,False,,
a99fb20d88865062d137644477a8927570c608dd,13ebb2add8ec0dc1fa2aed330aad857dd94cf7a6,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add `sandcastle` subcommandSummary:nThis command schedules a facebook specific sandcastle job for the currentncommit in your repo for each of the platforms we have support for innsandcastle.nnYou can use `--dry-run` to have it print out the job specs.nnTo support this, I've moved around some of the support utilitiesnto make it easier to import them.nnReviewed By: simpkinsnnDifferential Revision: D14710330nnfbshipit-source-id: fb1e2a2ce78e52894291159514977da97028b37fn",8.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,308.0,9.0,0.0,6521.0,0.0,147.0,None,False,,
13ebb2add8ec0dc1fa2aed330aad857dd94cf7a6,76fd6b11eb9f2f8be2bff369faccad8ba61cd695,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: beef up hash computationSummary:npreviously, a relatively lame hash was computed to usenfor the build directory based on some hash of the source directory.nThat was good enough to get things off the ground, but in theninterest of being able to cache the build outputs and safelyninvalidate them we need a slightly more rigorous implementation.nnThis diff computes a hash based on the manifest contents andnrelevant environmental factors.nnThe hash is used to name the build directory which will ultimatelynbe cached eg: using the travis/appveyor cache directory configurationnand some other means for the FB internal CI.nnThe hash needs to be sufficient that we change the hash whennthe manifests change.  We can tolerate a false positive changenin hash (it just means that a build will take longer), butncannot tolerate a false negative (which would result in annincorrect build).nnReviewed By: simpkinsnnDifferential Revision: D14710332nnfbshipit-source-id: ebc2e74eafc6f3305d4412a82195bc9fb9dfa615n",139.0,23.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",4.0,1.0,2.0,1.7326547056054051,1.0,388.25,33.0,0.0,6523.5,0.0,151.0,None,False,,
76fd6b11eb9f2f8be2bff369faccad8ba61cd695,1e69a11607728867615a83b23ecc046982b772b1,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: introduce loader classSummary:nThe loader makes it possible to monkey patch the functionsnthat are responsible for loading manifests.  It is intended to be usenin tests that are run in bucks sandboxed environment and that don'tnhave direct access to the manifest files on disk.nnReviewed By: simpkinsnnDifferential Revision: D14781326nnfbshipit-source-id: 18f69f8ce5768dc605b1a9388a80b7b7b9ffe0f4n,61.0,10.0,"build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER",2.0,1.0,2.0,0.6554444445609848,1.0,155.5,4.0,1.1574074074074072e-05,6526.5,21600.5,153.0,None,False,,
1e69a11607728867615a83b23ecc046982b772b1,081182552cb5a441e551fe141b1186c64b946bed,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: use testpilot when available to record testsSummary:nIf `testpilot` is available, generate a buck compatible json file describing the available test binaries and feed that to testpilot to have it run the tests.nnA later (yet to be written) diff will be able to pass appropriate flags down to testpilot in continuous runs and that will allow testpilot to auto-disable and file tasks for tests in the opensource builds.nnReviewed By: simpkinsnnDifferential Revision: D14766856nnfbshipit-source-id: 4e144ff18f6788cf5e830d29788eabd2dbbae46an",50.0,3.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,437.0,9.0,0.0,6528.0,0.0,154.0,None,False,,
081182552cb5a441e551fe141b1186c64b946bed,df3ab3f89b89f37d56db515081d090afe193dfc4,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add `show-inst-dir` and `show-source-dir` commandsSummary:nThis prints out the installation or source prefix for a given project.nThis is useful in eg: packaging scripts to figure out where they cannfind the built artifacts.nnReviewed By: simpkinsnnDifferential Revision: D14967378nnfbshipit-source-id: 7e1b5de2ca7219af24cfb07b4b42de22aa410469n,68.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,319.0,11.0,0.0,6529.0,0.0,155.0,None,False,,
df3ab3f89b89f37d56db515081d090afe193dfc4,2393cc564fcf76feade86bb57c88b463686787be,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"eden: getdeps: add fb-mercurial dep to enable treemanifestSummary:nIn order to pull in the treemanifest and other librariesnfrom our mercurial repo, add a manifest file for it, and thennadjust the logic in our cmake module to look for it.nnThe fb-mercurial manifest just copies the source tree to theninstallation dir.  In the future, we could teach it to invokenthe build for real.nnReviewed By: simpkinsnnDifferential Revision: D14969806nnfbshipit-source-id: cb270c5003a1c134eeea92c7481a84938f1c5957n",33.0,0.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER,build/fbcode_builder/manifests/fb-mercurial,CAS_DELIMITER,build/fbcode_builder/manifests/lz4,CAS_DELIMITER",3.0,1.0,1.0,1.064794829694994,1.0,12.666666666666664,1.0,7.716049382716051e-06,6531.0,43201.0,158.0,None,False,,
2393cc564fcf76feade86bb57c88b463686787be,36d535d7712eeed37b1c0b54da400edf839ee734,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add LFS caching for ArchiveFetcherSummary:nWhen running in FB infra, prefer to download from our local LFSnserver rather than going out to the internet.nnFall back to a normal internet download if the LFS get fails for some reason.nnUpload to LFS after successfully verifying the hash for the downloaded archive.nnAdd a subcommand that performs a fetch for all possible platforms so that itnis easier to ensure that the lfs-pointers file is up to date.nnReviewed By: simpkinsnnDifferential Revision: D14978660nnfbshipit-source-id: 240fc32fc7003d1e06c88b80d85054dae36e2f31n",19.0,5.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",2.0,1.0,1.0,0.8708644692353646,1.0,521.5,22.0,0.0,6533.5,0.0,160.0,None,False,,
36d535d7712eeed37b1c0b54da400edf839ee734,6212774878faaddfbc8d20449e1c8944d48278a7,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,"fbcode_builder: getdeps: add sqlite3 builderSummary:nPreviously, we were using autoconf to build sqlite,nbut that isn't available on Windows.  Instead, here's a buildernthat generates a little cmake configuration for building andninstalling sqlite.nnUsing cmake for this means that we can test the same buildernon all platforms that need to pull in sqlite.nnReviewed By: simpkinsnnDifferential Revision: D15179387nnfbshipit-source-id: fccf969182565982bd5be55545a2d2625aa99124n",117.0,41.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/manifests/sqlite3,CAS_DELIMITER",3.0,1.0,2.0,0.5551501090738198,1.0,295.3333333333333,28.0,7.716049382716051e-06,6536.0,14400.333333333336,163.0,None,False,,
6212774878faaddfbc8d20449e1c8944d48278a7,b9d0aa95ef7edf739596a6ecbc06f463876bea84,Wez Furlong,wez@fb.com,Fri May 3 15:52:39 2019 -0700,1556923959,fbcode_builder: getdeps: add `build --no-deps` flagSummary:nThis is useful especially on Windows where the up-to-datenchecks for the dependencies take a long time.nnThe idea is that you might run this to start:nn```n$ getdeps.py build edenn```nnand then while in the edit/debug/build iteration cycle:nn```n$ getdeps.py build --no-deps edenn```nnReviewed By: pkaushnnDifferential Revision: D15200352nnfbshipit-source-id: 086f2f49db967ef4d1914a69fa80067104d79136n,33.0,20.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,387.0,12.0,0.0,6538.0,0.0,164.0,None,False,,
b9d0aa95ef7edf739596a6ecbc06f463876bea84,8d7f04c0b1316688ab510b0f1c7d7dc4ebc75d20,svcscm,svcscm@fb.com,Fri May 3 16:54:44 2019 -0700,1556927684,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4197239d4f138b1a5171717fea1fe210efcc3121n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,482.0,0.7981944444444444,753.5,1.9396206716547764,754.0,None,False,,
8d7f04c0b1316688ab510b0f1c7d7dc4ebc75d20,049b3c53e8efffe10a3293275dc8246713ecdcc9,svcscm,svcscm@fb.com,Fri May 3 19:49:42 2019 -0700,1556938182,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 49abcc2e79050e1c113ebc9ed25a84299e26eeb6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,761.0,0.3875694444444444,756.0,5.401756510715312,757.0,None,False,,
049b3c53e8efffe10a3293275dc8246713ecdcc9,60f89167bc5081605f502011cdf5a3ef4b131d45,svcscm,svcscm@fb.com,Sat May 4 19:37:40 2019 -0700,1557023860,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0972ca4ab41cb6c83da5acb7630c0af010e666fbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,764.0,0.9916435185185184,759.0,1.616260883774131,760.0,None,False,,
60f89167bc5081605f502011cdf5a3ef4b131d45,2b9bea0bbd9430e0847a83e70a9b2cff787f8330,svcscm,svcscm@fb.com,Sun May 5 14:05:34 2019 -0700,1557090334,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 3e253cbb94aea2cae546d91ec69a16ee18684a40n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,767.0,0.769375,762.0,1.7942955140355628,763.0,None,False,,
2b9bea0bbd9430e0847a83e70a9b2cff787f8330,6beefe3c10669c3bd80c4fbc9144a4b7952e2d81,svcscm,svcscm@fb.com,Mon May 6 08:34:14 2019 -0700,1557156854,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0cdde8d4f33e5e943498932887949010bb5b116dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,770.0,0.7699074074074074,765.0,1.7937462417318102,766.0,None,False,,
6beefe3c10669c3bd80c4fbc9144a4b7952e2d81,4f468b7696dd2ee0b96ed5b8f7cf54801c587f47,svcscm,svcscm@fb.com,Tue May 7 03:48:10 2019 -0700,1557226090,Updating submodulesReviewed By: zpaonnfbshipit-source-id: be10e59bd10367e147cd7ad0711c518d9c314efan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,773.0,0.8013425925925924,768.0,1.7626090473164249,769.0,None,False,,
4f468b7696dd2ee0b96ed5b8f7cf54801c587f47,4060d2b23d17b7ea5bf349394e4cba7dbc4d1ca7,Udip Pant,udippant@fb.com,Tue May 7 19:34:14 2019 -0700,1557282854,add fbcode_builder_config for mvfst build in ossSummary: support for fbcode_build and travis buildnnReviewed By: siyengarnnDifferential Revision: D15184766nnfbshipit-source-id: 5117164c324d3d3c867592a88670a53b6f862477n,21.0,0.0,"build/fbcode_builder/specs/mvfst.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,Feature Addition,False,,
4060d2b23d17b7ea5bf349394e4cba7dbc4d1ca7,f2532b150d4b2b212c80932d292751629e5d7a0e,Wez Furlong,wez@fb.com,Wed May 8 08:15:28 2019 -0700,1557328528,"getdeps: if the hash has changed, force a cmake reconfigureSummary:nThis is needed to correctly pick up changes made toneg: cmake.defines sections in the manifest for first-partynprojects.nnReviewed By: stragernnDifferential Revision: D15246337nnfbshipit-source-id: 35e525e885f87d6136d5ff3b94ebf34516ab947cn",1.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,400.0,13.0,4.682511574074074,6539.0,1.213560604000801,165.0,None,False,,
f2532b150d4b2b212c80932d292751629e5d7a0e,8d576a2d3e1191c977f03f584993da63a3b8e5ec,Wez Furlong,wez@fb.com,Wed May 8 08:15:28 2019 -0700,1557328528,"getdeps: introduce `build --enable-tests` optionSummary:nThis controls whether tests are built or not.nThey are not built by default.  When `--enable-tests` is turned on,ntests are enabled for the named project only, not all of the deps.nThis results in a faster build, because eg: the number of tests innfolly is very large and consumers of folly don't want to spend sonmuch time waiting to build tests when really all they want to donis build their own project.nnReviewed By: stragernnDifferential Revision: D15246336nnfbshipit-source-id: 2e22fd60c983b059f71639602712087f2a188ec6n",31.0,2.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/manifests/fbthrift,CAS_DELIMITER,build/fbcode_builder/manifests/folly,CAS_DELIMITER,build/fbcode_builder/manifests/wangle,CAS_DELIMITER",4.0,1.0,2.0,1.8512347597434609,1.0,127.75,19.0,3.511889467592592,6541.5,0.8478815842557337,169.0,None,False,,
8d576a2d3e1191c977f03f584993da63a3b8e5ec,4388b3d5e87d9766e905438e0f3311a5a2ff826c,Wez Furlong,wez@fb.com,Wed May 8 18:30:59 2019 -0700,1557365459,"watchman: fix an issue where a delete wouldn't propagate to its parentSummary:nThis is a slightly thorny thing because the pants build systemn(is|was) sensitive to spurious directory changes (see https://github.com/facebook/watchman/issues/305).nnsbalabanov noticed that deleting a file didn't also mark its containingndirectory as changed.  Digging in, the code that we used to propagatenthis was only triggered in the code path where a file was changed,nbut not in the code path where a file was deleted.nnThis diff adds that logic in to the delete path, however, this isnmade a little more tricky because simply doing that resulted inna flakey test.  What is happening is that the filesystem mtimengranularity is not high enough to guarantee that we can observenthe parent directly changing via stat.  The resolution for thisnis to tag the request with VIA_NOTIFY so that force delivery ofnthe parent directory change in the unlink case.nnReviewed By: chadaustin, stragernnDifferential Revision: D15247692nnfbshipit-source-id: 595808fc3291785ec48ae2fc4ef048027e6b02cbn",89.0,14.0,"InMemoryView.h,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,tests/integration/test_fishy.py,CAS_DELIMITER",3.0,2.0,2.0,1.2126028501312036,29.0,201.66666666666663,106.0,183.75247299382718,6545.0,1.005422953363332,840.0,None,False,,
4388b3d5e87d9766e905438e0f3311a5a2ff826c,3569f01f861071dec6854451acd1286121b9f152,Wez Furlong,wez@fb.com,Wed May 8 18:30:59 2019 -0700,1557365459,watchman: code formatting fixupSummary: No functional changennReviewed By: chadaustinnnDifferential Revision: D15247695nnfbshipit-source-id: 57e3167aca0b05e3a009694c6cbecb0d52fce9edn,26.0,8.0,"root/stat.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,267.0,44.0,0.0,6547.0,0.0,2975.0,None,False,,
3569f01f861071dec6854451acd1286121b9f152,3d1f423dc786b8a85283cf6c1be4c823b36ed7c1,svcscm,svcscm@fb.com,Wed May 8 19:25:18 2019 -0700,1557368718,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 98327ac3301e41f5639132e1d801a7bdd67f1956n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,776.0,1.6507870370370368,771.0,1.3701937908405082,772.0,None,False,,
3d1f423dc786b8a85283cf6c1be4c823b36ed7c1,aaca85198edc66ec93007e690c15b05ba14dc68d,svcscm,svcscm@fb.com,Thu May 9 05:52:46 2019 -0700,1557406366,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 31f0b02454d176526e3e0a7c0b44b6266c6b739an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,779.0,0.4357407407407408,774.0,2.4024649383765406,775.0,None,False,,
aaca85198edc66ec93007e690c15b05ba14dc68d,37c30c8641691498faa214e9bf7761635f5a8ecc,Yuhan Hao,yuhanhao@fb.com,Thu May 9 12:15:05 2019 -0700,1557429305,"mstch is no longer required for fbthriftSummary: mstch is no longer required for fbthrift, we can remove it from manifestsnnReviewed By: vitautnnDifferential Revision: D15279652nnfbshipit-source-id: 1772de7ab51fbfe048808f66290c4ca79de60608n",0.0,1.0,"build/fbcode_builder/manifests/fbthrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,40.0,2.0,1.1664004629629627,0.0,0.0,0.0,None,False,,
37c30c8641691498faa214e9bf7761635f5a8ecc,c3ee4cdc3ffa96f78ddac547149401d856a10ecd,Yuhan Hao,yuhanhao@fb.com,Thu May 9 12:15:05 2019 -0700,1557429305,"remove mstch from fbthrift's fbcode_builder specSummary: mstch is no longer required for fbthrift, we can remove it from oss build specnnReviewed By: vitautnnDifferential Revision: D15280267nnfbshipit-source-id: 5008e54af9c927f23b0d6acbf0d9beb6e004eee1n",0.0,10.0,"build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,33.0,7.0,13.882511574074075,1.0,1.0720330751870233,1.0,None,False,,
c3ee4cdc3ffa96f78ddac547149401d856a10ecd,461f99e1e22546025a5d3a4fcd28a59bf9809914,svcscm,svcscm@fb.com,Thu May 9 19:11:19 2019 -0700,1557454279,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 98bb7ad690a6b1e0a58d7bff4b275b5db359023fn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,166.0,0.5545486111111111,776.0,2.8032684240185337,776.0,None,False,,
461f99e1e22546025a5d3a4fcd28a59bf9809914,6bd2536e0f5e0ea237c4e901c0fc446f2fd218d4,svcscm,svcscm@fb.com,Fri May 10 08:57:41 2019 -0700,1557503861,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 91dc5e42744a02690b9d41cd403d9a21f14d3f9bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,783.0,0.9435648148148148,778.0,1.894428487171116,779.0,None,False,,
6bd2536e0f5e0ea237c4e901c0fc446f2fd218d4,5957be28e26bd8a5dff4673d78e94e404144dedf,Wez Furlong,wez@fb.com,Fri May 10 12:42:23 2019 -0700,1557517343,"getdeps: respect cmake WORKING_DIRECTORY for testsSummary:nthe cmake `add_test` and related functions allow specifyingnthe WORKING_DIRECTORY to use for tests.  We weren't respecting thisnvalue, so this diff looks up the WORKING_DIRECTORY from the ctestnjson info and adjusts the buck test info json blob that we passnon the testpilot.nnSince that interface only allows passing an argv array, we usenthe `cmake -E chdir` command to run a command in a specifiedndirectory in a portable manner.nnReviewed By: stragernnDifferential Revision: D15274012nnfbshipit-source-id: 1f02d461d73178745794703d455494e31c2e09edn",20.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,552.0,11.0,6.8678703703703725,6548.0,1.14560554379626,170.0,None,False,,
5957be28e26bd8a5dff4673d78e94e404144dedf,4cc84803e620f9dda3195cf45e1b374213d884eb,Wez Furlong,wez@fb.com,Fri May 10 12:48:15 2019 -0700,1557517695,"getdeps: introduce TransientFailure exception typeSummary:nThe goal is to return an error code > 127 in the case of antransient, retryable, infrastructure error.  This diff generatesnthose in the case of failure in downloading a URL or from interactingnwith LFS.nnReviewed By: stragernnDifferential Revision: D15266838nnfbshipit-source-id: 4f52a791320123968869032c37912dded464a86en",33.0,2.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/errors.py,CAS_DELIMITER,build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER",3.0,1.0,2.0,1.5364657037491254,1.0,360.33333333333326,22.0,3.020459104938272,6550.0,1.3412790218769708,173.0,None,False,,
4cc84803e620f9dda3195cf45e1b374213d884eb,dd8cb1b33c2cb56d3c8288e634eb87b609ba5750,Zeyi (Rice) Fan,zeyi@fb.com,Fri May 10 13:13:29 2019 -0700,1557519209,"fix encoding issue when building on WindowsSummary:nOn Windows, the writing operation would fail with:nn```nTraceback (most recent call last):n  File .opensourcefbcode_buildergetdeps.py, line 400, in <module>nsys.exit(main())n  File .opensourcefbcode_buildergetdeps.py, line 393, in mainnreturn args.func(args)n  File .opensourcefbcode_buildergetdeps.py, line 236, in runnchange_status = fetcher.update()n  File C:openfbsourcefbcodeopensourcefbcode_buildergetdepsfetcher.py, line 451, in updatenreturn mapping.mirror(self.build_options.fbsource_dir, self.repo_dir)n  File C:openfbsourcefbcodeopensourcefbcode_buildergetdepsfetcher.py, line 400, in mirrornf.write(name + n)n  File C:Python36libencodingscp1252.py, line 19, in encodenreturn codecs.charmap_encode(input,self.errors,encoding_table)[0]nUnicodeEncodeError: 'charmap' codec can't encode characters in position 104-105: character maps to <undefined>n```nnand this is caused by a file in libgit2: https://github.com/libgit2/libgit2/blob/master/tests/resources/status/%E8%BF%99, which is intended to test handling non-ASCII path.nnPython on Windows will write file in cp1252 encoding by default, which does not contain that Chines character. (Caveat: that file on my system doesn't have the correct file name as well, it is being encoded in IBM861 for some reason. However the characters in IBM861 does not exist in CP1252 either)nnReviewed By: weznnDifferential Revision: D15281521nnfbshipit-source-id: 8a75e32bc1042167c945d67e26b549fda83b6b41n",4.0,4.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,672.0,8.0,0.01752314814814815,0.0,0.0,0.0,Corrective,True,,
dd8cb1b33c2cb56d3c8288e634eb87b609ba5750,8ac6e26d0c010ec3e6f455f35f3b273e1285580c,John Strizich,striz@fb.com,Fri May 10 13:52:26 2019 -0700,1557521546,"add option to pass options to `git clone`Summary: We need this for dependencies that require submodulesnnReviewed By: saifhhasan, GirasoleYnnDifferential Revision: D15282792nnfbshipit-source-id: b0cc8d645e73668252409934fd6741fb211e30aen",3.0,1.0,"build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,384.0,7.0,29.058368055555555,0.0,0.0,0.0,Feature Addition,False,,
8ac6e26d0c010ec3e6f455f35f3b273e1285580c,7a67022b561358c076f02f38593c42a1d57e5854,Udip Pant,udippant@fb.com,Fri May 10 16:35:42 2019 -0700,1557531342,"update docker os_image to ubuntu18 and gcc7Summary:nThis diff updates docker os_image to ubuntu18 and gcc7 in travis settings.nThe dependencies that we work with internally (e.g. gcc7, boost and so on) are not present in the ubuntu-16.04. Further, the support for gcc5 is going away. So maintaining this compatibility for these platforms is painful, especially for new projects, such as mvfst.nnReviewed By: simpkinsnnDifferential Revision: D15286181nnfbshipit-source-id: eb0da9556cdb17d0aa132ac2aa4c35f9c6eccd97n",2.0,1.0,"build/fbcode_builder/make_docker_context.py,CAS_DELIMITER,build/fbcode_builder/travis.yml,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,3.0,110.0,4.0,105.40483796296296,1.5,1.0051154434530818,2.0,Non Functional,False,,
7a67022b561358c076f02f38593c42a1d57e5854,7bce6e959bc0038b30e2787eb2abae2763516914,svcscm,svcscm@fb.com,Fri May 10 17:10:53 2019 -0700,1557533453,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f514c0e7f58af85e42d6ef6e22a05373c0b82735n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,786.0,0.3425,781.0,2.78426601784266,782.0,None,False,,
7bce6e959bc0038b30e2787eb2abae2763516914,9080d9198dafe08a284e60cff829166a6f0955a2,svcscm,svcscm@fb.com,Tue May 14 18:52:36 2019 -0700,1557885156,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 63e9b4a8cf5b15a6ba20d1946aac36c1604d8079n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,789.0,4.070636574074073,784.0,1.1501266693772871,785.0,None,False,,
9080d9198dafe08a284e60cff829166a6f0955a2,ef658a4865b506eb2b394320fcbdf24939887996,svcscm,svcscm@fb.com,Tue May 14 20:27:07 2019 -0700,1557890827,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7fb8cfc6810e8b4f3a40a9ae8c20b21f43cad1a2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,792.0,0.06563657407407407,787.0,10.310527243872333,788.0,None,False,,
ef658a4865b506eb2b394320fcbdf24939887996,886f069221075240b30a8b07670924a681fbbd2f,svcscm,svcscm@fb.com,Wed May 15 14:38:57 2019 -0700,1557956337,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ef3eb7f43897cdabf61ed8c1abd600bdf6983e7an,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,507.0,0.7582175925925926,789.5,1.989161960006106,790.0,None,False,,
886f069221075240b30a8b07670924a681fbbd2f,b04dbd687ae35c7e907711075d9db1c76d0d86b4,svcscm,svcscm@fb.com,Wed May 15 20:48:41 2019 -0700,1557978521,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c039fd8f99e7dc9395aca49f95f5fe825602c201n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,460.0,0.6358680555555556,791.5,3.3405127676371777,792.0,None,False,,
b04dbd687ae35c7e907711075d9db1c76d0d86b4,a4bf148b27051f922172f0fd7fc9aca68cb843bc,Wez Furlong,wez@fb.com,Thu May 16 11:19:56 2019 -0700,1558030796,"getdeps: correctly handle the install_dir valueSummary:nWe were computing `SCRATCH/install` and hashing based on that value,nbut the build stuff was later computing `SCRATCH/installed` and passing thatnto the builders.nnFixup the mismatch.nnReviewed By: simpkinsnnDifferential Revision: D15337969nnfbshipit-source-id: 70288f2d9286aaacf4c1f6e0dac4680a55edac6dn",2.0,2.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,307.0,4.0,12.810613425925924,6552.0,1.0780602744577568,174.0,None,False,,
a4bf148b27051f922172f0fd7fc9aca68cb843bc,8a9e81b042a1d4a1b990887492a4ababb8ad3979,svcscm,svcscm@fb.com,Thu May 16 11:23:39 2019 -0700,1558031019,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 266e5ce8fc981249b1cf3fae0ec1d65e9e827b4en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,337.0,0.864375,793.0,2.1569052783803326,793.0,None,False,,
8a9e81b042a1d4a1b990887492a4ababb8ad3979,469e31fe667f816eb671806ddd49df8a03f52aff,Wez Furlong,wez@fb.com,Thu May 16 11:32:41 2019 -0700,1558031561,"watchman: remove undocumented ioprio codeSummary:nThis was a failed experiment from several years ago;nreducing the ioprio was a net negative experience that is counternto the primary purpose of watchman, which is to make thingsnfaster.nnReviewed By: simpkinsnnDifferential Revision: D15348127nnfbshipit-source-id: f7da1d2ead9415a44a9944a7d62aa72a31d67ed7n",0.0,67.0,"CMakeLists.txt,CAS_DELIMITER,ioprio.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",4.0,1.0,1.0,0.8479063905802721,30.0,293.25,313.0,352.7766898148149,6554.5,1.0201606920307835,2979.0,None,False,,
469e31fe667f816eb671806ddd49df8a03f52aff,ae9d592a2640f97a164a9a72dfb5ee65511be144,svcscm,svcscm@fb.com,Thu May 16 11:52:55 2019 -0700,1558032775,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6e66419986d41500cc42a0f4cdac4b5fcd34f0a1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,800.0,0.4254012345679013,795.0,2.306221652614496,796.0,None,False,,
ae9d592a2640f97a164a9a72dfb5ee65511be144,3a7bf7a4695f8076be0984a4096c86add6248b5e,svcscm,svcscm@fb.com,Thu May 16 15:23:38 2019 -0700,1558045418,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: cf0d2c992f104f2c573c90996ddb715d3b134086n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,513.0,0.1463310185185185,797.5,6.125365815075536,798.0,None,False,,
3a7bf7a4695f8076be0984a4096c86add6248b5e,046edc3c677137b1bf90382e017764576e9b8d00,Wez Furlong,wez@fb.com,Thu May 16 16:51:59 2019 -0700,1558050719,"getdeps: add support for using ccache in cmake buildsSummary:nif we find ccache in the path, then we instruct cmake to usenit as the compiler launcher.nnReviewed By: pkaushnnDifferential Revision: D15375441nnfbshipit-source-id: 602fe54742a5ec07b0533bd2cf63cb905b051e85n",3.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,571.0,12.0,6.173333333333333,6557.0,1.161987041036717,175.0,None,False,,
046edc3c677137b1bf90382e017764576e9b8d00,c2793312b4b4aa56115326bf4626c44c59f53377,svcscm,svcscm@fb.com,Thu May 16 17:19:43 2019 -0700,1558052383,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8277abfa10e0682c0b5f6e7143395a5c7cc88c9en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,805.0,0.12939043209876544,800.0,8.061168188985102,801.0,None,False,,
c2793312b4b4aa56115326bf4626c44c59f53377,07720cde7aa8be0ca67915246407e7f865ef4d16,svcscm,svcscm@fb.com,Thu May 16 21:31:12 2019 -0700,1558067472,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 51f5c1f7e601d92e466ea79a11c2641f24d2a72an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,808.0,0.1746412037037037,803.0,4.499237855391345,804.0,None,False,,
07720cde7aa8be0ca67915246407e7f865ef4d16,3f5334596bb09c45a83536878c85cb89de922113,svcscm,svcscm@fb.com,Fri May 17 07:33:10 2019 -0700,1558103590,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 752240c490465bfb7832c935aabdff68d870bb91n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,342.0,0.4180324074074074,805.0,3.392159034276538,805.0,None,False,,
3f5334596bb09c45a83536878c85cb89de922113,bee4c2429e41bae8aad65590b433197bb2d60c04,svcscm,svcscm@fb.com,Fri May 17 08:29:50 2019 -0700,1558106990,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c9ce2616e3bb920071709e6a0c9804bb2270d430n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,469.0,0.4573842592592592,806.5,2.6397590971203,807.0,None,False,,
bee4c2429e41bae8aad65590b433197bb2d60c04,759f8d3a711438947fb9c4e9096129717b80ceb0,svcscm,svcscm@fb.com,Fri May 17 10:30:48 2019 -0700,1558114248,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 1b3cc2cd6728cfea9896b6f0ac154701ce5d5d80n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,178.0,0.08400462962962962,808.0,12.904105814273903,808.0,None,False,,
759f8d3a711438947fb9c4e9096129717b80ceb0,138f155f84173f3e3423f7ec123fdaa757c7d873,Wez Furlong,wez@fb.com,Fri May 17 11:24:47 2019 -0700,1558117487,"watchman: prevent watching if dir contains an invalid .watchmanconfigSummary:nWe've been bitten by this a couple of times, where someonenedits a config and leaves a trailing comma at the end of an array.nThat is invalid json syntax but is hard to detect by eye, and notnevery repo is configured to lint that file as json.nnThis diff throws an exception during watch establishment so thatnthe issue is more visible.nnIt is worth noting though that watchman doesn't automaticallynreload this config file, so it is still possible for the changento go unnoticed on the local machine.nnReviewed By: stragernnDifferential Revision: D15386435nnfbshipit-source-id: 9bf6a0205ece24e2fa6dc63e2d1a01116859dcc9n",31.0,4.0,"root/init.cpp,CAS_DELIMITER,tests/integration/test_invalid_watchmanconfig.py,CAS_DELIMITER,tests/integration/test_watch_project.py,CAS_DELIMITER",3.0,2.0,2.0,1.2825167134306423,29.0,75.33333333333333,66.0,138.85810185185184,6559.0,1.0084668016687957,842.0,None,False,,
138f155f84173f3e3423f7ec123fdaa757c7d873,ab42929bffd7443499a4dbdbe139b06e28537f82,svcscm,svcscm@fb.com,Fri May 17 11:39:04 2019 -0700,1558118344,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 004262d046427b2f776ed5b39c26ff844a293ee8n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,179.0,0.047407407407407405,809.0,22.09375,809.0,None,False,,
ab42929bffd7443499a4dbdbe139b06e28537f82,058ff7dfa283e46307277de38e1615f0310020a2,svcscm,svcscm@fb.com,Fri May 17 18:45:09 2019 -0700,1558143909,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 34a982260f78182ec079a58b00c0e28da978e2f2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,816.0,0.39661651234567896,811.0,2.843819587026556,812.0,None,False,,
058ff7dfa283e46307277de38e1615f0310020a2,45ae9c20682f2867ad36aec03e695802ba14545e,Andrii Grynenko,andrii@fb.com,Fri May 17 19:48:06 2019 -0700,1558147686,Add keep-alive support to ManualExecutorReviewed By: lewissbakernnDifferential Revision: D15363378nnfbshipit-source-id: 0343d6cc42624a6c3e9b01a338afb1646625928an,1.0,1.0,"tests/CacheTest.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,147.0,4.0,112.14927083333332,1.0,1.0089166874877509,0.0,Feature Addition,False,,
45ae9c20682f2867ad36aec03e695802ba14545e,5148e70f96e6edde58f2ddeba0b10f9d2bfef3d8,svcscm,svcscm@fb.com,Fri May 17 20:05:27 2019 -0700,1558148727,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 415ed11faa6a716ca87aad78883d6f37c7008e2bn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,344.0,0.05576388888888889,813.0,18.93275217932752,813.0,None,False,,
5148e70f96e6edde58f2ddeba0b10f9d2bfef3d8,9562d477ceb27130e6b76c866ac26171d673e2d3,svcscm,svcscm@fb.com,Sat May 18 17:14:14 2019 -0700,1558224854,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7d46eb023b039d5d9039ad0248cd5b62b19d8c18n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,820.0,0.918275462962963,815.0,1.6601523106229061,816.0,None,False,,
9562d477ceb27130e6b76c866ac26171d673e2d3,172c155457afe67b8161b4e00cb259637a745139,svcscm,svcscm@fb.com,Sat May 18 20:38:19 2019 -0700,1558237099,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 629fe69e46f7f6862953260b6edccf2ac647eb0cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,477.0,0.14172453703703702,817.5,6.291955900367498,818.0,None,False,,
172c155457afe67b8161b4e00cb259637a745139,e92bc58ebedf2526422a6388007a317c815741fd,svcscm,svcscm@fb.com,Sun May 19 17:45:03 2019 -0700,1558313103,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: bd6f006a4542e6abb3d7e9d55a83a8205dd88ec4n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,183.0,0.8796759259259259,819.0,2.1367822746171257,819.0,None,False,,
e92bc58ebedf2526422a6388007a317c815741fd,e656a28413f8192025baae28611a9c39e124a5a7,Luca Niccolini,lniccolini@fb.com,Sun May 19 19:13:34 2019 -0700,1558318414,enable CMake build (with HTTP/3)Reviewed By: udippantnnDifferential Revision: D15368849nnfbshipit-source-id: 5e101fc38417b807a531fa456b38234d6dd08b7an,13.0,1.0,"build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,20.0,3.0,191.3495601851852,0.0,0.0,0.0,None,False,,
e656a28413f8192025baae28611a9c39e124a5a7,8475c631d3b5360cc01030664a20f2b5b4f1efbf,svcscm,svcscm@fb.com,Sun May 19 19:39:04 2019 -0700,1558319944,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4acf6896feb9857504b0d7656b348f734c45957bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,826.0,0.7128703703703704,821.0,5.648319303655874,822.0,None,False,,
8475c631d3b5360cc01030664a20f2b5b4f1efbf,50cbf51d6ce6683b6fbf0aeafce56521f744386a,svcscm,svcscm@fb.com,Mon May 20 10:07:07 2019 -0700,1558372027,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: d98894f2e946fdc94df510a5e822d6b71ee33e3dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,829.0,0.6028125,824.0,2.0137664881055244,825.0,None,False,,
50cbf51d6ce6683b6fbf0aeafce56521f744386a,f000b781d0eb4a6aff407c9105e9d8147de11993,Wez Furlong,wez@fb.com,Mon May 20 10:54:11 2019 -0700,1558374851,"getdeps: allow tagging a build with its schedule typeSummary:nThe schedule type is used to differentiate between a build run duringncode review (and thus runs code that isn't yet in the master branch),nfrom continuous or other types of run that operate on landed code.nnThis doesn't change any behavior yet; this diff just addsnthe plumbing to pass down an optional arbitrary schedule type stringnfrom the CI system.nnIn the future, we'll use the schedule type to influence the behaviornof running tests.nnReviewed By: stragernnDifferential Revision: D15300120nnfbshipit-source-id: 3b46afef2ff171b3fa095763dd5006a54ea328b8n",9.0,3.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",2.0,1.0,2.0,0.9182958340544896,1.0,499.0,29.0,6.836157407407407,6561.5,1.0869694793434208,177.0,None,False,,
f000b781d0eb4a6aff407c9105e9d8147de11993,3c82fcab0077f898555cf04ee02f248a460ea078,svcscm,svcscm@fb.com,Mon May 20 11:26:42 2019 -0700,1558376802,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 78ac51bee4063446b3c1df6d88bdac591ccdf083n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,832.0,0.0552662037037037,827.0,12.057591623036648,828.0,None,False,,
3c82fcab0077f898555cf04ee02f248a460ea078,7b6c36d8745ec3173cba5f9e78d4761f5f4080d0,svcscm,svcscm@fb.com,Mon May 20 14:00:13 2019 -0700,1558386013,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8360e4ed2f6b77c9572e4e66e0c36dbf5b3a4560n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,835.0,0.10660879629629633,830.0,6.7322766257735305,831.0,None,False,,
7b6c36d8745ec3173cba5f9e78d4761f5f4080d0,f95f6eb3035115d2e7041f8a60a74837fdbc4414,svcscm,svcscm@fb.com,Mon May 20 16:37:52 2019 -0700,1558395472,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a802526d720ab892dba6f456db9658b63b4808d8n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,188.0,0.10947916666666667,832.0,10.134157944814461,832.0,None,False,,
f95f6eb3035115d2e7041f8a60a74837fdbc4414,0ea1d0224201a41154ace81228b621d0bdb173c5,Wez Furlong,wez@fb.com,Mon May 20 19:23:34 2019 -0700,1558405414,"watchman: refuse to run the service at higher than normal nice levelsSummary:nWe've had a rash of users run into issues where some automationnends up spawning source control related services with a lower priorityn(aka higher nice level).  The result is massively degraded performance.nnTo combat this, this diff causes the watchman server to exit with anreasonable informative error message.  In practice, this error shouldnonly be seen by automation.nnWhen the user later interacts with the service it will spawn as intended.nnReviewed By: simpkinsnnDifferential Revision: D15348126nnfbshipit-source-id: 2d08707181147d4f71ac73e6617062b22eaa8624n",96.0,2.0,"main.cpp,CAS_DELIMITER,tests/integration/WatchmanInstance.py,CAS_DELIMITER,tests/integration/test_nice.py,CAS_DELIMITER",3.0,2.0,2.0,1.2504757050130606,29.0,485.66666666666674,84.0,63.78982253086419,6564.0,1.006378884278042,844.0,None,False,,
0ea1d0224201a41154ace81228b621d0bdb173c5,9226bae49da4e33d3153fa05e22968ebdbab1c55,Wez Furlong,wez@fb.com,Mon May 20 19:23:34 2019 -0700,1558405414,watchman: simplify the cmake invocation of setup.pySummary:nThis diff teaches setup.py about out of source buildsnby passing the source and binary dirs into it from cmake.nnThis results in a simpler way to perform the setup.py installnstep without bleeding knowledge of python internals out intonthe cmake filennReviewed By: simpkinsnnDifferential Revision: D15300087nnfbshipit-source-id: 35e61978ae66a40a2dd368dea8127315af6a551fn,55.0,43.0,"CMakeLists.txt,CAS_DELIMITER,python/setup.py,CAS_DELIMITER",2.0,2.0,2.0,0.9806857319036602,30.0,366.0,52.0,175.6423553240741,6566.5,1.1169767863423203,108.0,None,False,True,"[""7a0d0809465328a44c8c4728ab9947b73faa899f"", ""a42a1b620e019366e8104855eee17805c1a16109""]"
9226bae49da4e33d3153fa05e22968ebdbab1c55,b06c1642c3fe059ce7a9441982d49230e0e7ebc3,Wez Furlong,wez@fb.com,Mon May 20 19:23:34 2019 -0700,1558405414,"watchman: fixup FB internal mac packagingSummary:nwith the reshuffling around getdeps.py, and changes in folly/thrift/wangle,nour internal package stopped building.  This diff brings it back to life.  It isna little bit interwined:nn* Introduce a `--facebook-internal` switch to getdeps that causes `fb` in then  build context to be set to `on` rather than `off`.  This allows specifyingn  options in the manifest that are FB specific.n* Introduce cmake options to control the WATCHMAN_STATE_DIR and whether cmaken  should attempt to create WATCHMAN_STATE_DIR when it is installed.n* For FB specific builds on macOS, set the state dir to match our existing locationn  and disable creation of WATCHMAN_STATE_DIR because that will ultimately ben  handling during package installation and we don't have privs for that onn  the machine generating the package.n* Adjust Facebook CI scripts to use getdeps for building and testing watchmannnReviewed By: simpkinsnnDifferential Revision: D15337970nnfbshipit-source-id: 8ab3c1f810decf5f0b16337dc1cbe6dc73d26426n",38.0,8.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/platform.py,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER,runtests.py,CAS_DELIMITER",5.0,2.0,4.0,1.835197762084229,30.0,374.0,105.0,59.69046296296297,6570.0,1.3832606416223778,2984.0,None,False,True,"[""523477228bc7bd733030e2115e7f886aa40c091a""]"
b06c1642c3fe059ce7a9441982d49230e0e7ebc3,a0132625f009e7731f1c7e40e6f2205f4caa69da,Wez Furlong,wez@fb.com,Mon May 20 19:23:34 2019 -0700,1558405414,"watchman: really fix notifying parent dirs on macosSummary:nD15247692 fixed this on Linux, but due to some issues withnour CI on macos, this didn't show as failing on macos until I wasnlooking at something else.nnThis diff resolves the issue for mac, which is due to thengift-that-keeps-giving: case insensitive filesystems.  The propagation checknwasn't triggering on mac because we had already decided to schedule a test tonvalidate whether the case of the file changed.nnThe solution is to perform the new propagation check, and if that didn'tnschedule an unconditional check of the parent, then perform the speculativencase check.nnReviewed By: stragernnDifferential Revision: D15346474nnfbshipit-source-id: 2f8b6d1389b42e69e9e8e89e6212a8548bb2dcd6n",15.0,12.0,"InMemoryView.h,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.3809465857053901,29.0,287.5,106.0,12.036516203703707,6573.5,1.0623103884302685,2986.0,None,False,,
a0132625f009e7731f1c7e40e6f2205f4caa69da,4be68d1922f6ff73c49255cde20df4cb27395dbe,svcscm,svcscm@fb.com,Mon May 20 19:52:44 2019 -0700,1558407164,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e74da7df7975d6d70acaff60783850f25eaa79fen,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,839.0,0.2083101851851852,834.0,4.87351450260634,835.0,None,False,,
4be68d1922f6ff73c49255cde20df4cb27395dbe,903964893e7f5488070d247a66c2220da2d58e7e,svcscm,svcscm@fb.com,Mon May 20 20:34:53 2019 -0700,1558409693,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 25eddc1ba7e9cbedc01777c525b12301e110a3f8n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,491.0,0.029270833333333333,836.5,26.62277580071175,837.0,None,False,,
903964893e7f5488070d247a66c2220da2d58e7e,23119266614019226fac712213363ade8f864466,Jingyi Yang,girasoley@fb.com,Mon May 20 21:35:40 2019 -0700,1558413340,sigar + libzmqSummary: Add lizmq and sigar in prepare for fbzmq oss build migration.nnReviewed By: weznnDifferential Revision: D15387435nnfbshipit-source-id: 1ec2057972bf801a1598af0a1ae87f958394d812n,33.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/manifests/libzmq,CAS_DELIMITER,build/fbcode_builder/manifests/sigar,CAS_DELIMITER",3.0,1.0,2.0,1.2612796872684706,2.0,191.3333333333333,14.0,0.148491512345679,1.0,2.1631981431924268,2.0,None,False,,
23119266614019226fac712213363ade8f864466,9af6f557ebd185a11e9ed5359b8d08a0c1788968,svcscm,svcscm@fb.com,Mon May 20 22:25:54 2019 -0700,1558416354,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0c38aa2ae3101ba6b7589c48968d7ff4922ab4c0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,844.0,0.08685185185185185,839.0,8.419912889217924,840.0,None,False,,
9af6f557ebd185a11e9ed5359b8d08a0c1788968,455b0e0a504dbe81087ca66df7c1162a61d0f746,svcscm,svcscm@fb.com,Tue May 21 01:55:58 2019 -0700,1558428958,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 47aad79f39ff604455c57701766c0cf6dd6724cdn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,847.0,0.14587962962962964,842.0,5.189146302761029,843.0,None,False,,
455b0e0a504dbe81087ca66df7c1162a61d0f746,fd8eda47b8173723732b05bbb488e5410bad089e,Wez Furlong,wez@fb.com,Tue May 21 10:46:14 2019 -0700,1558460774,"watchman: thrift now requires c++17Summary:nOur builds were failing on windows because thrift was pulling in some parts of std::optional and that caused MSVC to error out with an error saying that we needed to be enable C++17.   This diff does that.nnThere's a risk that this will break the travis and appveyor builds, but we'll fix that up once this makes it out to github.nnReviewed By: chadaustinnnDifferential Revision: D15420267nnfbshipit-source-id: 10e44e5c1094270ed2047aaf7a257a6552bdf01an",3.0,6.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,684.0,33.0,0.6407407407407407,6575.0,2.560693641618497,2987.0,None,False,,
fd8eda47b8173723732b05bbb488e5410bad089e,2565ce8cb17c02e2ea49087584bd89f0a4a60a49,svcscm,svcscm@fb.com,Tue May 21 16:30:13 2019 -0700,1558481413,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 2daf113e93189e2fddf304e95a3de052f131b219n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,193.0,0.6071180555555555,844.0,2.647126108092651,844.0,None,False,,
2565ce8cb17c02e2ea49087584bd89f0a4a60a49,e37997aeecaeea9ed76474ea7927248e65c41a8a,svcscm,svcscm@fb.com,Wed May 22 12:33:22 2019 -0700,1558553602,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 18ac7543cc223d53ba762ad03bd77fd08162cb1en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,851.0,1.2402662037037036,846.0,1.6348561798979142,847.0,None,False,,
e37997aeecaeea9ed76474ea7927248e65c41a8a,1c796889735b9cb5bbec2c7d789ca7554ee81e9c,Matt Glazar,strager@fb.com,Wed May 22 12:45:12 2019 -0700,1558554312,"Work around bug in EdenFS' globFilesSummary: edenfs had a bug where, for a globFiles request like `[foo/*, foo/*/*]`, edenfs would effectively ignore the second pattern. I fixed this bug in D15078089, but that diff hasn't been deployed widely yet. Work around this bug in Watchman by calling globFiles with at most one pattern per call.nnReviewed By: weznnDifferential Revision: D15426891nnfbshipit-source-id: f6fae716ccc866e32e70e6de70ee3da84cb5251cn",73.0,8.0,"tests/integration/test_eden_pathgen.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,29.0,761.0,93.0,103.3993113425926,92.5,1.0056678760376043,2.0,Corrective,True,,
1c796889735b9cb5bbec2c7d789ca7554ee81e9c,35e971840531b8eef3b24e1866f4c765dfc276bc,svcscm,svcscm@fb.com,Wed May 22 13:36:17 2019 -0700,1558557377,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 2f5c737b5bf867e3967849c3c2bd82f708fb3aa5n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,354.0,0.04369212962962963,848.0,23.887417218543053,848.0,None,False,,
35e971840531b8eef3b24e1866f4c765dfc276bc,30e9597fd68d995d384e083b0674e8c0daabe80b,svcscm,svcscm@fb.com,Wed May 22 20:44:10 2019 -0700,1558583050,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0e0725abbc162776e16fda955b71162493ea30b3n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,550.0,0.3189872685185185,849.5,3.25072300374606,850.0,None,False,,
30e9597fd68d995d384e083b0674e8c0daabe80b,7a0d0809465328a44c8c4728ab9947b73faa899f,Matt Glazar,strager@fb.com,Wed May 22 21:09:52 2019 -0700,1558584592,"Fix python/setup.py outside CMakeSummary:nD15300087 made setup.py work better when invoked from CMake, but broke setup.py when invoked directly:nn```n$ /usr/bin/python setup.py install --root instrootnrunning installnrunning buildnrunning build_pynerror: package directory '[snip]/watchman/python/python/pywatchman' does not existn```nnThis happens because setup.py's `py_dir` variable is set to `.../watchman/python/python`, but that path doesn't exist. `py_dir` is wrong because `src_dir` is wrong; when the `CMAKE_SOURCE_DIR` environment variable is not set, `src_dir` is set to `.../watchman/python`.nnFix setup.py when run directly by setting `src_dir` to `.../watchman` instead of `.../watchman/python`.nnReviewed By: weznnDifferential Revision: D15457847nnfbshipit-source-id: 0a4b490b6da56033160abbcadb27b7bedce6a3b0n",4.0,3.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,76.0,22.0,2.0738194444444447,94.0,1.482202056055989,3.0,Corrective,True,True,"[""a42a1b620e019366e8104855eee17805c1a16109""]"
7a0d0809465328a44c8c4728ab9947b73faa899f,577a23952f4b3742e48491dbefe4fd35b615ade3,svcscm,svcscm@fb.com,Wed May 22 23:11:39 2019 -0700,1558591899,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 267d1831a445f8fbc993276992ae931d0586f205n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,661.0,0.2728356481481481,851.5,6.798210109703293,852.0,None,False,,
577a23952f4b3742e48491dbefe4fd35b615ade3,8a665efd87d6c059f04272f6c1f47ce005416581,svcscm,svcscm@fb.com,Thu May 23 02:31:41 2019 -0700,1558603901,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9e81a56b3a0fd7cfc197d944127a179cbd8ec0c4n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,357.0,0.13891203703703706,853.0,8.198800199966673,853.0,None,False,,
8a665efd87d6c059f04272f6c1f47ce005416581,1cbf6f4d0590ff980dc687908fe3fda17c18b4b2,Jeremy Fitzhardinge,jsgf@fb.com,Thu May 23 10:05:44 2019 -0700,1558631144,Convert watchman/rust/serde_bser to Rust 2018Summary:nRust 2018 updates to:n  //watchman/rust/serde_bser:serde_bsern  //watchman/rust/serde_bser:serde_bser-unittestnnReviewed By: weznnDifferential Revision: D15467384nnfbshipit-source-id: a015cc96a1209e1213cb10d6dce10dda31c79a7bn,83.0,77.0,"rust/serde_bser/src/de/bunser.rs,CAS_DELIMITER,rust/serde_bser/src/de/map.rs,CAS_DELIMITER,rust/serde_bser/src/de/mod.rs,CAS_DELIMITER,rust/serde_bser/src/de/read.rs,CAS_DELIMITER,rust/serde_bser/src/de/reentrant.rs,CAS_DELIMITER,rust/serde_bser/src/de/seq.rs,CAS_DELIMITER,rust/serde_bser/src/de/template.rs,CAS_DELIMITER,rust/serde_bser/src/de/test.rs,CAS_DELIMITER,rust/serde_bser/src/de/variant.rs,CAS_DELIMITER,rust/serde_bser/src/errors.rs,CAS_DELIMITER,rust/serde_bser/src/lib.rs,CAS_DELIMITER,rust/serde_bser/src/ser/mod.rs,CAS_DELIMITER",12.0,1.0,3.0,3.25165644596023,18.0,195.0833333333333,23.0,373.1126514274691,5.5,0.9171349372658576,11.0,None,False,,
1cbf6f4d0590ff980dc687908fe3fda17c18b4b2,5c9fc313de665195ba7086bf059e0295e1c5b62b,svcscm,svcscm@fb.com,Thu May 23 11:41:47 2019 -0700,1558636907,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b5893fc78fb7f930efdcdca45cb810602413b6d7n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,196.0,0.6233449074074074,854.0,2.604248287130736,854.0,None,False,,
5c9fc313de665195ba7086bf059e0295e1c5b62b,7f03222e461a58eeb558f1ee99592e9837e88393,svcscm,svcscm@fb.com,Thu May 23 13:30:04 2019 -0700,1558643404,Updating submodulesReviewed By: yns88nnfbshipit-source-id: f4fcf1355821735cd8c6dd4883376bfc4e2ad823n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,555.0,0.2662037037037037,855.5,8.588353152960229,856.0,None,False,,
7f03222e461a58eeb558f1ee99592e9837e88393,667b33d03f188188129fc812cd1e1d7eaa555da3,Matt Glazar,strager@fb.com,Thu May 23 15:38:29 2019 -0700,1558651109,"Reuse old build dir on WindowsSummary:ngetdeps.py's find_existing_win32_subst_for_path function tries to reuse an existing build directory alias. (On Windows, the build directory is aliased to a drive letter to shorten paths.) If this function does not find and existing build directory alias, getdeps.py invalidates many of its caches.nnOn my Windows machine, find_existing_win32_subst_for_path always fails, so all of my builds are super slow. This happens because find_existing_win32_subst_for_path is given a path with a lower-case drive letter (c:users...), but the subst command returns paths with an upper-case drive letter (C:users...).nnWhen comparing paths, use ntpath.normpath. This makes the comparison case-insensitive for drive letters. (It also makes the comparison case-insensitive for other path components.)nnOn Linux and macOS, this diff should not change behavior.nnReviewed By: weznnDifferential Revision: D15466096nnfbshipit-source-id: 1669aa0a6eaeb6012154f3a9e24eba3f835262c6n",95.0,6.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/scratch_test.py,CAS_DELIMITER",2.0,1.0,2.0,0.6761627418829198,2.0,153.5,5.0,3.589774305555556,95.5,1.139284522491065,1.0,None,False,True,"[""5e83260a7d604db82ae08f257f2b5b5e3b00ce09""]"
667b33d03f188188129fc812cd1e1d7eaa555da3,fb578e7ac59623f228ca3803c491e94d9da3d0ac,svcscm,svcscm@fb.com,Thu May 23 15:50:58 2019 -0700,1558651858,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ce6205829ac1b83b6782800e20851540196579f6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,198.0,0.09784722222222222,857.0,11.22001419446416,857.0,None,False,,
fb578e7ac59623f228ca3803c491e94d9da3d0ac,cb8efe6417ab906cb5930beb5bc6704e80d78f8c,svcscm,svcscm@fb.com,Thu May 23 19:42:11 2019 -0700,1558665731,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 58b230ad12620032f391733c7f9c1e44aeaa390bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,864.0,0.42450617283950615,859.0,4.133297064480002,860.0,None,False,,
cb8efe6417ab906cb5930beb5bc6704e80d78f8c,a42a1b620e019366e8104855eee17805c1a16109,Matt Glazar,strager@fb.com,Thu May 23 19:54:00 2019 -0700,1558666440,"Fix relative path handling in python/setup.pySummary:nD15300087+D15457847 changed how setup.py interprets relative paths (such as `my_install_prefix` in `setup.py install --root my_install_prefix`). Before those diffs, paths were relative to `.../watchman/python/`. After those diffs, paths are relative to `.../watchman/`. This broke Facebook's internal deployment scripts.nnI think both the old behavior and the new behavior are confusing. Relative paths given to setup.py should be relative to the current working directory, not an arbitrary directory decided by setup.py. Make setup.py avoid calling `os.chdir` so relative paths are interpreted correctly by setuptools.nnReviewed By: weznnDifferential Revision: D15484229nnfbshipit-source-id: 20a73dfc9c1b3bac84946c8daaa48f730dbf80dan",4.0,13.0,"CMakeLists.txt,CAS_DELIMITER,python/setup.py,CAS_DELIMITER",2.0,2.0,2.0,0.3227569588973983,30.0,379.0,57.0,1.6638541666666666,97.5,1.3603028561097017,4.0,Corrective,True,,
a42a1b620e019366e8104855eee17805c1a16109,67e6ff9b933bbe5f72b14b1c3445d954f1be9305,svcscm,svcscm@fb.com,Thu May 23 19:54:15 2019 -0700,1558666455,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ae8297632e151d65d111194123391d953dad42f3n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,560.0,0.00837962962962963,861.5,90.50276243093924,862.0,None,False,,
67e6ff9b933bbe5f72b14b1c3445d954f1be9305,c0dadb3123d2ef706290918dfe9fa0d5c7d425ff,svcscm,svcscm@fb.com,Fri May 24 13:16:16 2019 -0700,1558728976,Updating submodulesReviewed By: yns88nnfbshipit-source-id: aec64d6f6501f49d0ffca80885a12f602668fcf7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,869.0,0.7264158950617284,864.0,1.8439258191611767,865.0,None,False,,
c0dadb3123d2ef706290918dfe9fa0d5c7d425ff,b0b6eed18c11a141df6cd9fc48b29f269d047f41,Wez Furlong,wez@fb.com,Fri May 24 14:09:26 2019 -0700,1558732166,getdeps: configure testpilot to use collections and tag testsSummary:nThis should enable test pilot to skip broken/flakey tests.nnThe `--tag-new-tests` flag is only appropriate for code that has beennlanded on master and is used by the FB infra to classify new testsnappropriately.nnFor continuous builds we use a test collection with different parametersnfrom the normal developer facing flow so that the infra can re-assessntheir status and enable/disable high-signal/noisy tests.nnDepends: D15495344nnReviewed By: Ben0megannDifferential Revision: D15500955nnfbshipit-source-id: f3b7976cec6a5cf70f5d128b38bde11620b26918n,59.0,15.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,574.0,15.0,3.6901157407407417,6576.0,1.2709942100079668,181.0,None,False,,
b0b6eed18c11a141df6cd9fc48b29f269d047f41,839fda2df6f57b4b6202b7b42ae9fedea35186a2,svcscm,svcscm@fb.com,Fri May 24 15:13:40 2019 -0700,1558736020,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c3f4cc756039a82cef77c8f8853f9f1c8ff3f570n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,872.0,0.08152777777777777,867.0,8.495741056218058,868.0,None,False,,
839fda2df6f57b4b6202b7b42ae9fedea35186a2,5664a78acdd9c3d175c1b83a61d2f1ba1f6d84cf,Wez Furlong,wez@fb.com,Fri May 24 15:16:41 2019 -0700,1558736201,"watchman: pre-fill dtype in EdenFileResultSummary:nIf the server supports returning dtypes as part ofnglobs, then we can obtain basic file type information at nonextra cost.  This can be used to avoid pulling down fullnfileinformation when evaluating queries; for example, whennfiltering by file type we can do so based on the glob resultsnand avoid a second round trip for the full file metadata,nmaking the overall query faster.nnReviewed By: chadaustinnnDifferential Revision: D14111367nnfbshipit-source-id: af4dc037b538219aabbb2dd6e24aad0e77bb527bn",99.0,51.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1303.0,77.0,2.10519675925926,6577.0,1.4750149816646416,328.0,None,False,,
5664a78acdd9c3d175c1b83a61d2f1ba1f6d84cf,8c0f3efe57d7227989aab836b89954314fdc9116,svcscm,svcscm@fb.com,Fri May 24 15:33:18 2019 -0700,1558737198,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 44f5e05da5db0b84aafdd7dcd6ac599d932b4f6dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,512.0,0.01363425925925926,869.5,56.00848896434636,870.0,None,False,,
8c0f3efe57d7227989aab836b89954314fdc9116,60fe1c1dbdba217013b9a800ea8f2c45a0e01f1a,svcscm,svcscm@fb.com,Sat May 25 15:40:52 2019 -0700,1558824052,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4549fe1fd2f9cfafafd813e56b9b613b69aa4286n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,877.0,1.0097993827160494,872.0,1.6063025077436688,873.0,None,False,,
60fe1c1dbdba217013b9a800ea8f2c45a0e01f1a,1930e7128f810aae2d33fccbeab67a19d84f7117,svcscm,svcscm@fb.com,Sat May 25 18:45:37 2019 -0700,1558835137,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 486adefe13e0e760259f7a99d967b129b6166a97n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,205.0,0.1282986111111111,874.0,8.794316644113668,874.0,None,False,,
1930e7128f810aae2d33fccbeab67a19d84f7117,b315eaefa5ec7c01a948a61c5bc65a482da7b9ad,Yuhan Hao,yuhanhao@fb.com,Mon May 27 13:30:20 2019 -0700,1558989020,"update README.md on ubuntu and gcc versionSummary: it seems since D15286181, we updated docker os_image to ubuntu18 and gcc7. this diff changes the README.md to reflect the change.nnReviewed By: yfeldblumnnDifferential Revision: D15513580nnfbshipit-source-id: 0a3518c21c912903921946850bd08c948f09c295n",2.0,2.0,"build/fbcode_builder/README.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,60.0,2.0,269.6493287037037,2.0,1.0037085202652176,2.0,None,False,,
b315eaefa5ec7c01a948a61c5bc65a482da7b9ad,32f8f4563daf32c6b8bf5517f9cae9671b6c79c6,svcscm,svcscm@fb.com,Mon May 27 13:53:36 2019 -0700,1558990416,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7923a83955279e90e6203bdf0360254595c93cc3n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,881.0,1.8827430555555555,876.0,1.3340284145325627,877.0,None,False,,
32f8f4563daf32c6b8bf5517f9cae9671b6c79c6,1a49e0519e809853f38d4e834fb89be8b302d9fc,svcscm,svcscm@fb.com,Mon May 27 14:14:58 2019 -0700,1558991698,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 9888f8fc0a43c7e7236c362549bb8a8056ce17cdn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,519.0,0.014837962962962963,878.5,51.54602184087364,879.0,None,False,,
1a49e0519e809853f38d4e834fb89be8b302d9fc,eaf59d83d9f9d1ee4124ff4fc54dd9ad65f8c70c,svcscm,svcscm@fb.com,Tue May 28 12:13:45 2019 -0700,1559070825,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f6a2b8b18c5134d524aff0f143537e64c539461an,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,365.0,0.9306597222222224,880.0,2.074506585083759,880.0,None,False,,
eaf59d83d9f9d1ee4124ff4fc54dd9ad65f8c70c,50e8741b652e9db400fc4e1b9485dd24c11bcbd8,svcscm,svcscm@fb.com,Tue May 28 15:20:46 2019 -0700,1559082046,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 23ed059bc8aa5ca054eddc56f843b3e3e840f4een,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,521.0,1.0456944444444445,881.5,1.7172267233364322,882.0,None,False,,
50e8741b652e9db400fc4e1b9485dd24c11bcbd8,a8f616587f8f134491f7f565e5581e60db577d83,Matt Glazar,strager@fb.com,Tue May 28 15:54:34 2019 -0700,1559084074,"Fix empty 'path' or 'suffix' generatorsSummary:nIf a query is made with a `path` or `suffix` generator, and the generator is given an empty array, Watchman acts as if the generator was not specified at all. This behavior is surprising, and it disagrees with the documentation:nn> The `all` generator produces a list of all file nodes.  It is the default generator and is used in the case where no other generators were explicitly specified.nn(The `glob` generator behaves correctly; querying with `glob: []` returns no results.)nnFix the `path` and `suffix` generators to produce no results when given an empty array.nnReviewed By: weznnDifferential Revision: D15507833nnfbshipit-source-id: 8da321a98370bf5ba79b8fbf63a5298d01c02d0cn",75.0,16.0,"InMemoryView.cpp,CAS_DELIMITER,query/eval.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER,tests/integration/test_path_generator.py,CAS_DELIMITER,tests/integration/test_suffix_generator.py,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,website/_docs/file-query.md,CAS_DELIMITER",9.0,5.0,5.0,2.841532002525579,29.0,483.66666666666674,391.0,172.98405864197534,103.0,1.0023688126201111,1.0,Corrective,True,,
a8f616587f8f134491f7f565e5581e60db577d83,a6a593cb9caba3030cd36d75e0a803ea8cfc28af,svcscm,svcscm@fb.com,Tue May 28 16:22:18 2019 -0700,1559085738,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c7c9c961e7725ddc06fbd498845fbd14a7585ddbn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,209.0,0.04273148148148148,883.0,24.40195016251355,883.0,None,False,,
a6a593cb9caba3030cd36d75e0a803ea8cfc28af,88b72b999d9ec3c69852db22cf0e2d71d8962f09,svcscm,svcscm@fb.com,Tue May 28 20:36:11 2019 -0700,1559100971,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: cdb44b8de504d5a874aaa7457030244ea950c2d5n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,576.0,0.2626099537037037,884.5,4.787930464609953,885.0,None,False,,
88b72b999d9ec3c69852db22cf0e2d71d8962f09,ff303d9d284c571fd0520f435d8be05947fdf774,svcscm,svcscm@fb.com,Tue May 28 23:53:35 2019 -0700,1559112815,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e34d14b44c2717b1eb7d90802963d1a846d3ded1n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,367.0,0.13708333333333333,886.0,8.29483282674772,886.0,None,False,,
ff303d9d284c571fd0520f435d8be05947fdf774,793326bf8d8df55fa5fe31514b2988dea98e54c0,Yedidya Feldblum,yfeldblum@fb.com,Wed May 29 02:28:36 2019 -0700,1559122116,"Cut D support from assorted .thrift filesSummary: Cut D support from assorted .thrift files.nnReviewed By: simpkins, markisaa, GirasoleYnnDifferential Revision: D15492500nnfbshipit-source-id: 68c7fb4ff6c8917be0db961c7bdaa62a75f1b300n",0.0,1.0,"common/network/if/Address.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,29.0,2.0,32.495300925925925,6.0,1.0307736802400915,0.0,None,False,,
793326bf8d8df55fa5fe31514b2988dea98e54c0,5af4ab2659908064e7a384697583f498ec75db2e,svcscm,svcscm@fb.com,Wed May 29 09:29:23 2019 -0700,1559147363,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b507922505288b4a855bd9eab830c50b39a6935bn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,211.0,0.5369444444444444,887.0,2.8623900672529747,887.0,None,False,,
5af4ab2659908064e7a384697583f498ec75db2e,e44025f3e79191864a5500eae5e355ca5d02a016,svcscm,svcscm@fb.com,Wed May 29 16:42:45 2019 -0700,1559173365,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: af765acb032edbe24f9b777b17289114c1b29d06n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,894.0,0.6862307098765431,889.0,2.6022701463501083,890.0,None,False,,
e44025f3e79191864a5500eae5e355ca5d02a016,02ddce5f222c20da47cfa9a7de7bd5b256cdc734,svcscm,svcscm@fb.com,Thu May 30 13:23:43 2019 -0700,1559247823,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 19c7aa34142245ed8e0caf245fea8ec5e94ad554n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,582.0,0.8617824074074074,891.5,1.8702892906067847,892.0,None,False,,
02ddce5f222c20da47cfa9a7de7bd5b256cdc734,b5c4cf2e13bb8743ded51f7bbfc9149417a4d601,svcscm,svcscm@fb.com,Thu May 30 16:16:52 2019 -0700,1559258212,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 17bad255b31f9bd1deb491beb53f02da9281a4cdn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,685.0,0.5511342592592593,893.5,5.6118542762719885,894.0,None,False,,
b5c4cf2e13bb8743ded51f7bbfc9149417a4d601,ff7db03e85b4f5a91411e1a6b3a21801f3aeeea2,svcscm,svcscm@fb.com,Fri May 31 14:12:40 2019 -0700,1559337160,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: fc732eeae6492e83097fe9f04e72f71efbbc83f7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,901.0,0.9538310185185184,896.0,1.6100023791268887,897.0,None,False,,
ff7db03e85b4f5a91411e1a6b3a21801f3aeeea2,5cfe655e76df7610a3265776092c11b43ef9ba54,svcscm,svcscm@fb.com,Sat Jun 1 10:45:09 2019 -0700,1559411109,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 166030e14cf8ef1d8d1a4f6ed2487155112aa85en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,904.0,0.8558912037037038,899.0,1.7140055984529878,900.0,None,False,,
5cfe655e76df7610a3265776092c11b43ef9ba54,7bca68ec35393dcd4745804a51b45743ac90be3e,svcscm,svcscm@fb.com,Sun Jun 2 04:50:17 2019 -0700,1559476217,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 05b2dec2c79de762dfbc70879abd1d65924ef14cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,907.0,0.753564814814815,902.0,1.8109602506604408,903.0,None,False,,
7bca68ec35393dcd4745804a51b45743ac90be3e,d5967980b05652ab7987545d50983dfd27cdba4c,svcscm,svcscm@fb.com,Mon Jun 3 04:07:14 2019 -0700,1559560034,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7c9684fdf3a784c088590377063b29fff44d0c8dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,910.0,0.9701041666666668,905.0,1.6299438061491105,906.0,None,False,,
d5967980b05652ab7987545d50983dfd27cdba4c,33fdf4d633a81c6c9ae11c1089a6ff859d09ef2a,svcscm,svcscm@fb.com,Mon Jun 3 09:57:23 2019 -0700,1559581043,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 78da9883833816604d48521fba14d82b62783325n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,218.0,0.24315972222222226,907.0,5.112523204340996,907.0,None,False,,
33fdf4d633a81c6c9ae11c1089a6ff859d09ef2a,f12871385123c41ad48a3a77fece880135bf889a,svcscm,svcscm@fb.com,Mon Jun 3 23:33:36 2019 -0700,1559630016,Updating submodulesReviewed By: yns88nnfbshipit-source-id: dba12b2b9babc9142a81ce58057b9203c13fc8efn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,594.0,0.6883969907407408,908.5,2.2452812589340034,909.0,None,False,,
f12871385123c41ad48a3a77fece880135bf889a,b5cff82d71a72e4aae32a24ab9083276ddb6ea38,svcscm,svcscm@fb.com,Tue Jun 4 15:18:25 2019 -0700,1559686705,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 71f9061208ef1bf6de05d4073317a31d57cd2afbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,916.0,0.9261149691358024,911.0,1.8820281077987835,912.0,None,False,,
b5cff82d71a72e4aae32a24ab9083276ddb6ea38,50298c336855aaa5eee1ba8d6ed8573194e542ac,svcscm,svcscm@fb.com,Tue Jun 4 16:06:28 2019 -0700,1559689588,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 758ed93c179a989049bd95ee21b8d5bd7d0c7fbbn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,377.0,0.033368055555555554,913.0,30.9687825182102,913.0,None,False,,
50298c336855aaa5eee1ba8d6ed8573194e542ac,dc6228ccb050920db9b16050770cfe221fa2f5d0,svcscm,svcscm@fb.com,Wed Jun 5 05:05:31 2019 -0700,1559736331,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7320cf0fbb946c1253e7f922eb7b37ca05c7a8f1n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,699.0,0.5576909722222222,914.5,2.372479489922231,915.0,None,False,,
dc6228ccb050920db9b16050770cfe221fa2f5d0,a6cce56b62ad7a7a847c22c13f93c3637f4963dc,Adam Simpkins,simpkins@fb.com,Wed Jun 5 11:47:01 2019 -0700,1559760421,update initiateShutdown() to be able to throw exceptionsSummary:nUpdate the thrift definition for `initiateShutdown()` to indicate that it maynthrow `EdenError` on failure.  Without this all application-level errors thatnoccur will be translated to generic thrift `TApplicationException` objects onnthe wire.nnAlso move this method declaration out of the debugging APIs section of thenfile.nnReviewed By: stragernnDifferential Revision: D15572121nnfbshipit-source-id: 7e621a24abd4347cedbb1bcce1ae9c2b70f991fdn,7.0,5.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,942.0,4.0,89.63689814814815,30.0,1.0111561200873689,1.0,None,False,,
a6cce56b62ad7a7a847c22c13f93c3637f4963dc,a2048ecf47ccaeba5617d559df40e7f9a6807bf3,svcscm,svcscm@fb.com,Wed Jun 5 12:48:55 2019 -0700,1559764135,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 3d2afd8a36da65a0ef25912bc16b16e25586c7efn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,922.0,0.513263888888889,917.0,1.8621041673281744,918.0,None,False,,
a2048ecf47ccaeba5617d559df40e7f9a6807bf3,69f09f383f1b156a4abc282b69a98204cf7e99cd,Shrikrishna Khare,skhare@fb.com,Wed Jun 5 15:15:45 2019 -0700,1559772945,"fbcode_builder: getdeps: fboss: add iproute2 fetcherSummary:nThis is towards getting open source FBOSS to build using fbcode_builder.niproute2 is one of the dependencies for FBOSS. This patch adds a manifest filento build the specific version of iproute2 needed for FBOSS.nnAdditionally, the default git clone depth of 100 is insufficient for thenversion of iproute2 FBOSS depends on. Thus, this patch extends the git SCHEMAnto add optional argument depth. The default remains 100.nnThe usual /configure --prefix does not work for iproute2. Thus, we need to addna custom builder that:n  - copies sources to build directory, builds, andn  - installs to installed directory using DEST_DIR.n  - it must also explicitly copy include from build dir to install dirnnReviewed By: weznnDifferential Revision: D15588809nnfbshipit-source-id: ac5eab24134e078d88b85b4be433c78b05ef8ce5n",69.0,4.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/manifests/iproute2,CAS_DELIMITER",4.0,1.0,2.0,1.6379303074833649,3.0,421.5,43.0,17.77633391203704,5.5,1.0343418585643498,3.0,None,False,,
69f09f383f1b156a4abc282b69a98204cf7e99cd,2591ccd846ad1bd97ff592f1f5cc807cd030f561,Shrikrishna Khare,skhare@fb.com,Wed Jun 5 15:15:45 2019 -0700,1559772945,"fbcode_builder: getdeps: fboss: add OpenNSL fetcherSummary:nThis is towards getting open source FBOSS to build using fbcode_builder.nOpenNSL is one of the dependencies for FBOSS.nnOpenNSL is github repository with headers and prebuilt opaque library. Thus, wencan't/don't need to build it. Thus, OpenNSL manifest uses NopBuilder.nnfbcode_builder expects the library to be in installed/lib and headers to be inninstalled/include, but OpenNSL lib structure is different.  Thus, add explicitn[install.fields] rule for bin/wedge => lib. Once a rule(s) is provided, we mustnprovide rule(s) for all, so add rule for include => include as well.nnReviewed By: weznnDifferential Revision: D15593639nnfbshipit-source-id: facb36ff7b9a31f5952ecbc1a9fdb834c0e68d11n",14.0,0.0,"build/fbcode_builder/manifests/OpenNSL,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,8.0,0.0,4.0,None,False,,
2591ccd846ad1bd97ff592f1f5cc807cd030f561,9a1e31bdec72559946925c62c710e9b20d686c05,Shrikrishna Khare,skhare@fb.com,Wed Jun 5 15:15:45 2019 -0700,1559772945,fbcode_builder: getdeps: fboss: add libmnl manifestSummary:nThis is towards getting open source FBOSS to build using fbcode_builder.nlibmnl is one of the dependencies for FBOSS. This patch adds a manifest filento build the specific version of libmnl for FBOSS.nnReviewed By: weznnDifferential Revision: D15633176nnfbshipit-source-id: dd51997ae950f53842711fbf2d044e84cdf437e7n,10.0,0.0,"build/fbcode_builder/manifests/libmnl,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,9.0,0.0,5.0,None,False,,
9a1e31bdec72559946925c62c710e9b20d686c05,8f63a927576f595d7cc7a23237756c730d2b95e4,Shrikrishna Khare,skhare@fb.com,Wed Jun 5 15:15:45 2019 -0700,1559772945,"Remove unncessary includes that break OSSSummary:nD15324752, D15331361 changed includes from common/stats/* to fb303/* stats, butnthis breaks the FBOSS OSS build. However, we can do without those includes.nnEach of the FBOSS #include callsites either also includen - common/stats/MonotonicCounter.h (includes common/stats/ServiceData.h includesn   fb303/ServiceData.h includes Exported*) or,n - common/stats/ThreadCachedServiceData.h includesn   (common/stats/ThreadLocalStatsMap.h includesn   common/stats/ThreadLocalStats.h includes common/stats/ServiceData.h u00e2u0080u00a6)nnSpecifically, BcmPort.h includes MonotonicCounter.h, while SwitchStats.cpp/.h,nBcmStats.cpp/.h includes ThreadCachedServiceData.hnnLastly, fix the fboss OSS stub implementation to have similar includesnnReviewed By: chadaustinnnDifferential Revision: D15626299nnfbshipit-source-id: 540aa40150f801bb29aeadb235cb6bb1bafca6cen",6.0,2.0,"common/stats/MonotonicCounter.h,CAS_DELIMITER,common/stats/ThreadCachedServiceData.h,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,52.5,4.0,69.22837962962963,10.5,1.0135540530508658,5.0,None,False,,
8f63a927576f595d7cc7a23237756c730d2b95e4,16c81d04e6d466792acff1934c19bf1884ab1575,svcscm,svcscm@fb.com,Wed Jun 5 16:22:33 2019 -0700,1559776953,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6608ac4be8c338ff5a8116b275bbad487d317972n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,545.0,0.14835648148148148,919.5,6.055390856607895,920.0,None,False,,
16c81d04e6d466792acff1934c19bf1884ab1575,ac2938088ba87513af01df2607758650733330d8,svcscm,svcscm@fb.com,Wed Jun 5 19:32:07 2019 -0700,1559788327,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 060bf204b6400515bbc8f1b9b3ef34bef9d32560n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,927.0,0.1810956790123457,922.0,4.955402077384583,923.0,None,False,,
ac2938088ba87513af01df2607758650733330d8,2ce8774db89d9be05a2814a60f4523e55a2a0651,svcscm,svcscm@fb.com,Thu Jun 6 01:03:58 2019 -0700,1559808238,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 272785544f0b07e99ddaa926ca5ae5675aad7ff7n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,381.0,0.2304513888888889,924.0,5.339309929184873,924.0,None,False,,
2ce8774db89d9be05a2814a60f4523e55a2a0651,f78c332b28215d6fbf16f4c5cb7ced194ef2e4b0,svcscm,svcscm@fb.com,Thu Jun 6 10:07:25 2019 -0700,1559840845,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b0865f81ccf2d2a3bfc799f1b7b519944b175948n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,606.0,0.4926215277777778,925.5,2.3300641038868486,926.0,None,False,,
f78c332b28215d6fbf16f4c5cb7ced194ef2e4b0,ae2dfffdcc630a78c9bbcc25c309c69240a019b4,Wez Furlong,wez@fb.com,Thu Jun 6 10:30:20 2019 -0700,1559842220,"getdeps: disable ccache on sandcastleSummary:nWe sometimes see some flakeyness in our internal CI, so we can livenwithout it there.nnReviewed By: pkaushnnDifferential Revision: D15695124nnfbshipit-source-id: 1d76ae89e245d9c95937e8818826c544c0ae8fc3n",7.0,3.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,660.0,17.0,0.8017939814814815,6578.0,2.2472031757488264,182.0,None,False,,
ae2dfffdcc630a78c9bbcc25c309c69240a019b4,16b3ca06446901bde6d5f5fbcf3574f999cba5b0,Shrikrishna Khare,skhare@fb.com,Thu Jun 6 11:36:09 2019 -0700,1559846169,"fbcode_builder: getdeps: fboss: add libusb manifestSummary:nThis is towards getting open source FBOSS to build using fbcode_builder.nlibusb is one of the dependencies for FBOSS. This patch adds a manifestnfile to build libusb. FBOSS does not need libudev, so we avoid unncessaryndependency by passing right argument to ./configure.nnReviewed By: weznnDifferential Revision: D15683386nnfbshipit-source-id: 1d35caecf4012ddc0df24a7305019d522b4763fan",16.0,0.0,"build/fbcode_builder/manifests/libusb,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,12.0,0.0,6.0,None,False,,
16b3ca06446901bde6d5f5fbcf3574f999cba5b0,154cf2eac5d1ea8c33919b1e0033c57163dd26d0,Shrikrishna Khare,skhare@fb.com,Thu Jun 6 11:36:09 2019 -0700,1559846169,fbcode_builder: getdeps: fboss: add libcurl manifestSummary:nThis is towards getting open source FBOSS to build using fbcode_builder.nlibcurl is one of the dependencies for FBOSS. This patch adds a manifestnfile to build libcurl.nnReviewed By: weznnDifferential Revision: D15683387nnfbshipit-source-id: 8df5c413e7dff06d1a19e0ce3b1706bff2f1ab54n,10.0,0.0,"build/fbcode_builder/manifests/libcurl,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,13.0,0.0,7.0,None,False,,
154cf2eac5d1ea8c33919b1e0033c57163dd26d0,69f9d42fcc3c9f621ed257b021a7e95b8586c6fa,Shrikrishna Khare,skhare@fb.com,Thu Jun 6 11:36:09 2019 -0700,1559846169,fbcode_builder: getdeps: fboss: add libnl manifestSummary:nThis is towards getting open source FBOSS to build using fbcode_builder.nlibnl is one of the dependencies for FBOSS. This patch adds a manifestnfile to build libnl.nnReviewed By: weznnDifferential Revision: D15686853nnfbshipit-source-id: f7549df6dc1005630193b024be6e1ea330cc6646n,10.0,0.0,"build/fbcode_builder/manifests/libnl,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,14.0,0.0,8.0,None,False,,
69f9d42fcc3c9f621ed257b021a7e95b8586c6fa,cde16ce6cbe92ef272517096c893d14ec8c943b4,svcscm,svcscm@fb.com,Thu Jun 6 12:17:16 2019 -0700,1559848636,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4eba2250734c708448297a61ec08ea4848c5991en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,933.0,0.29278935185185184,928.0,6.924351092540069,929.0,None,False,,
cde16ce6cbe92ef272517096c893d14ec8c943b4,fac68fc365848ca0649dbb0e467ef4d9e671beff,svcscm,svcscm@fb.com,Thu Jun 6 13:47:55 2019 -0700,1559854075,Updating submodulesReviewed By: yns88nnfbshipit-source-id: fc7ce07d6d471f7cd7c29aa964e25513eb555b97n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,936.0,0.06295138888888889,931.0,10.707666850523994,932.0,None,False,,
fac68fc365848ca0649dbb0e467ef4d9e671beff,415bd0050677f44f0957518111d169c3dc438b87,svcscm,svcscm@fb.com,Thu Jun 6 14:23:38 2019 -0700,1559856218,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7f91307280a1b1a74b1c4a6fedd7413aca984d4cn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,712.0,0.02480324074074074,933.5,31.23798413439104,934.0,None,False,,
415bd0050677f44f0957518111d169c3dc438b87,6abf04f9a841ae99831e6de1e34c23200b939cde,svcscm,svcscm@fb.com,Thu Jun 6 18:29:04 2019 -0700,1559870944,Updating submodulesReviewed By: yns88nnfbshipit-source-id: df53188f7832e8f9e79b4cfb7ab399b7b067c8b1n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,227.0,0.19524305555555554,935.0,6.1218210919438025,935.0,None,False,,
6abf04f9a841ae99831e6de1e34c23200b939cde,f3f92f3895204ba1982dca3deefd067ca1b68409,svcscm,svcscm@fb.com,Thu Jun 6 21:59:22 2019 -0700,1559883562,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5292279ff45a08ee88ccee6c8ad3b91f400e3b78n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,386.0,0.3164814814814815,936.0,4.159742539496782,936.0,None,False,,
f3f92f3895204ba1982dca3deefd067ca1b68409,051bef166ef483880915fc750de3b7c0c23015a3,svcscm,svcscm@fb.com,Fri Jun 7 13:01:53 2019 -0700,1559937713,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 082f32b56aaaef7225de2b20461e8b63221892abn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,943.0,0.7809220679012346,938.0,1.811793841175532,939.0,None,False,,
051bef166ef483880915fc750de3b7c0c23015a3,43f101bac4829575d1d52c4d7265ea524671c54a,Jake Crouch,jakecrouch@fb.com,Fri Jun 7 13:33:49 2019 -0700,1559939629,Print out Journal Info with edenfsctlSummary: Print out memory usage and entry counts with edenfsctl statsnnReviewed By: chadaustinnnDifferential Revision: D15607015nnfbshipit-source-id: 866960ea1d3b5e9fdbe24df3b57fba419795ec76n,10.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,944.0,5.0,2.0741666666666667,0.0,0.0,0.0,None,False,,
43f101bac4829575d1d52c4d7265ea524671c54a,0824a6bef071152378978344e4fffc1380f1e5c2,svcscm,svcscm@fb.com,Fri Jun 7 15:08:21 2019 -0700,1559945301,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a162d76a68722cceab284efc640fccb1491df1fbn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,229.0,0.08782407407407407,940.0,12.386399578281498,940.0,None,False,,
0824a6bef071152378978344e4fffc1380f1e5c2,7d04382f68692b90f229466570b4ad1db177e92a,svcscm,svcscm@fb.com,Fri Jun 7 17:06:07 2019 -0700,1559952367,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ba23d44786c01fe5d875e5114e7de37a6d8c51fcn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,230.0,0.0817824074074074,941.0,13.227568638550807,941.0,None,False,,
7d04382f68692b90f229466570b4ad1db177e92a,3f16ba5481cd784b9314b9d626e07f8faa5e7c3f,svcscm,svcscm@fb.com,Fri Jun 7 19:04:56 2019 -0700,1559959496,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 3d6e1007a6da4b6828ef911c82c1e97b9b6a520en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,388.0,0.25211805555555555,942.0,4.966395813248863,942.0,None,False,,
3f16ba5481cd784b9314b9d626e07f8faa5e7c3f,331d92220ce7318ace19967114aac35d1310570e,svcscm,svcscm@fb.com,Fri Jun 7 19:24:51 2019 -0700,1559960691,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 32a7f133a293428617c5557e29af52c8af253111n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,231.0,0.0963425925925926,943.0,11.379625180201824,943.0,None,False,,
331d92220ce7318ace19967114aac35d1310570e,0cc1a905a7cc5d7c9ef4a188283d14985c9e8226,Luca Niccolini,lniccolini@fb.com,Sat Jun 8 09:09:55 2019 -0700,1560010195,Back out [proxygen][oss] enable CMake build (with HTTP/3)Summary: Original commit changeset: 5e101fc38417nnReviewed By: snarkmasternnDifferential Revision: D15726457nnfbshipit-source-id: 001ee9ebaee81ebc60996e5fb95c1870121b2decn,1.0,13.0,"build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,32.0,4.0,19.58079861111111,1.0,1.0510704399682935,1.0,None,False,,
0cc1a905a7cc5d7c9ef4a188283d14985c9e8226,56ccd0793303d5bfc333ca7f080aafdcd57e5c34,svcscm,svcscm@fb.com,Sun Jun 9 15:42:11 2019 -0700,1560120131,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4304ba5ad92194b0d537aefd2efd554edb5a8450n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,950.0,1.938630401234568,945.0,1.3279253551803176,946.0,None,False,,
56ccd0793303d5bfc333ca7f080aafdcd57e5c34,3b3b42cf2a4dfb60286c47fa90639561f78a7737,svcscm,svcscm@fb.com,Sun Jun 9 18:42:27 2019 -0700,1560130947,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 46a21f63889e3737252b7211524e0e3373e3cfe7n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,563.0,0.12518518518518518,947.5,6.991124260355028,948.0,None,False,,
3b3b42cf2a4dfb60286c47fa90639561f78a7737,1567aa2900941af0452b7234c4fb59a24797929e,Jingyi Yang,girasoley@fb.com,Mon Jun 10 08:42:18 2019 -0700,1560181338,add fiber supportSummary: This diff allows zmq socket to run on folly::fibersnnReviewed By: saifhhasannnDifferential Revision: D15113447nnfbshipit-source-id: 8a0e1f91d719a9deda48837d4ff1065408280b72n,25.0,0.0,"build/fbcode_builder/manifests/fbzmq,CAS_DELIMITER,build/fbcode_builder/specs/fbzmq.py,CAS_DELIMITER",2.0,1.0,2.0,0.2422921890824148,3.0,20.0,3.0,22.852256944444445,3.5,0.5109398384854401,4.0,Feature Addition,False,,
1567aa2900941af0452b7234c4fb59a24797929e,0a4ca69a5e93aebca09d75a540a1958460873e86,svcscm,svcscm@fb.com,Mon Jun 10 09:28:43 2019 -0700,1560184123,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d76720ab0b6245059276a3fda81aebd2964095bfn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,955.0,0.6571913580246914,950.0,1.9564682618260008,951.0,None,False,,
0a4ca69a5e93aebca09d75a540a1958460873e86,cfa641825080c3f3347313a4a69e96223a806032,svcscm,svcscm@fb.com,Mon Jun 10 10:21:32 2019 -0700,1560187292,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 59d03949c5ded5cc3e7aaace399c9975fb30b7fen,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,567.0,0.03667824074074074,952.5,21.448090880403914,953.0,None,False,,
cfa641825080c3f3347313a4a69e96223a806032,d4dfd6996fe28bd6101476e307477363899f802f,svcscm,svcscm@fb.com,Mon Jun 10 15:31:37 2019 -0700,1560205897,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6b02493f3ed067f66f7c727cff09ac000a73e3cen,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,333.0,0.21533564814814807,954.0,5.643912926632626,954.0,None,False,,
d4dfd6996fe28bd6101476e307477363899f802f,96b77b69af91821c4ecc85d87e9ac8227e335718,svcscm,svcscm@fb.com,Mon Jun 10 16:53:28 2019 -0700,1560210808,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5eff7ee65333f4f5498c43bd8718d67e2cace9b1n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,334.0,0.056840277777777774,955.0,18.59315821624924,955.0,None,False,,
96b77b69af91821c4ecc85d87e9ac8227e335718,b3be1728741da738bd26e44e5bd20c2935d5ceef,Shrikrishna Khare,skhare@fb.com,Mon Jun 10 18:18:27 2019 -0700,1560215907,"fbcode_builder: getdeps: fboss: extend iproute2 builder to copy lib/*Summary:nD15588809 introduced manifest and customer builder for iproute2. While thenIproute2Builder copies include/* from build to install directory, it does notncopy lib/* which contains the libnetlink.annAs a result, the build system looks up libnetlink.a on local machine (which itnmay not find).nnFix it by explicitly coping lib/* as well.nnReviewed By: weznnDifferential Revision: D15708835nnfbshipit-source-id: 3f5906eb48ce982b6e887cca0d3c11314425beabn",6.0,5.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,664.0,18.0,4.325081018518518,15.0,1.2312095416752522,9.0,None,False,,
b3be1728741da738bd26e44e5bd20c2935d5ceef,bb07a5b6335f7cd69e97e69a86e50c7934f00cfe,Shrikrishna Khare,skhare@fb.com,Mon Jun 10 18:18:27 2019 -0700,1560215907,"fbcode_builder: getdeps: fboss: update libcurl manifest to disable lldpSummary:nD15683387 introduced manifest for libcurl and used cmake instead of autoconfn(rationale: having cmake build curl would make it easy as we want curl to buildnon windows and macos).nnif libcurl finds ldap.h, then it builds with ldap enabled.nOn my devserver, ldap library is not installed, and thus libcurl builds withoutnit, and links with FBOSS binaries fine.nnIn sandbox, ldap seems to be installed, thus libcurl builds with ldap. However,nlinking fails for FBOSS binaries as those don't link against ldap - FBOSS doesnnot depend on ldap.nnThus, we need a way to configure libcurl with ldap disabled. [cmake.defines]nCURL_DISABLE_LDAP=OFF, does not quite do it. Thus, am going with autoconf, withnargs --disable-ldap for now for Linux and cmake for non-Linux environments.nnReviewed By: weznnDifferential Revision: D15730947nnfbshipit-source-id: 2ce48976ee785401d550720cbdccb22f9d416675n",10.0,0.0,"build/fbcode_builder/manifests/libcurl,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,10.0,1.0,4.279375,16.0,1.233678983496422,10.0,None,False,,
bb07a5b6335f7cd69e97e69a86e50c7934f00cfe,26658fb67f73f83c7a68f6df2cdb3710fb95c34a,Shrikrishna Khare,skhare@fb.com,Mon Jun 10 18:18:27 2019 -0700,1560215907,"fbcode_builder: getdeps: fboss: add FBOSS fetcherSummary:nThe previous diffs in the stack add fbcode_builder manifests for FBOSSndependencies iproute2 and OpenNSL. The other FBOSS dependencies already havenfbcode_builder support. Thus, add FBOSS manifest.nnAdditionally, this patch also modifies fboss CMakeLists.txt to get FBOSS tonbuild using fbcode_builder.nnReviewed By: weznnDifferential Revision: D15626298nnfbshipit-source-id: 31802ef695ae69b08f526bbeb299c59f3b9d44ben",37.0,0.0,"build/fbcode_builder/manifests/fboss,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,17.0,0.0,11.0,None,False,,
26658fb67f73f83c7a68f6df2cdb3710fb95c34a,91bc34614a25521d262c5af03bc7f1a6acf608a9,svcscm,svcscm@fb.com,Mon Jun 10 18:56:12 2019 -0700,1560218172,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 1e18cd79adad8c7c21f4a01714c8e5829bbb0b74n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,962.0,0.2789081790123457,957.0,2.774582735210162,958.0,None,False,,
91bc34614a25521d262c5af03bc7f1a6acf608a9,514419d269e353210606dc8bff7e009b1e0df26c,svcscm,svcscm@fb.com,Tue Jun 11 12:58:53 2019 -0700,1560283133,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 606bc76f524b13c9c935e20004926037dfde79ben,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,965.0,0.7518634259259259,960.0,1.81279536952941,961.0,None,False,,
514419d269e353210606dc8bff7e009b1e0df26c,b277dfc9bd8cbf343364498383a0707c6aae9dcf,Adam Simpkins,simpkins@fb.com,Tue Jun 11 12:59:03 2019 -0700,1560283143,"update the watchman manifest to include all Eden thrift filesSummary:nThis is a hack for now to allow fbsource-based watchman getdeps builds tonsucceed.  In the long run we need to update Watchman's CMakeLists.txt tondepend on a proper EdenFS build, rather than copying Eden's thrift files intonWatchman's source tree.nnReviewed By: weznnDifferential Revision: D15753320nnfbshipit-source-id: 2dea483c2053c4ea1cf64021c4bbc3239fce645dn",2.0,2.0,"build/fbcode_builder/manifests/watchman,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,35.0,3.0,21.732974537037038,31.0,1.0460130295692296,1.0,None,False,,
b277dfc9bd8cbf343364498383a0707c6aae9dcf,f0a59d78655690c2c67c7c801b75c4b012bf24c2,Adam Simpkins,simpkins@fb.com,Tue Jun 11 12:59:03 2019 -0700,1560283143,add a thrift call for getting config valuesSummary:nAdd a thrift call to get the current config settings.nnMy primary use case for this method at the moment is to make it possible tonbuild integration tests that check the config behavior.  However in the futurenthis will probably also be useful for building CLI commands to report thencurrent config values to allow debugging if there are ever issues.  This APIncan also be used to force EdenFS to immediately reload the config from disk.nnReviewed By: stragernnDifferential Revision: D15572124nnfbshipit-source-id: da3bc982f9c419b3314a8b0560c9bd327760d429n,18.0,0.0,"CMakeLists.txt,CAS_DELIMITER,eden/fs/service/eden.thrift,CAS_DELIMITER",2.0,2.0,2.0,0.8524051786494786,30.0,817.0,41.0,11.34384837962963,32.5,1.0487594253130548,2.0,Feature Addition,False,,
f0a59d78655690c2c67c7c801b75c4b012bf24c2,2e839f00e77d1a9d8d6b1a9c938401c38eec33bc,svcscm,svcscm@fb.com,Tue Jun 11 13:28:59 2019 -0700,1560284939,Updating submodulesReviewed By: yns88nnfbshipit-source-id: fe7c2d1ea01474d0c2600d900940eb20143a2558n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,968.0,0.02090277777777778,963.0,30.23588039867109,964.0,None,False,,
2e839f00e77d1a9d8d6b1a9c938401c38eec33bc,145badd69ee9e04c02e3244d5ca6d3144a0cd943,svcscm,svcscm@fb.com,Tue Jun 11 18:12:52 2019 -0700,1560301972,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 91c0303ee19cca7e36755f9bfb78d4506cb53c98n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,577.0,0.1971412037037037,965.5,4.80437973345858,966.0,None,False,,
145badd69ee9e04c02e3244d5ca6d3144a0cd943,3393af61c23abef682b054a83d499787d3fbac03,Adam Simpkins,simpkins@fb.com,Tue Jun 11 18:22:49 2019 -0700,1560302569,"clean up arguments to the EdenFS class in the integration testsSummary:nClean up the `EdenFS` class construction.nnPreviously it accepted the `eden_dir`, `etc_eden_dir`, and `home_dir`narguments as separate parameters.  If `etc_eden_dir` or `home_dir` were notnspecified it would not pass these arguments to `edenfs`, allowing the defaultnvalues to be used.  This is undesirable for most tests.nnNow it accepts a `base_dir` argument.  Explicit values for the `eden_dir`,n`etc_eden_dir`, and `home_dir` parameters can still be specified (this is usednfor the snapshot tests), but if they aren't specified, default locationsninside the `base_dir` will be used instead.nnThis also cleans up some of the code to use `pathlib.Path` values instead ofnplain `str` objects in more places.nnReviewed By: stragernnDifferential Revision: D15756358nnfbshipit-source-id: 3e87ddc98d15fcb7f60c6c3116d4fcc8e49432ean",17.0,25.0,"tests/integration/WatchmanEdenTestCase.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,135.0,18.0,95.06630787037035,34.0,1.0105189737815796,17.0,Perfective,False,,
3393af61c23abef682b054a83d499787d3fbac03,04c243cd12941fd9c6858643a9245f48dad424fa,svcscm,svcscm@fb.com,Tue Jun 11 22:48:00 2019 -0700,1560318480,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 73fa004fad758c4f93d5e26ef4cf7566361f810en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,240.0,0.19106481481481485,967.0,6.2338260237460625,967.0,None,False,,
04c243cd12941fd9c6858643a9245f48dad424fa,c8a74cdce0ad54763a6104ec84aa06bfcf7473f2,svcscm,svcscm@fb.com,Wed Jun 12 21:15:49 2019 -0700,1560399349,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6e58fedb844de4d4b2495d08233f2b6a527f7018n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,974.0,1.1290740740740741,969.0,1.6020218709741654,970.0,None,False,,
c8a74cdce0ad54763a6104ec84aa06bfcf7473f2,d976acdda5f9441b5d4582d60ac45739e94370e2,svcscm,svcscm@fb.com,Thu Jun 13 15:48:37 2019 -0700,1560466117,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 40f84d01290d7c5532f3353388fe82fab865008fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,977.0,0.7727777777777778,972.0,1.7907979870596689,973.0,None,False,,
d976acdda5f9441b5d4582d60ac45739e94370e2,0aedbf9478558907a937576209947de34ee9fd0e,svcscm,svcscm@fb.com,Fri Jun 14 16:16:02 2019 -0700,1560554162,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 21483cf998ba03178ac9cbd8591817ffd894f239n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,980.0,1.019039351851852,975.0,1.5996933386336532,976.0,None,False,,
0aedbf9478558907a937576209947de34ee9fd0e,a208ce3708065e9a359a49e99e0d870c1506fced,svcscm,svcscm@fb.com,Fri Jun 14 18:04:28 2019 -0700,1560560668,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a105224b58466d3743c37910c4acf746c82713c8n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,244.0,0.07530092592592592,977.0,14.28004918536735,977.0,None,False,,
a208ce3708065e9a359a49e99e0d870c1506fced,2ab25c8609ec3b527fa30ec83567173b4b29071b,Adam Simpkins,simpkins@fb.com,Fri Jun 14 18:10:35 2019 -0700,1560561035,"periodically reload the config filesSummary:nAdd a periodic task to reload the configuration file from disk.  By defaultnthis runs once every 5 minutes, but this interval can be controlled from thenconfig file.nnAt the moment reloading the config file does not do much other than update theninterval for how frequently the config file is reloaded.  However, I plan tonadd additional periodic tasks shortly that are controlled by this confignsetting.nnThis will also make it possible for other parts of the code tonaccess the config settings in the `ServerState` and use them as-is withoutnchecking to see if they reloaded.  Currently all of the code that accessesnconfig values performs a check to see if the config needs to be reloaded.  Ifnwe want to switch to Mercurial-style configs in the future that check will bensubstantially more expensive.nnThis diff also includes a new thrift call to force the config file to benreloaded immediately.  This can be used to restart automatic config reloadingnif it is ever disabled in the config file.nnReviewed By: weznnDifferential Revision: D15756357nnfbshipit-source-id: 1999f4730903633ce838842932a6ae6a65eda4e6n",5.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,967.0,7.0,3.2163425925925933,35.0,1.3109121529227181,3.0,None,False,,
2ab25c8609ec3b527fa30ec83567173b4b29071b,f5ebe3d5f3188700dae1ac7508aeb65c59e20fa7,Adam Simpkins,simpkins@fb.com,Fri Jun 14 18:10:35 2019 -0700,1560561035,add a stub implementation of ServiceData::incrementCounter()Summary: Add a stub for this so we can use it in some the Eden code.nnReviewed By: chadaustinnnDifferential Revision: D15831519nnfbshipit-source-id: 8f16d8fcb7080d207c748281bd93b9243c104596n,3.0,0.0,"common/stats/ServiceData.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,56.0,1.0,142.32847222222222,36.0,1.007026001083175,3.0,Feature Addition,False,,
f5ebe3d5f3188700dae1ac7508aeb65c59e20fa7,f7e6be96ad6d77b296eba1f7ff8fada2cc523afe,svcscm,svcscm@fb.com,Fri Jun 14 22:53:58 2019 -0700,1560578038,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f5aa225c325b300270a110cb0b42df3f7dccf7f0n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,245.0,0.20104166666666667,978.0,5.974093264248705,978.0,None,False,,
f7e6be96ad6d77b296eba1f7ff8fada2cc523afe,5a47ec08cc262ab34c5cc452b5ee40b1858f4724,svcscm,svcscm@fb.com,Sat Jun 15 17:36:30 2019 -0700,1560645390,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: efbde14f23366fc4ff3bc745d69d9223add2f232n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,985.0,0.9637654320987656,980.0,1.7245045748979628,981.0,None,False,,
5a47ec08cc262ab34c5cc452b5ee40b1858f4724,a35f8e1257aee1b265ab59df64cafbd148d32e70,svcscm,svcscm@fb.com,Sun Jun 16 17:43:52 2019 -0700,1560732232,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 0c59ce8e70a1c528250b72888a8442477e5aab69n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,590.0,1.0051157407407407,982.5,1.7461827226457245,983.0,None,False,,
a35f8e1257aee1b265ab59df64cafbd148d32e70,0f53ae4bf7b48f946f80eea1404b28554003d3cd,svcscm,svcscm@fb.com,Mon Jun 17 03:44:52 2019 -0700,1560768292,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 9df9a14efe61b553b46d3d30064aa143b095fe8an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,990.0,0.7523996913580246,985.0,2.1275199072883613,986.0,None,False,,
0f53ae4bf7b48f946f80eea1404b28554003d3cd,37975d2d91a7388540dab92657bc34a0d7850fd7,svcscm,svcscm@fb.com,Mon Jun 17 13:17:52 2019 -0700,1560802672,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4efc63f365f7a00f6a0a65f37fd47caece29abc9n,0.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,399.0,0.3979166666666665,987.0,3.513089005235602,987.0,None,False,,
37975d2d91a7388540dab92657bc34a0d7850fd7,eeffd07f50aac99cf04a926e7b1630a3b83af6d7,svcscm,svcscm@fb.com,Mon Jun 17 21:50:46 2019 -0700,1560833446,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b1b2fb508a612b2853ad0ec9c098f119fc264709n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,249.0,0.7540972222222222,988.0,2.3260889584676305,988.0,None,False,,
eeffd07f50aac99cf04a926e7b1630a3b83af6d7,502633e7ea02d69f3d49cb6ef78b3324ccec54ab,Matt Glazar,strager@fb.com,Mon Jun 17 22:35:07 2019 -0700,1560836107,"Drop redundant EdenFS SCM querySummary:nD6305845 (from November 2017) taught Watchman to ask both Hg and EdenFS for changes between commits (returning the first result to arrive). Unfortunately, this diff has a fatal error: the code querying EdenFS queries Hg and returns the changes reported by Hg! This means Watchman causes unnecessary load on the system:nn* Watchman queries Hg *twice*, perhaps concurrentlyn* Watchman queries EdenFS *once* and ignores the resultnnSome users are experiencing performance problems with EdenFS after 'hg update'. EdenFS' getScmStatusBetweenRevisions API taking a long time correlates with some of these reports. I suspect Watchman might be contributing to these performance problems.nnRemove unnecessary work done by Watchman by querying only Hg. We can easily introduce the intended optimization later if needed.nnReviewed By: chadaustinnnDifferential Revision: D15509395nnfbshipit-source-id: eefad4165598e2a63c05a8389be5fffb21ae06dcn",0.0,47.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,1351.0,79.0,20.278159722222227,108.0,1.0493141396309316,4.0,None,False,,
502633e7ea02d69f3d49cb6ef78b3324ccec54ab,0a361c38a8f72272a2d76c700f17b790c56b4962,svcscm,svcscm@fb.com,Tue Jun 18 00:01:51 2019 -0700,1560841311,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5f649177b74eb89b60c051ad4f04d3833c9909e1n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,345.0,0.8451273148148148,989.0,2.183253673701365,989.0,None,False,,
0a361c38a8f72272a2d76c700f17b790c56b4962,2cf9603c775b9577995d0b6007aa1344ba9909cf,svcscm,svcscm@fb.com,Tue Jun 18 12:28:28 2019 -0700,1560886108,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 20f6035ff9c1597037742476f8ed55fe8d008bd1n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,250.0,0.6095138888888889,990.0,2.640651703315484,990.0,None,False,,
2cf9603c775b9577995d0b6007aa1344ba9909cf,80b0670055530c0a66be393f1edc5162d95684c3,svcscm,svcscm@fb.com,Wed Jun 19 14:09:07 2019 -0700,1560978547,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 68fd4a8500e5cb2887d152b5b5b7e3249f413dbdn,2.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,0.9182958340544896,1.0,0.5,651.0,1.5527430555555557,991.5,1.6283406048638964,992.0,None,False,,
80b0670055530c0a66be393f1edc5162d95684c3,5708f81c5f1de3b84c6c11f0841de8fa68fda4d1,svcscm,svcscm@fb.com,Wed Jun 19 14:41:01 2019 -0700,1560980461,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7c40d90a15a96db898985e57313495f06d3550b7n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,598.0,0.8163425925925926,993.5,23.87677688972675,994.0,None,False,,
5708f81c5f1de3b84c6c11f0841de8fa68fda4d1,229724d1b45d718ee8102b6a73a820d78a07be16,Jan Kassens,jan@kassens.net,Wed Jun 19 16:17:20 2019 -0700,1560986240,Fix deprecated new Buffer call (#712)Summary:nSee note at:nhttps://nodejs.org/dist/latest-v10.x/docs/api/buffer.html#buffer_buffer_from_buffer_alloc_and_buffer_allocunsafenn`new Buffer(size)` is deprecated and should be replaced by the explicitn`Buffer.alloc(size)` or `Buffer.allocUnsafe(size)` which doesn't zeronout the memory.nPull Request resolved: https://github.com/facebook/watchman/pull/712nnReviewed By: kassensnnDifferential Revision: D15904887nnPulled By: stragernnfbshipit-source-id: b9bdc93b0a36efa80622be9bea9ca8b556b9aa3bn,3.0,3.0,"node/bser/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,586.0,3.0,508.7526157407408,0.0,0.0,0.0,Corrective,True,,
229724d1b45d718ee8102b6a73a820d78a07be16,2501a6ae191c6e44fc9c3595dfe7ce3835a8a61c,svcscm,svcscm@fb.com,Wed Jun 19 16:53:42 2019 -0700,1560988422,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 1d0529ea308b208172af068621f1c1999e9d8933n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,253.0,0.0921412037037037,995.0,11.852907926139931,995.0,None,False,,
2501a6ae191c6e44fc9c3595dfe7ce3835a8a61c,d077e22c2307f003a498c2253fa7ef6cf782a2a7,Adam Simpkins,simpkins@fb.com,Wed Jun 19 16:58:25 2019 -0700,1560988705,update license headers in thrift filesSummary:nUpdate the copyright & license headers in thrift files to reflect thenrelicensing to GPLv2+nnReviewed By: weznnDifferential Revision: D15487082nnfbshipit-source-id: 33f68617037f36c07075fb962a16a4d8f55bd6a6n,6.0,14.0,"eden/fs/service/eden.thrift,CAS_DELIMITER,eden/fs/service/streamingeden.thrift,CAS_DELIMITER",2.0,1.0,1.0,1.0,30.0,505.0,10.0,54.40151620370371,37.5,1.1056079230336826,5.0,None,False,,
d077e22c2307f003a498c2253fa7ef6cf782a2a7,9e1d578c42ea39642c8fdaa35790c22eca5ee63f,svcscm,svcscm@fb.com,Wed Jun 19 17:32:32 2019 -0700,1560990752,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7593d11e760bc7cfd862f64c24d3d7f34f3277d3n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,401.0,0.14126157407407408,996.0,8.079065956575175,996.0,None,False,,
9e1d578c42ea39642c8fdaa35790c22eca5ee63f,21d28be7b82c6eb1230195ded48701ef5e3ee9a0,svcscm,svcscm@fb.com,Thu Jun 20 04:41:42 2019 -0700,1561030902,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5cff15b0557f58cc1d5f5fe1a8ad968fab81a3aen,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,656.0,0.4781828703703703,997.5,2.539761690361567,998.0,None,False,,
21d28be7b82c6eb1230195ded48701ef5e3ee9a0,eb15b67915fd8d4ce4dfe7856a6184a17d5e8242,svcscm,svcscm@fb.com,Thu Jun 20 15:58:51 2019 -0700,1561071531,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6149078d4f6d674de237fe300ae72dc4a84419c9n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,347.0,1.0540509259259259,999.0,1.9487207642472824,999.0,None,False,,
eb15b67915fd8d4ce4dfe7856a6184a17d5e8242,c88a88d5ac8412626694fd06bc914a7c24685656,svcscm,svcscm@fb.com,Thu Jun 20 20:27:33 2019 -0700,1561087653,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 31631941caa66c35f0af8cce88606264a893cb0fn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,658.0,0.6568402777777778,1000.5,2.141830099910134,1001.0,None,False,,
c88a88d5ac8412626694fd06bc914a7c24685656,841a17d06cac008cd6dedad8ea6a294e514ca784,svcscm,svcscm@fb.com,Fri Jun 21 00:53:09 2019 -0700,1561103589,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 50bca3a71142996a6710f6f668dab209708da7fcn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,404.0,0.18444444444444444,1002.0,6.421686746987952,1002.0,None,False,,
841a17d06cac008cd6dedad8ea6a294e514ca784,7d9d9c31769190e212a7bfda218a2b25c007fe18,svcscm,svcscm@fb.com,Fri Jun 21 09:24:31 2019 -0700,1561134271,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e2fb5e11e16281a58b56b090a86dcf045c0e4981n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1009.0,0.5402777777777779,1004.0,2.1960170333578892,1005.0,None,False,,
7d9d9c31769190e212a7bfda218a2b25c007fe18,2e952b2cb776ff68fb72458664aacd25aabf9a0a,Jan Kassens,jan@kassens.net,Fri Jun 21 13:14:55 2019 -0700,1561148095,Release bser v2.1.0 (#713)Summary:nThis creates a new bser version that fixes a deprecation warning for `new Buffer(size)` calls.nPull Request resolved: https://github.com/facebook/watchman/pull/713nnDifferential Revision: D15946057nnPulled By: kassensnnfbshipit-source-id: 31a7fec20c6aef789b4b13c2058980eacd4e6999n,1.0,1.0,"node/bser/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,33.0,4.0,872.0310300925926,1.0,1.0011467481838277,1.0,None,False,,
2e952b2cb776ff68fb72458664aacd25aabf9a0a,de3c5f6867ffc7cb985297ca300a751e715b49dc,svcscm,svcscm@fb.com,Sat Jun 22 02:41:39 2019 -0700,1561196499,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 1ed2b4be41324a853c2dc70131780112fa155c69n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,257.0,0.7202314814814815,1006.0,2.3884425017676927,1006.0,None,False,,
de3c5f6867ffc7cb985297ca300a751e715b49dc,95fcef1b5a2141538e53a00d4dc5e7cfca51dc70,svcscm,svcscm@fb.com,Sat Jun 22 17:27:14 2019 -0700,1561249634,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a3698d23129cd86074b524846e32dff507f5701an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1013.0,1.0951427469135802,1008.0,1.814395638659067,1009.0,None,False,,
95fcef1b5a2141538e53a00d4dc5e7cfca51dc70,5f002e55dc30f1b05f3f4385387a99fa34da7387,svcscm,svcscm@fb.com,Sun Jun 23 17:35:05 2019 -0700,1561336505,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5ccac7a577be90c5fc47f20bea447b39a64b1e4an,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,259.0,1.0054513888888892,1010.0,1.9945781676278616,1010.0,None,False,,
5f002e55dc30f1b05f3f4385387a99fa34da7387,942ed4906cf1458e352390f7d0a0ed39ef3b2c69,Jon Maltiel Swenson,jmswen@fb.com,Mon Jun 24 11:02:33 2019 -0700,1561399353,"Kill legacySubscribe method for establishing streamsSummary:nwatchman/eden have been using the new Thrift streaming for nearly a year now and are the last users of the oldnThrift streaming. This diff kills the fallback `legacySubscribe` method, which complete's migration to the new Thriftnstreaming and unblocks the complete removal of wangle-based streaming from Thrift and fbcode.nnReviewed By: weznnDifferential Revision: D15878892nnfbshipit-source-id: ec0d270dba79e56c7e41afbf36669a08e5a15518n",3.0,95.0,"eden/fs/service/streamingeden.thrift,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.3712323266408756,30.0,669.0,83.0,5.635960648148147,0.5,0.544358010214664,0.0,None,False,,
942ed4906cf1458e352390f7d0a0ed39ef3b2c69,b69da0af3b9e8c03a62fe1e133d8fc47b84fb007,svcscm,svcscm@fb.com,Mon Jun 24 11:07:33 2019 -0700,1561399653,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ce7c186533f00f046aad4ece544385f221108aa8n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,260.0,0.7308796296296296,1011.0,2.368214353582061,1011.0,None,False,,
b69da0af3b9e8c03a62fe1e133d8fc47b84fb007,120290f28cc43e055e5723ff2a78cf04ab0dbed9,Greg Cowan,cowang@fb.com,Mon Jun 24 13:11:06 2019 -0700,1561407066,Transition fbcode Rust crates to 2018 editionSummary: Marking all Cargo.tomls in fbcode as 2018 edition.nnReviewed By: jsgfnnDifferential Revision: D15951175nnfbshipit-source-id: edf18449c214ee1ff285d6a2cb61839aaf58a8cdn,1.0,0.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,19.0,4.0,61.60664351851853,0.0,0.0,0.0,None,False,,
120290f28cc43e055e5723ff2a78cf04ab0dbed9,cc730f9511e0464d01ef78d89da14512667c9704,svcscm,svcscm@fb.com,Mon Jun 24 16:31:16 2019 -0700,1561419076,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 2fc2b1f1a741d85462397521ad2abacea46d29cfn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,261.0,0.2248032407407408,1012.0,5.448334448849303,1012.0,None,False,,
cc730f9511e0464d01ef78d89da14512667c9704,8bc50775d6da2df22236682f96d84e1c23592634,Yuri,yuri@rawbw.com,Mon Jun 24 16:46:24 2019 -0700,1561419984,fixup unix socket credentials on FreeBSDSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/715nnReviewed By: stragernnDifferential Revision: D15958437nnPulled By: stragernnfbshipit-source-id: 8dbde05b2f54314a673a86b3855549034f3498b0n,4.0,0.0,"stream_unix.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,305.0,15.0,150.69894675925923,0.0,0.0,0.0,Corrective,True,,
8bc50775d6da2df22236682f96d84e1c23592634,2697305d59b553430e06d441fb5e8e461ee20704,svcscm,svcscm@fb.com,Mon Jun 24 18:58:19 2019 -0700,1561427899,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8e0a862884028908e47f4064c349dae0ca135adbn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,262.0,0.10211805555555556,1013.0,10.792587555253318,1013.0,None,False,,
2697305d59b553430e06d441fb5e8e461ee20704,4e2adc63eef1c60af15fe83a475b6eb0bc330711,Wez Furlong,wez@fb.com,Mon Jun 24 19:27:52 2019 -0700,1561429672,testing whether this kicks off azureSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/722nnDifferential Revision: D15978150nnPulled By: weznnfbshipit-source-id: 4fa177800904dcb1b5f02e65ec6c9af035362abcn,18.0,0.0,"azure-pipelines.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6579.0,0.0,2988.0,Preventative,False,,
4e2adc63eef1c60af15fe83a475b6eb0bc330711,4e65501c9eff383683e4e72e9fb4f0ee23fcb44d,svcscm,svcscm@fb.com,Mon Jun 24 20:17:16 2019 -0700,1561432636,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 78ab2e1b909d188003b777abfc34ebc009085d0an,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,407.0,2.1180787037037043,1014.0,1.4721259876941235,1014.0,None,False,,
4e65501c9eff383683e4e72e9fb4f0ee23fcb44d,3048f848fd353408ffd46fbe0fc3dd8c6e85f052,svcscm,svcscm@fb.com,Mon Jun 24 20:37:38 2019 -0700,1561433858,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 73678ed720dfdd3d12ee38310b4a2a3d5ee5f0e9n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,613.0,1.1005960648148148,1015.5,8.476688153256848,1016.0,None,False,,
3048f848fd353408ffd46fbe0fc3dd8c6e85f052,712505598bd024e3268c78745247d7ee899fc642,Luca Niccolini,lniccolini@fb.com,Tue Jun 25 02:56:06 2019 -0700,1561456566,enable CMake build (with HTTP/3) -- take 2Reviewed By: snarkmasternnDifferential Revision: D15730421nnfbshipit-source-id: 51eaac2ad443aadbab3ba772e651287c6b330408n,21.0,0.0,"build/fbcode_builder/specs/proxygen_quic.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,2.0,0.0,2.0,None,False,True,"[""cf434736141ad20c6dea3d7c46f4dc3d22a96ad8""]"
712505598bd024e3268c78745247d7ee899fc642,959d45774638c86df9fbc73b65105cd93d1e6269,svcscm,svcscm@fb.com,Tue Jun 25 03:28:40 2019 -0700,1561458520,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e40d8727df12e94f69744895e20251e447846b95n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1023.0,0.2901543209876543,1018.0,3.120504509825995,1019.0,None,False,,
959d45774638c86df9fbc73b65105cd93d1e6269,d9299805eeca3fed1dbe87458bd9a78d3544d324,svcscm,svcscm@fb.com,Tue Jun 25 12:56:22 2019 -0700,1561492582,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 202a5035ef2f490c93f2913d34b954e189f7c758n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1026.0,0.3942361111111111,1021.0,2.5501144970935354,1022.0,None,False,,
d9299805eeca3fed1dbe87458bd9a78d3544d324,3a2b10ed9824381e9bbfbd93fcfdae0105e1343b,svcscm,svcscm@fb.com,Tue Jun 25 14:39:05 2019 -0700,1561498745,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6dd43a988b5195fd6ab57377c28f02a3ecc56db5n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,266.0,0.07133101851851853,1023.0,15.019146519552164,1023.0,None,False,,
3a2b10ed9824381e9bbfbd93fcfdae0105e1343b,ff78464c48da20f55369b6e6a4b4022be7967ee3,svcscm,svcscm@fb.com,Tue Jun 25 15:43:33 2019 -0700,1561502613,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a20fb8608596a600a31f7be88be939daa0ccc5adn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,267.0,0.04476851851851852,1024.0,23.33712512926577,1024.0,None,False,,
ff78464c48da20f55369b6e6a4b4022be7967ee3,5d2f3d9b0a4f36cd8234915664fb19bc530a1535,Wez Furlong,wez@fb.com,Tue Jun 25 18:39:31 2019 -0700,1561513171,eden: add thrift calls for adding/removing bind mountsSummary:nThese allow the cli to setup and tear down mounts andnhave the eden server keep track of them.nnReviewed By: stragernnDifferential Revision: D15707318nnfbshipit-source-id: abdb8eaa28c8c67c8211a8af1647efe3a083e998n,25.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,968.0,9.0,6.0702083333333325,6580.0,1.1647389916600883,3.0,None,False,,
5d2f3d9b0a4f36cd8234915664fb19bc530a1535,11a4b838b73ff9db2c1ad23d2cccc8335fbe2ba4,Jon Maltiel Swenson,jmswen@fb.com,Wed Jun 26 07:48:38 2019 -0700,1561560518,Reclaim stream<> syntaxSummary: Rename `stream i32` to `stream<i32>` in Thrift IDL.nnReviewed By: rhodonnDifferential Revision: D15981680nnfbshipit-source-id: 98ac56c52e57d2e43484b8a37969f74a0fc15219n,1.0,1.0,"eden/fs/service/streamingeden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,31.0,4.0,1.865335648148148,2.0,1.5360965470170322,1.0,None,False,,
11a4b838b73ff9db2c1ad23d2cccc8335fbe2ba4,5bcece7661e33bec33faf60437805df535e2f8af,svcscm,svcscm@fb.com,Wed Jun 26 08:23:59 2019 -0700,1561562639,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 303fc61d11392ee0dd42f6a6ebdaea1f74bdc6d7n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,268.0,0.6947453703703703,1025.0,2.4393762702828776,1025.0,None,False,,
5bcece7661e33bec33faf60437805df535e2f8af,ea727f82a470c16649fbcb6548b04c2af6bebd55,svcscm,svcscm@fb.com,Wed Jun 26 09:49:04 2019 -0700,1561567744,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 22266ae827703e8cd6b263234a8ddd93f4b15258n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1032.0,0.5996489197530864,1027.0,7.1856240172045505,1028.0,None,False,,
ea727f82a470c16649fbcb6548b04c2af6bebd55,a204d4e0ce2a1e4657f3b89c76b3db7d80566a7d,Jake Crouch,jakecrouch@fb.com,Wed Jun 26 16:34:00 2019 -0700,1561592040,"Update eden debug journal to use limit instead of generating a rangeSummary: Prior to this diff eden debug journal got the latest journal entry and manually seeked for the one limit prior to it, this has been updated to just passing the limit to the journal. [This will make the queries always happen from the tip of the journal, since in theory currently something can be added to the journal after the python script gets the latest delta]nnReviewed By: stragernnDifferential Revision: D15972018nnfbshipit-source-id: 0ee0dd88a1e9edef5ccce3b3da2dbc09aa64f8a9n",1.0,2.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,993.0,10.0,0.9128356481481479,1.0,2.0954874538792168,1.0,Corrective,True,,
a204d4e0ce2a1e4657f3b89c76b3db7d80566a7d,9eb5922e0d3b135bbad537044e05e4e849b2417c,svcscm,svcscm@fb.com,Wed Jun 26 19:31:24 2019 -0700,1561602684,Updating submodulesReviewed By: yns88nnfbshipit-source-id: cdea5bbb2673456d9bcad25b90bd21b1315a2a10n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,270.0,0.4043981481481482,1029.0,3.472810532341156,1029.0,None,False,,
9eb5922e0d3b135bbad537044e05e4e849b2417c,4a4715df53b88620bd65b86a7e08b0c7ca80a8bb,svcscm,svcscm@fb.com,Thu Jun 27 18:18:00 2019 -0700,1561684680,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 021a070753f823a5995d4e79b8a93e0d417f154en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1036.0,1.2186265432098766,1031.0,1.5871870612194705,1032.0,None,False,,
4a4715df53b88620bd65b86a7e08b0c7ca80a8bb,c2b4cb752d59dc7713ec19b12926d0123c56d9d0,svcscm,svcscm@fb.com,Fri Jun 28 15:11:59 2019 -0700,1561759919,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a39934e4c3c1e3c6ac7d77890885a24eda9d900bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1039.0,0.8708217592592593,1034.0,1.7017637129680083,1035.0,None,False,,
c2b4cb752d59dc7713ec19b12926d0123c56d9d0,1c088981fb731e8adaa29c051fbacd4638a76cfd,Jake Crouch,jakecrouch@fb.com,Fri Jun 28 16:37:43 2019 -0700,1561765063,Displaying duration of journalSummary: Shows the end-to-end duration of the journal in eden statsnnReviewed By: chadaustinnnDifferential Revision: D15993261nnfbshipit-source-id: 46471faca17d4f12ccdd8cea55b2722e33519a74n,3.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,992.0,11.0,2.0025810185185184,2.0,1.4993555770042133,2.0,None,False,,
1c088981fb731e8adaa29c051fbacd4638a76cfd,1fcf863c7b4f8c95168559a667c53979014e7b52,svcscm,svcscm@fb.com,Fri Jun 28 16:45:25 2019 -0700,1561765525,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b5a4760a043e0b420f297d9d7574109fa160f483n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,273.0,0.06488425925925925,1036.0,16.412058508740635,1036.0,None,False,,
1fcf863c7b4f8c95168559a667c53979014e7b52,7a9e17d909f11e68559f870a8ff546e1bb654459,svcscm,svcscm@fb.com,Sat Jun 29 13:50:02 2019 -0700,1561841402,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9682a98c716b6ea2c48c948a77abb29ad6ef0098n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,630.0,0.9106481481481479,1037.5,1.8438722292230385,1038.0,None,False,,
7a9e17d909f11e68559f870a8ff546e1bb654459,f51b3ce6bfa18f0c30fc7d3a78d923a18b850cfe,svcscm,svcscm@fb.com,Sat Jun 29 21:33:10 2019 -0700,1561869190,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5a26526548350c0280fe9bd64741ea77d03ec90en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,275.0,0.3216203703703704,1039.0,4.109255793867856,1039.0,None,False,,
f51b3ce6bfa18f0c30fc7d3a78d923a18b850cfe,9656705477b89dcd42ab3e10953d1db9e6b5d3ea,svcscm,svcscm@fb.com,Sun Jun 30 21:10:51 2019 -0700,1561954251,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0984faded59c048993061e608af3805abc992831n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1046.0,1.5132793209876545,1041.0,1.515085214600988,1042.0,None,False,,
9656705477b89dcd42ab3e10953d1db9e6b5d3ea,364b36c286b3eb6366860ce7a3562a51350b07e7,svcscm,svcscm@fb.com,Mon Jul 1 10:22:21 2019 -0700,1562001741,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9760a8b885016a55366cf310f177750ccc0db9ban,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,691.0,0.5496527777777778,1043.5,2.364497789008212,1044.0,None,False,,
364b36c286b3eb6366860ce7a3562a51350b07e7,7ff34cc975ab3dc6560d2424322515019ee334b1,Shrikrishna Khare,skhare@fb.com,Mon Jul 1 10:30:33 2019 -0700,1562002233,"fbcode_builder: getdeps: fboss: fix libmnl sourceSummary:nThe source we were downloading from (netfilter.org) should work, butnunfortunately, is donw. This is causing getdeps FBOSS builds to fail. For now,ndownload from a mirror which seems to be up.nnIf this becomes a frequent issue with this repository/others, we can consider andifferent solution.nnAlso, not sure how lfs pointer edit was missed by previous commit, added here.nnReviewed By: phshaikhnnDifferential Revision: D16070052nnfbshipit-source-id: dd9278254c77e1a5845ca331a9eeb36f2bf03071n",1.0,1.0,"build/fbcode_builder/manifests/libmnl,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,10.0,1.0,25.80194444444445,18.0,1.0387567689773596,12.0,None,False,,
7ff34cc975ab3dc6560d2424322515019ee334b1,8d1e42408fe1f0a8fc2745fee6f80b8da83c09bd,svcscm,svcscm@fb.com,Mon Jul 1 11:16:21 2019 -0700,1562004981,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: aa4fbca0ac9e0b98db9707dfd61a4a9402310c7fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1051.0,0.22071759259259252,1046.0,14.836741828351686,1047.0,None,False,,
8d1e42408fe1f0a8fc2745fee6f80b8da83c09bd,d5c07239fcddc1ea0336e45488615df0a5ebdd2c,svcscm,svcscm@fb.com,Mon Jul 1 11:54:06 2019 -0700,1562007246,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 117a235430c23102a91baa9683980ac00c0eeb72n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,638.0,0.026215277777777785,1048.5,29.609271523178805,1049.0,None,False,,
d5c07239fcddc1ea0336e45488615df0a5ebdd2c,4edb34a8d2f91402dd12f885eed676113402237d,svcscm,svcscm@fb.com,Mon Jul 1 15:45:26 2019 -0700,1562021126,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 26112fb218995b292bb28e65332f6259b3c289f6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,280.0,0.16064814814814815,1050.0,7.224783861671469,1050.0,None,False,,
4edb34a8d2f91402dd12f885eed676113402237d,3a93aad31abe8698894401df745a0dd9267dbcaa,svcscm,svcscm@fb.com,Mon Jul 1 20:35:08 2019 -0700,1562038508,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e04c81cc099cbbf66c0f164320ae6aca1edccf97n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,697.0,0.2946122685185185,1051.5,4.333902595243736,1052.0,None,False,,
3a93aad31abe8698894401df745a0dd9267dbcaa,ea92068a5237d1cf3b135aff8dcbbecafffe53bc,Luca Niccolini,lniccolini@fb.com,Tue Jul 2 01:22:42 2019 -0700,1562055762,Deprecate autoconfSummary:nRemove all the autoconf files.nAnd fully switch to the cmake buildnnReviewed By: udippantnnDifferential Revision: D16066986nnfbshipit-source-id: 9e3082dded77ce85449cf5a3a03bed31c16b711fn,10.0,5.0,"build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen_quic.py,CAS_DELIMITER",2.0,1.0,1.0,0.8366407419411673,3.0,20.5,6.0,15.305341435185184,3.5,1.0374530057375264,4.0,None,False,,
ea92068a5237d1cf3b135aff8dcbbecafffe53bc,87e4e843246f343d7038df0220808a5ca1d5f3d7,svcscm,svcscm@fb.com,Tue Jul 2 01:57:49 2019 -0700,1562057869,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4489814df60d8afb703059f2fc7fe87c8648d68an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1059.0,0.34469521604938275,1054.0,3.553635668391267,1055.0,None,False,,
87e4e843246f343d7038df0220808a5ca1d5f3d7,2eca5dbd3f7032b836f5b0f5fc5988d45d960e03,svcscm,svcscm@fb.com,Tue Jul 2 09:23:15 2019 -0700,1562084595,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: dd1ef925523cbdc0eb81cf67c4c60410869fa560n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1062.0,0.3093287037037037,1057.0,2.9756042804759417,1058.0,None,False,,
2eca5dbd3f7032b836f5b0f5fc5988d45d960e03,687a8b1a3f73af6ec5eddd9fcbbf5c0ff2b943fe,Luca Niccolini,lniccolini@fb.com,Tue Jul 2 09:25:40 2019 -0700,1562084740,add manifest for mvfst and proxygenReviewed By: udippantnnDifferential Revision: D16075865nnfbshipit-source-id: 172aed7ebbfce987c78eea06e588048b0e2a755fn,49.0,0.0,"build/fbcode_builder/manifests/mvfst,CAS_DELIMITER,build/fbcode_builder/manifests/proxygen,CAS_DELIMITER",2.0,1.0,1.0,0.997294381646235,1.0,0.0,0.0,0.0,5.5,0.0,6.0,Feature Addition,False,,
687a8b1a3f73af6ec5eddd9fcbbf5c0ff2b943fe,fcef581e156b87f668ed2fdf5202bd989c426ca2,svcscm,svcscm@fb.com,Tue Jul 2 09:54:27 2019 -0700,1562086467,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 03bfc017a7568c8251d5187e3a189371cf7f9cf5n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1065.0,0.021666666666666667,1060.0,29.205128205128197,1061.0,None,False,,
fcef581e156b87f668ed2fdf5202bd989c426ca2,0617dc439d2e629ae6276d6c2f53ee1861e7cedc,svcscm,svcscm@fb.com,Tue Jul 2 10:32:21 2019 -0700,1562088741,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 70b586a1d9e1c8da0d8513e579d4d1eefe7dafe6n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,648.0,0.026319444444444444,1062.5,29.496042216358838,1063.0,None,False,,
0617dc439d2e629ae6276d6c2f53ee1861e7cedc,381a2e80db236cb9f8141bc70c8d3279d18d7680,Puneet Kaushik,puneetk@fb.com,Tue Jul 2 11:34:53 2019 -0700,1562092493,Add support to pass vcvarsall path on the command lineSummary: On Windows --vcvars-path can be passed to point to the toolchain we want to use.nnReviewed By: weznnDifferential Revision: D15926044nnfbshipit-source-id: 2b0cde793f7c7f8473b78afde8794640bae351f3n,35.0,20.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",3.0,1.0,2.0,1.241754961703308,32.0,471.33333333333326,43.0,34.74170138888889,1.0,0.6750413164179829,2.0,Feature Addition,False,True,"[""523477228bc7bd733030e2115e7f886aa40c091a""]"
381a2e80db236cb9f8141bc70c8d3279d18d7680,264484e08d142eaa692a2d2ca1f2aa571076cb81,svcscm,svcscm@fb.com,Tue Jul 2 13:10:33 2019 -0700,1562098233,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7cc878a913cf3d356eadd78e0278b69f5f4bbe7dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1070.0,0.11863425925925924,1065.0,6.325503454726039,1066.0,None,False,,
264484e08d142eaa692a2d2ca1f2aa571076cb81,417c390538011e8e8c17a3b0ef275baaab0910a9,svcscm,svcscm@fb.com,Tue Jul 2 15:20:48 2019 -0700,1562106048,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c1ca07f37f787a4e54d2050c05c75329a2b82e27n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,652.0,0.09045138888888887,1067.5,9.291746641074855,1068.0,None,False,,
417c390538011e8e8c17a3b0ef275baaab0910a9,47facb41615b1df89d5583465c84d9e2508046d7,Wez Furlong,wez@fb.com,Tue Jul 2 16:43:19 2019 -0700,1562110999,"getdeps: improve debugging when failing to query tests from ctestSummary:nWe're seeing a failure on macOS in a CI environment but don't have much context:nn```nStderr:n+ GETDEPS=opensource/fbcode_builder/getdeps.pyn+ opensource/fbcode_builder/getdeps.py test --facebook-internal watchmannTraceback (most recent call last):n  File opensource/fbcode_builder/getdeps.py, line 436, in <module>nsys.exit(main())n  File opensource/fbcode_builder/getdeps.py, line 422, in mainnreturn args.func(args)n  File opensource/fbcode_builder/getdeps.py, line 342, in runnbuilder.run_tests(install_dirs, schedule_type=args.schedule_type)n  File /data/sandcastle/boxes/trunk-hg-fbcode-fbsource/fbcode/opensource/fbcode_builder/getdeps/builder.py, line 372, in run_testsnbuck_test_info = list_tests()n  File /data/sandcastle/boxes/trunk-hg-fbcode-fbsource/fbcode/opensource/fbcode_builder/getdeps/builder.py, line 352, in list_testsndata = json.loads(output.decode(utf-8))n  File /opt/homebrew/Cellar/python27/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py, line 338, in loadsnreturn _default_decoder.decode(s)n  File /opt/homebrew/Cellar/python27/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py, line 366, in decodenobj, end = self.raw_decode(s, idx=_w(s, 0).end())n  File /opt/homebrew/Cellar/python27/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py, line 384, in raw_decodenraise ValueError(No JSON object could be decoded)nValueError: No JSON object could be decodedn```nnAdd some more context to that error message so we can learn more.nnReviewed By: pkaushnnDifferential Revision: D16061528nnfbshipit-source-id: 23603a5d18651d20641ef1987b7094e73a9b1dben",8.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,648.0,20.0,0.2141898148148148,6581.0,5.668756079109478,183.0,None,False,,
47facb41615b1df89d5583465c84d9e2508046d7,cae023878cd5e126525e7396f2f9c6e73cbf5a73,svcscm,svcscm@fb.com,Tue Jul 2 18:10:42 2019 -0700,1562116242,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 70610c041f74f2928a31ee97178abb5b6da46919n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1075.0,0.14813657407407407,1070.0,5.596417848176749,1071.0,None,False,,
cae023878cd5e126525e7396f2f9c6e73cbf5a73,06a7f0d876c7f1a35f74e473f97335eaaf5bf0c5,Jake Crouch,jakecrouch@fb.com,Tue Jul 2 18:12:41 2019 -0700,1562116361,"Eden Mount is_fresh_instance FixSummary:nNeeded for Eden in the future to return the fact the journal has been truncated.nnAlso affects code path where EdenServiceHandler throws an ERANGE error, though Watchman gets the mountGeneration earlier to see if this is a fresh instance, if it happened to change after that check then Watchman would ignore Eden's fresh instance.nnReviewed By: weznnDifferential Revision: D16036826nnfbshipit-source-id: 03a31edb458bb184e80925adc8b9d3ee1d42f2ban",6.0,0.0,"query/eval.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,484.0,83.0,35.09591435185185,3.0,1.028493345122015,0.0,Corrective,True,,
06a7f0d876c7f1a35f74e473f97335eaaf5bf0c5,d82be4404077741079871fcf27139589d0ff9b61,Jake Crouch,jakecrouch@fb.com,Tue Jul 2 18:12:41 2019 -0700,1562116361,"Handle Eden EDOM journal truncation error responsesSummary:nTeach watchman how to process journal truncation error responses generated by Eden.   In order to manage the size of the journal, Eden may decide to truncate older entries.  In those situations Eden will generate EDOM errno values.nnIn the context of a subscription, take care to avoid terminating the watchman subscription when EDOM is received, as that is a jarring user experience in eg: a buck build, or in Nuclide.nnReviewed By: weznnDifferential Revision: D16075256nnfbshipit-source-id: 4333674c91946b21c3fef364744387e7eecd615fn",36.0,16.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1215.0,81.0,8.298703703703703,4.0,1.120500747550934,0.0,None,False,,
d82be4404077741079871fcf27139589d0ff9b61,b09eb85728c1bf216e9fcba89d41f240450fcd47,svcscm,svcscm@fb.com,Tue Jul 2 18:50:22 2019 -0700,1562118622,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 18dbf62a40bd9d2015e49658c18bb11876d5c01bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,656.0,0.027546296296296298,1072.5,28.22689075630252,1073.0,None,False,,
b09eb85728c1bf216e9fcba89d41f240450fcd47,b4e93442fa87b9a089edc71f77b23f0e74a22efc,Jake Crouch,jakecrouch@fb.com,Tue Jul 2 18:59:07 2019 -0700,1562119147,Thrift interface for setting memory limit of JournalSummary: Sets up a thrift interface to set the size of the journal (until truncation is added in the size field in the journal currently does nothing other than being viewable from getMemoryLimit)nnReviewed By: chadaustinnnDifferential Revision: D16042286nnfbshipit-source-id: bc0acdf4ac5516cfac66fa0fbd87254d08ad479bn,14.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,995.0,12.0,4.098194444444443,5.0,1.2440098959568917,3.0,None,False,,
b4e93442fa87b9a089edc71f77b23f0e74a22efc,2ea5b39a5bfcdf0b52604cdc3d31c82ddccbd8ce,svcscm,svcscm@fb.com,Tue Jul 2 19:54:14 2019 -0700,1562122454,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: bf17a2e22f2c51346557d805c33f1e986f6e9c3dn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,290.0,0.04435185185185185,1074.0,23.546972860125265,1074.0,None,False,,
2ea5b39a5bfcdf0b52604cdc3d31c82ddccbd8ce,da9ff568d801af9cb1773fd9dfaff5c4a2cfe3e7,svcscm,svcscm@fb.com,Wed Jul 3 02:03:50 2019 -0700,1562144630,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 078b4ce0886b92d4b15cce0ebe087fae47647ed9n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,713.0,0.2926157407407407,1075.5,3.802414735806082,1076.0,None,False,,
da9ff568d801af9cb1773fd9dfaff5c4a2cfe3e7,7f19a4f8be5298f0a4d1618b7840da3f0f6e7ddd,Wez Furlong,wez@fb.com,Wed Jul 3 16:18:27 2019 -0700,1562195907,getdeps: add a manifest for the patchelf utilitySummary:nThe intent is to use this in a future diff to make packaging a firstnclass concept; it can be used similarly to how we munge dynamic deps on darwinnsystems.nnReviewed By: shri-kharennDifferential Revision: D16099931nnfbshipit-source-id: c66f994b7c07e903fbf2989946b17a0991e12a91n,11.0,0.0,"build/fbcode_builder/manifests/patchelf,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,6582.0,0.0,184.0,None,False,,
7f19a4f8be5298f0a4d1618b7840da3f0f6e7ddd,176b8ae83a2b36814587f94f980b2cac4394612f,Wez Furlong,wez@fb.com,Wed Jul 3 16:18:27 2019 -0700,1562195907,getdeps: move the guts of _compute_env to a helper in buildoptsSummary: I want to use this logic outside of a builder implementationnnReviewed By: pkaushnnDifferential Revision: D16101914nnfbshipit-source-id: db3c9ac6c84a92ab84a18dddb931953b0a51f127n,40.0,34.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",2.0,1.0,1.0,0.9952525494396792,32.0,498.5,28.0,1.0898263888888888,6583.5,1.7381803153539916,186.0,None,False,,
176b8ae83a2b36814587f94f980b2cac4394612f,0b85103b1385017e2f760a87749f939abf8c5b2d,Wez Furlong,wez@fb.com,Wed Jul 3 16:18:27 2019 -0700,1562195907,"getdeps: dynamic dependency mungingSummary:nThis diff adds a `fixup-dyn-deps` subcommand that is intended tonaid in packaging on multiple platforms.nnIts purpose is to copy a set of executable object files from the getdepsninstallation directories and place them into an installation stagingnarea that will then be used to create some kind of package (rpm, tarball etc.).nnThe dynamic dependencies of the executables are determined and also copiedninto the destination area, and the important part: the execute is rewrittennsuch that it will load the deps out of an alternate installation prefix.nnThe implementation of this command draws on similar scripts in use fornthe watchman and eden packaging on windows and macos.  This diff addsnlinux support using the `patchelf` utility.nnReviewed By: pkaushnnDifferential Revision: D16101902nnfbshipit-source-id: 5885125971947139407841e08c0cf9f35fdf5895n",261.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER",2.0,1.0,2.0,0.7710682209828685,32.0,219.5,19.0,0.5984606481481481,6585.5,1.835476821320131,188.0,None,False,,
0b85103b1385017e2f760a87749f939abf8c5b2d,57609e4c5e78808e41cdd865934f06a352d4708b,svcscm,svcscm@fb.com,Wed Jul 3 17:01:48 2019 -0700,1562198508,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 38a9ef02fa888524e72aea96d81793ba8f5a5ae0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1083.0,0.7239274691358024,1078.0,1.9552952616868728,1079.0,None,False,,
57609e4c5e78808e41cdd865934f06a352d4708b,a76c6f6033505dbd4bc8c6d7bd43cc9a6ac1e844,svcscm,svcscm@fb.com,Thu Jul 4 11:42:29 2019 -0700,1562265749,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: d6ea96a38cdd37dbee4f9fa9be27b6ab08a509ccn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1086.0,0.7782523148148148,1081.0,1.7852351987626598,1082.0,None,False,,
a76c6f6033505dbd4bc8c6d7bd43cc9a6ac1e844,a7cebcb87b4f4d02ba0b89752a9e3f8329c5fd92,svcscm,svcscm@fb.com,Thu Jul 4 18:08:28 2019 -0700,1562288908,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: bf51bf99d7553ddec58bc8940f6651f75409d4f2n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,664.0,0.2680439814814815,1083.5,3.7980482749686937,1084.0,None,False,,
a7cebcb87b4f4d02ba0b89752a9e3f8329c5fd92,a27f7a241fd9576334e993406c23a8ad17728ed6,Puneet Kaushik,puneetk@fb.com,Fri Jul 5 14:56:48 2019 -0700,1562363808,getdeps: Add subclass to copy dependencies for PE executables on WindowsSummary: This adds a subclass to copy the dynamic dependencies on Windows.nnReviewed By: weznnDifferential Revision: D16110433nnfbshipit-source-id: 14d876947f3ec504382fef0d459367a7119ff6cbn,82.0,2.0,"build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,202.0,1.0,1.9432986111111108,3.0,1.5145889542051565,3.0,None,False,,
a27f7a241fd9576334e993406c23a8ad17728ed6,ebcf1e98b4a68f087e3cbb46bf443bfb3085b975,Puneet Kaushik,puneetk@fb.com,Fri Jul 5 14:56:48 2019 -0700,1562363808,"getdeps: Move print Mapping scratch dir to stderrSummary:nMapping scratch dir <from> -> <to> show up in the output of all the show dir commands on Windows, so removing it.nexample: getdeps.py show-inst-dir edennnReviewed By: weznnDifferential Revision: D16092494nnfbshipit-source-id: 910288a8d23c1d68c5e70b7b2dbb36ef53a326fcn",4.0,1.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,380.0,8.0,1.9432986111111108,4.0,1.5145889542051565,4.0,None,False,,
ebcf1e98b4a68f087e3cbb46bf443bfb3085b975,d2545872fcd0f7a3adffa12e11125d3d7f147417,svcscm,svcscm@fb.com,Fri Jul 5 15:30:17 2019 -0700,1562365817,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 1a6c249837151564f48f675ced6a221ec739aae9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1091.0,0.9794984567901236,1086.0,1.6506382775687147,1087.0,None,False,,
d2545872fcd0f7a3adffa12e11125d3d7f147417,39110b376f5bf0e2038ecd92a6e69c82994eeb7f,svcscm,svcscm@fb.com,Sat Jul 6 13:37:46 2019 -0700,1562445466,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a675a24d2217f8762ab76892cabd9fb8ad79b06en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1094.0,0.921863425925926,1089.0,1.6629085110924182,1090.0,None,False,,
39110b376f5bf0e2038ecd92a6e69c82994eeb7f,b7d0c3b62d2133f365467503743649938c1aff46,svcscm,svcscm@fb.com,Mon Jul 8 17:29:03 2019 -0700,1562632143,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e69d09ad1887cf26bbb863523757e2232cb6044dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,427.0,2.1606134259259258,1091.0,1.4628315218264705,1091.0,None,False,,
b7d0c3b62d2133f365467503743649938c1aff46,abd8b0df5608acce0d502e5e032f2ba15ac6cc6b,svcscm,svcscm@fb.com,Tue Jul 9 08:46:14 2019 -0700,1562687174,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 8ffa76de9bf8862e1108cfe457b2150c33914aafn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1098.0,2.0773418209876544,1093.0,1.2696941808419515,1094.0,None,False,,
abd8b0df5608acce0d502e5e032f2ba15ac6cc6b,cbd3bdc1f06b04dc9bd7e0df0c8805fe359db58e,Brian Strauch,brianstrauch@fb.com,Tue Jul 9 09:10:19 2019 -0700,1562688619,live `debug journal` commandSummary: Running `eden debug journal -f` will print and follow the eden journal in a similar style to the unix `tail -f` command.nnReviewed By: chadaustinnnDifferential Revision: D16112458nnfbshipit-source-id: 5304cd0f857bdbeca41c2591e98920f4f1fc8f42n,2.0,1.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1009.0,13.0,6.591111111111113,0.0,0.0,0.0,Corrective,True,,
cbd3bdc1f06b04dc9bd7e0df0c8805fe359db58e,b4a935a8269041be19ac9affea380f1f0b35797b,Wez Furlong,wez@fb.com,Tue Jul 9 17:16:19 2019 -0700,1562717779,"RIP: travisbot notificationsSummary:nThis are noisy and don't provide real value, so removenthe webhooks.nnReviewed By: yns88nnDifferential Revision: D16115486nnfbshipit-source-id: 1daa2d78f4e786a42dcc5779ccd30c36e02d2445n",0.0,3.0,"build/fbcode_builder/travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,45.0,3.0,60.02820601851853,6587.0,1.0166588353430304,189.0,None,False,,
b4a935a8269041be19ac9affea380f1f0b35797b,724b3753b670bb27bef27428011db30a1449b656,svcscm,svcscm@fb.com,Tue Jul 9 18:35:12 2019 -0700,1562722512,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 41e6e95f8f466816c650af05b89d8bd1b4eb2f73n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1101.0,0.4090046296296296,1096.0,2.4941422830946856,1097.0,None,False,,
724b3753b670bb27bef27428011db30a1449b656,c4f26d46f260ef692a1deeb50ae562bdcb048843,svcscm,svcscm@fb.com,Wed Jul 10 01:04:19 2019 -0700,1562745859,Updating submodulesReviewed By: zpaonnfbshipit-source-id: f5ad2d792c406b45ee2bcb54429bb92014fb04bcn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,674.0,0.2702199074074074,1098.5,3.775517197070287,1099.0,None,False,,
c4f26d46f260ef692a1deeb50ae562bdcb048843,4a4e00461f0d175f5f27a6ca8b9da543671fbfd9,svcscm,svcscm@fb.com,Wed Jul 10 14:38:19 2019 -0700,1562794699,Updating submodulesReviewed By: zpaonnfbshipit-source-id: ef75a50fff0dbd84c66c2e13e603cdbf438cdbaen,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,300.0,0.5652777777777778,1100.0,2.769041769041769,1100.0,None,False,,
4a4e00461f0d175f5f27a6ca8b9da543671fbfd9,b1512eedd8f6944e3f02f181da17f4802bbe97d4,svcscm,svcscm@fb.com,Wed Jul 10 22:20:32 2019 -0700,1562822432,Updating submodulesReviewed By: zpaonnfbshipit-source-id: abbc7fef346be0f6572125a71b66da73979ef576n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1107.0,0.7879089506172839,1102.0,2.4051058813994235,1103.0,None,False,,
b1512eedd8f6944e3f02f181da17f4802bbe97d4,057a0fe2c29a05bdcada2ba246783c20a9363ccc,Puneet Kaushik,puneetk@fb.com,Thu Jul 11 08:13:49 2019 -0700,1562858029,getdeps: Extend is_objfile() to Windows class to only select files with .exe extensionSummary: is_objfile() is used to find the executable files in the given project. Getdeps will only find and copy the dependencies of the binaries identified by this function. On Windows we will copy only the dependencies for an exe file.nnReviewed By: chadaustinnnDifferential Revision: D16185962nnfbshipit-source-id: f6b5089401b242514a845e3a97b3804051d93c1cn,7.0,0.0,"build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,282.0,2.0,5.7201504629629625,5.0,1.1748205762199502,5.0,None,False,,
057a0fe2c29a05bdcada2ba246783c20a9363ccc,18fc33d845b3cde7abba1130ef3bbda8db350dab,svcscm,svcscm@fb.com,Thu Jul 11 08:53:56 2019 -0700,1562860436,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 287c6f4978ab49028becda738e2ee9291fae35e7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1110.0,0.4398611111111111,1105.0,2.3893274392169244,1106.0,None,False,,
18fc33d845b3cde7abba1130ef3bbda8db350dab,10054eb142e752973789c7971cf47e2fab141a90,svcscm,svcscm@fb.com,Thu Jul 11 09:20:29 2019 -0700,1562862029,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 13b8c11344e7d088194807ed44242838c7d9aeb4n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,681.0,0.0184375,1107.5,41.67796610169492,1108.0,None,False,,
10054eb142e752973789c7971cf47e2fab141a90,ce5e1ee74bef97fec905610aafd5653b4c92860a,Jon Maltiel Swenson,jmswen@fb.com,Thu Jul 11 09:27:03 2019 -0700,1562862423,Switch from deprecated RSocketClientChannel to RocketClientChannelSummary:n`RSocketClientChannel` is deprecated in favor of `RocketClientChannel`. Note that no server-side changes or coordination is requirednsince the two channels are entirely wire-compatible.nnReviewed By: stragernnDifferential Revision: D16173317nnfbshipit-source-id: d9d7333bc7d33b8f2c386989b0b72daa601cd5b1n,7.0,7.0,"watcher/eden.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1235.0,82.0,8.634976851851851,3.0,1.1158080695706256,1.0,None,False,,
ce5e1ee74bef97fec905610aafd5653b4c92860a,18afc38e1a8d385a191e523fea78ef08b5e51a45,svcscm,svcscm@fb.com,Thu Jul 11 13:21:32 2019 -0700,1562876492,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 50342bce3a9f8dc0734739fd0dfce1fb795f6558n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,304.0,0.16739583333333333,1109.0,6.9738643434972,1109.0,None,False,,
18afc38e1a8d385a191e523fea78ef08b5e51a45,f648202e3e75cf39f5a0f359c3347e7b49547173,svcscm,svcscm@fb.com,Thu Jul 11 14:40:12 2019 -0700,1562881212,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7f4473ceccd745f76059ddacbf385b5e9f4be9aen,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,737.0,0.1475462962962963,1110.5,11.84692580557668,1111.0,None,False,,
f648202e3e75cf39f5a0f359c3347e7b49547173,7f47cbc2547d5d57a74be276d708e696dbf9401b,Adam Simpkins,simpkins@fb.com,Thu Jul 11 19:02:47 2019 -0700,1562896967,improve the code that searches for dumpbin.exeSummary:nFix dyndeps.py to find dumpbin.exe in more situations.nnPreviously the code looked for dumpbin.exe under Visual Studio directoriesnnamed either `BuildTools` or `Community`.  On a system with an MSVC 2017nProfessional install it is instead located under a directory namedn`Professional`.  This updates the glob to allow any directory name here.nnReviewed By: pkaushnnDifferential Revision: D16207692nnfbshipit-source-id: 1a57ec29653a89fd3e751b3e4408a298b4632b11n,1.0,7.0,"build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,289.0,3.0,0.4506712962962963,39.0,3.2189121166983408,2.0,None,False,,
7f47cbc2547d5d57a74be276d708e696dbf9401b,8df32c7bc578d3cd20109dc49121ce5549b41271,svcscm,svcscm@fb.com,Thu Jul 11 19:27:46 2019 -0700,1562898466,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 3e3c17d94ca6b429c995f13dcb788c42fed28bf3n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1118.0,0.27370756172839505,1113.0,3.909715512165033,1114.0,None,False,,
8df32c7bc578d3cd20109dc49121ce5549b41271,6e56214b8c2164e29b3e380c68935cf0a0df0610,svcscm,svcscm@fb.com,Fri Jul 12 01:05:46 2019 -0700,1562918746,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 025787006532105bd547810dfa21c3dd1d9d89een,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,687.0,0.23472222222222225,1115.5,4.1952662721893486,1116.0,None,False,,
6e56214b8c2164e29b3e380c68935cf0a0df0610,0d244b8f9beb0779912ecb13f4700f6db7a50b7c,Jeff Hemphill,jhemphill@fb.com,Fri Jul 12 01:22:14 2019 -0700,1562919734,"Throw a legible exception when watchman get-sockname returns an empty stringSummary: If WatchmanClient is not passed a Watchman socket, it calls `watchman get-sockname` to get a default socket tied to the current unix user. But sometimes `watchman get-sockname` will return an empty string as stdout and an error message to stderr. In these cases, WatchmanClient will attempt to parse the empty string as bser, which will then throw an exception with the message `underflow`. I think we can throw a more informative exception here.nnReviewed By: stragernnDifferential Revision: D16194784nnfbshipit-source-id: 3b1c9992d218f3291b4f00f33907548d332b57c8n",11.0,7.0,"cppclient/WatchmanConnection.cpp,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.5032583347756457,29.0,292.0,18.0,107.80045138888887,7.5,1.0069896058189558,2.0,None,False,,
0d244b8f9beb0779912ecb13f4700f6db7a50b7c,5ffe60c381d2c0be2e965a91a333d3394405b56f,svcscm,svcscm@fb.com,Fri Jul 12 11:46:23 2019 -0700,1562957183,Updating submodulesReviewed By: zpaonnfbshipit-source-id: f8aff7f7ce3dcc3eaa658489055a72896b7d456an,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,434.0,0.6795949074074074,1117.0,2.47146482279408,1117.0,None,False,,
5ffe60c381d2c0be2e965a91a333d3394405b56f,6f252e55c15bf415922c4178b15207353e6d1643,svcscm,svcscm@fb.com,Fri Jul 12 12:12:58 2019 -0700,1562958778,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b6460554c10fe46b1398756c02d2c17097b12aaen,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,381.0,0.4633333333333333,1118.0,3.158273381294964,1118.0,None,False,,
6f252e55c15bf415922c4178b15207353e6d1643,a5933a44ba1dbb6395f8e71859aa1a58a3f8da53,svcscm,svcscm@fb.com,Fri Jul 12 14:30:36 2019 -0700,1562967036,Updating submodulesReviewed By: zpaonnfbshipit-source-id: a76cad3ba4ebfbd0072f7a7df822f0f3f986d349n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,308.0,0.5589120370370371,1119.0,2.789190308552495,1119.0,None,False,,
a5933a44ba1dbb6395f8e71859aa1a58a3f8da53,0b2507afe10d2bddc53daffd9de2f8dd2a85cdbc,svcscm,svcscm@fb.com,Sat Jul 13 01:51:21 2019 -0700,1563007881,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b9a0ecc044e4a4c4ba15bc3847033bf995536b76n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,309.0,0.4727430555555556,1120.0,3.1153139919206763,1120.0,None,False,,
0b2507afe10d2bddc53daffd9de2f8dd2a85cdbc,85102ace2519a2541866fa9bb12dcc608a1be965,svcscm,svcscm@fb.com,Mon Jul 15 09:45:57 2019 -0700,1563209157,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 8191441885644bc989cc8604b3a28e16f0a46b8dn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,310.0,2.3295833333333333,1121.0,1.4292613128241818,1121.0,None,False,,
85102ace2519a2541866fa9bb12dcc608a1be965,40ffd9a7a53f94d4967998d5d61c98623bdf545e,svcscm,svcscm@fb.com,Tue Jul 16 02:54:44 2019 -0700,1563270884,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0ed57664384f5bd3ac8c2953bf3bd686fc6cb23an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1128.0,2.652523148148148,1123.0,1.585171827520633,1124.0,None,False,,
40ffd9a7a53f94d4967998d5d61c98623bdf545e,98b365cff0ce3a8c6a1c4ed708dfbfcb428f24fc,Jake Crouch,jakecrouch@fb.com,Tue Jul 16 11:48:45 2019 -0700,1563302925,Subscriptions keep results if is_fresh_instanceSummary: The assumption that a result does nothing because it is empty and doesn't change merge bases does not hold. If empty_on_fresh_instance is true then all fresh instances will be empty and then considered useless even though we need to signal to the process watching that they need to handle the fresh instance result in an appropriate manner.nnReviewed By: chadaustinnnDifferential Revision: D16219267nnfbshipit-source-id: 9a0da881c8079bc6d5d23fe4fb9c563a95c34c1bn,4.0,5.0,"cmds/subscribe.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,635.0,70.0,139.75158564814814,6.0,1.0071555538734114,0.0,None,False,,
98b365cff0ce3a8c6a1c4ed708dfbfcb428f24fc,8ba9a8a9b9fd65aed44e5193453f42b251715851,Chad Austin,chadaustin@fb.com,Tue Jul 16 12:21:01 2019 -0700,1563304861,"fbcode_builder: use build interface generator expression for thrift include directoriesSummary:nFix an error about source directories being included in the includenpath in add_thrift_cpp2_library. I don't know why this was failing fornfb303 and not for other projects, but adding a generation expressionnappears to fix the issue.nnReviewed By: stragernnDifferential Revision: D15725024nnfbshipit-source-id: 6c02fed6c6703733cf9e0b130c0f90b70e3ea300n",2.0,2.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,120.0,3.0,108.89100694444444,4.0,1.0091834948363567,0.0,None,False,,
8ba9a8a9b9fd65aed44e5193453f42b251715851,0281230ceac52ddd779ea23e4a21aa8b3c399992,svcscm,svcscm@fb.com,Tue Jul 16 13:33:04 2019 -0700,1563309184,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 30926ecb8fabee3f020ae183bb568a11145bcadan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1131.0,0.4432870370370369,1126.0,2.378590078328982,1127.0,None,False,,
0281230ceac52ddd779ea23e4a21aa8b3c399992,0fdfab57e956057b24f586734ffb280087332bfd,svcscm,svcscm@fb.com,Tue Jul 16 16:38:08 2019 -0700,1563320288,Updating submodulesReviewed By: yns88nnfbshipit-source-id: cbb4012047891eb18adbb69aa15db27e628433c9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1134.0,0.12851851851851853,1129.0,5.7550432276657055,1130.0,None,False,,
0fdfab57e956057b24f586734ffb280087332bfd,66f27156881ed83d4b12a3cdec7cc93cbdf49947,Chad Austin,chadaustin@fb.com,Wed Jul 17 01:07:22 2019 -0700,1563350842,add fbcode_builder manifestSummary: Add a manifest and CMakeLists.txt for building fb303 with cmake.nnReviewed By: weznnDifferential Revision: D15480895nnfbshipit-source-id: d47f6ef9b9383b79b31a6170c7d4c9e8337de4d8n,27.0,0.0,"build/fbcode_builder/manifests/fb303,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,5.0,0.0,1.0,Feature Addition,False,,
66f27156881ed83d4b12a3cdec7cc93cbdf49947,81c2c0a6cdb5fdbf6eb012ea88b807a16a16eedd,svcscm,svcscm@fb.com,Wed Jul 17 01:52:10 2019 -0700,1563353530,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 449a439249313d383db0db1b7f27667ac8db401an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1137.0,0.3847453703703703,1132.0,2.58835208471211,1133.0,None,False,,
81c2c0a6cdb5fdbf6eb012ea88b807a16a16eedd,83238787c894f5cad00fa5df30b3acc473be1da7,svcscm,svcscm@fb.com,Wed Jul 17 07:56:13 2019 -0700,1563375373,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ac191ab48709e8fe9a7f2ddbe6379895b7cb134an,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,701.0,0.2528125,1134.5,3.9666254635352285,1135.0,None,False,,
83238787c894f5cad00fa5df30b3acc473be1da7,c97a1db6eabbb022cd68ea8f05ff3d3ee0798d94,Chad Austin,chadaustin@fb.com,Wed Jul 17 11:25:13 2019 -0700,1563387913,"transitively carry thrift dependencies forwardSummary: eden.thrift includes fb303_core.thrift, so any cmake target that depends on eden.thrift should pull in fb303_core.thrift's include directories and libraries. Implement that machinery in CppThriftLibrary.cmake.nnReviewed By: weznnDifferential Revision: D16062657nnfbshipit-source-id: d5d962960e767a138a9b634a12aebccf72d6ef43n",45.0,8.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,120.0,4.0,0.96125,6.0,2.0403120936280885,2.0,None,False,,
c97a1db6eabbb022cd68ea8f05ff3d3ee0798d94,b134515131a53d82ce8434c146e513901e904434,svcscm,svcscm@fb.com,Wed Jul 17 12:35:39 2019 -0700,1563392139,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c375b60568bdec15234e9530146f6f06a209ba01n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1142.0,0.2783217592592593,1137.0,3.637070628809452,1138.0,None,False,,
b134515131a53d82ce8434c146e513901e904434,23311397bfa729d60c17037e2ec0e9384fa842f2,svcscm,svcscm@fb.com,Wed Jul 17 13:08:42 2019 -0700,1563394122,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 29289796cc72a4c11300513af68fc6cdb08230cbn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,705.0,0.02295138888888889,1139.5,33.677760968229954,1140.0,None,False,,
23311397bfa729d60c17037e2ec0e9384fa842f2,35e1de815a32e48dce364fd389b2c3f3e296b95d,Chad Austin,chadaustin@fb.com,Wed Jul 17 13:43:32 2019 -0700,1563396212,"add a getDaemonInfo() thrift methodSummary:nOpen source fb303 will not have getPid() or getCommandLine(), sonintroduce a new method for Eden's tests.nnReviewed By: fanzeyinnDifferential Revision: D16292993nnfbshipit-source-id: 5cdc006ec0ee15f50a3e1cebe9b46a3ea275ff78n",18.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1010.0,14.0,8.189733796296297,7.0,1.122104090911018,0.0,Feature Addition,False,,
35e1de815a32e48dce364fd389b2c3f3e296b95d,7face61db371134bdd58b43ba3b92fa175b01486,svcscm,svcscm@fb.com,Thu Jul 18 13:04:11 2019 -0700,1563480251,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 262c788981a395fa0ee4dd9757ebe7ce5bdb47dfn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,318.0,0.9968634259259259,1141.0,2.0031464431260093,1141.0,None,False,,
7face61db371134bdd58b43ba3b92fa175b01486,30725789fcc14862fe59fd0d567fdc5d86d584b9,svcscm,svcscm@fb.com,Thu Jul 18 20:36:18 2019 -0700,1563507378,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 87bb7a817dea65783436d6d6dfbbd492724d20a7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1148.0,0.9861959876543208,1143.0,2.3766347228680504,1144.0,None,False,,
30725789fcc14862fe59fd0d567fdc5d86d584b9,4c854698d9f02922d56d0334be82370bae432005,svcscm,svcscm@fb.com,Fri Jul 19 02:48:34 2019 -0700,1563529714,Updating submodulesReviewed By: yns88nnfbshipit-source-id: f37591e391b8daf879b8c75dec866120b6d58f0an,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,320.0,0.2585185185185185,1145.0,4.868194842406877,1145.0,None,False,,
4c854698d9f02922d56d0334be82370bae432005,170bffa7335c3857e7b4fdb80b55320f11574c07,svcscm,svcscm@fb.com,Fri Jul 19 12:14:15 2019 -0700,1563563655,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 15e4aff7f4630285f43bac74df3c50194cc18cd3n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,441.0,0.6513541666666667,1146.0,2.535263073724612,1146.0,None,False,,
170bffa7335c3857e7b4fdb80b55320f11574c07,9410b41bdbc67edbea3a04cb24a85bf9aa7060b4,svcscm,svcscm@fb.com,Fri Jul 19 12:43:29 2019 -0700,1563565409,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 43d94c721e020167895eb832fbe9a3e98ce37fbcn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,321.0,0.4131365740740741,1147.0,3.4205070738198637,1147.0,None,False,,
9410b41bdbc67edbea3a04cb24a85bf9aa7060b4,d4d19500413b4d89e21c1ade97a9b8147248df8e,Adam Simpkins,simpkins@fb.com,Fri Jul 19 15:23:50 2019 -0700,1563575030,cache results of path_search()Summary:ngetdeps currently ends up calling `path_search()` repeatedly searching fornvarious C/C++ compilers in $PATH.  It ends up doing this multiple times forneach dependency as it computes the project hashes.  This updates then`path_search()` function to cache its results so that we don't keep performingnthe same searches on the file system over and over again.nnReviewed By: chadaustinnnDifferential Revision: D16354625nnfbshipit-source-id: 116293bd2f636632517d26436b2332e6c10624f1n,16.0,0.0,"build/fbcode_builder/getdeps/envfuncs.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,175.0,1.0,76.98001157407406,40.0,1.0129903851604094,3.0,None,False,,
d4d19500413b4d89e21c1ade97a9b8147248df8e,e7d2770cc3cb0d5f373c3e664192abe69dcfc996,Adam Simpkins,simpkins@fb.com,Fri Jul 19 15:23:50 2019 -0700,1563575030,normalize the scratch pathSummary:nThe scratch path is used as part of the hash computation for each project.  Wenneed to make sure this path is always normalized to ensure that we compute thenhashes consistently.nnReviewed By: chadaustinnnDifferential Revision: D16354624nnfbshipit-source-id: 39b5362620bdc247cd7e7f1333dac319b354dc6fn,8.0,0.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,383.0,9.0,14.018773148148147,41.0,1.0713329183254598,4.0,None,False,,
e7d2770cc3cb0d5f373c3e664192abe69dcfc996,3fd7c7075474cf8ffd0f807de149584f05da9e74,Adam Simpkins,simpkins@fb.com,Fri Jul 19 15:23:50 2019 -0700,1563575030,"update CMakeBuilder to raise an exception if we cannot find CMakeSummary:nIf `path_search()` returns that CMake is not available, raise an Exception andnfail the build.  This makes the failure somewhat easier to to identify.nWithout this the code would continue and would try to invoke `subprocess` withna value of `None` in the command argument list.  This error is slightly hardernto debug, since it isn't clear which command argument or environment variablenis not a string.nnReviewed By: chadaustinnnDifferential Revision: D16354623nnfbshipit-source-id: be972b02cb13bc70db0f867da70e5bf4c6cec46dn",2.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,623.0,22.0,15.96207175925926,42.0,1.0626485092337667,5.0,None,False,,
3fd7c7075474cf8ffd0f807de149584f05da9e74,cdb983afab8ab1d806011a631a59cb1bb1b44f38,svcscm,svcscm@fb.com,Fri Jul 19 15:46:03 2019 -0700,1563576363,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9983679d64eb8706329a211df791e6d79597fc40n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,390.0,0.7984375,1148.0,2.252446183953033,1148.0,None,False,,
cdb983afab8ab1d806011a631a59cb1bb1b44f38,2e6819de4709b4ea00aea06da6aa2019072de3fd,svcscm,svcscm@fb.com,Fri Jul 19 17:13:57 2019 -0700,1563581637,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 92d7ec4f6d748cb935e5c92678ed36aa69cf7457n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1155.0,0.15233024691358024,1150.0,4.34597886366575,1151.0,None,False,,
2e6819de4709b4ea00aea06da6aa2019072de3fd,2a36d7e8bbba65f0a805777faa4c7290e66cb498,svcscm,svcscm@fb.com,Sun Jul 21 02:36:43 2019 -0700,1563701803,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c5bf64b8b93b36905ddca2a8eea3cc152edcb769n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,766.0,1.3908101851851853,1152.5,1.5392540319225068,1153.0,None,False,,
2a36d7e8bbba65f0a805777faa4c7290e66cb498,98eb5a2402dcb5c88f137997917037b8f80d3ac4,svcscm,svcscm@fb.com,Sun Jul 21 16:48:14 2019 -0700,1563752894,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 4466d50a2bec52062f45a8c4c72a2267c7bcae28n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1160.0,1.054934413580247,1155.0,1.9508752333880568,1156.0,None,False,,
98eb5a2402dcb5c88f137997917037b8f80d3ac4,439a419165ff3cd98037383686d8171c14f2a750,svcscm,svcscm@fb.com,Mon Jul 22 16:51:16 2019 -0700,1563839476,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 5c3b5bc2b88bd6d00f5347268ac42c714b69ce52n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1163.0,1.0021064814814815,1158.0,1.6098265228338455,1159.0,None,False,,
439a419165ff3cd98037383686d8171c14f2a750,6c78375c9d67bc4f93d934828ffc2d3f1a8cbb0f,svcscm,svcscm@fb.com,Tue Jul 23 03:41:17 2019 -0700,1563878477,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ee7ab319d8ed8a5e941165cc68e80f8ccd9455ban,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,772.0,0.451400462962963,1160.5,2.661495859080536,1161.0,None,False,,
6c78375c9d67bc4f93d934828ffc2d3f1a8cbb0f,63a0228e94137c7e2bcdf669efc11851ce05be59,Jake Crouch,jakecrouch@fb.com,Tue Jul 23 12:06:13 2019 -0700,1563908773,Adding memory limit to JournalSummary:nThis diff updates Eden's journal to be bounded in terms of memory usage which should help lessen the likelihood of Eden OOMing and taking up a large amount of our users' resources.nnThe memory limit is set to be 1 GB per journal [so a user with 3 mounts could expect the journals to possibly use up to 3 GB of memory].nnThe landing of this diff will need to wait until a version of Watchman that can handle truncation is deployed on all machines using Eden. This means we need to wait for a version of Watchman with D16219267 to fully land to machines.nnReviewed By: stragernnDifferential Revision: D15954994nnfbshipit-source-id: 9a6425527f10a1ce051feb8fc7d092a84712f338n,59.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER,tests/integration/test_eden_journal.py,CAS_DELIMITER",2.0,2.0,2.0,0.21357981533827733,30.0,562.0,22.0,110.87421296296296,7.5,1.086537458673015,4.0,Feature Addition,False,,
63a0228e94137c7e2bcdf669efc11851ce05be59,523477228bc7bd733030e2115e7f886aa40c091a,Adam Simpkins,simpkins@fb.com,Tue Jul 23 16:50:20 2019 -0700,1563925820,"fix handling of common argumentsSummary:ngetdeps allowed common arguments to be specified either before or afternthe subcommand name.  However, the arguments were only actually honorednif they were specified on the command line after the subcommand name.nSpecifying any of these arguments before the subcommand would simply benignored, and the default value would be used.  This happened since thensubcommand argument's default value overwrote the value specified by thenuser from the main command parser.nnThis fixes the behavior by using `argparse.SUPPRESS` so that argparsenwon't set the value at all if it was not specified.  This allows thenvalue from the main parser to be used correctly if the argument was notnseen by the subcommand parser.nnReviewed By: chadaustinnnDifferential Revision: D16435358nnfbshipit-source-id: f3893ef7a27fb018247f249f313d6438472e0140n",39.0,12.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,498.0,20.0,20.022141203703704,43.0,1.0499447082020887,6.0,Corrective,True,,
523477228bc7bd733030e2115e7f886aa40c091a,0d9198d96392593a50a5de354b361052e11bce07,svcscm,svcscm@fb.com,Tue Jul 23 17:21:21 2019 -0700,1563927681,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 57792763cbfe7de23706a379396e3eb6e3f95a3an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1168.0,0.7199575617283951,1163.0,2.0323074843962825,1164.0,None,False,,
0d9198d96392593a50a5de354b361052e11bce07,51ea3df530bcc311d6ff7d9bd445a724bb27c418,svcscm,svcscm@fb.com,Wed Jul 24 01:14:55 2019 -0700,1563956095,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c6dcd75b23efbe35dd0e080fb7ea77baafe9de05n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1171.0,0.3288657407407408,1166.0,2.858238896318716,1167.0,None,False,,
51ea3df530bcc311d6ff7d9bd445a724bb27c418,c37b62448a63f89d093ce1a5265493537d483da0,Christian Clauss,cclauss@me.com,Wed Jul 24 08:51:19 2019 -0700,1563983479,"Remove `sudo: required` from `.travis.yml` (#37)Summary:nThis is just https://github.com/facebook/bistro/pull/37/, backported to `fbcode_builder`.nnsnarkmasternPull Request resolved: https://github.com/facebook/bistro/pull/37nnTest Plan: Push and watch TravisnnReviewed By: simpkinsnnDifferential Revision: D16453080nnPulled By: snarkmasternnfbshipit-source-id: a15eaead931f046c41e50f8e3b412ef68b172d65n",0.0,2.0,"build/fbcode_builder/travis.yml,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,42.0,4.0,14.649305555555555,0.0,0.0,0.0,None,False,,
c37b62448a63f89d093ce1a5265493537d483da0,e2f0a00f2e7f9f7a73805c3e38cd399cfb264c30,Mateusz Kwapich,mitrandir@fb.com,Wed Jul 24 10:54:59 2019 -0700,1563990899,improve the debugability of watchman testsSummary:nthe test is flaky but it's hard to repro it and the error message is notnhelpulnnReviewed By: chadaustinnnDifferential Revision: D16458368nnfbshipit-source-id: 5cf3427e64b5ddd2b62012fa0082f43e8970035an,23.0,6.0,"tests/integration/test_sock_perms.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,27.0,259.0,11.0,379.7660416666667,0.0,0.0,0.0,Corrective,True,,
e2f0a00f2e7f9f7a73805c3e38cd399cfb264c30,5e83260a7d604db82ae08f257f2b5b5e3b00ce09,Matt Glazar,strager@fb.com,Wed Jul 24 11:40:39 2019 -0700,1563993639,"Fix tests with Python 2.7Summary:nSome people want to use getdeps with Python 2.7. This looks easy to do, so take a step toward Python 2.7 support by fixing getdeps' tests when run with Python 2.7.nnFor Python 3, this diff should not change behavior.nnThis diff should address https://github.com/facebook/bistro/issues/35.nnReviewed By: snarkmasternnDifferential Revision: D16435667nnfbshipit-source-id: f5c262b12995b609263341c4de26dac7f9b12b70n",10.0,3.0,"build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/scratch_test.py,CAS_DELIMITER",3.0,1.0,2.0,1.4604846813131116,4.0,233.0,23.0,64.17015432098765,110.0,1.0111058755320024,4.0,Corrective,True,,
5e83260a7d604db82ae08f257f2b5b5e3b00ce09,6ef6b959a156f227a98b219ca7b616fed4cf1a3a,Chad Austin,chadaustin@fb.com,Wed Jul 24 21:04:08 2019 -0700,1564027448,use fb303 repo in open source buildSummary: Add a dependency from the eden open source build to the fb303 open source build and switch EdenServiceHandler to BaseService.nnReviewed By: simpkinsnnDifferential Revision: D15528156nnfbshipit-source-id: 2ca5c31dd9fcc9bac43fd399b27f33b6f2c5ebfcn,18.0,4.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/manifests/eden,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER,eden/fs/service/eden.thrift,CAS_DELIMITER",4.0,3.0,3.0,1.528965968072094,30.0,447.25,58.0,42.56589699074074,9.5,1.0107085137869063,1.0,None,False,,
6ef6b959a156f227a98b219ca7b616fed4cf1a3a,cbb583070f75a9db2bd1ab20511ba65332f59b41,Matt Glazar,strager@fb.com,Wed Jul 24 21:31:34 2019 -0700,1564029094,"Document content.sha1hex fieldSummary: The content.sha1hex field has existed in Watchman since 2017 (version 4.9.0), but it isn't documented in Watchman's field list. Add it so it's easier to discover.nnReviewed By: simpkinsnnDifferential Revision: D16435295nnfbshipit-source-id: d94c0f54165b71b708d079dc7233e2f6199e21f3n",6.0,0.0,"website/_docs/cmd.query.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,192.0,6.0,926.3569560185184,112.0,1.0010794974804291,2.0,Non Functional,False,,
cbb583070f75a9db2bd1ab20511ba65332f59b41,d619d47e5a4610e744db2854b9ca61bb85814303,Matt Glazar,strager@fb.com,Wed Jul 24 21:31:34 2019 -0700,1564029094,"Document error values for fieldsSummary:nIn some cases, when responding with `query` field values, Watchman can return `null` or an object instead of a string, number, or boolean. This fact isn't documented, leading some clients to assume that content.sha1hex always has a string (for example).nnDocument explicitly that query field values can be `null` or an object containing an error message. This enables clients to be more robust.nnReviewed By: simpkinsnnDifferential Revision: D16435293nnfbshipit-source-id: 76460a93b51f683817f3a9a62f8d003b4fc7a53fn",27.0,0.0,"website/_docs/cmd.query.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,198.0,7.0,0.0,113.0,0.0,3.0,Non Functional,False,,
d619d47e5a4610e744db2854b9ca61bb85814303,cd04bc61f4c63bd8cd73cfb2466c54e7e64632f3,Chad Austin,chadaustin@fb.com,Wed Jul 24 21:40:53 2019 -0700,1564029653,break dependency on fboss common/ stubsSummary: Eden no longer depends on fboss/common/ u00f0u009fu008cu0088nnReviewed By: simpkinsnnDifferential Revision: D16062879nnfbshipit-source-id: e6cf6eed408ca6e688ff2b9b532b15aa96902ac1n,0.0,1.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,40.0,3.0,0.025520833333333333,12.0,40.18367346938776,5.0,None,False,,
cd04bc61f4c63bd8cd73cfb2466c54e7e64632f3,594c14396bab8a276d0e77f4262ecda0ccde76df,svcscm,svcscm@fb.com,Thu Jul 25 12:21:34 2019 -0700,1564082494,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 50739ef295969c67f5c49bac91d803736ec47cabn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1174.0,1.4629513888888888,1169.0,1.41772482377234,1170.0,None,False,,
594c14396bab8a276d0e77f4262ecda0ccde76df,6bede90ba1020c165f0df5c3ec0206500cca1082,svcscm,svcscm@fb.com,Thu Jul 25 18:16:39 2019 -0700,1564103799,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4b80623993c7a01ceee7c74b166752fb97884c4dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1177.0,0.2465856481481481,1172.0,3.4782914808730343,1173.0,None,False,,
6bede90ba1020c165f0df5c3ec0206500cca1082,8687805b61019290e5876a81dc7597501bc3ab36,svcscm,svcscm@fb.com,Fri Jul 26 05:45:46 2019 -0700,1564145146,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a15749eae4203c7591f9561cd8c0d722683678f2n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,331.0,0.4785532407407408,1174.0,3.0896316540498705,1174.0,None,False,,
8687805b61019290e5876a81dc7597501bc3ab36,6f140f82b98ea37ea659a88e1f6e0005dc833df0,Brian Strauch,brianstrauch@fb.com,Fri Jul 26 10:03:50 2019 -0700,1564160630,"Count FUSE reads/writesSummary:nDisplay FUSE calls, reads, and writesnn{F167451325}nnReviewed By: chadaustinnnDifferential Revision: D16214570nnfbshipit-source-id: ce1b3533d7260fb304c7efdaef8567a83d3dcd4an",5.0,3.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1039.0,17.0,1.5414583333333334,1.0,1.6487363157183403,1.0,None,False,,
6f140f82b98ea37ea659a88e1f6e0005dc833df0,a58820cd77f6c6577b6f34cb61bc5f109fc27a29,svcscm,svcscm@fb.com,Fri Jul 26 11:31:56 2019 -0700,1564165916,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c182c430f7bf0a66ae5a034e05efbd5bfc7baee1n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,451.0,0.7189467592592592,1175.0,2.3909235796963797,1175.0,None,False,,
a58820cd77f6c6577b6f34cb61bc5f109fc27a29,29067de449dd892a268f37096e86fed03e04cf31,Matt Glazar,strager@fb.com,Fri Jul 26 14:16:11 2019 -0700,1564175771,"Fix flake8 with Python 2.7Summary:nflake8 (in Python 2.7 mode) complains that `typing` is mentioned in type annotations but is not defined:nn```nfbcode_builder/getdeps/buildopts.py:251:21: F821 undefined name 'typing'nsubst_mapping,  # type: typing.Mapping[str, str]n^nfbcode_builder/getdeps/buildopts.py:253:5: F821 undefined name 'typing'n# type: (...) -> typing.Optional[str]n^n2 F821 undefined name 'typing'n2n```nnImport `typing` explicitly to silence this warning.nnBecause `typing` may be unavailable, import it conditionally. (Because it's only referenced in comments, failing to import `typing` should have no effect at run time.)nnReviewed By: snarkmasternnDifferential Revision: D16435696nnfbshipit-source-id: 78a4a7b07acc46aa998f02b54b1a6e52c1daafden",6.0,0.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,391.0,10.0,6.9530208333333325,114.0,1.1438223793614886,5.0,Corrective,True,,
29067de449dd892a268f37096e86fed03e04cf31,119f13687322d45ac35ee45078850e001abdcc13,svcscm,svcscm@fb.com,Fri Jul 26 14:29:11 2019 -0700,1564176551,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4fe98bbd2d56eb11e8617be864a23c34ddaaed62n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1182.0,0.4428703703703703,1177.0,2.853001834456393,1178.0,None,False,,
119f13687322d45ac35ee45078850e001abdcc13,b2138f0599e932b75d6ef82789fa49af1626ba70,svcscm,svcscm@fb.com,Fri Jul 26 15:33:51 2019 -0700,1564180431,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4221ce17aa65e59d5c710af9cba65addfc934f42n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1185.0,0.04490740740740742,1180.0,14.608247422680412,1181.0,None,False,,
b2138f0599e932b75d6ef82789fa49af1626ba70,0fa66b071ea3029c22f5e040ddaea88b8d18b11b,Adam Simpkins,simpkins@fb.com,Fri Jul 26 15:54:25 2019 -0700,1564181665,"unbreak `edenfsctl status`Summary:nD15528156 inadvertently changed the return type of the `getPid()` call fromn`i64` to `i32`.  This is a backwards-incompatible change, and causes newnclients to reject the 64-bit response from older EdenFS daemons.  This breaksn`edenfsctl status`, `edenfsctl clone` and other commands.nnReviewed By: pkaushnnDifferential Revision: D16522765nnfbshipit-source-id: eecd344ee4b963d638576f146a87fc88a5003e55n",1.0,1.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1041.0,18.0,0.2434606481481481,44.0,5.107439980984075,6.0,None,False,,
0fa66b071ea3029c22f5e040ddaea88b8d18b11b,23e3dcca7bafc963758608f679e5a9b562c9254d,svcscm,svcscm@fb.com,Sat Jul 27 16:02:13 2019 -0700,1564268533,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a3a5f93f3ad67151dfcf750f08e6c5a4e4d4ebc5n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,734.0,1.0196990740740741,1182.5,1.7355111121200428,1183.0,None,False,,
23e3dcca7bafc963758608f679e5a9b562c9254d,bc8e696dfe887dbb13843bdefec5d32da8effa4a,svcscm,svcscm@fb.com,Sat Jul 27 18:55:10 2019 -0700,1564278910,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 9421c986d4a293f34d96d41a32e0429b8f429492n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1190.0,0.4600038580246914,1185.0,4.28148217830017,1186.0,None,False,,
bc8e696dfe887dbb13843bdefec5d32da8effa4a,a8d39221a4d1bea608ff98a51a2a483cd67d73a9,svcscm,svcscm@fb.com,Sun Jul 28 17:01:55 2019 -0700,1564358515,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e388ac74dd9df352e8d3ab593016c23c386ec2cen,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,738.0,0.9213541666666668,1187.5,1.814019219898248,1188.0,None,False,,
a8d39221a4d1bea608ff98a51a2a483cd67d73a9,234fbc3379c59c046533510f9b283160407049d2,svcscm,svcscm@fb.com,Sun Jul 28 19:52:38 2019 -0700,1564368758,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 736515bb7c9b5445cddb4eee72944c64e6fd10cbn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,337.0,0.11855324074074075,1189.0,9.435028800156203,1189.0,None,False,,
234fbc3379c59c046533510f9b283160407049d2,65830f0c04fda777d8d8e82954170aca759d7d96,svcscm,svcscm@fb.com,Mon Jul 29 16:35:43 2019 -0700,1564443343,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 05d607f653a0c8ab69488261f71a49ee1c90f3d0n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,455.0,1.9031597222222223,1190.0,1.525441973326522,1190.0,None,False,,
65830f0c04fda777d8d8e82954170aca759d7d96,8e3463dd66664328004bbf16e2f11aa75691e78b,svcscm,svcscm@fb.com,Mon Jul 29 17:11:39 2019 -0700,1564445499,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 331e9ff22b3cd77187cbfd27cec22f575e4d318dn,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,403.0,1.0067592592592594,1191.0,1.9932861215855788,1191.0,None,False,,
8e3463dd66664328004bbf16e2f11aa75691e78b,f243a4beb381a819843fb1f5251280fff66673cd,svcscm,svcscm@fb.com,Mon Jul 29 17:53:30 2019 -0700,1564448010,Updating submodulesReviewed By: zpaonnfbshipit-source-id: b421f9e8d64a555b90fea8a43c9ffd3121fa4150n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,338.0,0.9172685185185184,1192.0,2.0901933074244186,1192.0,None,False,,
f243a4beb381a819843fb1f5251280fff66673cd,25e4163f3fb109958f786fb3d65d4bbb4b65a677,svcscm,svcscm@fb.com,Tue Jul 30 15:51:53 2019 -0700,1564527113,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c554e2408eacd3fc8f725f89f9240161da8b7aaan,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,795.0,0.9425520833333334,1193.5,1.8113607408747767,1194.0,None,False,,
25e4163f3fb109958f786fb3d65d4bbb4b65a677,efef068c458434268d01ab83e4610e6fe8481410,Chad Austin,chadaustin@fb.com,Tue Jul 30 16:45:01 2019 -0700,1564530301,"improve failure message when python bser is imported in testsSummary:nTo help debug why the Python bser implementation is imported in tests,ninclude sys.path in the failure message.nnReviewed By: stragernnDifferential Revision: D16544223nnfbshipit-source-id: 9ad5be74f0c6f29eafd60ed1f70229d03a2ad26en",3.0,2.0,"python/tests/tests.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,413.0,39.0,185.76412037037042,13.0,1.0053831708620924,0.0,Corrective,True,,
efef068c458434268d01ab83e4610e6fe8481410,f5e4e7da2c8f3d3ea1d01dba806a272f66be618c,Jake Crouch,jakecrouch@fb.com,Tue Jul 30 22:02:05 2019 -0700,1564549325,"Add debug command to flush JournalSummary:nAdds a debug command to eden such that users can flush the journal and cause the subscribers to get a truncated result, this will be useful for debugging [to debug we won't have to lower the memory limit and repeatedly touching files to fill up the journal].nnCan be used with eden debug flush_journalnnReviewed By: chadaustinnnDifferential Revision: D16348811nnfbshipit-source-id: fdbe6729d0393c424addcd42a091de440383035bn",6.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1041.0,19.0,4.255324074074074,9.0,1.234999728009574,5.0,Corrective,True,,
f5e4e7da2c8f3d3ea1d01dba806a272f66be618c,315370dcc053ce2e5ca804fac89ff00516cfc651,svcscm,svcscm@fb.com,Tue Jul 30 22:16:07 2019 -0700,1564550167,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 0a281b8a94f82ef2fb14855049957eaa908d44b1n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,744.0,0.7391319444444444,1195.5,3.2120959722388296,1196.0,None,False,,
315370dcc053ce2e5ca804fac89ff00516cfc651,a06a8d37d53c41be40c7619ef766c370cff1965d,Alexey Spiridonov,lesha@fb.com,Tue Jul 30 22:57:14 2019 -0700,1564552634,"Fix gmock handling in rsocket opensource buildSummary:nSimply linking `GMOCK_LIBS` into a binary was not telling CMake that the binary depends on `gmock` being built. So, let's add that dependency explicitly.nnThis wasn't breaking in production because we typically build with `-j 4`, and `gmock` was getting built before the first dependent binary would attempt to link.nnAlso, since `rsocket` bundles its own `gmock`, it is just a waste of time to compile a system-level gmock. It's not a real dependency.nnNB: The change in `fbcode_builder.py` is needed because now that `rsocket` no longer depends on anything on Github, driver programs that were unconditionally setting `projects_dir` started to fail to build `rsocket`.nnReviewed By: simpkinsnnDifferential Revision: D16461572nnfbshipit-source-id: 1e95654e96256e7ed37d42e702b5433bf2fe5328n",9.0,5.0,"build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER,build/fbcode_builder/specs/rsocket.py,CAS_DELIMITER",2.0,1.0,2.0,0.5916727785823275,2.0,203.0,9.0,133.87673611111111,1.5,1.0080115309765545,1.0,Corrective,True,,
a06a8d37d53c41be40c7619ef766c370cff1965d,ca75257d0ba9d082ed3e311a27aeff142aeff36e,svcscm,svcscm@fb.com,Tue Jul 30 23:24:21 2019 -0700,1564554261,Updating submodulesReviewed By: zpaonnfbshipit-source-id: d5c23427307435cb266a7779c67ba5bebf2de368n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,341.0,0.04738425925925927,1197.0,22.104054714215927,1197.0,None,False,,
ca75257d0ba9d082ed3e311a27aeff142aeff36e,01450b12a2625ded6e8fac3ccb2d8213c2711539,svcscm,svcscm@fb.com,Wed Jul 31 12:00:46 2019 -0700,1564599646,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e91b916a95b8325fc9ed232af449107626b70b51n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1204.0,0.6458217592592592,1199.0,2.0508545084721885,1200.0,None,False,,
01450b12a2625ded6e8fac3ccb2d8213c2711539,fc897d1facd149fa5636b090457f44802e7a9646,John Strizich,striz@fb.com,Wed Jul 31 12:35:36 2019 -0700,1564601736,move CmakeLists to tldSummary: bring this in line with other facebook opensource projectsnnReviewed By: saifhhasannnDifferential Revision: D16577367nnfbshipit-source-id: d762658505f824cc180c55ea4485cecf525b8fdcn,1.0,0.0,"build/fbcode_builder/manifests/fbzmq,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,24.0,1.0,51.16201388888889,1.0,1.0195457513101762,1.0,None,False,,
fc897d1facd149fa5636b090457f44802e7a9646,a7d10abf462ed31d6cc105f3da6042533d9b6c4c,Jeff Hemphill,jhemphill@fb.com,Wed Jul 31 13:50:00 2019 -0700,1564606200,"Use folly::KeepAlive in Watchman CppClientSummary:nFrom the docblock in https://github.com/facebook/folly/blob/master/folly/Executor.h#L57-L69:nn```n  /**n   * Executor::KeepAlive is a safe pointer to an Executor.n   * For any Executor that supports KeepAlive functionality, Executor'sn   * destructor will block until all the KeepAlive objects associated with thatn   * Executor are destroyed.n   * For Executors that don't support the KeepAlive funcionality, KeepAliven   * doesn't provide such protection.n   *n   * KeepAlive should *always* be used instead of Executor*. KeepAlive can ben   * implicitly constructed from Executor*. getKeepAliveToken() helper methodn   * can be used to construct a KeepAlive in templated code if you need ton   * preserve the original Executor type.n   */n```nnThis allows us to remove the `SCOPE_EXIT` macro from the integration test as well, as objects are now freed in the right order without manual intervention.nnReviewed By: chadaustinnnDifferential Revision: D16556761nnfbshipit-source-id: b63a74de92e02dbcbb399a835f04ffc032d7f17bn",5.0,11.0,"cppclient/WatchmanClient.h,CAS_DELIMITER,cppclient/WatchmanConnection.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.h,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.9056390622295665,29.0,238.5,29.0,73.41950810185185,10.5,1.0054092230023357,3.0,None,False,,
a7d10abf462ed31d6cc105f3da6042533d9b6c4c,a4e4a0039f8cfafff0de2b22f66558ab1c49bd92,svcscm,svcscm@fb.com,Wed Jul 31 14:01:52 2019 -0700,1564606912,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 933432072b524aa78df5b97f9b6b04c80cb465fen,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1207.0,0.08409722222222223,1202.0,8.266721717588768,1203.0,None,False,,
a4e4a0039f8cfafff0de2b22f66558ab1c49bd92,5b40035bc267beb1e1e2c67bb82d6b3ec6bfdf6a,svcscm,svcscm@fb.com,Wed Jul 31 18:26:30 2019 -0700,1564622790,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7ce7d9ff0f2fe34e1f41f2a13148e42100291557n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1210.0,0.18377314814814816,1205.0,4.325355838266784,1206.0,None,False,,
5b40035bc267beb1e1e2c67bb82d6b3ec6bfdf6a,a7a00e7ed0a1d288b1ab9c69d9c544d337bb1644,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:06:21 2019 -0700,1564628781,"fix handling of errors that occur early during mount initializationSummary:nUpdate `EdenServer::mount()` to correctly handle errors that occur during thenmount `INITIALIZING` phase.  Previously the code did not add error callbacksnto the `Future` result to handle errors during initialization.  As a result wenwould propagate the exception back to the thrift caller, but the `EdenMount`nobject would remain in our mount point list, stuck forever in then`INITIALIZING` state.nnReviewed By: stragernnDifferential Revision: D16590032nnfbshipit-source-id: 9adbdf05441dad815096b195ece36f3d958c96a9n",7.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1047.0,20.0,0.9196296296296296,45.0,2.0873942811115587,7.0,Corrective,True,,
a7a00e7ed0a1d288b1ab9c69d9c544d337bb1644,a17dbf85e02f324b90a83e8c8876d3b445853df9,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,"fail if unknown variables are used in a manifestSummary:nCheck that all variable names are valid when loading manifest files.nThis ensures that getdeps.py will error out if someone makes a typo in anvariable name, rather than treating it as never equal to anything.nnReviewed By: pkaushnnDifferential Revision: D16477397nnfbshipit-source-id: 030e0642ff4a08db8eb74a0a0223e03d53e4880fn",31.0,16.0,"build/fbcode_builder/getdeps/expr.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/expr_test.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER",4.0,1.0,2.0,1.8041451108364768,4.0,212.25,26.0,48.29617476851853,47.5,1.00803023783281,10.0,Corrective,True,,
a17dbf85e02f324b90a83e8c8876d3b445853df9,af5920b0b90dbd1671f38192a4d048dbf5c24524,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,"add a ManifestContext and ContextGenerator classSummary:nAdd a ContextGenerator class so that we actually use the correct per-projectncontext when loading projects and computing dependencies.nnPreviously commands like `build` and `test` would change the contexts for eachnproject as they iterated through and performed the build.  However, they didnnot do this when first loading the projects.  This could cause them to usendifferent context values when loading dependencies than when performing thenbuild.  For instance, this could cause issues if a project depends onn`googletest` only when testing is enabled, as the code previously did not setnthe test parameter when evaluating dependencies.nnReviewed By: pkaushnnDifferential Revision: D16477396nnfbshipit-source-id: c1e055f07de1cb960861d19594e3bda20a2ccd87n",113.0,53.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/platform.py,CAS_DELIMITER",5.0,1.0,2.0,1.8911990223598767,32.0,318.8,59.0,34.943018518518514,52.0,1.0444015988671589,15.0,Feature Addition,False,,
af5920b0b90dbd1671f38192a4d048dbf5c24524,461427fe9288591c5ba778a1b04a885abc12444f,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,use the correct project-specific context when computing hashesSummary:nUpdate `BuildOpts.compute_dirs()` to use the correct project-specific manifestncontext when computing project hashes.  Previously it was incorrectly usingnthe initial project's context when evaluating all dependencies.  This wouldnresult in some projects potentially seeing the wrong values for variables thatnmay change from project to project (like `test`).nnReviewed By: pkaushnnDifferential Revision: D16477398nnfbshipit-source-id: 6c23f5e5e19b2402000a138b3920b79044446041n,9.0,8.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",2.0,1.0,2.0,0.9975025463691152,32.0,473.0,34.0,0.0,55.5,0.0,17.0,None,False,,
461427fe9288591c5ba778a1b04a885abc12444f,775ef87a337fd3aeae95812e7e7c4db489431126,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,"add a new ManifestLoader classSummary:nAdd a new ManifestLoader class to handle loading manifests and computingndependencies.nnFor now the main thing this class does is maintain the `manifest_by_name`nmapping.  In subsequent diffs we should be able to move some additional logicninto this class, which will help clean up the code and eliminate some redudantnwork.  In particular, we can have this class cache project hashes, which willnavoid re-computing hashes over and over again for the same projects as we donin many cases today.  We should also be able to save and re-use some of thenproject dependency ordering computation in some cases as well.nnReviewed By: stragernnDifferential Revision: D16477400nnfbshipit-source-id: f06f62f77d8443fccaa69fe4c1306e39c395b325n",142.0,101.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",2.0,1.0,2.0,0.8867541752591496,32.0,339.5,27.0,0.0,57.5,0.0,19.0,Feature Addition,False,,
775ef87a337fd3aeae95812e7e7c4db489431126,b9cf6f615bc197c076b19edf460d2f84bb5fc2e9,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,"add a create_fetcher() method to ManifestLoaderSummary:nThe ManifestLoader contains all of the state needed to create a fetchernobject, so define a helper method on this object to create a fetcher.nnReviewed By: stragernnDifferential Revision: D16477395nnfbshipit-source-id: 6de0942fe6b8de26c18c82bf99343f5467dc006an",22.0,22.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",3.0,1.0,2.0,1.2406705316766886,32.0,379.33333333333326,42.0,0.0,60.0,0.0,22.0,Feature Addition,False,,
b9cf6f615bc197c076b19edf460d2f84bb5fc2e9,06a1aa7551c237d44d85f6999831f373616d448c,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,"move project hash computation to ManifestLoaderSummary:nMove code that computes project hashes to ManifestLoader.  ManifestLoader isnthe only class that has all of the information necessary to compute thenproject hashes correctly.  The ManifestLoader object can also cache previouslyncomputed hashes, so that we don't have to keep computing hashes for projectsnover and over again.  Previously the `BuildOptions.compute_dirs()` functionnwould end up re-computing hashes for all dependencies each time it was called.nnReviewed By: stragernnDifferential Revision: D16477401nnfbshipit-source-id: ce03642114f91ce4f859f612e6b2e747cf1653ben",86.0,91.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",3.0,1.0,2.0,1.4717474220527926,32.0,379.33333333333326,45.0,0.0,63.0,0.0,25.0,None,False,,
06a1aa7551c237d44d85f6999831f373616d448c,b8d9dbc8fd95afa68b9adf189e2fd5e6d5146e5e,Adam Simpkins,simpkins@fb.com,Wed Jul 31 20:53:07 2019 -0700,1564631587,"have CMakeBuilder emit a script to allow invoking CMake manuallySummary:nWhile developing on a project it is often convenient to be able to invoke itsnbuild manually, rather than always needing to re-run `getdeps.py`.  Thisnupdates the CMakeBuilder to also emit a script that can be used to manuallynrun CMake outside of `getdeps.py`.nnThe CMakeBuilder is the only builder that this really matters for right now,nas pretty much all of the projects where we do first-party development usenCMake for their build system.nnReviewed By: pkaushnnDifferential Revision: D16477399nnfbshipit-source-id: c8a14af158af7b32d6c799ef685b037e68b748ffn",110.0,14.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/envfuncs.py,CAS_DELIMITER",3.0,1.0,1.0,0.3619195953409466,32.0,387.33333333333326,40.0,8.152445987654321,66.0,1.068145873814664,28.0,None,False,,
b8d9dbc8fd95afa68b9adf189e2fd5e6d5146e5e,96a31c0cda618e2f8190c4e6f4ab03bb72393c0d,svcscm,svcscm@fb.com,Wed Jul 31 21:01:45 2019 -0700,1564632105,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 39c451a7b3095c30a28fa2dd338be0542951e690n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,345.0,0.1078125,1207.0,10.27536231884058,1207.0,None,False,,
96a31c0cda618e2f8190c4e6f4ab03bb72393c0d,ee8ae2176346416a6648541bd1aa6434965c1261,svcscm,svcscm@fb.com,Thu Aug 1 11:45:08 2019 -0700,1564685108,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 050a53e1bad2333e42daf3c6b5e03be7dc5893f2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1214.0,0.6853356481481482,1209.0,1.955229718637376,1210.0,None,False,,
ee8ae2176346416a6648541bd1aa6434965c1261,acd86d4f6568a9d8e026f8750377d3a768db9858,John Strizich,striz@fb.com,Thu Aug 1 13:09:20 2019 -0700,1564690160,add manifest for re2Summary: needed for openrnnReviewed By: simpkinsnnDifferential Revision: D16010070nnfbshipit-source-id: 6d485fa7e4e321e6cd23d9894b38c1ecc7574665n,10.0,0.0,"build/fbcode_builder/manifests/re2,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,2.0,0.0,2.0,Feature Addition,False,,
acd86d4f6568a9d8e026f8750377d3a768db9858,338ca67e6f46d217221ae555d80889aee7aa7ac2,Brian Strauch,brianstrauch@fb.com,Thu Aug 1 13:34:28 2019 -0700,1564691668,Record backing store imports with RequestDataSummary: Uses the existing RequestData class to make calls to static functions to set and get the `didImportFromBackingStore` flag.nnReviewed By: simpkinsnnDifferential Revision: D16461868nnfbshipit-source-id: e3ed39249f5dd1a842ad06a204b5933014b12f7fn,8.0,7.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1054.0,21.0,0.7278587962962964,2.0,2.373892855439121,2.0,None,False,,
338ca67e6f46d217221ae555d80889aee7aa7ac2,e5be5b51922b460db5fef74d2bbe1bdfd368a1b8,svcscm,svcscm@fb.com,Thu Aug 1 14:11:20 2019 -0700,1564693880,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e3ea07bd8fc3fb245b2fad7dff26933cfd5ab1edn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1217.0,0.10152777777777776,1212.0,7.019151846785227,1213.0,None,False,,
e5be5b51922b460db5fef74d2bbe1bdfd368a1b8,44fc65609cbe28fab9fe7169e933c39112cd2129,svcscm,svcscm@fb.com,Thu Aug 1 15:49:12 2019 -0700,1564699752,Updating submodulesReviewed By: zpaonnfbshipit-source-id: e03b0651494000c6394a847a9dc178cd2f258136n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,758.0,0.06796296296296296,1214.5,12.035422343324251,1215.0,None,False,,
44fc65609cbe28fab9fe7169e933c39112cd2129,fea0397d42503524d7a9c9de3faf0e13af3dc744,svcscm,svcscm@fb.com,Thu Aug 1 18:30:23 2019 -0700,1564709423,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 88f161fa1d1c52cea21f47cdc107ce12c638b9d4n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,349.0,0.11193287037037038,1216.0,9.93392617102678,1216.0,None,False,,
fea0397d42503524d7a9c9de3faf0e13af3dc744,5259748e52457883130eb2597c60a7696271282d,svcscm,svcscm@fb.com,Fri Aug 2 02:52:15 2019 -0700,1564739535,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 20835b06ba65c4d4289e811db9e890646b359637n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,812.0,0.4384664351851851,1217.5,3.0048130667167747,1218.0,None,False,,
5259748e52457883130eb2597c60a7696271282d,f2198c06cccd8d140ad056656009f608f8b32345,Brian Strauch,brianstrauch@fb.com,Fri Aug 2 09:40:15 2019 -0700,1564764015,Total FUSE access timeSummary: Record a rolling sum of the time taken by any FUSE call on a per-process basisnnReviewed By: stragernnDifferential Revision: D16553149nnfbshipit-source-id: 54f1e453916727a40f245b294239dc1b232a8967n,1.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1055.0,22.0,0.8373495370370371,3.0,2.194244405434918,3.0,None,False,,
f2198c06cccd8d140ad056656009f608f8b32345,91e30262a82aa385009c2ef20fc4116fa396d15a,svcscm,svcscm@fb.com,Fri Aug 2 13:27:33 2019 -0700,1564777653,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c7a80571238669f97a32fdc390ffd0dee8631cd8n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,814.0,0.4411805555555556,1219.5,2.6999842594050056,1220.0,None,False,,
91e30262a82aa385009c2ef20fc4116fa396d15a,052b52e41ff5bfb3fae14a97f9b7b03e7638c4da,svcscm,svcscm@fb.com,Fri Aug 2 15:38:04 2019 -0700,1564785484,Updating submodulesReviewed By: zpaonnfbshipit-source-id: ab041e3c578c2f0b542ee093830e2988de6126bbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1227.0,0.3911805555555556,1222.0,6.800577316528876,1223.0,None,False,,
052b52e41ff5bfb3fae14a97f9b7b03e7638c4da,9af08982e3fed87d3d797636568134a5359881ce,svcscm,svcscm@fb.com,Fri Aug 2 16:22:54 2019 -0700,1564788174,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 436df19ac1a4bf8e7090771b33f457b8b8dc7682n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,818.0,0.03113425925925926,1224.5,25.089219330855016,1225.0,None,False,,
9af08982e3fed87d3d797636568134a5359881ce,18464ffa37d4ada7d55a5ac6284724eef5258b24,svcscm,svcscm@fb.com,Sat Aug 3 14:52:54 2019 -0700,1564869174,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7806761cd6701805a7acedffa8ae6a543260fab5n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1232.0,0.947878086419753,1227.0,1.6505542214443674,1228.0,None,False,,
18464ffa37d4ada7d55a5ac6284724eef5258b24,f6df4685ce04104d4eafc5f1f028d0a313e6b21c,svcscm,svcscm@fb.com,Sun Aug 4 01:06:38 2019 -0700,1564905998,Updating submodulesReviewed By: zpaonnfbshipit-source-id: c335360154dbc64b0e1ddbe50503c67fceba85b9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1235.0,0.4262037037037037,1230.0,2.433847490766891,1231.0,None,False,,
f6df4685ce04104d4eafc5f1f028d0a313e6b21c,389f87d349845964c53e8bc3e915851495bdc32c,svcscm,svcscm@fb.com,Sun Aug 4 19:07:25 2019 -0700,1564970845,Updating submodulesReviewed By: zpaonnfbshipit-source-id: a3841e21c3ba1726d5961be16894daf13f44723cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,770.0,0.7505439814814815,1232.5,1.9992752170493624,1233.0,None,False,,
389f87d349845964c53e8bc3e915851495bdc32c,aa4be0617bd368665be4cb1fafaabdef10ea87f4,svcscm,svcscm@fb.com,Mon Aug 5 13:36:05 2019 -0700,1565037365,Updating submodulesReviewed By: yns88nnfbshipit-source-id: feb1b0318fa3292429459928d0dce1bb088a4aa5n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,357.0,0.7699074074074074,1234.0,2.2988574864702347,1234.0,None,False,,
aa4be0617bd368665be4cb1fafaabdef10ea87f4,840ac18de509cc73657cf7494c786c928a549273,svcscm,svcscm@fb.com,Mon Aug 5 16:31:58 2019 -0700,1565047918,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d86a9d51656213c4979cf7ce357bc6dba1558a97n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,468.0,1.6425925925925926,1235.0,1.6087936865839911,1235.0,None,False,,
840ac18de509cc73657cf7494c786c928a549273,b583e3dba1167ff3607d800331c50f43d57cfb51,svcscm,svcscm@fb.com,Mon Aug 5 20:18:52 2019 -0700,1565061532,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 382d8cfeba1a7d7d77afe8dada10953bb6690413n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1242.0,0.4956327160493828,1237.0,3.1781759637137412,1238.0,None,False,,
b583e3dba1167ff3607d800331c50f43d57cfb51,1be47f119c4c1b60f6e868f02f09db64d00983f7,svcscm,svcscm@fb.com,Tue Aug 6 15:44:07 2019 -0700,1565131447,Updating submodulesReviewed By: yns88nnfbshipit-source-id: bfd104b925d51044789802db92d1711cf33e9ca6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,359.0,0.8092013888888889,1239.0,2.2357863119502253,1239.0,None,False,,
1be47f119c4c1b60f6e868f02f09db64d00983f7,20a5f472ddff25340fa2e923389f14bc74f7ab70,svcscm,svcscm@fb.com,Wed Aug 7 11:12:02 2019 -0700,1565201522,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b3d84f6df7db1e400d6ca3c9597b069966328378n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1246.0,1.3505208333333334,1241.0,1.6303614339030232,1242.0,None,False,,
20a5f472ddff25340fa2e923389f14bc74f7ab70,46f2ad6d8850d8cd812b9b7b91490bb428a721a8,Adam Simpkins,simpkins@fb.com,Wed Aug 7 11:16:18 2019 -0700,1565201778,"rename the fb303_thrift_cpp2 build rule to fb303_thrift_cppSummary:nDrop the `2` from the `fb303_thrift_cpp2` rule name.nnThe old `cpp` version of fbthrift is gone, `cpp2` is the only supported C++nversion, so lets drop the `2` from this build rule name.nnI plan to change some of the CMake thrift rule generation code soon, tonsupport multiple languages (namely Python).  As part of this I plan tonautomatically add a language-specific suffix(`_py` or `_cpp`) to the buildnrules.  It seems better to use `_cpp` rather than `_cpp2` for C++ libraries.nChanging the name for this fb303 rule will make it fit this planned namingnscheme.nnReviewed By: chadaustinnnDifferential Revision: D16653264nnfbshipit-source-id: e4da70c79ff14e9981717ab909d982770d104512n",3.0,3.0,"CMakeLists.txt,CAS_DELIMITER,common/CMakeLists.txt,CAS_DELIMITER",2.0,2.0,2.0,0.9182958340544896,30.0,362.0,38.0,104.81627893518518,68.5,1.039172059519736,4.0,None,False,,
46f2ad6d8850d8cd812b9b7b91490bb428a721a8,95ea9c099f589898aae12db1882e51208bfe1977,svcscm,svcscm@fb.com,Wed Aug 7 12:18:23 2019 -0700,1565205503,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ab99c2a9f4ecd3098dbbdb7d2fa3c4e5fbab0904n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,832.0,0.04607638888888889,1243.5,17.277317256970612,1244.0,None,False,,
95ea9c099f589898aae12db1882e51208bfe1977,9ea87f2d748fe2dd038b0856914723130f2f82b6,svcscm,svcscm@fb.com,Thu Aug 8 11:50:24 2019 -0700,1565290224,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d555f46e52db5b1f040050ec6d11bc187f299bc1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1251.0,0.995925925925926,1246.0,1.6214746331920211,1247.0,None,False,,
9ea87f2d748fe2dd038b0856914723130f2f82b6,64f19248fd3763e25daf1fef53ee05dc394b5975,svcscm,svcscm@fb.com,Thu Aug 8 17:27:16 2019 -0700,1565310436,Updating submodulesReviewed By: yns88nnfbshipit-source-id: fc980e902f8b03b48d5801488987f32732fe426cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,781.0,0.2339351851851852,1248.5,4.206016227983376,1249.0,None,False,,
64f19248fd3763e25daf1fef53ee05dc394b5975,116d52139fec0c11c6275595c7222a9a1fd3a39d,Adam Simpkins,simpkins@fb.com,Fri Aug 9 11:17:35 2019 -0700,1565374655,"getdeps: make sure ManifestLoader never reloads manifestsSummary:nIn response to review feedback for D16477400 and D16477401, updaten`ManifestLoader.load_all_manifests()` to only update its data for projectsnthat have not previously been loaded.  This helps ensure that code using ansingle `ManifestLoader` object cannot have two in-memory `Manifest` objectsnfor the same project, and that existing data (such as project hashes) can't beninvalidated if a manifest is later loaded from updated on-disk data.nnReviewed By: pkaushnnDifferential Revision: D16586682nnfbshipit-source-id: 50b1979ec55f2ad6901629cd852293a8f6ca903fn",9.0,1.0,"build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,268.0,7.0,8.600324074074074,70.0,1.1162746881846617,29.0,None,False,,
116d52139fec0c11c6275595c7222a9a1fd3a39d,bb4aa0198e6343dd43d6c9b39fb42334b73fbc2c,svcscm,svcscm@fb.com,Fri Aug 9 12:58:30 2019 -0700,1565380710,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c525db5ec7c34f3cfa66530dad6d8b24077c94c8n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1256.0,0.89133487654321,1251.0,1.7136304205733506,1252.0,None,False,,
bb4aa0198e6343dd43d6c9b39fb42334b73fbc2c,329e43603d0cb64cbdc7ca82aec33b510e1005b8,svcscm,svcscm@fb.com,Fri Aug 9 18:22:35 2019 -0700,1565400155,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 3a83638eb994b41560ef2dd9b357078a237e429cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1259.0,0.2250578703703704,1254.0,3.7153509899717165,1255.0,None,False,,
329e43603d0cb64cbdc7ca82aec33b510e1005b8,259083d653460504fc239886019170ac977bdb6f,svcscm,svcscm@fb.com,Sat Aug 10 14:01:03 2019 -0700,1565470863,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e0619359256bac755e0f2b5351dd38beb94f7ed5n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,787.0,0.8183796296296296,1256.5,1.9164450981501384,1257.0,None,False,,
259083d653460504fc239886019170ac977bdb6f,8bf82bef79f6023cb84998b846d9d9c81af75870,svcscm,svcscm@fb.com,Sat Aug 10 23:36:43 2019 -0700,1565505403,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e81e5cec02db0d44779f6ff1879e32b7cb4aac23n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1264.0,0.6725617283950617,1259.0,2.2050479529282803,1260.0,None,False,,
8bf82bef79f6023cb84998b846d9d9c81af75870,a60ce7a838d0af72df57188bfbdfbe092a0273fc,svcscm,svcscm@fb.com,Sun Aug 11 23:43:09 2019 -0700,1565592189,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a9c2fdb1a03dde53b8b2be9d71a3a44a0ec77f5bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,791.0,1.0044675925925926,1261.5,1.7466642085128936,1262.0,None,False,,
a60ce7a838d0af72df57188bfbdfbe092a0273fc,4362916d7646b98f0c5177c8fcce77eb499aed73,svcscm,svcscm@fb.com,Mon Aug 12 11:41:55 2019 -0700,1565635315,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ab67038c3a545e3170097760f7be762c21d73175n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1269.0,0.833966049382716,1264.0,1.9674802069923851,1265.0,None,False,,
4362916d7646b98f0c5177c8fcce77eb499aed73,ca74763aa05704faeb7b969d7bd00018c597fab6,svcscm,svcscm@fb.com,Tue Aug 13 11:36:49 2019 -0700,1565721409,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 2b77081840a0d035ff5adb12ca3c6748632b9a45n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,795.0,0.9964583333333332,1266.5,1.752665690988919,1267.0,None,False,,
ca74763aa05704faeb7b969d7bd00018c597fab6,cb106ede07c8c44587f744002f6eed28068b667b,svcscm,svcscm@fb.com,Tue Aug 13 13:04:39 2019 -0700,1565726679,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7471bc5bf9df3e2f08351927ad03d182298f96a2n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,371.0,0.06099537037037037,1268.0,17.394686907020873,1268.0,None,False,,
cb106ede07c8c44587f744002f6eed28068b667b,f837081a2a4d9603bfbfd5d170054a5eecad557d,Adam Simpkins,simpkins@fb.com,Tue Aug 13 14:08:08 2019 -0700,1565730488,"getdeps: fix handling of the --host-type command line flagSummary:nFix the BuildOptions class to correctly honor the `host_type` parameter thatnit was constructed with when constructing the manifest evaluation context.nI accidentally broke this behavior in D16477396, and incorrectly had this codenpath default to using the current host system rather than the value passed innfrom the command line.nnReviewed By: weznnDifferential Revision: D16779579nnfbshipit-source-id: de911daaa643f6303fd35149775ab25d3f64d34fn",1.0,1.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,346.0,16.0,12.718761574074076,71.0,1.0786240070761606,30.0,None,False,,
f837081a2a4d9603bfbfd5d170054a5eecad557d,b0caf7ca959776d9e33f8f012464a898c82fca10,svcscm,svcscm@fb.com,Tue Aug 13 14:35:45 2019 -0700,1565732145,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 62dc21b9ccbc77b59ce2881ce82b5e5dc105b511n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1275.0,0.4360802469135802,1270.0,6.80526627321023,1271.0,None,False,,
b0caf7ca959776d9e33f8f012464a898c82fca10,a91aff986cbbf155b6013bd693550f1e3d7df768,svcscm,svcscm@fb.com,Wed Aug 14 13:27:15 2019 -0700,1565814435,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 559f1bf10ad130b2139dbf3f9fa06dafed658365n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1278.0,0.9524305555555556,1273.0,1.6416332482683196,1274.0,None,False,,
a91aff986cbbf155b6013bd693550f1e3d7df768,8c054f7b2a2f5e4984f54ffd22a50c81cf2e4f89,svcscm,svcscm@fb.com,Wed Aug 14 19:28:38 2019 -0700,1565836118,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 731dc637a4f543f912bf7a55051c8163f21e97c6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1281.0,0.25096064814814817,1276.0,3.4350873956555823,1277.0,None,False,,
8c054f7b2a2f5e4984f54ffd22a50c81cf2e4f89,76bc673a7f3d10d37e0d7a33d9110aa5405c8f7f,svcscm,svcscm@fb.com,Wed Aug 14 23:52:58 2019 -0700,1565851978,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f6ffa442b1541648352985c520155ee1a15926can,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,480.0,0.1835648148148148,1278.0,6.447667087011349,1278.0,None,False,,
76bc673a7f3d10d37e0d7a33d9110aa5405c8f7f,d689c0b35ba4733555a14d0ec1f8b61583cc6d7f,svcscm,svcscm@fb.com,Thu Aug 15 14:35:43 2019 -0700,1565904943,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: a9887337afc578680e3c6a43afd51246caca685en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1285.0,0.7353973765432098,1280.0,1.8060151072064368,1281.0,None,False,,
d689c0b35ba4733555a14d0ec1f8b61583cc6d7f,6f5675e0e9f4380cde1ca529b4e49e58b24e56f2,Adam Simpkins,simpkins@fb.com,Thu Aug 15 17:53:32 2019 -0700,1565916812,"getdeps: consolidate code for project subcommandsSummary:nMost of the getdeps subcommands operate on a single project, and some of thenargument parsing and initial logic to load the project is largely the same.nThis consolidates that logic into a base class so that we can share this codenacross subcommands, instead of repeating it.nnThis also unifies the behavior so that by default all commands enable tests onnthe specified project, and disable test on dependent projects.  Making surenall commands use the same behavior here is important as whether are not testsnare enabled can affect the project configuration, and therefore affect itsngetdeps hash.nnReviewed By: weznnDifferential Revision: D16778010nnfbshipit-source-id: 044f99ad6cdd4a56f843276cec8ead786249ee7an",70.0,145.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,519.0,26.0,14.875289351851851,72.0,1.0672255830691124,31.0,None,False,,
6f5675e0e9f4380cde1ca529b4e49e58b24e56f2,888b28cbdb73029baa258ec3fc69550a149e2c18,Adam Simpkins,simpkins@fb.com,Thu Aug 15 17:53:32 2019 -0700,1565916812,"getdeps: fix a crash if the project_hashes directory does not existSummary:nThis makes getdeps.py no longer crash if used in the folly repository.nFolly does not depend on any other Facebook projects, so it does notninclude a `build/deps` directory.nnReviewed By: weznnDifferential Revision: D16778009nnfbshipit-source-id: 41be53d862f41b62154b081eb90ddba8742658fen",1.0,1.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,675.0,10.0,71.10957175925925,73.0,1.0140628044194315,32.0,None,False,,
888b28cbdb73029baa258ec3fc69550a149e2c18,e41af6c7762a6c70ede6bc844085a50bf7a04144,Adam Simpkins,simpkins@fb.com,Thu Aug 15 17:53:32 2019 -0700,1565916812,"getdeps: allow overriding project source, build, and install directoriesSummary:nAdd arguments to getdeps.py to allow overriding the source, build, and installndirectories a per-project basis.  The arguments take the form `[PROJECT:]PATH`nIf the `PROJECT` portion is omitted, it defaults to the current project beingnbuilt.nnIn particular this makes it possible to specify `--src-dir .` to tellngetdeps.py to find the project sources from the current directory rather thanndownloading them.nnReviewed By: weznnDifferential Revision: D16778011nnfbshipit-source-id: f33b87213ace04abb66334f588babdf59df91964n",104.0,0.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",3.0,1.0,2.0,1.4157194628097076,32.0,465.0,46.0,2.0916550925925925,75.0,0.3864544772086314,35.0,None,False,,
e41af6c7762a6c70ede6bc844085a50bf7a04144,aaf7a822e8b4bb8603ac988dd4ff07971b4a7f7a,Adam Simpkins,simpkins@fb.com,Thu Aug 15 17:53:32 2019 -0700,1565916812,"getdeps: honor INSTALL_DIR correctly in the generated run_cmake.py scriptSummary:nThis cleans up how the `CMAKE_ENV` and `CMAKE_DEFINE_ARGS` variables arenwritten in the generated `run_cmake.py` script that we emit for CMake-basednprojects.nnWe now emit each entry in these variables on separate lines, just to improvenreadability.  (Both of these variables tend to have a number of entries andnare very long if emitted on a single line.)nnThis also replaces the `-DCMAKE_INSTALL_PREFIX` entry in `CMAKE_DEFINE_ARGS`nto have it correctly honor the `INSTALL_DIR` variable defined inn`run_cmake.py`.  This makes `run_cmake.py` still do the right thing if someonenmanually edits it to change the `INSTALL_DIR` value.nnReviewed By: weznnDifferential Revision: D16778006nnfbshipit-source-id: fee5d25748b87b5d9c57ee2edf8de5e586e872een",19.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,718.0,24.0,14.875289351851851,77.0,1.0672255830691124,36.0,None,False,,
aaf7a822e8b4bb8603ac988dd4ff07971b4a7f7a,c86827afffaba586fe3a544c19b59c2a112028c4,Adam Simpkins,simpkins@fb.com,Thu Aug 15 17:53:32 2019 -0700,1565916812,getdeps: distinguish build vs install steps in run_cmake.pySummary:nUpdate the generated `run_cmake.py` script to allow the caller to specify thatnthey just want to run a build without the install step.nnReviewed By: weznnDifferential Revision: D16778007nnfbshipit-source-id: 1859aca2b80fa7b099b4790682a6508e0185f2a0n,24.0,5.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,735.0,25.0,0.0,78.0,0.0,37.0,None,False,,
c86827afffaba586fe3a544c19b59c2a112028c4,7c5b1337b2ee475efa0d3720fcc7eae63b1ee950,svcscm,svcscm@fb.com,Thu Aug 15 18:35:45 2019 -0700,1565919345,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e757c7a80edc58430b7019c7e1ecbc20e278ceebn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1288.0,0.16668981481481482,1283.0,4.666157478128038,1284.0,None,False,,
7c5b1337b2ee475efa0d3720fcc7eae63b1ee950,9d3f70516a033b2585649ffe043781c719b94d9e,svcscm,svcscm@fb.com,Fri Aug 16 18:11:05 2019 -0700,1566004265,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: db4295df02abcf7699c45a48b01154e32ad04d5fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1291.0,0.9828703703703704,1286.0,1.6217616580310878,1287.0,None,False,,
9d3f70516a033b2585649ffe043781c719b94d9e,75957cc1664181feef122248d2c3fe438a22f769,svcscm,svcscm@fb.com,Sat Aug 17 15:53:40 2019 -0700,1566082420,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 46e10115c52ac820d5911250c4390c04b4bb4b12n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1294.0,0.9045717592592591,1289.0,1.6755805770584091,1290.0,None,False,,
75957cc1664181feef122248d2c3fe438a22f769,2eebc8e2654a1419584071c020b71ec54a00db29,svcscm,svcscm@fb.com,Sat Aug 17 20:46:03 2019 -0700,1566099963,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b55f9f0d6de2b271429356137816dfcbfd4d115an,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,433.0,0.20304398148148148,1291.0,5.925041327025022,1291.0,None,False,,
2eebc8e2654a1419584071c020b71ec54a00db29,431de68ef5260a0c9974e3bf95744142da10ef00,svcscm,svcscm@fb.com,Sun Aug 18 17:40:26 2019 -0700,1566175226,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: cb38593cd3436cd23d161d03c07983313728c47an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1298.0,1.0064621913580247,1293.0,1.575884845275595,1294.0,None,False,,
431de68ef5260a0c9974e3bf95744142da10ef00,75d2ee3140cfefc7c864edf2d87ac45b56093127,svcscm,svcscm@fb.com,Mon Aug 19 10:25:41 2019 -0700,1566235541,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 306d2a6f53cd045bd821a0d4e90e84e1a0179ca2n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,866.0,0.6980902777777778,1295.5,2.074359612036807,1296.0,None,False,,
75d2ee3140cfefc7c864edf2d87ac45b56093127,7acffd5f620d7e57e229d12eec680d920b1144a0,Adam Simpkins,simpkins@fb.com,Mon Aug 19 11:06:17 2019 -0700,1566237977,"fbcode_builder: CMake functions for building standalone python programsSummary:nAdd some CMake functions for building standalone executables from Pythonnsource files.  This generates executables similar to PEXn(https://github.com/pantsbuild/pex).nnIn the future this could potentially be leveraged to directly build XAR filesn(https://github.com/facebookincubator/xar).nnThe main advantages of these functions is that they allow easily definingnlibraries of python files, and their dependencies, which can then be usednand packaged as part of multiple different standalone executables.nnReviewed By: weznnDifferential Revision: D16722499nnfbshipit-source-id: e1d829b911dc428e5438b5cf9cebf99b3fb6ce24n",875.0,0.0,"build/fbcode_builder/CMake/FBCMakeParseArgs.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/make_fbpy_archive.py,CAS_DELIMITER",3.0,1.0,1.0,1.4686912738940163,1.0,0.0,0.0,0.0,80.0,0.0,40.0,None,False,,
7acffd5f620d7e57e229d12eec680d920b1144a0,745dc531e7d108e2daaea935e6e16398e17eb721,svcscm,svcscm@fb.com,Mon Aug 19 11:41:21 2019 -0700,1566240081,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 083264d2b5f45df19d40bb87b7bb66285c36c8a6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1303.0,0.2852430555555556,1298.0,10.904949847303069,1299.0,None,False,,
745dc531e7d108e2daaea935e6e16398e17eb721,cf7bd012f70222c78fafbe1e4ad675e87775b900,svcscm,svcscm@fb.com,Mon Aug 19 16:35:02 2019 -0700,1566257702,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 2ab340da3d83e6031a70099de61be188a59c0259n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1306.0,0.20394675925925929,1301.0,3.9964247205039434,1302.0,None,False,,
cf7bd012f70222c78fafbe1e4ad675e87775b900,db48665a4f84b393e8292e67765a5efec2d85f96,svcscm,svcscm@fb.com,Tue Aug 20 09:48:21 2019 -0700,1566319701,Updating submodulesReviewed By: zpaonnfbshipit-source-id: d7788cb91160f1fddff2b8df7e178c7ef1548636n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,489.0,0.7175810185185185,1303.0,2.393570864046194,1303.0,None,False,,
db48665a4f84b393e8292e67765a5efec2d85f96,e3542fe14e8ca66f9edb7f3b97803e42d6d802eb,svcscm,svcscm@fb.com,Tue Aug 20 13:58:05 2019 -0700,1566334685,Updating submodulesReviewed By: zpaonnfbshipit-source-id: dd95d921c8b2a7242580c813a4c7d5074d3af9f3n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1310.0,0.6518132716049382,1305.0,1.857729009818564,1306.0,None,False,,
e3542fe14e8ca66f9edb7f3b97803e42d6d802eb,3a1b9dacc8f75834e09087ccecd91664a02627de,Wez Furlong,wez@fb.com,Tue Aug 20 15:41:14 2019 -0700,1566340874,getdeps: fixup testpilot new test recordingSummary:nIn the Facebook infrastructure the testpilot runner talksnto a service to determine whether a given test should be run locally.nnThe remote service was returning an error for some tests because theyndidn't have enough configuration specified.nnThis diff associates some configuration with the tests based on thenhost type and makes things happier.nnReviewed By: Ben0megannDifferential Revision: D16894682nnfbshipit-source-id: b6f59b112991160ef26cc126e98041d8908a6273n,4.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,754.0,26.0,4.908125,6588.0,1.2037437921813319,190.0,None,False,,
3a1b9dacc8f75834e09087ccecd91664a02627de,871262a65bbbd0839f3bad3907ed91c63a9707d8,svcscm,svcscm@fb.com,Tue Aug 20 16:01:21 2019 -0700,1566342081,Updating submodulesReviewed By: zpaonnfbshipit-source-id: f684cffe7928485da7d9c977720ec78b70e33d82n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,384.0,0.08560185185185185,1307.0,12.681990265008116,1307.0,None,False,,
871262a65bbbd0839f3bad3907ed91c63a9707d8,b55286116fdf2c15e371cdca889d6c30b0fff7eb,svcscm,svcscm@fb.com,Wed Aug 21 09:17:05 2019 -0700,1566404225,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 49d96e515f94bb383f58748eca6fdcc7ac913193n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1314.0,0.7763271604938272,1309.0,1.8252692190788185,1310.0,None,False,,
b55286116fdf2c15e371cdca889d6c30b0fff7eb,ecbe602b64ab6c1f179ad5059483aa76e5181727,Luca Niccolini,lniccolini@fb.com,Wed Aug 21 10:55:24 2019 -0700,1566410124,do not build proxygen and mvfst for Windows (yet)Summary:ndoes not affect the github build.nthis is for fb CInnReviewed By: dddmellonnDifferential Revision: D16935982nnfbshipit-source-id: 61656fa600f19438b5aa89486486ed4ee103dea4n,6.0,0.0,"build/fbcode_builder/manifests/mvfst,CAS_DELIMITER,build/fbcode_builder/manifests/proxygen,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,24.5,2.0,50.062314814814826,7.5,1.0149813288253713,8.0,None,False,,
ecbe602b64ab6c1f179ad5059483aa76e5181727,59d58998ef21f619c1e432f187bfdbded07caaec,svcscm,svcscm@fb.com,Wed Aug 21 11:18:57 2019 -0700,1566411537,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 80fc0e60f538ca79d31c3152db76cbb9aff10831n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1317.0,0.08462962962962962,1312.0,8.221006564551423,1313.0,None,False,,
59d58998ef21f619c1e432f187bfdbded07caaec,001de4b2d19a40ea9e07f5fbe8453d58269c89b1,svcscm,svcscm@fb.com,Wed Aug 21 13:58:47 2019 -0700,1566421127,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 33f119a97529f4777aee6378082253a6a956f8e9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1320.0,0.11099537037037037,1315.0,6.505735140771638,1316.0,None,False,,
001de4b2d19a40ea9e07f5fbe8453d58269c89b1,9c5486de27333535d7ab158ac40a3bb78f37d86e,svcscm,svcscm@fb.com,Wed Aug 21 17:56:26 2019 -0700,1566435386,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 44bb6391719c0472774333328654f0711e8602fbn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,494.0,0.16503472222222226,1317.0,7.0593309488743925,1317.0,None,False,,
9c5486de27333535d7ab158ac40a3bb78f37d86e,00e8cd91a4c3c7d6548e956f8f26adb9c2d395f4,Wez Furlong,wez@fb.com,Wed Aug 21 20:27:37 2019 -0700,1566444457,"watchman: only enable eden support for FB internal buildsSummary:nThis simplifies things for the OSS CI situation innthe short term, especially since Eden isn't quite buildablenor usable outside FB at this time.nnReviewed By: chadaustinnnDifferential Revision: D16953346nnfbshipit-source-id: 028150bb3cfc9a8ccbe1197321214b56ad359463n",1.0,1.0,"build/fbcode_builder/manifests/watchman,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,36.0,5.0,27.974641203703705,6589.0,1.0357466604385834,191.0,None,False,,
00e8cd91a4c3c7d6548e956f8f26adb9c2d395f4,af1b75d140f7516a7d238b8ae62ad5fc0a7d6900,svcscm,svcscm@fb.com,Wed Aug 21 20:59:53 2019 -0700,1566446393,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 6b3c29d46cdad8cf58d11b6f0911ccda39c7f214n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1324.0,0.2374189814814815,1319.0,3.4018466621014865,1320.0,None,False,,
af1b75d140f7516a7d238b8ae62ad5fc0a7d6900,fb3ddca3f43d80a4503ed74c0dea5e4999c2b2db,svcscm,svcscm@fb.com,Thu Aug 22 19:16:48 2019 -0700,1566526608,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7d4efa5cfab76c438f4fb66e5bb47be6d756f977n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1327.0,0.9284143518518518,1322.0,1.6582310041762758,1323.0,None,False,,
fb3ddca3f43d80a4503ed74c0dea5e4999c2b2db,d02dd4604fbe550de4a6cfc1f9dfc9fc56e56c2c,svcscm,svcscm@fb.com,Fri Aug 23 19:12:30 2019 -0700,1566612750,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 9c9fecb183b8e08efa0a6cfdde455abd78dbadddn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1330.0,0.9970138888888892,1325.0,1.6129414223027094,1326.0,None,False,,
d02dd4604fbe550de4a6cfc1f9dfc9fc56e56c2c,1edd97805fd83a3a1f1d20a06a0196d52b9a449f,svcscm,svcscm@fb.com,Sat Aug 24 12:47:54 2019 -0700,1566676074,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 33beb96668b9a7ce266e42c6c30f381585168832n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,942.0,0.7329166666666667,1327.5,2.023308698123934,1328.0,None,False,,
1edd97805fd83a3a1f1d20a06a0196d52b9a449f,e299b017674cc106f43b98ee8a406727b1ca6f1d,Adam Simpkins,simpkins@fb.com,Sat Aug 24 19:21:16 2019 -0700,1566699676,"fbcode_builder: update current commit for iproute2Summary:nThe manifest file for iproute2 previously listed the commit to check out asn7ca63aef7d1b0c808da0040c6b366ef7a61f38c1.  However, this is not a commit, butna tag object that refers to commit 92a0236a3cdf3438000834121b7ea8a09f1f52b1.nnThis caused getdeps to think that iproute2 was always out-of-date, even whennit was already on the correct commit, since it was comparing current commit IDnagainst the tag ID.nnThis updates the manifest to refer to the commit ID instead of the tag ID.nnReviewed By: shri-kharennDifferential Revision: D17005418nnfbshipit-source-id: c7145c73b66ae93a2e9097ddcf8c53237b135d32n",1.0,1.0,"build/fbcode_builder/manifests/iproute2,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,13.0,1.0,80.17049768518518,82.0,1.0124734163922346,41.0,None,False,,
e299b017674cc106f43b98ee8a406727b1ca6f1d,b089935a5987d2fdf28f965ab638fc7f4e0ad4e7,svcscm,svcscm@fb.com,Sat Aug 24 19:33:03 2019 -0700,1566700383,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7fce2e201e2afa285f01846dc3372dca0f953c2en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,391.0,1.0142708333333332,1329.0,1.9859299578925744,1329.0,None,False,,
b089935a5987d2fdf28f965ab638fc7f4e0ad4e7,06a56c2c5b85cad5ab50317b9c25fa20dbbfc281,Adam Simpkins,simpkins@fb.com,Sat Aug 24 19:45:30 2019 -0700,1566701130,"fbcode_builder: update ThriftCppLibrary to use fb_cmake_parse_args()Summary:nChange ThriftCppLibrary to use `fb_cmake_parse_args()`nnThis code doesn't really care much about handling empty arguments, so we couldnuse the standard `cmake_parse_arguments()` function here instead ofn`fb_cmake_parse_args()`.  However, it is slightly more convenient thatn`fb_cmake_parse_args()` automatically errors out on unhandled arguments, sonthat we don't have to check for this ourselves.nnReviewed By: weznnDifferential Revision: D16738445nnfbshipit-source-id: 67b9761f2ceaf7665bd336290bb44af32fec6f4an",11.0,32.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,157.0,5.0,38.347418981481475,83.0,1.0260773743464433,42.0,None,False,,
06a56c2c5b85cad5ab50317b9c25fa20dbbfc281,77bb3aebd8f2a889d65c6413accd091dc30eb428,Adam Simpkins,simpkins@fb.com,Sat Aug 24 19:45:30 2019 -0700,1566701130,fbcode_builder: minor style cleanup in ThriftCppLibrary.cmakeSummary:nAdd explicit double quotes around arguments that are intended to be exactly ansingle parameter.  Also line wrap to 80 characters.nnReviewed By: weznnDifferential Revision: D16738443nnfbshipit-source-id: b8c9b6d50da72b44e23eaf5effbc384b6cbbc1c0n,42.0,34.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,136.0,6.0,0.0,84.0,0.0,43.0,None,False,,
77bb3aebd8f2a889d65c6413accd091dc30eb428,16bcc7d30d027fef495c7808440aebfeaafd3ed7,Adam Simpkins,simpkins@fb.com,Sat Aug 24 19:45:30 2019 -0700,1566701130,"fbcode_builder: ThriftCppLibrary: the output depends on the thrift templatesSummary:nUpdate ThriftCppLibrary.cmake to record that the output depends on the thriftn`cpp2` template files.  The `THRIFT_TEMPLATE_FILES` variable was defined innD16062657 but doesn't appear to be used anywhere.  This uses it, and alsonupdates it to only match the C++ template files.nnReviewed By: weznnDifferential Revision: D16738442nnfbshipit-source-id: aa4097e9ec1d009ef1e3ee2efd03ffa19a82ed12n",2.0,1.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,144.0,7.0,0.0,85.0,0.0,44.0,None,False,,
16bcc7d30d027fef495c7808440aebfeaafd3ed7,3fbc5b1a5b894fafa32140f65556d3b0fa2a94ad,svcscm,svcscm@fb.com,Sat Aug 24 20:16:57 2019 -0700,1566703017,Updating submodulesReviewed By: zpaonnfbshipit-source-id: d9b13284f81503d0e7d82918b56028d04ba8b682n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1336.0,0.2180555555555556,1331.0,13.417224501794086,1332.0,None,False,,
3fbc5b1a5b894fafa32140f65556d3b0fa2a94ad,8cca67bc73d765454745a94eeb62c16b3c6eb949,svcscm,svcscm@fb.com,Sun Aug 25 13:02:22 2019 -0700,1566763342,Updating submodulesReviewed By: zpaonnfbshipit-source-id: 7861cc7ba812cbbdd776d100d121fafb41055b56n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,839.0,0.6982060185185185,1333.5,2.0741815167840865,1334.0,None,False,,
8cca67bc73d765454745a94eeb62c16b3c6eb949,7f0945eb8f8e6d95c127162477540097c555e86a,svcscm,svcscm@fb.com,Mon Aug 26 10:47:36 2019 -0700,1566841656,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 04fb796c13be74d2b690bdadba278f7e9b51edb4n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,841.0,0.906412037037037,1335.5,1.8274382613581224,1336.0,None,False,,
7f0945eb8f8e6d95c127162477540097c555e86a,2131eccf8876b8b2235eccb17998e2644a7039e0,Adam Simpkins,simpkins@fb.com,Mon Aug 26 11:45:01 2019 -0700,1566845101,"fbcode_builder: fix the shipit path map for fbzmqSummary:nFix the fbzmq pathmap listed in its manifest file to match the path mapnactually used by ShipIt.  The fact that this was broken was why internalngetdeps builds did not detect that D16577367 broke the build.nnReviewed By: wez, jstrizichnnDifferential Revision: D17005360nnfbshipit-source-id: 046ff58ad70c03b860c3fccebaba975808df244dn",1.0,1.0,"build/fbcode_builder/manifests/fbzmq,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,25.0,2.0,25.964872685185185,86.0,1.0385135722452654,45.0,None,False,,
2131eccf8876b8b2235eccb17998e2644a7039e0,84111fce601ea00f687a2454bbc567ea00b86605,Adam Simpkins,simpkins@fb.com,Mon Aug 26 11:45:01 2019 -0700,1566845101,"fbcode_builder: update the old fbcode_builder spec for fbzmqSummary:nThe external Travis CI builds for fbzmq are still using the oldernfbcode_builder spec (as opposed to the newer getdeps manifest file).nnD16577367 moved the CMakeLists.txt file to the top-level directory, but thenfbzmq spec file was still looking for it in the fbzmq subdirectory.nnReviewed By: jstrizichnnDifferential Revision: D17005361nnfbshipit-source-id: 3f7664eadfb60ec7606124a14445b44ae586b8a7n",3.0,3.0,"build/fbcode_builder/specs/fbzmq.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,41.0,4.0,77.12688657407408,87.0,1.0129656471876325,46.0,None,False,,
84111fce601ea00f687a2454bbc567ea00b86605,14382d774e7fadb2183359d98a21ba8377bc4651,svcscm,svcscm@fb.com,Mon Aug 26 12:00:18 2019 -0700,1566846018,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 7588a59e904d5c6505bb29c48b64eacdda2234b5n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,395.0,0.05048611111111112,1337.0,20.80742778541953,1337.0,None,False,,
14382d774e7fadb2183359d98a21ba8377bc4651,79beca2b2f863c8094255d0c674f38691e362ffc,svcscm,svcscm@fb.com,Mon Aug 26 15:37:08 2019 -0700,1566859028,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8ffdbb7567fa67269c71be9f9974640a2855a84fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1344.0,0.7191087962962963,1339.0,3.53858705159546,1340.0,None,False,,
79beca2b2f863c8094255d0c674f38691e362ffc,7fff609cc95fcbe98946dbf3ff4da382ec315acb,Adam Simpkins,simpkins@fb.com,Mon Aug 26 15:37:56 2019 -0700,1566859076,"fbcode_builder: support installing thrift generated header filesSummary:nUpdate add_thrift_cpp2_library() to add a PUBLIC_HEADER property to thengenerated library target, so that the generated headers can be installed usingnan `install()` call.  Also add a `HEADER_INSTALL_DIR` property which indicatesnthe directory they should be installed into.  A `INCLUDE_DIR` argument wasnadded to customize the include installation path, should anyone care to do so.nnThis also removes code that was previously incorrectly installing thengenerated headers into the source tree.nnReviewed By: weznnDifferential Revision: D16853404nnfbshipit-source-id: 6f640b2bd347c99804e074fca0209dda37c8a9cfn",39.0,15.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,145.0,8.0,1.8280787037037043,88.0,1.5470224000607802,47.0,None,False,,
7fff609cc95fcbe98946dbf3ff4da382ec315acb,57be5e7b6a17a68b267d00728a24d22147cc9ec0,svcscm,svcscm@fb.com,Mon Aug 26 16:05:31 2019 -0700,1566860731,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 0ada7d1c1fa94142ce41e3795a282070606495b0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1347.0,0.019710648148148147,1342.0,32.004110393423375,1343.0,None,False,,
57be5e7b6a17a68b267d00728a24d22147cc9ec0,d2af880d1eb4bda0792d2ef6952ab08af87b3962,svcscm,svcscm@fb.com,Tue Aug 27 08:46:41 2019 -0700,1566920801,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 33daf8eab1b2bc66635f8566168e80744fc152c9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1350.0,0.6952546296296296,1345.0,1.8789745297153317,1346.0,None,False,,
d2af880d1eb4bda0792d2ef6952ab08af87b3962,837286cfdb67a8225d99e7a0f628059a9ac2948f,svcscm,svcscm@fb.com,Tue Aug 27 11:21:24 2019 -0700,1566930084,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 6153522beb6219af9ff580f168c36eb86a1e702bn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,503.0,0.10744212962962962,1347.0,10.307335990520308,1347.0,None,False,,
837286cfdb67a8225d99e7a0f628059a9ac2948f,9bd7c13b7c3977831f5d3219c8eaf6efdbebc923,svcscm,svcscm@fb.com,Tue Aug 27 16:49:39 2019 -0700,1566949779,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 44a3f8acc05eb3d90e08fbe8dab38907e91d6000n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1354.0,0.299579475308642,1349.0,2.956451493853268,1350.0,None,False,,
9bd7c13b7c3977831f5d3219c8eaf6efdbebc923,bac6f2859b5f86bdf0dd3125cdd98bee80cb235e,Alex Eckert,aeckert@fb.com,Tue Aug 27 17:13:56 2019 -0700,1566951236,"use facebook::fb303 instead of common::stats where possibleSummary:nMost stat code in fbcode was moved in to open source undernfbcode/fb303. The only exception that we use internally is thenMonotonicCounter class. This diff moves all of our stats code to usenthe open source headers and updates cmake files to pull in the opennsource fb303.nnReviewed By: chadaustin, shri-kharennDifferential Revision: D16969960nnfbshipit-source-id: 12b7abb54c956c242c8e27eb69fd96925c7e61f7n",6.0,4.0,"build/fbcode_builder/manifests/fboss,CAS_DELIMITER,common/stats/MonotonicCounter.h,CAS_DELIMITER",2.0,2.0,2.0,0.4689955935892812,2.0,33.0,4.0,80.51863425925926,0.5,0.5031048713418937,0.0,None,False,,
bac6f2859b5f86bdf0dd3125cdd98bee80cb235e,82134af195d81216bd5e8d8946f6235f26d589ad,Alex Eckert,aeckert@fb.com,Tue Aug 27 17:13:56 2019 -0700,1566951236,break oss build dependency on fboss/common/Summary:nAll of the requisite headers are now open sourced and edennhas been converted to use them. This removes any logic that referencesnthis directory and kills the now unused cmake file.nnReviewed By: chadaustinnnDifferential Revision: D16994732nnfbshipit-source-id: 573b8b50540ee64590682be2a54aa94659f12368n,0.0,42.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER,common/CMakeLists.txt,CAS_DELIMITER",3.0,3.0,3.0,0.6845331245320923,30.0,253.3333333333333,46.0,15.454070216049384,3.0,1.036416621505715,1.0,None,False,,
82134af195d81216bd5e8d8946f6235f26d589ad,76dbf2bf463c404fd1c271287d121485e1293d85,Alex Eckert,aeckert@fb.com,Tue Aug 27 17:13:56 2019 -0700,1566951236,deprecate copied stats headers that are now open sourcedSummary:nWe are now using the open source fb303 stats libraries sonthese locally managed headers are no longer needed.nnReviewed By: chadaustinnnDifferential Revision: D16969961nnfbshipit-source-id: 71df4add75b045967a0087721c0b742edcabdf4dn,1.0,431.0,"common/stats/DynamicCounters.h,CAS_DELIMITER,common/stats/ExportType.h,CAS_DELIMITER,common/stats/ExportedHistogramMap.h,CAS_DELIMITER,common/stats/ExportedHistogramMapImpl.h,CAS_DELIMITER,common/stats/ExportedStatMap.h,CAS_DELIMITER,common/stats/ExportedStatMapImpl.h,CAS_DELIMITER,common/stats/MonotonicCounter.h,CAS_DELIMITER,common/stats/ServiceData.cpp,CAS_DELIMITER,common/stats/ServiceData.h,CAS_DELIMITER,common/stats/ThreadCachedServiceData.h,CAS_DELIMITER,common/stats/ThreadLocalStats.h,CAS_DELIMITER",11.0,1.0,1.0,3.1476340242529552,2.0,41.72727272727273,18.0,164.03966224747478,10.0,1.00134791123601,12.0,None,False,,
76dbf2bf463c404fd1c271287d121485e1293d85,5f9c3c062e84dbdbd0834f2a97943f8be9091461,svcscm,svcscm@fb.com,Tue Aug 27 19:13:20 2019 -0700,1566958400,Updating submodulesReviewed By: yns88nnfbshipit-source-id: faffdd640539228a185903709ad72f1d3b9acdf4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1357.0,0.0997800925925926,1352.0,7.124579515137455,1353.0,None,False,,
5f9c3c062e84dbdbd0834f2a97943f8be9091461,975cf2e78d3ef00243841cfce4e2395c24ef8077,svcscm,svcscm@fb.com,Wed Aug 28 00:43:59 2019 -0700,1566978239,Updating submodulesReviewed By: yns88nnfbshipit-source-id: e1a8f136ecb13ca44807a0946816afcb39b35129n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1360.0,0.2296180555555556,1355.0,3.661424466959022,1356.0,None,False,,
975cf2e78d3ef00243841cfce4e2395c24ef8077,9ae846579c5e8e7ed7ee50d408cebaaf3dd73960,svcscm,svcscm@fb.com,Wed Aug 28 07:49:48 2019 -0700,1567003788,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8de038693ae1cef5ab8d0704662080b3c80d908en,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,507.0,0.2957060185185185,1357.0,4.381737054287839,1357.0,None,False,,
9ae846579c5e8e7ed7ee50d408cebaaf3dd73960,1243d7e6aa2155f50a13ced4552564513f9496c8,svcscm,svcscm@fb.com,Wed Aug 28 11:01:26 2019 -0700,1567015286,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c3d5d2b5fced2df8edd75e0e5168b21aafdf2cb0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1364.0,0.33021604938271604,1359.0,2.7071349085892766,1360.0,None,False,,
1243d7e6aa2155f50a13ced4552564513f9496c8,78f5060b676ea51bdc35fad2be7acec046a147cb,Adam Simpkins,simpkins@fb.com,Wed Aug 28 11:56:46 2019 -0700,1567018606,"fbcode_builder: cmake: propagate thrift include dependencies correctlySummary:nUpdate `add_thrift_cpp2_library()` to pass in the correct `-I` flags whenninvoking the thrift compiler so that it can find all of the other thrift filesnthat this library depends on.nnD16062657 was a previous attempt to do this, but suffered from a few problems:n- It required all dependencies to be defined beforen  `add_thrift_cpp2_library()` was called.  This requires users to carefullyn  order their CMake files and subdirectory include ordering.n- It only handled one level of dependencies, and did not propagate includen  paths for deeper dependencies.n- It set the include path for dependencies to the source directory path wheren  the dependency was originally built, rather than the directory where then  thrift file for that dependency would be installed.nnThis change does require CMake 3.8+.  Previous versions of CMake do notnsupport using generator expressions to generate multiple arguments for ancustom command.nnReviewed By: stragernnDifferential Revision: D17005381nnfbshipit-source-id: 31190beba94b4d1010445375a5e2791450230f7dn",47.0,23.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,169.0,9.0,1.8464120370370367,89.0,1.5415909233373033,48.0,None,False,,
78f5060b676ea51bdc35fad2be7acec046a147cb,f1fc88e4f8d69afd879b1eac48b4a38c14a43df6,Adam Simpkins,simpkins@fb.com,Wed Aug 28 11:56:46 2019 -0700,1567018606,use ThriftCppLibrary.cmake from fbcode_builderSummary:nUpdate fboss to use `ThriftCppLibrary.cmake` directly from fbcode_buildernrather than maintaining its own copy of this file.nnReviewed By: chadaustinnnDifferential Revision: D17005421nnfbshipit-source-id: a64df426118df6088b47f09410dad7b8b7e79a43n,0.0,2.0,"build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,193.0,10.0,0.0,90.0,0.0,49.0,None,False,,
f1fc88e4f8d69afd879b1eac48b4a38c14a43df6,8f11c0b0b084d88575dbe00da90bc0927cd8edda,Adam Simpkins,simpkins@fb.com,Wed Aug 28 13:11:17 2019 -0700,1567023077,"fbcode_builder: minor fixup to normalize python installation pathsSummary:nThis just strips off a trailing '/' from the `INSTALL_DIR` property that wenset on python targets, to avoid having double-slashes in the paths that we usenduring installation.  This shouldn't really have any material difference othernthan cleaning up the paths that get printed during the installation phase.nnReviewed By: chadaustinnnDifferential Revision: D17089207nnfbshipit-source-id: ab36bb76c19fa60fe037f7a5290ccfd6bdbf13b0n",1.0,0.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,407.0,1.0,9.086805555555557,91.0,1.1100496752006117,50.0,None,False,,
8f11c0b0b084d88575dbe00da90bc0927cd8edda,92123ba46ed3da937a904106402f092103396530,Adam Simpkins,simpkins@fb.com,Wed Aug 28 13:11:17 2019 -0700,1567023077,"fbcode_builder: fix the error message if we cannot find a project fetcherSummary:nFix printing the manifest context in the error message if we cannot find anproject fetcher.  Previously the context in the message would be printed asnsomething like `<getdeps.manifest.ManifestContext object at 0x7fcce987e610>`,nnow it shows instead as something liken`{distro=ubuntu, distro_vers=18.04, fb=off, os=linux, test=off}`nnReviewed By: chadaustinnnDifferential Revision: D17089208nnfbshipit-source-id: c16549b61030d813b7b5ff9f65966436dc1e1898n",1.0,1.0,"build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,460.0,22.0,27.679282407407413,92.0,1.0361281042362709,51.0,None,False,,
92123ba46ed3da937a904106402f092103396530,da5781900bc0a6e6df292b2145ea740646266f85,Adam Simpkins,simpkins@fb.com,Wed Aug 28 13:11:17 2019 -0700,1567023077,"fbcode_builder: fix run_cmake.py to propagate the command return codeSummary:nUpdate the generated `run_cmake.py` script to use `os.execve()` rather thann`subprocess.call()`, so that it now propagates CMake's return code back to itsncaller.nnReviewed By: chadaustinnnDifferential Revision: D17089206nnfbshipit-source-id: e01f05f492ccb842d4967e59fd0bc9a3e59b8a42n",2.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,758.0,27.0,7.8958680555555585,93.0,1.1266485195755516,52.0,None,False,,
da5781900bc0a6e6df292b2145ea740646266f85,f6d13071d7998bce64b69db71a6bd80c540a9993,svcscm,svcscm@fb.com,Wed Aug 28 15:25:52 2019 -0700,1567031152,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ec58ad68d60c8333e9db0bc982e28da997bdae35n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1367.0,0.18363425925925925,1362.0,4.327870918946174,1363.0,None,False,,
f6d13071d7998bce64b69db71a6bd80c540a9993,91f750814b667a04ed1a283d70c22585eccc1eb1,svcscm,svcscm@fb.com,Wed Aug 28 17:01:25 2019 -0700,1567036885,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 8682f6a02b5d43c3b4e6ebc2baf2381c394cfb1cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1370.0,0.06635416666666667,1365.0,10.209837781266351,1366.0,None,False,,
91f750814b667a04ed1a283d70c22585eccc1eb1,a8020c672000f5ab2d4ff00d398b10c62403fb7f,svcscm,svcscm@fb.com,Wed Aug 28 17:54:59 2019 -0700,1567040099,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9303325ab0a54e470bf2b566c42e1c7bd7e3c78dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,511.0,0.03719907407407407,1367.0,27.8823895457374,1367.0,None,False,,
a8020c672000f5ab2d4ff00d398b10c62403fb7f,b1006555622acc97da47a949ca1f2f1692701dcf,svcscm,svcscm@fb.com,Wed Aug 28 19:50:06 2019 -0700,1567047006,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 864cd9c40804dd5fa6785b9c4a6c8cd36d17da1bn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,512.0,0.07994212962962963,1368.0,13.509048791081511,1368.0,None,False,,
b1006555622acc97da47a949ca1f2f1692701dcf,cd2685ebc2cdfd686af0939d0d280cb6cca322b2,Adam Simpkins,simpkins@fb.com,Wed Aug 28 20:59:05 2019 -0700,1567051145,"fbcode_builder: fix install_fb_python_library() to work with old CMake versionsSummary:nUpdate install_fb_python_library() to work with CMake versions older than 3.7.nnPreviously the code used a generator expression in the directory argumentnsupplied to `install(DIRECTORY)`.  Support for generators in this parameternwas only added in CMake 3.5, but it was buggy and did not correctly handlenabsolute paths until 3.7.nnThis updates the code to avoid using a generator expression.  This doesnrequire that the corresponding `add_fb_python_library()` statement appearnbefore the `install_fb_python_library()` statement, but this seems like anpretty reasonable restriction.nnReviewed By: chadaustinnnDifferential Revision: D17103597nnfbshipit-source-id: 54d6af93a3f530373cfe3137db99436d8484f308n",3.0,4.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,408.0,2.0,0.3248611111111111,94.0,4.078238563488672,53.0,None,False,,
cd2685ebc2cdfd686af0939d0d280cb6cca322b2,9d2e888f0e56c2d3d95076eb56afb48fc0705fb6,svcscm,svcscm@fb.com,Wed Aug 28 21:51:03 2019 -0700,1567054263,Updating submodulesReviewed By: yns88nnfbshipit-source-id: a3bf615e8af2b0bab29a94341c3f9bf775a15e48n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1375.0,0.16208719135802468,1370.0,4.511838314985252,1371.0,None,False,,
9d2e888f0e56c2d3d95076eb56afb48fc0705fb6,59cbdb3c2cdd57aa17cbcf2b90cbab1eaf81ee48,svcscm,svcscm@fb.com,Thu Aug 29 07:52:47 2019 -0700,1567090367,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 92ca1847b2ff5fa73c2585924253b9e16e864f69n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1378.0,0.4178703703703704,1373.0,2.462441834699756,1374.0,None,False,,
59cbdb3c2cdd57aa17cbcf2b90cbab1eaf81ee48,23b7d4032513c21934a499db3eb99c55cd4a759d,Genevieve Helsel,helsel@fb.com,Thu Aug 29 09:08:00 2019 -0700,1567094880,report file sizes in Eden's debugInodeStatus() callSummary: Remove file size stat() call from cli and move logic into server-side codennReviewed By: chadaustinnnDifferential Revision: D17080186nnfbshipit-source-id: 882d1c01db841e7b13b7659f47091e6b5c46ab57n,4.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1056.0,23.0,26.977604166666666,0.0,0.0,0.0,Corrective,True,,
23b7d4032513c21934a499db3eb99c55cd4a759d,00af43748960dd05f509ad33b8ecc5f6431e38f1,svcscm,svcscm@fb.com,Thu Aug 29 11:14:05 2019 -0700,1567102445,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 2a7c8d2c1eb6e10da06b54814def7ca0d88e800an,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,515.0,0.13979166666666668,1375.0,8.153502235469448,1375.0,None,False,,
00af43748960dd05f509ad33b8ecc5f6431e38f1,97b6398947c0f186fc3f316c898272a686c92f3e,svcscm,svcscm@fb.com,Thu Aug 29 15:06:01 2019 -0700,1567116361,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ee63fb227f1761192ca89657e7db9c843bb40635n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,516.0,0.16106481481481486,1376.0,7.208680655360736,1376.0,None,False,,
97b6398947c0f186fc3f316c898272a686c92f3e,1633ab6b5cd2c0ed1775ff719352c4c72b325ce3,Adam Simpkins,simpkins@fb.com,Thu Aug 29 16:36:13 2019 -0700,1567121773,"fbcode_builder: rename add_thrift_cpp2_library() to add_fbthrift_cpp_library()Summary:nRename the `ThriftCppLibrary.cmake` file to `FBThriftCppLibrary.cmake`, andnalso rename `add_thrift_cpp2_library()` to `add_fbthrift_cpp_library()`.nnExplicitly calling this `fbthrift` helps clearly distinguish that this isnintended for use with fbthrift (https://github.com/facebook/fbthrift/), asnopposed to Apache thrift.nnReviewed By: weznnDifferential Revision: D16738440nnfbshipit-source-id: 9b255e06b71c98ad74a34989f564a211958dcdd5n",195.0,195.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/CMake/FBThriftCppLibrary.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/ThriftCppLibrary.cmake,CAS_DELIMITER",3.0,2.0,2.0,1.1237974616735698,30.0,291.3333333333333,50.0,1.0559567901234568,96.0,1.4429797766531869,55.0,None,False,,
1633ab6b5cd2c0ed1775ff719352c4c72b325ce3,5e7d6a56a795d507b5fed574188a3c1cb038aab1,svcscm,svcscm@fb.com,Thu Aug 29 17:09:28 2019 -0700,1567123768,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 5b970f18df38fb4b700e42db06349ab64e8d1331n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1383.0,0.2863001543209877,1378.0,2.956086693454162,1379.0,None,False,,
5e7d6a56a795d507b5fed574188a3c1cb038aab1,7dab7acf0a51e6f2cab45e0156f0e8e0d104fcd6,svcscm,svcscm@fb.com,Thu Aug 29 20:08:13 2019 -0700,1567134493,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 4f72e2374d87645e3cfe3fbf7b3e3acbeb645b5fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1386.0,0.12413194444444445,1381.0,5.9230769230769225,1382.0,None,False,,
7dab7acf0a51e6f2cab45e0156f0e8e0d104fcd6,d2553628c9937f6c9cdf57f36a38f4b2fe961847,Adam Simpkins,simpkins@fb.com,Thu Aug 29 20:08:15 2019 -0700,1567134495,fbcode_builder: fix a minor bug in THRIFT_INCLUDE_DIR argument parsingSummary:nFix a minor bug in the argument parsing for `add_fbthrift_cpp_library()`:nonly a single value should be supplied for the `THRIFT_INCLUDE_DIR` argument.nThis parameter should not accept a list of arguments.nnReviewed By: stragernnDifferential Revision: D17125810nnfbshipit-source-id: 31f354e4d6299d3626a94f3b4b5ff8c58bb0cf7bn,2.0,2.0,"build/fbcode_builder/CMake/FBThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,191.0,1.0,0.14724537037037036,98.0,7.791385002358121,56.0,None,False,,
d2553628c9937f6c9cdf57f36a38f4b2fe961847,182311d9c244083a8c50f8bd20fc9583dff2d1be,svcscm,svcscm@fb.com,Thu Aug 29 20:46:11 2019 -0700,1567136771,Updating submodulesReviewed By: yns88nnfbshipit-source-id: bc29befbd71ea2ff38da0857b66c6002fa4581dbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1389.0,0.02636574074074074,1384.0,24.178226514486393,1385.0,None,False,,
182311d9c244083a8c50f8bd20fc9583dff2d1be,909d362f406ffbbbc1e476cc875e37b1e236be21,svcscm,svcscm@fb.com,Thu Aug 29 21:10:18 2019 -0700,1567138218,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 410e8d7912cfd70a8857244f322d81c26cb7b8fdn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,872.0,0.016747685185185185,1386.5,45.78230822391154,1387.0,None,False,,
909d362f406ffbbbc1e476cc875e37b1e236be21,cfc82d0f75c96462bcae8efbc8514c1133ef442c,Adam Simpkins,simpkins@fb.com,Thu Aug 29 22:04:06 2019 -0700,1567141446,fbcode_builder: add an FBThriftPyLibrary.cmake moduleSummary:nThis module helps generate Python libraries from thrift files.nIt is the Python equivalent of `FBThriftCppLibrary.cmake`nnReviewed By: weznnDifferential Revision: D16742274nnfbshipit-source-id: ef0dc7f24eb1c7375d2587ee6b71fd25bd6f35a7n,109.0,0.0,"build/fbcode_builder/CMake/FBThriftPyLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,99.0,0.0,57.0,None,False,,
cfc82d0f75c96462bcae8efbc8514c1133ef442c,b83d93c264847499e1eb82125185021a3b4f58c2,Adam Simpkins,simpkins@fb.com,Thu Aug 29 22:04:06 2019 -0700,1567141446,fbcode_builder: add a FBThriftLibrary.cmake fileSummary:nThis module provides a `add_fbthrift_library()` convenience function that cannbe used to generate thrift libraries for multiple languages with a singlencall.nnReviewed By: weznnDifferential Revision: D16742275nnfbshipit-source-id: c13120cf9e051629951282141eb22f3e085782f9n,77.0,0.0,"build/fbcode_builder/CMake/FBThriftLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,100.0,0.0,58.0,None,False,,
b83d93c264847499e1eb82125185021a3b4f58c2,e9dd963fefea9b02adc5ab5af3548ea11e33150a,svcscm,svcscm@fb.com,Thu Aug 29 22:44:12 2019 -0700,1567143852,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 80ff1036a0aa582e069a4699b6ba09b749ecdba7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1394.0,0.07079089506172838,1389.0,9.946430199936767,1390.0,None,False,,
e9dd963fefea9b02adc5ab5af3548ea11e33150a,2b22def4827ce9f6b01ec01712c5fbf5e4228ee3,svcscm,svcscm@fb.com,Thu Aug 29 23:06:15 2019 -0700,1567145175,Updating submodulesReviewed By: yns88nnfbshipit-source-id: b6219f97186fbcede08240945f8af6125fcf8b3cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,876.0,0.0153125,1391.5,49.97959183673471,1392.0,None,False,,
2b22def4827ce9f6b01ec01712c5fbf5e4228ee3,74f7a092dfc41b1596af5be512547d62e04d281e,Paul O'Shannessy,poshannessy@fb.com,Thu Aug 29 23:19:10 2019 -0700,1567145950,"Adopt Contributor CovenantSummary:nIn order to foster healthy open source communities, we're adopting then[Contributor Covenant](https://www.contributor-covenant.org/). It has beennbuilt by open source community members and represents a shared understanding ofnwhat is expected from a healthy community.nnReviewed By: josephsavona, danobi, rdzhabarovnnDifferential Revision: D17104640nnfbshipit-source-id: d210000de686c5f0d97d602b50472d5869bc6a49n",75.0,1.0,"CODE_OF_CONDUCT.md,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,3.0,1.0,631.1288541666668,0.0,0.0,0.0,None,False,,
74f7a092dfc41b1596af5be512547d62e04d281e,231b58eeb7346d8de4346892f3182815785f42c2,svcscm,svcscm@fb.com,Thu Aug 29 23:44:54 2019 -0700,1567147494,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ebf75b38d338867af7d01545de29450c0cc70635n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,934.0,0.03449652777777778,1393.5,26.875825465786342,1394.0,None,False,,
231b58eeb7346d8de4346892f3182815785f42c2,5f1da5daf7f9c5f38a02d6e115d964dbecbd3ed2,svcscm,svcscm@fb.com,Fri Aug 30 00:15:37 2019 -0700,1567149337,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 776b0dda3929e5b66a716ce37ccb2e7c3d7e5bd3n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,414.0,0.02133101851851852,1395.0,47.88008681497558,1395.0,None,False,,
5f1da5daf7f9c5f38a02d6e115d964dbecbd3ed2,b114886942a90075e85fb3dcdec2916c104c8d3c,Julia Pitts,jupi@fb.com,Fri Aug 30 10:02:04 2019 -0700,1567184524,"Add asserted states to subscription response.Summary: For a lot of use cases, it's really useful to be able to find out which states Watchman is in before you subscribed. We could add a new command to query which states are asserted, but it feels simpler to just return them in the body of the `subscribe` response.nnReviewed By: weznnDifferential Revision: D17084247nnfbshipit-source-id: e1555f3204d85253ab648f3dece0f9ed5c8115dcn",21.0,0.0,"cmds/subscribe.cpp,CAS_DELIMITER,tests/integration/test_subscribe.py,CAS_DELIMITER",2.0,2.0,2.0,0.9852281360342516,29.0,675.0,106.0,209.84319444444446,0.5,0.5011913657751059,0.0,Feature Addition,False,,
b114886942a90075e85fb3dcdec2916c104c8d3c,69c13f29d3ddf3b6cb6a160c6574d9be0c092cf6,Wez Furlong,wez@fb.com,Fri Aug 30 10:46:00 2019 -0700,1567187160,"fbzmq: disable build on darwin and windowsSummary:nboost.fiber is not available on macos and is required by fbzmq,nso disable the build on darwin.nnIn D17128935 I tried to make libzmq build with cmake to buildnon windows, but there's a problem with its cmake and it failsnto configure.nnSo let's just nop out the build for !linux for now.nnReviewed By: jstrizichnnDifferential Revision: D17129362nnfbshipit-source-id: db89010d18707a4105b8d395b1758f738336495dn",6.0,1.0,"build/fbcode_builder/manifests/fbzmq,CAS_DELIMITER",1.0,1.0,1.0,0.0,3.0,25.0,3.0,3.9590162037037038,6590.0,1.2525880038239017,192.0,None,False,,
69c13f29d3ddf3b6cb6a160c6574d9be0c092cf6,d623ede9256bbd39a52d99b5abe9466b550680f3,svcscm,svcscm@fb.com,Fri Aug 30 11:14:11 2019 -0700,1567188851,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ed9c979746e3d7de5cf0d1aa0b99c00cc2e0929cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1402.0,0.4805054012345679,1397.0,2.3162163159726794,1398.0,None,False,,
d623ede9256bbd39a52d99b5abe9466b550680f3,d04168ec3fe0d45c66e7e504b94655867cb301ae,svcscm,svcscm@fb.com,Fri Aug 30 11:33:11 2019 -0700,1567189991,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 57e0c03a82dbb17daad7c853de82942a7ded8d20n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,882.0,0.013194444444444444,1399.5,57.84210526315789,1400.0,None,False,,
d04168ec3fe0d45c66e7e504b94655867cb301ae,de4acec7e77cdd7419470f446cb4c86e30a7bf30,Jeff Hemphill,jhemphill@fb.com,Fri Aug 30 14:32:22 2019 -0700,1567200742,"Use folly::SemiFuture in WatchmanClientSummary:nFolly Futures have sticky executors, meaning when you call `thenValue` on an executor you continue to execute code on the last executor the future used. This means code calling into a library can accidentally run arbitrary/expensive/deadlocking code on the same threads that the library depends on. The way to solve this is to call `.via()` before you would otherwise chain work with `.thenValue()`, and the way you force clients to call `.via()` is by returning a SemiFuture instead of a Future.nnI'm fixing up client-side code by calling `.via()` explicitly, along with the executor the code was implicitly running on (usually the EventBase the client had passed to Watchman).nnReviewed By: stragernnDifferential Revision: D16901480nnfbshipit-source-id: e6f8f80c7f94bfed6919dc68dc44f73d6b611bben",38.0,25.0,"cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanClient.h,CAS_DELIMITER",2.0,1.0,1.0,0.9333572600179804,29.0,206.0,15.0,94.0621238425926,13.5,1.0058204767761258,10.0,None,False,,
de4acec7e77cdd7419470f446cb4c86e30a7bf30,fcd242424316c478697229ed9d41ed760f3d6dac,svcscm,svcscm@fb.com,Fri Aug 30 16:37:52 2019 -0700,1567208272,Updating submodulesReviewed By: yns88nnfbshipit-source-id: ddbe558238c33cbd59ff36c071808232c0555cd2n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,417.0,0.21158564814814806,1401.0,5.726218478201411,1401.0,None,False,,
fcd242424316c478697229ed9d41ed760f3d6dac,963aa4090d0877f690b638db730d2d4365a75a8e,svcscm,svcscm@fb.com,Sat Aug 31 11:40:39 2019 -0700,1567276839,Updating submodulesReviewed By: yns88nnfbshipit-source-id: c2d294e5a44a8d5cd9cf7f19cf70b76a56485dc7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1408.0,0.9390547839506171,1403.0,1.7223103236091852,1404.0,None,False,,
963aa4090d0877f690b638db730d2d4365a75a8e,9ef2a0265c7ed8bb428d87379b22a4e80d4c4bca,svcscm,svcscm@fb.com,Sun Sep 1 08:47:46 2019 -0700,1567352866,Updating submodulesReviewed By: yns88nnfbshipit-source-id: 9f3c7b1cb30b8e29d5f21af226c8e065307daaabn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,887.0,0.8799421296296296,1405.5,1.852328777934155,1406.0,None,False,,
9ef2a0265c7ed8bb428d87379b22a4e80d4c4bca,0eb5d2ca89dfb9b29bbb2e4eb245565ea3d6ba9a,svcscm,svcscm@fb.com,Sun Sep 1 18:56:44 2019 -0700,1567389404,Updating submodulesReviewed By: yns88nnfbshipit-source-id: d217abe63e6027134c5cfc2ffbaae478918a72f6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1413.0,0.7162075617283952,1408.0,2.136513693062396,1409.0,None,False,,
0eb5d2ca89dfb9b29bbb2e4eb245565ea3d6ba9a,81411e0dfe39f22666d4c6daacc7a5eb13d6c0d2,svcscm,svcscm@fb.com,Mon Sep 2 13:08:13 2019 -0700,1567454893,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 6503db1fb6fcc3a0081835df449ffb8d74fe3582n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1416.0,0.757974537037037,1411.0,1.8062422696941471,1412.0,None,False,,
81411e0dfe39f22666d4c6daacc7a5eb13d6c0d2,593082ed974428c77b3528b70670d61a2f18f9d9,svcscm,svcscm@fb.com,Tue Sep 3 02:43:38 2019 -0700,1567503818,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 3da26995a154a60bd3026b62fd13854d5cba2c90n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,948.0,0.5662615740740741,1413.5,2.3244762391415428,1414.0,None,False,,
593082ed974428c77b3528b70670d61a2f18f9d9,45f192469098ce15ef9134c0be110939b78312ec,Luca Niccolini,lniccolini@fb.com,Tue Sep 3 09:31:35 2019 -0700,1567528295,BUILD_SHARED_LIBS=OFF for CI buildSummary: fixes the CI buildnnReviewed By: dddmellonnDifferential Revision: D17158685nnfbshipit-source-id: 44ea871eab4d8c964b8372fb8d84879fa823ca50n,26.0,3.0,"build/fbcode_builder/specs/fizz.py,CAS_DELIMITER,build/fbcode_builder/specs/mvfst.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen_quic.py,CAS_DELIMITER,build/fbcode_builder/specs/wangle.py,CAS_DELIMITER",5.0,1.0,1.0,2.235296291301024,4.0,21.8,15.0,168.23026157407406,11.0,1.0021741615181343,13.0,None,False,True,"[""cf434736141ad20c6dea3d7c46f4dc3d22a96ad8""]"
45f192469098ce15ef9134c0be110939b78312ec,078334537ff8e2d2b0f3c8621ef0e329c300df26,svcscm,svcscm@fb.com,Tue Sep 3 10:05:42 2019 -0700,1567530342,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 135094a1282a99aa48a874323c0a61cc496f027an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1421.0,0.4957445987654321,1416.0,2.852843364075284,1417.0,None,False,,
078334537ff8e2d2b0f3c8621ef0e329c300df26,82bd816a951333b34a0afe4d65f92c6d64ee6b06,svcscm,svcscm@fb.com,Tue Sep 3 10:56:40 2019 -0700,1567533400,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c83eb880e04257727f0de31fd2014cf60c846dd6n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,896.0,0.03539351851851852,1418.5,22.190320470896005,1419.0,None,False,,
82bd816a951333b34a0afe4d65f92c6d64ee6b06,1d7e3221327f66e592d83f8736c73c64dcc8914f,svcscm,svcscm@fb.com,Tue Sep 3 11:20:06 2019 -0700,1567534806,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: fa0a8ae3a212f7220580025fb05d3113dcb9822cn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,425.0,0.016273148148148148,1420.0,62.45092460881935,1420.0,None,False,,
1d7e3221327f66e592d83f8736c73c64dcc8914f,f8fbf907833c6f657bd7a8267623e842688cfbd2,svcscm,svcscm@fb.com,Tue Sep 3 14:20:01 2019 -0700,1567545601,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: f8fa065aa374df9a7e66877f1a934fd88702a762n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,954.0,0.15077546296296296,1421.5,6.659947435925377,1422.0,None,False,,
f8fbf907833c6f657bd7a8267623e842688cfbd2,ec3ee8d6c971c306bc075214859841ad8d601dd3,John Strizich,striz@fb.com,Tue Sep 3 16:37:56 2019 -0700,1567553876,add generated constant definitions to librarySummary: when trying to build openr with `getDeps.py` constant definitions where not available since they were not part of the generated thrift lib. this fixes it.nnReviewed By: chadaustinnnDifferential Revision: D16064417nnfbshipit-source-id: ee2b3e061caf67235f4a873405cf6cd6fb663ef4n,1.0,1.0,"build/fbcode_builder/CMake/FBThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,191.0,2.0,4.85394675925926,3.0,1.2060179168822622,3.0,Feature Addition,False,,
ec3ee8d6c971c306bc075214859841ad8d601dd3,0bf341eda6abe29ebb4913f2cd855d5e72f5ffdd,svcscm,svcscm@fb.com,Tue Sep 3 17:04:58 2019 -0700,1567555498,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 2df5031d0d5c87b21803d02f165b4607b62b85b4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1429.0,0.1616203703703704,1424.0,6.052441175329034,1425.0,None,False,,
0bf341eda6abe29ebb4913f2cd855d5e72f5ffdd,1ae03100085b99dcb641ac23270b245aad3047e8,Wez Furlong,wez@fb.com,Tue Sep 3 17:07:16 2019 -0700,1567555636,"getdeps: assign test owner in continuous runsSummary:nFeed the first-party oncall data through to the testpilotninvocation.  This will set the owner of the test in continuous runs.nnThe oncall is passed through via the sandcastle module, which meansnthat you will have to manually pass it through for local testingn(see test plan), but it should automatically get picked up whennsandcastle schedules the `test` step of the job.nnReviewed By: chadaustinnnDifferential Revision: D17146802nnfbshipit-source-id: a4f0e65853a46ed8709594c96db859ede2530b00n",11.0,3.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",2.0,1.0,2.0,1.0,32.0,630.5,56.0,12.565873842592593,6591.5,1.0462555201042356,194.0,None,False,,
1ae03100085b99dcb641ac23270b245aad3047e8,1f12d102ede0505471418281705da512aad0b71e,svcscm,svcscm@fb.com,Tue Sep 3 17:23:14 2019 -0700,1567556594,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 4c6f0b6e6900b3da62cbd7163f469283c867f079n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1432.0,0.012685185185185185,1427.0,49.175182481751825,1428.0,None,False,,
1f12d102ede0505471418281705da512aad0b71e,5b542151198d4f2fd62940a91654e168f3f04dfb,svcscm,svcscm@fb.com,Tue Sep 3 18:20:13 2019 -0700,1567560013,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 0682608d96cd4ef316e0be812d22d9627d2e440dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,904.0,0.03957175925925927,1429.5,19.95291020766306,1430.0,None,False,,
5b542151198d4f2fd62940a91654e168f3f04dfb,66eb90996d04595df9531565cdfcd7262157f875,Yedidya Feldblum,yfeldblum@fb.com,Tue Sep 3 21:37:44 2019 -0700,1567571864,"Cut mstch manifestSummary: [OpenSource] Cut `mstch` manifest, which was but is no longer used by `fbthrift`.nnReviewed By: avalonalex, davidtgoldblattnnDifferential Revision: D17160816nnfbshipit-source-id: 3b96142455d6990870e8ed3e5ce330d339d5a657n",0.0,14.0,"build/fbcode_builder/manifests/fboss,CAS_DELIMITER,build/fbcode_builder/manifests/mstch,CAS_DELIMITER",2.0,1.0,1.0,0.3712323266408756,2.0,25.5,3.0,65.21142939814816,7.5,1.0734405980797879,2.0,None,False,,
66eb90996d04595df9531565cdfcd7262157f875,66fc467cce91e21c5dff020b7a607ab1ace8cfeb,svcscm,svcscm@fb.com,Tue Sep 3 22:02:11 2019 -0700,1567573331,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 71dafed269808193a769093f68dbb04b1100f6cbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1437.0,0.1673341049382716,1432.0,4.784737642959157,1433.0,None,False,,
66fc467cce91e21c5dff020b7a607ab1ace8cfeb,640c813bd44a03ccb321ec316b1940b256295c71,svcscm,svcscm@fb.com,Wed Sep 4 00:47:49 2019 -0700,1567583269,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 0cef39945756e217dfe2d8793b2918d530462bb8n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1440.0,0.11502314814814815,1435.0,6.312940229422419,1436.0,None,False,,
640c813bd44a03ccb321ec316b1940b256295c71,2865ab1bed38393167fc956ec3213a0eb3577a41,Wez Furlong,wez@fb.com,Wed Sep 4 10:36:33 2019 -0700,1567618593,"watchman: just use distutils for python setupSummary:nWe don't use any of the advanced setuptools featuresnand setuptools isn't consistently available everywhere, so justnuse distutils.nnReviewed By: chadaustinnnDifferential Revision: D17184130nnfbshipit-source-id: 31913e763dbdbd3e774e881834a1fc5ce630d7d5n",3.0,5.0,"python/setup.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,69.0,24.0,103.61288194444445,6593.0,1.0096513095788242,109.0,None,False,,
2865ab1bed38393167fc956ec3213a0eb3577a41,e9ab4acba23109add581494055248b519523f174,Wez Furlong,wez@fb.com,Wed Sep 4 10:36:33 2019 -0700,1567618593,"watchman: raise minimum python version to 3Summary:nPeople keep telling me that python 2 is going away, but we'venbeen holding out because macOS ships with python 2.  I hear thatnpython is going away completely in the next macOS version, and thatnfolks will need to install it manually anyway, so at that pointnit sounds fine to require python 3.nnThis doesn't actively remove python 2 support from pywatchman or thenintegration tests.  pywatchman still needs to support python 2 at leastnfor as long as mercurial requires python 2.nnReviewed By: chadaustinnnDifferential Revision: D17182852nnfbshipit-source-id: 2225a9103c24ed87102b9efba45ffc7bb55b712cn",11.0,10.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,683.0,40.0,5.7502314814814826,6594.0,1.173906042429854,2989.0,None,False,,
e9ab4acba23109add581494055248b519523f174,4e1dcc051b6627184812be487b8d50489a9e3e82,Wez Furlong,wez@fb.com,Wed Sep 4 10:39:44 2019 -0700,1567618784,watchman: eden: fix bug when handling relative_root: Summary:nSpecifying `relative_root: ` would result in an `index out of range`nerror when using eden.nnThis diff translates an empty string relative_root to a blank relative_root.nnReviewed By: chadaustinnnDifferential Revision: D17183622nnfbshipit-source-id: 47fa952fbd619e61d2dc05caa262162c22a65f12n,29.0,0.0,"query/parse.cpp,CAS_DELIMITER,tests/integration/test_eden_since.py,CAS_DELIMITER",2.0,2.0,2.0,0.8497511372532974,29.0,335.5,41.0,178.76865740740746,6595.5,1.0064601388399792,845.0,None,False,,
4e1dcc051b6627184812be487b8d50489a9e3e82,3675e4f29d2adba062ec3cc50bcba937d7fb101a,svcscm,svcscm@fb.com,Wed Sep 4 12:58:43 2019 -0700,1567627123,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 8ea419d0fd1925a895f9993535be27660a583548n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,432.0,0.5075694444444444,1437.0,2.97017375838008,1437.0,None,False,,
3675e4f29d2adba062ec3cc50bcba937d7fb101a,1a72147b1078b67a90871019c562f0b0472e1ffb,svcscm,svcscm@fb.com,Thu Sep 5 03:53:57 2019 -0700,1567680837,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 18d6ad8749405907128d4c2ebb7e584edd107f07n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1444.0,0.9600694444444444,1439.0,1.8422783795364048,1440.0,None,False,,
1a72147b1078b67a90871019c562f0b0472e1ffb,9bf73db2fcef8a5bb360099d36c986c14ee91e3b,svcscm,svcscm@fb.com,Thu Sep 5 15:32:24 2019 -0700,1567722744,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b1032309e59913ad00bdebd5ece7d5475237b75an,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,913.0,0.4850347222222222,1441.5,2.5462810508984184,1442.0,None,False,,
9bf73db2fcef8a5bb360099d36c986c14ee91e3b,6ba3d0660e05a4d0f7e4d5749b9779591936926b,svcscm,svcscm@fb.com,Thu Sep 5 20:49:27 2019 -0700,1567741767,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: e4cb9d7caf3c4018b8b99aa5bdfe23fbde450ed9n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,915.0,0.2201736111111111,1443.5,4.406402775587448,1444.0,None,False,,
6ba3d0660e05a4d0f7e4d5749b9779591936926b,f2365b34e0d940255a8d08a6aac5768a311fc043,svcscm,svcscm@fb.com,Thu Sep 5 21:22:44 2019 -0700,1567743764,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 9f234275c25be22647408f5a5cc06f7292f8e593n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,436.0,0.02311342592592593,1445.0,44.264897346019026,1445.0,None,False,,
f2365b34e0d940255a8d08a6aac5768a311fc043,a3f019274db7c8b1b8c0b1303edae39f97a3601e,Wez Furlong,wez@fb.com,Thu Sep 5 23:31:50 2019 -0700,1567751510,"getdeps: add build cache abstractionSummary:nThis diff adds a small abstraction that allows for uploadingnand downloading from an artifact cache.nnWe try to download from this cache at build time, but will onlyntry to populate it for continuous builds--those are built fromncode that has been reviewed and landed on master.  This restrictionnhelps to avoid thrashing the cache with works in progress andnresults in a slightly more trustworthy state of the cache contents.nnIn addition to this, we choose only to cache third party projects.nThe rationale is that our first party projects move too quickly tonbe worth caching, especially since the cache granularity is fornthe whole project rather than just changed elements of a givennproject.nnIn a later diff I will introduce some implementations of thencache class that work with eg: Travis or Circle CI caching.nnReviewed By: simpkinsnnDifferential Revision: D16873307nnfbshipit-source-id: 2bfb69e36615791747b499073586562f2ca48be9n",180.0,13.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/cache.py,CAS_DELIMITER",2.0,1.0,2.0,0.7461118858029694,32.0,254.0,29.0,1.1335300925925926,6597.5,1.441099890746092,196.0,None,False,True,"[""7599d45160765aaf5192a531883abb3a57ba099d""]"
a3f019274db7c8b1b8c0b1303edae39f97a3601e,84af66844033712be251fc2e8b3aeae2f591d157,svcscm,svcscm@fb.com,Fri Sep 6 00:44:35 2019 -0700,1567755875,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 23e6e7ff4088730619793146590ca31e4cd3c64cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1452.0,0.3906520061728395,1447.0,3.9928967563883595,1448.0,None,False,,
84af66844033712be251fc2e8b3aeae2f591d157,44550683071b591f53bdb3790e4cd2b757f4ab44,svcscm,svcscm@fb.com,Fri Sep 6 01:06:49 2019 -0700,1567757209,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: c88573b8b090630ff2e03392b8ba0a48703ed184n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,920.0,0.015439814814814812,1449.5,49.57571214392805,1450.0,None,False,,
44550683071b591f53bdb3790e4cd2b757f4ab44,0c6f707e250d7684e20425f82270b2bce129dccb,Wez Furlong,wez@fb.com,Fri Sep 6 07:42:44 2019 -0700,1567780964,"getdeps: allow aliasing sources for add_fb_python_executableSummary:n* Fix a minor issue with `add_fb_python_executable` where it wouldn  emit `--main` even if `MAIN_MODULE` had not been specifiedn* Introduce the ability to rename python sources in the manifest son  that they have a different install path.n* Note that this changes the DEPENDS parameters to reference abs_sources;n  previously these were using relative paths to the sources pulled directlyn  from the SOURCES arguments, but since those can now contain aliasingn  operations we need to pre-process the list.  I switched to abs_sourcesn  because that was already being maintained.  If for some reason then  DEPENDS list needs to be relative paths, this will need to be adjusted.nnReviewed By: simpkinsnnDifferential Revision: D17147417nnfbshipit-source-id: d0825bfbdad6be658c078aaac6645e6926a1530fn",44.0,14.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,407.0,3.0,8.446979166666667,6599.0,1.1183855175050252,197.0,None,False,,
0c6f707e250d7684e20425f82270b2bce129dccb,3ea98050557fade5abf43fd653cc4b71533e9a75,Wez Furlong,wez@fb.com,Fri Sep 6 07:42:44 2019 -0700,1567780964,"watchman: use add_fb_python_executable to build watchman-waitSummary:nThis is a baby-step towards teaching cmake how to run thenwatchman integration tests natively.nn* Define a library for `pywatchman`.  Note that this ignores then  `bser.c` cpython extension and only uses the `pybser.py` implementationn* Use this aliasing capability from D17147417 to install `watchman/python/bin/watchman-wait`n  which has both a problematic `-` and a problematic lack of a `.py` suffix,n  such that it is not addressable via the `MAIN_MODULE` `module:func()` syntaxn  as `__main__.py` so that it can be directly executed in place of the generatedn  file that would have otherwise been used.nnReviewed By: simpkinsnnDifferential Revision: D17198803nnfbshipit-source-id: 8cabe0fda7bbb2177514daa2b97334fc8b380d71n",20.0,0.0,"CMakeLists.txt,CAS_DELIMITER,python/CMakeLists.txt,CAS_DELIMITER,python/pywatchman/CMakeLists.txt,CAS_DELIMITER",3.0,2.0,3.0,1.234497796794641,30.0,228.0,41.0,0.6264313271604939,6601.0,1.5321147249200904,111.0,None,False,,
3ea98050557fade5abf43fd653cc4b71533e9a75,006eda556aef5deb9987fc64652a77814b2d5c49,svcscm,svcscm@fb.com,Fri Sep 6 08:16:53 2019 -0700,1567783013,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 490a59acf2201a80a6497f6cfdd55751928e54d1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1457.0,0.30380401234567905,1452.0,3.025830430603861,1453.0,None,False,,
006eda556aef5deb9987fc64652a77814b2d5c49,50c810256befb6958949a21036743647971de6de,svcscm,svcscm@fb.com,Fri Sep 6 08:37:51 2019 -0700,1567784271,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: b01fedbe2f90c36caef842d5b2ea9d23afe42dd9n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,924.0,0.014560185185185185,1454.5,52.510333863275044,1455.0,None,False,,
50c810256befb6958949a21036743647971de6de,b1d37201d9b7b62a6c70f722cece8f925345a18b,svcscm,svcscm@fb.com,Fri Sep 6 11:54:03 2019 -0700,1567796043,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 9d7dc9cb5a0d78605b28abba6e68db6e3b7e2ccfn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,441.0,0.13625,1456.0,8.339449541284402,1456.0,None,False,,
b1d37201d9b7b62a6c70f722cece8f925345a18b,735c18c5ce308b9125698359f0d43a97aa9a5220,Wez Furlong,wez@fb.com,Fri Sep 6 14:31:59 2019 -0700,1567805519,"getdeps: build all available boost librariesSummary:nThis should make it easier to eg: enable fbzmq on macos at a laterntime, and also makes things more explicit about what is being built, andnimportantly, by listing these in the manifest ensures that we have anhash change if we change this list; we wouldn't trigger such a changenif the list were encoded solely in builder.pynnReviewed By: chadaustinnnDifferential Revision: D17133149nnfbshipit-source-id: caf0dd45e262188eeefafe0868ef95ad257a4950n",40.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/manifests/boost,CAS_DELIMITER",3.0,1.0,2.0,1.0899483489512156,32.0,411.33333333333326,53.0,45.964070216049386,6604.0,1.1455694769041789,200.0,None,False,,
735c18c5ce308b9125698359f0d43a97aa9a5220,f774d524cc256d3c3009779fc0392ebd0ced8903,svcscm,svcscm@fb.com,Fri Sep 6 15:08:07 2019 -0700,1567807687,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 53864d806519150a5e3e07324373f11b308aac10n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1463.0,0.23045524691358024,1458.0,4.7485095315760395,1459.0,None,False,,
f774d524cc256d3c3009779fc0392ebd0ced8903,6f0581230ca54c39dd052a444193cd3e1b3160f9,svcscm,svcscm@fb.com,Sat Sep 7 00:20:58 2019 -0700,1567840858,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: fbff091b6d8b680a5bf85ffbc5013ab7a89c98f4n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1466.0,0.3839236111111111,1461.0,2.591751831419011,1462.0,None,False,,
6f0581230ca54c39dd052a444193cd3e1b3160f9,42f8df0cae172d15f00d0cc0edde076762b4e3d1,Yedidya Feldblum,yfeldblum@fb.com,Sat Sep 7 16:00:30 2019 -0700,1567897230,"Bake templates into the compiler binarySummary: [Thrift] Bake templates into the compiler binary rather than having to package the templates with the compiler.nnReviewed By: stevegury, vitautnnDifferential Revision: D16356056nnfbshipit-source-id: b971dce7aada8dc2a26587fbf818e661acd0c555n",0.0,5.0,"build/fbcode_builder/CMake/FBThriftCppLibrary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,191.0,3.0,3.9740046296296296,9.0,1.2516353384553551,3.0,None,False,,
42f8df0cae172d15f00d0cc0edde076762b4e3d1,877a97adff72669de25f941f146d21bed0ee6331,svcscm,svcscm@fb.com,Sat Sep 7 16:10:57 2019 -0700,1567897857,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: cd8005d67c1f00a3c6498766cee0c86bb7e91086n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,931.0,0.6597106481481482,1463.5,2.136862050211408,1464.0,None,False,,
877a97adff72669de25f941f146d21bed0ee6331,133b5eae3b8732a27c877e219bd3e783d4be497f,svcscm,svcscm@fb.com,Sun Sep 8 03:38:22 2019 -0700,1567939102,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: ff5b6537e82a543db8c79a25d11f1db0350b1570n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1471.0,0.6972762345679012,1466.0,2.0640845553398903,1467.0,None,False,,
133b5eae3b8732a27c877e219bd3e783d4be497f,676f0a97b1669f605c474807413c3113642572b4,svcscm,svcscm@fb.com,Mon Sep 9 03:40:08 2019 -0700,1568025608,Updating submodulesReviewed By: cdelahoussennfbshipit-source-id: 7701bbfe62955ca44416e4e8658f2cb8b36e918an,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,935.0,1.001226851851852,1468.5,1.7490809886019467,1469.0,None,False,,
676f0a97b1669f605c474807413c3113642572b4,486a760184e044a21b64c5d168944c8106bda0f4,svcscm,svcscm@fb.com,Tue Sep 10 03:02:36 2019 -0700,1568109756,Updating submodulesReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 19a11651244dae4f312838a6075a3e3a25e97017n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1476.0,1.3076774691358024,1471.0,1.5402513482127766,1472.0,None,False,,
486a760184e044a21b64c5d168944c8106bda0f4,c39a353c580ace1036daf7ef27b7b2d6e26e4ac2,svcscm,svcscm@fb.com,Tue Sep 10 14:47:29 2019 -0700,1568152049,Updating submodulesReviewed By: 2d2d2d2d2dnnfbshipit-source-id: f3664e2184148f2ddb04677b426d4daaaa6ea260n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1479.0,0.4895023148148148,1474.0,2.2484335469226586,1475.0,None,False,,
c39a353c580ace1036daf7ef27b7b2d6e26e4ac2,fc8e27b8f270c144d9e6776e0bb65a79c09b87b1,David Tolnay,dtolnay@fb.com,Tue Sep 10 15:04:45 2019 -0700,1568153085,"Delete lines of the form use [a-z_]+;Summary: I think these are left over from pre-2018 code where they may have been necessary. In 2018 edition, import paths in `use` always begin with a crate name or `crate`/`super`/`self`, so `use $ident;` always refers to a crate. Since extern crates are always in scope in every module, `use $ident` does nothing.nnReviewed By: Imxset21nnDifferential Revision: D17290473nnfbshipit-source-id: 23d86e5d0dcd5c2d4e53c7a36b4267101dd4b45cn",0.0,2.0,"rust/serde_bser/src/ser/test.rs,CAS_DELIMITER",1.0,1.0,1.0,0.0,18.0,52.0,1.0,530.2749537037037,0.0,0.0,0.0,None,False,,
fc8e27b8f270c144d9e6776e0bb65a79c09b87b1,6638d465edb379e99ebc0814db339e9187240e84,svcscm,svcscm@fb.com,Tue Sep 10 15:23:55 2019 -0700,1568154235,Updating submodulesReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 7754a091384d11065ee3f06513784bd124a8a66cn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,449.0,0.025300925925925925,1476.0,40.52424519670632,1476.0,None,False,,
6638d465edb379e99ebc0814db339e9187240e84,91c6c35003a6715af18faac7f5c55042276052e1,svcscm,svcscm@fb.com,Wed Sep 11 08:21:17 2019 -0700,1568215277,Updating submodulesReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 4753e836833f8065b64fa9febf870aecee5a25d7n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,991.0,0.7191550925925927,1477.5,2.055339606090433,1478.0,None,False,,
91c6c35003a6715af18faac7f5c55042276052e1,d6f925081a880f3cad490552b187e5781c380fec,Adam Simpkins,simpkins@fb.com,Wed Sep 11 11:29:54 2019 -0700,1568226594,"fbcode_builder: update FBPythonBinary.cmake to work on WindowsSummary:nOn Windows we have to explicitly invoke `make_fbpy_archive.py` with python.nTherefore use CMake's built-in `FindPythonInterp` module to find the pythonnexecutable and use that when invoking `make_fbpy_archive.py`nnThis is slightly complicated by the effort required to find python with oldernversions of CMake.  We ideally still want to support versions of CMake back tonat least 3.8, which means we need to still support finding Python with thenolder `FindPythonInterp.cmake` modulennReviewed By: weznnDifferential Revision: D17128606nnfbshipit-source-id: 3f4beff76848b8a362ebdf21198e7a8bf1b0537fn",64.0,12.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,437.0,4.0,5.15775462962963,101.0,1.1938828175840943,59.0,None,False,,
d6f925081a880f3cad490552b187e5781c380fec,f0559c4ac00394a4bdc59b9a1966f58aa5e8e55a,svcscm,svcscm@fb.com,Wed Sep 11 12:21:17 2019 -0700,1568229677,Updating submodulesReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 0643fdce9eee21b5caea3af56f9638cf10cd1756n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1485.0,0.4106018518518519,1480.0,4.270605479760965,1481.0,None,False,,
f0559c4ac00394a4bdc59b9a1966f58aa5e8e55a,fcc8e58fc0d71fe5617cf41f003abe0087bfff1f,svcscm,svcscm@fb.com,Wed Sep 11 12:49:05 2019 -0700,1568231345,Updating submodulesReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 88ae4e26203b5cb9fa04d730c0fac57d8149cac6n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,945.0,0.019305555555555555,1482.5,39.84892086330936,1483.0,None,False,,
fcc8e58fc0d71fe5617cf41f003abe0087bfff1f,e818389e70dbfe88f8909027e4e6ded34e20564d,svcscm,svcscm@fb.com,Wed Sep 11 15:40:55 2019 -0700,1568241655,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/e1edede646fb9ecbdef8c25f1a2884ae71c83df6nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 82b30a2a997d68131df21bbdcfd0bc3aab924b29n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,453.0,0.1193287037037037,1484.0,9.380213385063048,1484.0,None,False,,
e818389e70dbfe88f8909027e4e6ded34e20564d,f2250539a19b60e6ccef2352a044513c04a45dc0,David Tolnay,dtolnay@fb.com,Wed Sep 11 22:00:24 2019 -0700,1568264424,"Delete extern crate linesSummary:n`extern crate` is usually no longer needed in 2018 edition of Rust. This diff removes `extern crate` lines from fbcode where possible, replacing #[macro_use] with individual import of macros.nnBefore:nn```n#[macro_use]nextern crate futures_ext;nextern crate serde_json;n```nnAfter:nn```nuse futures_ext::try_boxfuture;n```nnReviewed By: Imxset21nnDifferential Revision: D17313537nnfbshipit-source-id: 70462a2c161375017b77fa44aba166884ad2fdc3n",13.0,18.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/serde_bser/src/de/bunser.rs,CAS_DELIMITER,rust/serde_bser/src/de/map.rs,CAS_DELIMITER,rust/serde_bser/src/de/mod.rs,CAS_DELIMITER,rust/serde_bser/src/de/read.rs,CAS_DELIMITER,rust/serde_bser/src/de/reentrant.rs,CAS_DELIMITER,rust/serde_bser/src/de/template.rs,CAS_DELIMITER,rust/serde_bser/src/de/test.rs,CAS_DELIMITER,rust/serde_bser/src/errors.rs,CAS_DELIMITER,rust/serde_bser/src/lib.rs,CAS_DELIMITER,rust/serde_bser/src/ser/test.rs,CAS_DELIMITER",11.0,1.0,4.0,2.8132163477312417,24.0,159.63636363636363,35.0,98.55662563131314,6.0,1.002946451518559,11.0,None,False,,
f2250539a19b60e6ccef2352a044513c04a45dc0,7c48ee0ac8c94f2aaa611fdf5031249d15a9fb5a,svcscm,svcscm@fb.com,Thu Sep 12 14:11:19 2019 -0700,1568322679,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8d88865b18029201bb1b83966eea6b1594d69d3enhttps://github.com/facebook/fbzmq/commit/3549556e956ff37e1b8766a733a5fd95ab03b73enhttps://github.com/facebook/folly/commit/88e03cf4ab21821f29783fd6f75f29ac531240bfnhttps://github.com/facebook/litho/commit/e58b72216efa1b7e6657df7fe1e02f424bd48beanhttps://github.com/facebook/proxygen/commit/ac9918c3e56bcfa6a303ac8bf0cc10617334f3fanhttps://github.com/facebook/rocksdb/commit/d35ffd569c20cf721d58c7ce1e3a73f31a322c32nhttps://github.com/facebook/wangle/commit/17b64199fd87670827dfb2c408f4cebddee58703nhttps://github.com/facebookincubator/fb303/commit/68b0e4d85ae76547aa746136c51843121505ff1fnhttps://github.com/facebookincubator/katran/commit/3d6c07527e78a1374bebbe252352b34f7d19f6f6nhttps://github.com/facebookincubator/mvfst/commit/ac0ed8caa4274adc769567c0c15f785a13c2d74dnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 5bd72fbd7e1fc8fe0e0f69ab00aeb0d045348444n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1491.0,1.0237654320987657,1486.0,1.6294745554285408,1487.0,None,False,,
7c48ee0ac8c94f2aaa611fdf5031249d15a9fb5a,9f7d709c545d961613208c2c9f29a853c8de8e7f,svcscm,svcscm@fb.com,Thu Sep 12 17:17:50 2019 -0700,1568333870,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c5b1078066a3d681dd072e355fa4094c1c14661anhttps://github.com/facebook/fbzmq/commit/92a6ede4efc3810cfbc72af4a489699202132a90nhttps://github.com/facebook/proxygen/commit/b87f792ffd58d7f90ee3646cfec73670517ffd2dnhttps://github.com/facebook/rocksdb/commit/a378a4c2ac8232cbaccc14b9282c09c98a259fd6nhttps://github.com/facebook/wangle/commit/7f9dd385b04bb6bb929170156a876b4ab2dee01bnhttps://github.com/facebookincubator/fb303/commit/b48dde82fadeeffb5e64df22e9b722325fecd6a5nhttps://github.com/facebookincubator/fizz/commit/ce183205ac5a7834ff41a28bb05d0af631f21678nhttps://github.com/facebookincubator/katran/commit/46b3738a1ded48671f6d058781b41cec7d7d8195nhttps://github.com/facebookincubator/mvfst/commit/9ec189e4990cbda0d0e484cf46fd25739902a98bnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: f72bb0b0e577243b807c6e641629aa0311216174n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,950.0,0.12952546296296294,1488.5,6.790367259404879,1489.0,None,False,,
9f7d709c545d961613208c2c9f29a853c8de8e7f,0cdb5e37d4160f39527d0753b3560a8096fb3e5f,Hasnain Lakhani,mhl@fb.com,Thu Sep 12 23:33:50 2019 -0700,1568356430,Add CMake option to fetch deps staticallySummary:nWe would like to build a version of proxygen that has minimalndependencies on dynamic libraries.nnReviewed By: yfeldblumnnDifferential Revision: D17228181nnfbshipit-source-id: cfd61afdfa978c49a536184f426502196241fb8an,14.0,0.0,"build/fbcode_builder/CMake/FBBuildOptions.cmake,CAS_DELIMITER,build/fbcode_builder/manifests/fizz,CAS_DELIMITER",2.0,1.0,2.0,0.3712323266408756,2.0,11.5,1.0,66.16014467592592,0.5,0.5037787099956413,1.0,Feature Addition,False,,
0cdb5e37d4160f39527d0753b3560a8096fb3e5f,8b1b7300114c81493b0f280c2c453a722708a4b5,svcscm,svcscm@fb.com,Thu Sep 12 23:56:03 2019 -0700,1568357763,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/fbe5d64918d984bd89f681ddbe79f29a7217af61nhttps://github.com/facebook/fbzmq/commit/9431d78be4be74292d05a3168ab8d57dbd04c1cbnhttps://github.com/facebook/folly/commit/0c5ceda68a92447a9c47d94649ad4631f1b4a38dnhttps://github.com/facebook/proxygen/commit/f58496300e890d22343d6895ac6fe78326b2f30cnhttps://github.com/facebook/wangle/commit/1118ea1999a6957380cc70da1e3261ee87219ffbnhttps://github.com/facebookincubator/fb303/commit/b51cd36793c2aeac8efe12a3248e8056f52f228anhttps://github.com/facebookincubator/fizz/commit/957df32bce93c0939e67531ca178bc921f21daaenhttps://github.com/facebookincubator/katran/commit/85fcaaa896008a1f2533fb4612de52b60fc81e58nhttps://github.com/facebookincubator/mvfst/commit/13b424652e742f96b6c200a2a667fe5de816e136nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 85d523f46124d20d710b8726b2248aea96d7c7fen,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1496.0,0.31971450617283953,1491.0,3.0412321959506534,1492.0,None,False,,
8b1b7300114c81493b0f280c2c453a722708a4b5,19cbad7e6fd1c7df2e48e55d27b528e338e99512,svcscm,svcscm@fb.com,Fri Sep 13 00:19:12 2019 -0700,1568359152,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8e45af9c4c5b3da09d83c3f6fb05a9561ee0d440nhttps://github.com/facebook/fbzmq/commit/ed4b4000153163536efbad0dcd38920fedd0b4fbnhttps://github.com/facebook/proxygen/commit/5a4e5de51753f405106142f4611b243cadc29777nhttps://github.com/facebook/wangle/commit/544a63f02ea3bf3d849b367d1a90ea3ade1b1b8bnhttps://github.com/facebookincubator/fb303/commit/fddd67d14b41257fbc51b151b41278c0ae931db9nhttps://github.com/facebookincubator/fizz/commit/01c3f199619799f01c2379e3a4110ed0781f9863nhttps://github.com/facebookincubator/katran/commit/3ffe790576b5d50733c967f6d41f1f71b1310222nhttps://github.com/facebookincubator/mvfst/commit/994d90e1473cfceeb2ba7abcda49b1338be2ce9annReviewed By: 2d2d2d2d2dnnfbshipit-source-id: a104beddd09e8dfd7077d0fda4f5a440564ecf9an,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,954.0,0.01607638888888889,1493.5,47.65226781857452,1494.0,None,False,,
19cbad7e6fd1c7df2e48e55d27b528e338e99512,504938ef6b9bc0e6ac1874397d47f2aab72342f3,Glen Bayley,glen@fb.com,Fri Sep 13 07:39:42 2019 -0700,1568385582,Small bug fixesSummary: Fixes a typo and non-awaited async callsnnReviewed By: weznnDifferential Revision: D17353384nnfbshipit-source-id: 519d54151b2ccb5edfbb6e8cbdfe065909bf6470n,3.0,3.0,"python/pywatchman_aio/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,394.0,5.0,168.97229166666668,0.0,0.0,0.0,Corrective,True,,
504938ef6b9bc0e6ac1874397d47f2aab72342f3,37901aecea5aab1b635eb1be5ae0aadac22c264d,svcscm,svcscm@fb.com,Fri Sep 13 11:14:36 2019 -0700,1568398476,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/147778cb7596c58a98c347e8ebe56a1ee552f238nhttps://github.com/facebook/folly/commit/f65c05bba6abeae90562acddd43623b47bdf1ec7nhttps://github.com/facebook/litho/commit/2e8cae784af14748544e499846f9242faa8e4af7nhttps://github.com/facebook/rocksdb/commit/9ba88a1e5daa2db4cbd5b2c6b494924eb8969889nhttps://github.com/facebookresearch/pytorch-biggraph/commit/f0dd9a4e882aa8abd8be50374074175f5cab800annReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 38d79d7253a006cd05e4d024ac4444528e12d049n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1003.0,0.4631770833333333,1495.5,2.6383161268230806,1496.0,None,False,,
37901aecea5aab1b635eb1be5ae0aadac22c264d,2877b16bea0863a48b2015d58a71247406f5e873,svcscm,svcscm@fb.com,Fri Sep 13 18:30:00 2019 -0700,1568424600,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/e43fac0667afacf5af7b425c3150992641be00d8nhttps://github.com/facebook/litho/commit/ebec93cbac1c02930dea2dfd40e40f89302f2c2dnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 6a3fd35c4a8f183541300cb0c4763ab073acfd35n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,957.0,0.5299305555555556,1497.5,3.1254117410386413,1498.0,None,False,,
2877b16bea0863a48b2015d58a71247406f5e873,8de2d20a451767724fb1424a615360b873ce2d68,svcscm,svcscm@fb.com,Sat Sep 14 19:34:37 2019 -0700,1568514877,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/5e7490a62c900eb249ed4a561421af65bcce0f24nhttps://github.com/facebookincubator/fb303/commit/eb7234015ad2869b84263cfbc44c2a3d6669d55bnhttps://github.com/facebookincubator/katran/commit/ec65e6a9fa7d29238ea7e8f566513253cff320c7nhttps://github.com/facebookincubator/mvfst/commit/3bb27bbf6c655ab23a78a8dea7e12400ed430cbfnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: cdededce714fdb447a396c7e2dfabe353364dbf2n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,499.0,1.0448726851851853,1499.0,1.957054399237901,1499.0,None,False,,
8de2d20a451767724fb1424a615360b873ce2d68,2d8aa5107484ee2fc17a30ec674bfaea772b571f,svcscm,svcscm@fb.com,Sun Sep 15 12:09:41 2019 -0700,1568574581,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d44f5f8be66e42d86f5600b95b64ae72a620af29nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: a1dad2eca9ad62c3751349775c2775ba8ae2ff4cn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,460.0,1.7358912037037038,1500.0,1.5760729692427708,1500.0,None,False,,
2d8aa5107484ee2fc17a30ec674bfaea772b571f,782ac423ef49a0574365f0795b99d9465dd4717a,svcscm,svcscm@fb.com,Mon Sep 16 09:59:50 2019 -0700,1568653190,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/09d4c888f5d24d3f52fd2fb54896db5a0b84faccnhttps://github.com/facebook/rocksdb/commit/915d72d849d0ba1fe88310ea81ce627270b88df7nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 46435ff8e118c817f052d27ed67bfc6336629855n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1507.0,1.819583333333333,1502.0,1.5138369823429312,1503.0,None,False,,
782ac423ef49a0574365f0795b99d9465dd4717a,3d3a2e96affc115f25d827ac71f6ecd3efedf817,svcscm,svcscm@fb.com,Mon Sep 16 12:38:27 2019 -0700,1568662707,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8271eadc3662f0795f07f0a41dd536a5be0ba333nhttps://github.com/facebook/fbzmq/commit/0cc120cf18087e63195707f7b009d8d3b7970cf7nhttps://github.com/facebook/mcrouter/commit/956efeecd419cadf9e5652aad5b0ee03573afaefnhttps://github.com/facebookincubator/fb303/commit/9a90f3e9965b5d3fe1afc56d633e32f2ec0f3bcdnnReviewed By: yns88nnfbshipit-source-id: f171cd156ffbaff6f2bc1fe8e15ad8df1f9a4a06n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,462.0,0.11015046296296296,1504.0,10.078491121151622,1504.0,None,False,,
3d3a2e96affc115f25d827ac71f6ecd3efedf817,9817be14ab959a270a5030854e8d3a16400965aa,Wez Furlong,wez@fb.com,Mon Sep 16 12:55:43 2019 -0700,1568663743,"getdeps: fix openssl dep for libevent on macosSummary:nwhile testing https://github.com/facebook/watchman/pull/743 on macOSnI noticed that the libevent build failed to find openssl.nnopenssl is special on macos because apple do not ship the headers.nWe already build and depend on openssl for the folly manifest onnmacos, so this is really just adding a missing edge.nnReviewed By: simpkinsnnDifferential Revision: D17385053nnfbshipit-source-id: 1b688537fef422d81a959fc5749c871b9e868baan",1.0,1.0,"build/fbcode_builder/manifests/libevent,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,23.0,1.0,135.87715277777778,6606.0,1.0073595890078406,201.0,None,False,,
9817be14ab959a270a5030854e8d3a16400965aa,78d33b20b1119b3e4fadde91d8f8a1ce3389d38a,Wez Furlong,wez@fb.com,Mon Sep 16 12:55:43 2019 -0700,1568663743,"getdeps: restructure bison+flex dependenciesSummary:nWe've been squeaking by with assuming that flex is installed alreadynon posix systems, but that isn't the case on the github actions defaultnconfiguration.nnAdjust the bison recipe: on windows it deploys both flex and bison.  We use thensame source for both flex and bison but install flex to a separate installnprefix to make it easier to consume the flex dependency distinct from the bisonndependency.nnThe latest flex release segfaults during compilation on linux unless wenforce -DGNU_SOURCE, so the manifest does that on linux.nnReviewed By: simpkinsnnDifferential Revision: D17385051nnfbshipit-source-id: 9f31b07849af9de50099d1b20bedba517bbbdf2fn",28.0,4.0,"build/fbcode_builder/manifests/bison,CAS_DELIMITER,build/fbcode_builder/manifests/fbthrift,CAS_DELIMITER,build/fbcode_builder/manifests/flex,CAS_DELIMITER",3.0,1.0,1.0,0.8180914641842123,1.0,20.33333333333333,4.0,88.63512345679014,6608.0,1.0049603539226404,204.0,None,False,,
78d33b20b1119b3e4fadde91d8f8a1ce3389d38a,da0e10453f547b997ff67eaeddb8f7b695cb71e1,Wez Furlong,wez@fb.com,Mon Sep 16 12:55:43 2019 -0700,1568663743,"getdeps: prefer MSVC over gcc when building on GitHub Actions CISummary:nwhile testing https://github.com/facebook/watchman/pull/743 Innoticed that the cmake builds were picking up the installed mingw GCCncompiler rather than the MSVC compiler.  That would be fine except thatnboost is built with MSVC and its generated libraries cannot be subsequentlynfound by a cmake gcc build that uses FindBoost.nnThis commit forces cmake to pick cl.exe rather than gcc.  This is probablynfine to do unconditionally on windows, but since I've only observed thisnparticular problem with GitHub Actions I'm keeping it constrained to thatnenvironment for now.nnReviewed By: simpkinsnnDifferential Revision: D17385050nnfbshipit-source-id: 90bef898b138e5d4bbd28a155ed1bd468acee9den",10.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,765.0,30.0,9.933148148148147,6610.0,1.1006730177669233,205.0,None,False,,
da0e10453f547b997ff67eaeddb8f7b695cb71e1,2273a465b3d727fc77c089a5296b854802f6ba1b,Wez Furlong,wez@fb.com,Mon Sep 16 12:55:43 2019 -0700,1568663743,"getdeps: teach builder how to find vs 2019Summary:nGitHub Actions CI `windows-latest` environment has only VS 2019ninstalled, so we need to expand our logic to be able to locate it.nnNote that Boost 1.69 doesn't know how to locate VS 2019 so we are effectivelyntied to VS 2017 at the moment; the search order in this diff reflects that.nn(That means that we can't target `windows-latest` on GitHub Actions, but thatnis really a concern for a later diff in this stack)nnReviewed By: simpkinsnnDifferential Revision: D17385052nnfbshipit-source-id: 9bb0612154f42d425a625406488f39bb4ec3d8aen",18.0,13.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,346.0,17.0,33.94971064814815,6611.0,1.0294553320457989,206.0,None,False,,
2273a465b3d727fc77c089a5296b854802f6ba1b,db25b187309dfe35909f7af4add6d2152da21d7f,Wez Furlong,wez@fb.com,Mon Sep 16 12:55:43 2019 -0700,1568663743,"Let's try a github action to build things (#743)Summary:nThis commit adds a getdeps command that is able to generatena workflow file for the GitHub Actions CI environment.nnThe workflow file could be expressed more simply using the matrixnsyntax and with three steps (checkout, build, test), but I chose tonbreak out the steps for each of the dependencies because the UXnwhile waiting on the build is much nicer that way: the steps shownduring and live log tailing for the section of the build that isnunderway.  If they were all lumped into a single build step thennthe logs from the boost section of the build dominate and makenthe github UI work very hard.nnPull Request resolved: https://github.com/facebook/watchman/pull/743nnTest Plan:nhttps://github.com/facebook/watchman/pull/743 successfullynexecutes the github actions CI flow.nn```n$ opensource/fbcode_builder/getdeps.py generate-github-actions --output-file watchman/.github/workflows/main.yml watchmann```nnReviewed By: simpkinsnnDifferential Revision: D17384915nnPulled By: weznnfbshipit-source-id: 9a9e5a3e806c18f6cc38ba1cb7059740cda01ad4n",431.0,0.0,".github/workflows/main.yml,CAS_DELIMITER,build/fbcode_builder/getdeps.py,CAS_DELIMITER",2.0,2.0,2.0,0.7894399142167384,32.0,317.0,30.0,5.279126157407409,6612.5,0.5473563223430856,207.0,None,False,,
db25b187309dfe35909f7af4add6d2152da21d7f,bd786816a00a2e1aa0e9156920c765d276b2f18b,svcscm,svcscm@fb.com,Mon Sep 16 13:25:32 2019 -0700,1568665532,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c18b4a1324f3fcea51b20afbd775e5b4e6fcf687nhttps://github.com/facebook/fbzmq/commit/bff2c748004e0f095c9720378abdc969adbc6456nhttps://github.com/facebook/folly/commit/a92b821db2554968553708f721d0de1271003b6cnhttps://github.com/facebook/proxygen/commit/351071d9cdcf06a715f93a92b1cc5149ba82dc9fnhttps://github.com/facebook/wangle/commit/1a768a3962739552f8ad3ee883d08dc506d424b2nhttps://github.com/facebookincubator/fb303/commit/9eb450d573b365275aef21c648b83914826cf0f5nhttps://github.com/facebookincubator/fizz/commit/77860f0a62b4525f8fc5f1d9ef4a40b892c692fanhttps://github.com/facebookincubator/katran/commit/0d92268cbed76f523f7989507f45393ae2086650nhttps://github.com/facebookincubator/mvfst/commit/7ee1bffda20d3148c1f4c2fea6a827a4264a2a98nnReviewed By: yns88nnfbshipit-source-id: 66b0c966b579ac0f6a688068f355254ac4deb679n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1511.0,0.10613040123456788,1506.0,14.140479726820026,1507.0,None,False,,
bd786816a00a2e1aa0e9156920c765d276b2f18b,55521c9de5840b8ff9d95b4f7545532f07ecc2b3,svcscm,svcscm@fb.com,Mon Sep 16 13:43:35 2019 -0700,1568666615,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b737304fcca808386cc153efebe210d871c7f9a3nhttps://github.com/facebook/fbzmq/commit/8075e225432797ac6b55217e9e1b4f53865d6f98nhttps://github.com/facebook/proxygen/commit/a4bcc2e4416764fda80715bc81727e93e3c98267nhttps://github.com/facebook/wangle/commit/140ffd398922ce0a7e133220020212cd4a4a679anhttps://github.com/facebookincubator/fb303/commit/5d7bf4a4cf1c760bbda99ed4a77c91c96b1966e3nhttps://github.com/facebookincubator/fizz/commit/66648e374108dc2953540f4a92bf550b4f2e6d1fnhttps://github.com/facebookincubator/katran/commit/24c18300d12de66f3ac701fb0524d6559f3b828dnhttps://github.com/facebookincubator/mvfst/commit/2c34cc2568d80138bb44f27cdb1c309e746e2f12nnReviewed By: yns88nnfbshipit-source-id: 11036e658b052d866459b99b964fa7060f9fa437n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,966.0,0.01253472222222222,1508.5,60.83379501385042,1509.0,None,False,,
55521c9de5840b8ff9d95b4f7545532f07ecc2b3,d42b43e4ec0b4f0174133acc4ecf41af32e4952d,Chad Austin,chadaustin@fb.com,Mon Sep 16 15:39:59 2019 -0700,1568673599,fbcode_builder: add a license header to FBBuildOptions.cmakeSummary:nAdd a license header to satisfy the open source linter. Use the samenheader the other .cmake files have.nnReviewed By: mhlakhaninnDifferential Revision: D17404782nnfbshipit-source-id: 66679d72c9e680f8bb8b27869e981a046b3520cfn,2.0,0.0,"build/fbcode_builder/CMake/FBBuildOptions.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,13.0,1.0,3.6709375,14.0,1.2724099770154085,6.0,None,False,,
d42b43e4ec0b4f0174133acc4ecf41af32e4952d,bace83f13d8580569f54ad4efb27a965630a1b34,svcscm,svcscm@fb.com,Mon Sep 16 16:39:52 2019 -0700,1568677192,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3f6029597921c42ce4b7d5b91110776a50417381nhttps://github.com/facebook/fbzmq/commit/ef0eb1eef5972b971aabed2b8e4d9f3ec1aa8dd1nhttps://github.com/facebook/proxygen/commit/0009b19189c311424bca1d4338703480f8eb1f35nhttps://github.com/facebook/rocksdb/commit/68626249c3551bd31ba8712ba0fc86f31f00890cnhttps://github.com/facebook/wangle/commit/79f4abaa8683d346c5eee8a4a4d119629d88a4fdnhttps://github.com/facebookincubator/fb303/commit/cfa482e8897436cca14f025945e79e07814ca556nhttps://github.com/facebookincubator/fizz/commit/5602c2ad9d16bb18f008ac7d30a2f2c7032c079cnhttps://github.com/facebookincubator/katran/commit/2314bbaf7d05e20727aa5efb4f5f699138bbc80anhttps://github.com/facebookincubator/mvfst/commit/d49dcc44456a13ffad85c4388007535d23956460nnReviewed By: yns88nnfbshipit-source-id: 7e6ace9d7322bb23e89a95d5162fc81ac23a8e6cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1516.0,0.12659722222222222,1511.0,5.895702184287442,1512.0,None,False,,
bace83f13d8580569f54ad4efb27a965630a1b34,68436923f749080dc68df77db26d510741ab5b37,Wez Furlong,wez@fb.com,Mon Sep 16 17:36:23 2019 -0700,1568680583,"getdeps: adjust fixup-dyn-deps to optionally use absolute pathsSummary:nThis commit teaches fixup-dyn-deps how to generate correctnabsolute paths in the context of the ultimate install path (specifiednvia the `--final-install-prefix` option)nnAbsolute paths are desirable if you have, for example, an executablenthat you wish to install with the setuid bit set.nnReviewed By: simpkinsnnDifferential Revision: D17361491nnfbshipit-source-id: 4c4f3f15208266300622f84dc9cd1ba83883dfb7n",24.0,15.0,"build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,283.0,4.0,66.94,6614.0,1.0149387511204064,208.0,None,False,,
68436923f749080dc68df77db26d510741ab5b37,209c493029725b7496fb5cf209d9fb9f4488262f,svcscm,svcscm@fb.com,Mon Sep 16 17:57:58 2019 -0700,1568681878,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d12c28952d63f329b885739aff9960a10ef4722enhttps://github.com/facebook/fbzmq/commit/a09ffe23e71f61d98ed32446d75ef6b8f9d4123bnhttps://github.com/facebook/folly/commit/9dc9ee901b3937128c7872f447c7a7f271c61c71nhttps://github.com/facebook/proxygen/commit/f3531c5fa57011660eb1f0bcf27c9bddbf32db43nhttps://github.com/facebook/wangle/commit/74efa0633d4cee716d9766ca2e56eeb9dfdf37c1nhttps://github.com/facebookincubator/fb303/commit/ce83620636e871cf515222409792c13bd1cb7e15nhttps://github.com/facebookincubator/fizz/commit/5040e7f288b32fa3d88fefc33495dd2ba04c3493nhttps://github.com/facebookincubator/katran/commit/af51be5bcb5b4ed1c9391aa713e4d7101f42a76cnhttps://github.com/facebookincubator/mvfst/commit/549ea0a864830bca742a08f2d618fd374f6c0cefnnReviewed By: yns88nnfbshipit-source-id: 4d7cbe140667ba738af5e802135efbdd9f12c396n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1519.0,0.05423611111111112,1514.0,12.267605633802814,1515.0,None,False,,
209c493029725b7496fb5cf209d9fb9f4488262f,0fb307d890fcdeb04c18f6c324ce87fcbcc256b6,svcscm,svcscm@fb.com,Mon Sep 16 18:26:33 2019 -0700,1568683593,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/22c06084b89333a47c6de76c07452da3fcbbc17cnhttps://github.com/facebook/fbzmq/commit/5313a89c383586cd0ac6c5fd187cd54caf572b85nhttps://github.com/facebook/proxygen/commit/18836fbae0305a5f817c714e75dc19fdffba131enhttps://github.com/facebook/wangle/commit/81217e50a5ebea767b3ebacee07351eb7a656e46nhttps://github.com/facebookincubator/fb303/commit/4c993e5dc0025993f3544af11cb5d1492c1945f8nhttps://github.com/facebookincubator/fizz/commit/0d6d85ff26567df96bf376a2c73ea548c16138e7nhttps://github.com/facebookincubator/katran/commit/ba1537d7a4cf8f09f63b028e3f9ba0b972e247d2nhttps://github.com/facebookincubator/mvfst/commit/c0ad1625c8dc3e733b92ac3856b649944f139580nnReviewed By: yns88nnfbshipit-source-id: d0cd56fbf45e07b689220fb975c481d9c1a314b6n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,972.0,0.01984953703703704,1516.5,38.784256559766774,1517.0,None,False,,
0fb307d890fcdeb04c18f6c324ce87fcbcc256b6,7a330d6e3cfcf58def3df8ce68dc651e0c12dfa1,Adam Simpkins,simpkins@fb.com,Mon Sep 16 21:07:54 2019 -0700,1568693274,"add a command line option to disable the build cacheSummary:nThis is useful when working on changes to some of the builder functions,nto skip ever trying to use cached results.nnReviewed By: chadaustinnnDifferential Revision: D17401219nnfbshipit-source-id: fb7d5ea45618653957b9bd6a62eed91d8334824dn",8.0,1.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,736.0,31.0,0.3417939814814815,102.0,3.925739053875588,60.0,Feature Addition,False,,
7a330d6e3cfcf58def3df8ce68dc651e0c12dfa1,a36c638944daf0b186effb9ba7ce024ebe4678a0,Adam Simpkins,simpkins@fb.com,Mon Sep 16 21:07:54 2019 -0700,1568693274,"fix the thrift CMake rules to add dependencies on the thrift compilerSummary:nUpdate the thrift C++ and Python CMake rules to indicate that the output alsondepends on the thrift compiler itself.nnPreviously the C++ rule indicated that the output depended on the thriftntemplate files, which caught most cases when the thrift compiler was updated,nbut wasn't fully correct.  The thrift templates were also removed and bakedninto the thrift compiler binary in D16356056.nnReviewed By: yfeldblum, chadaustinnnDifferential Revision: D17401217nnfbshipit-source-id: ae5cde7a7e5e07a74406a1b6f4469124187bc12fn",3.0,1.0,"build/fbcode_builder/CMake/FBThriftCppLibrary.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FBThriftPyLibrary.cmake,CAS_DELIMITER",2.0,1.0,1.0,1.0,30.0,147.5,5.0,13.587222222222225,103.5,1.0726679972103053,62.0,Corrective,True,,
a36c638944daf0b186effb9ba7ce024ebe4678a0,c5a37f0431f556c09d7e77a53a5416c3a0f71bc8,svcscm,svcscm@fb.com,Mon Sep 16 21:27:19 2019 -0700,1568694439,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b2ad9c27cda747287dec106dd9b45f9a92af3935nhttps://github.com/facebook/fbzmq/commit/774ef72134e065dbdcd1f4ba3403f4e26bba4220nhttps://github.com/facebook/folly/commit/e01c5188d5109cb9e66e9b9418aa34817be2fce6nhttps://github.com/facebook/proxygen/commit/464a4b57db624c7f8aab8e0fb37b927457ed85eenhttps://github.com/facebook/rocksdb/commit/6287f0d73bf4ec641706dc41d35ba839b7844b58nhttps://github.com/facebook/wangle/commit/78594977009c31ac62ac167c22f8a4f92716c24enhttps://github.com/facebookincubator/fb303/commit/c90c863685e378aff3c35d6d497106dbde59bcf6nhttps://github.com/facebookincubator/fizz/commit/48892814e22207913dbef758270ce84012793a16nhttps://github.com/facebookincubator/katran/commit/6405617405c9227dd80dbea8dea58848a41fd3fdnhttps://github.com/facebookincubator/mvfst/commit/9036b9e85fd49086d90550d2b61cfdafce599e96nnReviewed By: yns88nnfbshipit-source-id: 5fc47df704471e1b99649223c168fd602d555e48n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1524.0,0.13214891975308646,1519.0,5.7265602411123595,1520.0,None,False,,
c5a37f0431f556c09d7e77a53a5416c3a0f71bc8,ab2fa2f3c315989030fae8d9f107f84428807c25,svcscm,svcscm@fb.com,Tue Sep 17 20:38:12 2019 -0700,1568777892,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f08d9952d454155b2cb67795482d87d66781a54enhttps://github.com/facebook/proxygen/commit/f1656a2a8fb80c41f8c9a3c46ef04a3133a5f1c5nnReviewed By: yns88nnfbshipit-source-id: d9785449bf43611ac996c8cda7c48abffe264eb9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1527.0,0.9658912037037036,1522.0,1.6326914550705187,1523.0,None,False,,
ab2fa2f3c315989030fae8d9f107f84428807c25,5844afddf82a5b7b7170176eae7b45cdae05149f,svcscm,svcscm@fb.com,Tue Sep 17 22:41:42 2019 -0700,1568785302,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbzmq/commit/6b53ce8f284a6cce2fcb4f7203fadd04d0aa364fnhttps://github.com/facebook/wangle/commit/30b44a1bd6777fe4cbefa58ad9afab7a50861e9enhttps://github.com/facebookincubator/katran/commit/15c86ae532befc71e1c875ee21b6d968ab65cbcfnhttps://github.com/facebookincubator/mvfst/commit/5f158c6b939796b0aeadb2dc364e4fb8f39be008nnReviewed By: yns88nnfbshipit-source-id: 503713f25e3dc6119f52f6142de66b1e8df01bb3n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,508.0,0.08576388888888889,1524.0,12.659919028340079,1524.0,None,False,,
5844afddf82a5b7b7170176eae7b45cdae05149f,1d79a95ea593c322184a8b9f1688002354ace9bf,Udip Pant,udippant@fb.com,Wed Sep 18 11:54:27 2019 -0700,1568832867,add PKG_CONFIG_PATH in the env variable for build cmdsSummary: This enables appending PKG_CONFIG_PATH to env variablennReviewed By: weznnDifferential Revision: D17363236nnfbshipit-source-id: 18c6d7a97ba83edf085278bccaafa80821ea8860n,16.0,8.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",2.0,1.0,1.0,0.6500224216483541,32.0,563.0,49.0,1.957453703703704,3.5,1.3831508242472978,4.0,Feature Addition,False,,
1d79a95ea593c322184a8b9f1688002354ace9bf,ef47dd9c8a67a0b72fbe15ec0c561bbefb6d4e3f,Udip Pant,udippant@fb.com,Wed Sep 18 11:54:27 2019 -0700,1568832867,add manifest for katran and its dependenciesSummary: Dependencies include libbpf and libelfnnReviewed By: weznnDifferential Revision: D17363237nnfbshipit-source-id: 4408f2fbabbbde170b57779422038b32e52c6f51n,75.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/manifests/katran,CAS_DELIMITER,build/fbcode_builder/manifests/libbpf,CAS_DELIMITER,build/fbcode_builder/manifests/libelf,CAS_DELIMITER,build/fbcode_builder/manifests/zlib,CAS_DELIMITER",5.0,1.0,2.0,1.8679791335216864,33.0,157.8,33.0,27.566921296296293,7.0,0.20145101440853946,9.0,Feature Addition,False,,
ef47dd9c8a67a0b72fbe15ec0c561bbefb6d4e3f,3d8e0cf14f96ec3617e44bc95f9cecc22578fe7a,Udip Pant,udippant@fb.com,Wed Sep 18 11:54:27 2019 -0700,1568832867,revamp of cmake in katran to support oss build with fbcode_builderSummary: changes the way it pulls its dependenciesnnReviewed By: weznnDifferential Revision: D17363235nnfbshipit-source-id: 37e509c7e413f763e3553e9f01ac23951045089cn,1.0,1.0,"build/fbcode_builder/manifests/katran,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,35.0,1.0,0.0,10.0,0.0,10.0,None,False,,
3d8e0cf14f96ec3617e44bc95f9cecc22578fe7a,8f83e249ad7a7af767067693cbfd7ffbdc9e25dc,Udip Pant,udippant@fb.com,Wed Sep 18 11:54:27 2019 -0700,1568832867,include unit tests and integration tests in the cmake buildSummary: This enable test targets to be built and rannnReviewed By: lnicconnDifferential Revision: D17408942nnfbshipit-source-id: 144d223bc3830d07a0420e9569d3166a8646cd9an,6.0,2.0,"build/fbcode_builder/manifests/katran,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,35.0,2.0,0.0,11.0,0.0,11.0,Preventative,False,,
8f83e249ad7a7af767067693cbfd7ffbdc9e25dc,3c030de350c4a822d2f30fdd52e2a85b56d0f576,svcscm,svcscm@fb.com,Wed Sep 18 12:25:55 2019 -0700,1568834755,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/98b1bf72667d9c9d72b1241575b9c2dd95e0105fnhttps://github.com/facebook/fbzmq/commit/3e2e1ba4656acffd12bc348006cb6e88ce8ee102nhttps://github.com/facebook/folly/commit/cc7739681b6df4d05b12f9f8330f7e553504bb5fnhttps://github.com/facebook/proxygen/commit/6faa880bf1920f3bebc30994cd544543250304d7nhttps://github.com/facebook/rocksdb/commit/6a279037cf5bb23b60f81e24f731376a195cbf11nhttps://github.com/facebook/wangle/commit/5149c5b354dbfb4bcbcf1543c60ce2ffe72e0e46nhttps://github.com/facebookincubator/fizz/commit/489f4613e5e88051d3d04e705d1a5c1aac4f5d95nhttps://github.com/facebookincubator/katran/commit/ea14236365947f022e91b22f1ee605ae2bab7827nhttps://github.com/facebookincubator/mvfst/commit/4904121082200967351b00a4850b9ed0a9725ec2nnReviewed By: yns88nnfbshipit-source-id: a8e8e9a7f5d3c244d9c836ea011844e5f2cfe61fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1531.0,0.6295486111111112,1526.0,1.936214031056435,1527.0,None,False,,
3c030de350c4a822d2f30fdd52e2a85b56d0f576,8a279eeff81a8b6a7a52fe2b9bad08c67d7110fa,svcscm,svcscm@fb.com,Wed Sep 18 18:20:29 2019 -0700,1568856029,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3b434df6de310ef418aeb49311f66c06a29db9cbnhttps://github.com/facebook/proxygen/commit/110ef345b79ba0d4253accd578183771d389c432nhttps://github.com/facebookincubator/katran/commit/22f50e89b23cf074f083db37eb475cae70dbe378nhttps://github.com/facebookincubator/mvfst/commit/265ecb845d101d9ea9aa24b8a51be67b3a3cceffnnReviewed By: yns88nnfbshipit-source-id: 994f2620ecb2e453a22fde860c7d8a07c0a585ecn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1534.0,0.24622685185185186,1529.0,3.4819027921406414,1530.0,None,False,,
8a279eeff81a8b6a7a52fe2b9bad08c67d7110fa,cd1b6589f7eab5e26274c521f9fb3db31af659a3,Adam Simpkins,simpkins@fb.com,Wed Sep 18 20:02:34 2019 -0700,1568862154,update make_fbpy_archive.py to replace the output on WindowsSummary:nUpdate the code to use `os.replace()` rather than `os.rename()` so that itnwon't fail on Windows if the destination path already exists.nnReviewed By: chadaustinnnDifferential Revision: D17462716nnfbshipit-source-id: cbc06319ccb2d73868f80ab1874890ebec5a621bn,1.0,1.0,"build/fbcode_builder/CMake/make_fbpy_archive.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,327.0,1.0,30.37241898148148,105.0,1.0329246083629269,63.0,None,False,,
cd1b6589f7eab5e26274c521f9fb3db31af659a3,3d2ed8cb503c45b9d42615eed8d688afe8035ee6,svcscm,svcscm@fb.com,Wed Sep 18 20:54:58 2019 -0700,1568865298,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0f62082351949cd96d1bb641c6408fd5e067bb23nhttps://github.com/facebook/fbzmq/commit/45c6602a8805a125a7a0771da48856a6cdab356enhttps://github.com/facebook/folly/commit/f14e7cb75c1c3a361de66b266eb974c8cdac56dbnhttps://github.com/facebook/mcrouter/commit/e66dc58dd58555ff8c43d7fc603623ece7acea55nhttps://github.com/facebook/proxygen/commit/d05be9be17c053240dc11860b4419dbdd096be38nhttps://github.com/facebook/rocksdb/commit/6ec6a4a9a49e506eff76aebd104d30be6a2d36ccnhttps://github.com/facebook/wangle/commit/6014aec6446a069e6a59fde482e2710016e10577nhttps://github.com/facebookincubator/fizz/commit/a8958e958aac563213bc26ac22d763efec21b787nhttps://github.com/facebookincubator/katran/commit/4cc9f8053a576e4a82d6a9af3c9bee713c777b1bnhttps://github.com/facebookincubator/mvfst/commit/7b8b3bdbd3d3abeccf504f278c7fd3311b23ef87nnReviewed By: yns88nnfbshipit-source-id: 0db4ed17447af39b0133b46613713adff0aa78e0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1537.0,0.1072800925925926,1532.0,6.696407379436831,1533.0,None,False,,
3d2ed8cb503c45b9d42615eed8d688afe8035ee6,cb09d212ba79d9df73aacf21dafac115cd2bf303,svcscm,svcscm@fb.com,Thu Sep 19 00:51:39 2019 -0700,1568879499,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/17477c3a2002957f30b6b5e0a14cc748dd39bf1fnnReviewed By: yns88nnfbshipit-source-id: 6e85fc438155e4967161e0075e543f88289e51dfn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,985.0,0.16436342592592593,1534.5,5.5630589395113015,1535.0,None,False,,
cb09d212ba79d9df73aacf21dafac115cd2bf303,19b14ec5cddac1f1f9f98828e3d18c104de582f3,Adam Simpkins,simpkins@fb.com,Thu Sep 19 11:25:33 2019 -0700,1568917533,"add a builder that can re-package python wheel filesSummary:nAdd a new builder that can extract Python wheel files, and re-package themnfor consumption by our add_fb_python_library() and add_fb_python_executable()nCMake functions.  This is useful for dependencies on packages from PyPI.nnAt the moment this code only handles architecture-independent pure-Pythonnpackages.  It shouldn't be too hard to extend this to handle more complexnwheels, but for now I only need to use it for some pure-Python wheels and so Inhaven't tested with more complex wheel files.nnThis also includes two new manifests for python-six and python-toml that takenuse this new builder.nnReviewed By: weznnDifferential Revision: D17401216nnfbshipit-source-id: d6f74565887c3f004e1c06503dc9ec81599dd697n",296.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/py_wheel_builder.py,CAS_DELIMITER,build/fbcode_builder/manifests/python-six,CAS_DELIMITER,build/fbcode_builder/manifests/python-toml,CAS_DELIMITER",6.0,1.0,2.0,0.6190651136259611,33.0,257.1666666666667,66.0,8.096838348765433,108.5,1.188470018558706,69.0,Feature Addition,False,,
19b14ec5cddac1f1f9f98828e3d18c104de582f3,634cafeb594295cff1170f97305dea7142b357f9,Adam Simpkins,simpkins@fb.com,Thu Sep 19 11:25:33 2019 -0700,1568917533,"the libraries in thrift/lib/py depend on sixSummary:nThe libraries in thrift/lib/py support both Python 2 and Python 3, and rely onnthe Python six module for some of this compatibility support.nnUpdate the getdeps manifest for fbthrift to indicate this dependency, andnupdate fbthrift's CMakeLists.txt file to find and reference python-sixnproperly.  This will ensure that the python-six code is built into any pythonnexecutable that uses the thrift/lib/py libraries.nnReviewed By: yfeldblumnnDifferential Revision: D17401218nnfbshipit-source-id: 0007dda8974ae9bd87e4d7e256c74908c9a30d8fn",2.0,1.0,"build/fbcode_builder/manifests/fbthrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,38.0,4.0,2.9373842592592587,112.0,1.3404389455849324,70.0,None,False,,
634cafeb594295cff1170f97305dea7142b357f9,4a2acef6b942b601d3c33244d475904d7b51ba04,svcscm,svcscm@fb.com,Thu Sep 19 11:55:55 2019 -0700,1568919355,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/eb50340e4acabe583e75e90553acf9f521b45f08nhttps://github.com/facebook/fbzmq/commit/9898909200833562249f09e3d513c7827f51d5c8nhttps://github.com/facebook/folly/commit/0bfa67ca07a0da1eb20610f8fefb97510406a687nhttps://github.com/facebook/proxygen/commit/9c06fbaeae57247b68282206f90872bbb350055dnhttps://github.com/facebook/wangle/commit/a4896148aef6f34ba579939b27a6d0bc7ff3283fnhttps://github.com/facebookincubator/fizz/commit/258fc4aef6d2e73956ce67ab67328cb6a1bad6adnhttps://github.com/facebookincubator/katran/commit/2ea5d5cc056852453761d7cdff231a460ba0f8e4nhttps://github.com/facebookincubator/mvfst/commit/d4e16028073621a7adaa57d9d9d3705fec36ffednnReviewed By: yns88nnfbshipit-source-id: 3095d3981ca3e28feada1a0b997b9e406d3c2c60n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1542.0,0.5160841049382716,1537.0,2.244564692181122,1538.0,None,False,,
4a2acef6b942b601d3c33244d475904d7b51ba04,a4a6533995f4bdebb56e3b809aebf876a03c33ec,svcscm,svcscm@fb.com,Thu Sep 19 13:09:10 2019 -0700,1568923750,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/40bc0e5d1fbf5b88365b3dfab0a18b37065fad29nhttps://github.com/facebook/litho/commit/219935e0c3824764dd27d94b6095a8c957a21b69nhttps://github.com/facebook/rocksdb/commit/c06b54d0c6fb8c46ee98744544b003ff4f87c269nhttps://github.com/facebookincubator/profilo/commit/2fce555f446920dfbacb586170938a95928760cannReviewed By: yns88nnfbshipit-source-id: d83a81a881bc96672f6cf59d7ce68bacf9a78e95n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,989.0,0.05086805555555556,1539.5,15.744027303754267,1540.0,None,False,,
a4a6533995f4bdebb56e3b809aebf876a03c33ec,853ee2d2c6866a7dda114d5ae64b52adbe6e9954,svcscm,svcscm@fb.com,Thu Sep 19 15:01:20 2019 -0700,1568930480,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f4e9681e66b1a477381c121a8a7e216119528900nhttps://github.com/facebookincubator/mvfst/commit/138725af231c6f795495be3bba9e200e8e4d7788nnReviewed By: yns88nnfbshipit-source-id: 5e24e4563a9d8944ac37935f259167c6819c1281n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,476.0,0.07789351851851851,1541.0,13.838038632986624,1541.0,None,False,,
853ee2d2c6866a7dda114d5ae64b52adbe6e9954,c152be8ed0a78c1b03acc22be17a1b705575ebfc,Zeyi (Rice) Fan,zeyi@fb.com,Thu Sep 19 15:19:56 2019 -0700,1568931596,getdeps: include subdirectories when searching manifestSummary: Make getdeps to look for subdirectories for manifest files.nnReviewed By: simpkinsnnDifferential Revision: D17222388nnfbshipit-source-id: e13503beccd9edf6d80f78fbc3238b2a8d2053ddn,66.0,30.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/errors.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER",3.0,1.0,1.0,0.5417778693328626,33.0,224.0,30.0,44.47026620370371,2.0,1.296707752427956,3.0,None,False,,
c152be8ed0a78c1b03acc22be17a1b705575ebfc,b3a6d2ccbd6374fd08b5027daca4016bf8c26978,Zeyi (Rice) Fan,zeyi@fb.com,Thu Sep 19 15:19:56 2019 -0700,1568931596,getdeps: throw exceptions when found duplicate manifests and name mismatchesSummary:nThrows an exception when:nn* The name specified in the manifest mismatches the filenamen* Duplicated manifest -- with the sub-directory support it is now able to have multiple manifest files with the same namennReviewed By: chadaustinnnDifferential Revision: D17438460nnfbshipit-source-id: ac7ad0b701beb15f0e91bb05cd1ec8fe378ad5b6n,61.0,33.0,"build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/fixtures/duplicate/foo,CAS_DELIMITER,build/fbcode_builder/getdeps/test/fixtures/duplicate/subdir/foo,CAS_DELIMITER,build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER",5.0,1.0,4.0,1.5523960931659904,34.0,203.2,41.0,9.986277777777778,6.0,4.490274429091387,8.0,None,False,,
b3a6d2ccbd6374fd08b5027daca4016bf8c26978,e1efd9a4f9f58011baf078e9ce4b4df760a5b910,svcscm,svcscm@fb.com,Thu Sep 19 15:56:49 2019 -0700,1568933809,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6276db27e3c4ec87caacfdb46332baf7fe1e032bnhttps://github.com/facebook/fbzmq/commit/71731bbfae82c8a08f64a4e318e358cd57efa98bnhttps://github.com/facebook/folly/commit/a18cdcd5f6b9cfb7373b3461dd930f7a54fc72e7nhttps://github.com/facebook/proxygen/commit/ab2a2d629c04ef719233a5a3e8f5b28cb2311cacnhttps://github.com/facebook/wangle/commit/8b27b60d78d91433ca2a26c54ce14b63b9373428nhttps://github.com/facebookincubator/fizz/commit/470cd05ee44ced5fb315497622151db13cb73e40nhttps://github.com/facebookincubator/katran/commit/3cf325811a0537545b791032fe7762e75ed7074enhttps://github.com/facebookincubator/mvfst/commit/fe673307a8c7acfc3041fe0e3a879ee625171be2nnReviewed By: yns88nnfbshipit-source-id: ddb7738bea97748ed623515bf57fcd7b84ff3924n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1548.0,0.10741512345679012,1543.0,12.305179333023007,1544.0,None,False,,
e1efd9a4f9f58011baf078e9ce4b4df760a5b910,7447571142de57a7599f7bf536d3af9271282087,svcscm,svcscm@fb.com,Thu Sep 19 21:54:52 2019 -0700,1568955292,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/3a5914c62d300b58a4ab06f4e33f2626dded7d09nhttps://github.com/facebookincubator/fizz/commit/a1b4ed7fed779b89af4ae116411b541ef89c1469nnReviewed By: yns88nnfbshipit-source-id: f47081a8ffc343a295c1d52c84bcac236cbff06cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1551.0,0.2486458333333333,1546.0,3.4577572964669736,1547.0,None,False,,
7447571142de57a7599f7bf536d3af9271282087,d21a3d7fd63f3fe32821e30c10dccb920e57a78e,Zeyi (Rice) Fan,zeyi@fb.com,Fri Sep 20 11:12:22 2019 -0700,1569003142,getdeps: move manifestsReviewed By: simpkinsnnDifferential Revision: D17403339nnfbshipit-source-id: 2a6b2eb073d54e080f6a313948afd2815f58bba9n,0.0,22.0,"build/fbcode_builder/manifests/fb-mercurial,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,22.0,1.0,139.8053587962963,9.0,1.0071528016422966,9.0,None,False,,
d21a3d7fd63f3fe32821e30c10dccb920e57a78e,6e7f30acdf4967f1ac681c763af796a33eb14192,Adam Simpkins,simpkins@fb.com,Fri Sep 20 11:33:28 2019 -0700,1569004408,the edenfsctl program depends on python-tomlSummary:nUpdate the getdeps manifest and Eden's CMake files to indicate that thenedenfsctl program depends on python-toml.nnReviewed By: chadaustinnnDifferential Revision: D17401215nnfbshipit-source-id: f512678d8bca9c7b2b4d25bf9c3ecd7eed825de9n,1.0,0.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,39.0,4.0,57.57818287037037,113.0,1.0173676894641042,71.0,None,False,,
6e7f30acdf4967f1ac681c763af796a33eb14192,4dd6cec7d7ae54b6d8fa94492ef2231422fb2637,svcscm,svcscm@fb.com,Fri Sep 20 11:34:30 2019 -0700,1569004470,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/7df419218f1a5dd2bd78db8481e6001da1e75067nnReviewed By: yns88nnfbshipit-source-id: 036c6030724373b9a1879ba67a6bc73560f5c7e6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,479.0,0.5691898148148148,1548.0,2.7568831591361995,1548.0,None,False,,
4dd6cec7d7ae54b6d8fa94492ef2231422fb2637,0d52c6536a6eddecae9a4c4075c615b695591f16,svcscm,svcscm@fb.com,Fri Sep 20 12:40:48 2019 -0700,1569008448,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/5cbfb376feffeb925026e063db0e6cee717c2e8anhttps://github.com/facebook/proxygen/commit/a0137c5910da81ee7459f35053d60a8c6fcc0cc2nhttps://github.com/facebook/rocksdb/commit/e8263dbdaad0546c54bddd01a8454c2e750a86c2nhttps://github.com/facebook/wangle/commit/3731ad37478306c173add71fd90c6da5e171deb4nhttps://github.com/facebookincubator/fizz/commit/823870576ab1431b086ef36c08ce65f1d0bba754nhttps://github.com/facebookincubator/katran/commit/af940b2412efb8335e59fe140a4a186e83806e27nhttps://github.com/facebookincubator/mvfst/commit/39f9ff8e2f373214896ba02b283e7553f00ca45dnnReviewed By: yns88nnfbshipit-source-id: f94595d874a0a672b38a36dc66d345d9cd4a3e2dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1555.0,0.4255015432098765,1550.0,9.005026885479323,1551.0,None,False,,
0d52c6536a6eddecae9a4c4075c615b695591f16,7599d45160765aaf5192a531883abb3a57ba099d,Adam Simpkins,simpkins@fb.com,Fri Sep 20 14:07:38 2019 -0700,1569013658,"fix calculation of whether a project is cachableSummary:nNever cache first-party projects that use ShipIt.  Previously the code checkednthe `shipit_fbcode_builder` property, which controlled whether or notnthe `fbcode_builder` sources should be included in the project's ShipItnmapping.  This setting is enabled for most but not all projects that usenShipIt.nnThis resulted in projects that use ShipIt but that do not include the fbcodenbuilder sources being incorrectly cached.  This caused getdeps.py to notnrun the SimpleShipitTransformerFetcher properly when their sources changed.nnReviewed By: weznnDifferential Revision: D17493522nnfbshipit-source-id: 57be5ac94ae44f56ccb3ce60ba23fac5d68bce0fn",2.0,2.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,743.0,32.0,3.708148148148148,114.0,1.2696763883339992,72.0,Corrective,True,,
7599d45160765aaf5192a531883abb3a57ba099d,16f6922533c83337d4045018ff8dcc0f8ee57efb,Adam Simpkins,simpkins@fb.com,Fri Sep 20 14:07:38 2019 -0700,1569013658,"improve run_cmake.py on WindowsSummary:nUpdate the generated `run_cmake.py` script to use `subprocess.run()` insteadnof `os.execve()`.  The `os.execve()` call doesn't really do what we want onnWindows: this causes the script to exit while CMake is still running,nresulting in confusing output.  During the build step it also did not workncorrectly with `vcvarsall.bat`, and using `subprocess` also solves this.nnReviewed By: weznnDifferential Revision: D17493897nnfbshipit-source-id: e0477627fc1824b0efcb1fa5a782d207853bcae8n",4.0,3.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,778.0,34.0,1.1125578703703705,115.0,1.8988296488946683,73.0,None,False,,
16f6922533c83337d4045018ff8dcc0f8ee57efb,c91fabea702b6d133b748194c519770b76d6fb97,Adam Simpkins,simpkins@fb.com,Fri Sep 20 14:12:29 2019 -0700,1569013949,"fbcode_builder: implement automatic project detection from the current repoSummary:nThis updates fbcode_builder to try and automatically detect the currentnrepository's project name by looking for a `.projectid` file in the repositorynroot.  If the project name can be detected:n- The current repository will automatically be used as the source directoryn  for this project (instead of fetching the sources into the scratchn  directory).n- If an explicit project name was not specified on the command line, then  current project will be built by default.nnThis also changes the repository detection logic to use the current workingndirectory, rather than the directory where the fbcode_builder code lives.nThis will allow this logic to work even if we move fbcode_builder into its ownnrepository in the future, and have projects depend on it using git submodules.nThis does mean that callers need to invoke fbcode_builder.py from inside thenrepository.nnReviewed By: weznnDifferential Revision: D17088938nnfbshipit-source-id: f14d28fdcfaa330ff837ea52b8bdd4e358b81c61n",56.0,6.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",2.0,1.0,2.0,0.9992492479956564,33.0,551.0,53.0,0.4782638888888889,116.5,149.97633222012487,75.0,None,False,,
c91fabea702b6d133b748194c519770b76d6fb97,0ec823e71f243c64ccbb81eded2c287da51c07b0,svcscm,svcscm@fb.com,Fri Sep 20 14:51:38 2019 -0700,1569016298,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/08853b5fb64f3d9cbaf08fb8312e8e460eeb35f9nhttps://github.com/facebook/fbzmq/commit/481b198d953eab9d104ed8ca663bf45cca1dfa91nhttps://github.com/facebook/folly/commit/571f3268a928c2c150d10e9fead541c0b3ceb1eanhttps://github.com/facebook/proxygen/commit/f4cbe3c5b05cd59361c51af8cbbde0bd6737adc7nhttps://github.com/facebook/wangle/commit/5ad814a610b7dacd703cc316cd0d13bf3fb4e8dfnhttps://github.com/facebookincubator/fizz/commit/4282cc5168f8b3d77fb124c001f6a23219c5227enhttps://github.com/facebookincubator/katran/commit/aab920b19dac5d3ee3bc8e8f6105cf0bdf3913c7nhttps://github.com/facebookincubator/mvfst/commit/dca96f2b9b53340ad9d8cb78a10f35333b195df7nnReviewed By: yns88nnfbshipit-source-id: b5964e8708953ffbbdb67a08a743c8ad9a2c2d96n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1558.0,0.09085648148148147,1553.0,7.72611464968153,1554.0,None,False,,
0ec823e71f243c64ccbb81eded2c287da51c07b0,02261ae1ee3f3ee816ff7bf96b141422eaf9e0d7,svcscm,svcscm@fb.com,Fri Sep 20 17:42:39 2019 -0700,1569026559,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/21ef6dc0625e6befbffbd5878265ee9985406151nnReviewed By: yns88nnfbshipit-source-id: c0522f77159dea6494dcd69343f2ea946e7f0d40n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1001.0,0.11876157407407407,1555.5,7.3151739596530545,1556.0,None,False,,
02261ae1ee3f3ee816ff7bf96b141422eaf9e0d7,b762298d03d36fd05be82fdc756df6c269082767,svcscm,svcscm@fb.com,Sat Sep 21 10:10:59 2019 -0700,1569085859,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6f5002f0b5d9d16f5799f44fbbdabb6ce3ea4db4nnReviewed By: yns88nnfbshipit-source-id: bee95268c17dbda663a1e32e95222e04faebdcb6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,483.0,0.6863425925925926,1557.0,2.4569983136593594,1557.0,None,False,,
b762298d03d36fd05be82fdc756df6c269082767,779301f6e21e2f8376af6d6341c255d33f135d81,svcscm,svcscm@fb.com,Sun Sep 22 07:05:12 2019 -0700,1569161112,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3c228503b5657b014301409beefaf4153c7343e6nhttps://github.com/facebook/proxygen/commit/36f3ec8cfcd6519d0a4de3e6a39cf1b8dd4bbfa1nnReviewed By: yns88nnfbshipit-source-id: 5fa58fe0069336567537a30502c5a1ca86a96cbcn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1564.0,1.3681327160493826,1559.0,1.5947919237996837,1560.0,None,False,,
779301f6e21e2f8376af6d6341c255d33f135d81,e319e48af7810eb2918eca3493993d3070d29ce8,svcscm,svcscm@fb.com,Sun Sep 22 16:43:44 2019 -0700,1569195824,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2f9839604e2569120cc4876c667388da6d7342f2nnReviewed By: yns88nnfbshipit-source-id: 97cba199b1c6d266d48beca5c160be6d5a3119b8n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1006.0,0.4017592592592593,1561.5,2.866789582853192,1562.0,None,False,,
e319e48af7810eb2918eca3493993d3070d29ce8,a1b86291ddaeee485785d03ebe69b07f8895f487,svcscm,svcscm@fb.com,Mon Sep 23 13:22:40 2019 -0700,1569270160,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b2c6231e6c7b090a7df494146389bc7efcdac8fbnhttps://github.com/facebook/folly/commit/98e63e8ad712592d031c5f53ad7bb6793e0e1608nhttps://github.com/facebook/litho/commit/e2694bad51f4a1b422582b1e251d075a234cfb53nhttps://github.com/facebook/proxygen/commit/eb33665e24f4ad83477278546caac915b1dacc5enhttps://github.com/facebook/rocksdb/commit/2367656b6c19048d76037d24025ef0caab136866nhttps://github.com/facebookincubator/fizz/commit/6c5f93e5e8ab8388f1e2066bf89b8d2d1e846bf9nhttps://github.com/facebookincubator/mvfst/commit/9fcdf8931be2ad31b04364d8d823d31785ed8b71nnReviewed By: yns88nnfbshipit-source-id: fe26f9754833de0d74fc5b0c85724d45c2bb346an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1569.0,0.99429012345679,1564.0,1.6562267393855814,1565.0,None,False,,
a1b86291ddaeee485785d03ebe69b07f8895f487,e8665315fbc3b52305cc6a2bb53a1513f5730e0f,svcscm,svcscm@fb.com,Mon Sep 23 15:42:36 2019 -0700,1569278556,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/e1d8e5ef54b27e8107e769ed8f435bb80a39bdfcnhttps://github.com/facebook/rocksdb/commit/02554b3c382a3982e2ccb54e5f632a27b1cbb3c0nhttps://github.com/facebookincubator/mvfst/commit/7c578e2d98277b35391fc4fd5dc9c0a35530826ennReviewed By: yns88nnfbshipit-source-id: d99b9229c7ec40ae4e4f485ad0213d2b8ee713a7n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,487.0,0.09717592592592593,1566.0,11.290614578370652,1566.0,None,False,,
e8665315fbc3b52305cc6a2bb53a1513f5730e0f,f5bea3abe44b6efea4ea45ce7057bffa16f4ff68,svcscm,svcscm@fb.com,Mon Sep 23 19:51:58 2019 -0700,1569293518,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/58e9ff2bdbf6ceaf10cf24c08ef2522afdbcdc5fnhttps://github.com/facebook/proxygen/commit/fe27c25342907dd69dd2b210fc440a03bbe830d2nhttps://github.com/facebookincubator/mvfst/commit/8612cb7cefb7e50027cbe2831f7cbc9dd129e3ccnnReviewed By: yns88nnfbshipit-source-id: fca20855be861ab620772b13e9a29ed4ea048857n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1573.0,0.23795524691358025,1568.0,4.143383326237362,1569.0,None,False,,
f5bea3abe44b6efea4ea45ce7057bffa16f4ff68,2c70cc3b6da64661848fccd80191bc3e029bdc20,John Strizich,striz@fb.com,Mon Sep 23 22:54:37 2019 -0700,1569304477,"adding openr to this frameworkSummary:nthis adds `oss-openr-linux-getdeps` to diffs affecting files under openr. With soma going away and the old fbcode_builder job disabled, this will give us the signal we need to keep the cmake build healthy.nn[Some Info on Getdeps](https://our.intern.facebook.com/intern/wiki/Test_your_Open_Source_build_with_getdeps.py/)nnMichael, this change may require you to bump up some of the dependent libraries and build them with cmake if not already. The main changes to the cmake script are around using package configs instead of `find_library`nnAlso, for those with more CMake experience: since there are some big changes in the `CmakeLists`, feel free to pour on more suggestions on how I could make it better and more aligned with other facebook OSSnnReviewed By: saifhhasannnDifferential Revision: D16010068nnfbshipit-source-id: 66f914f1971f826e0868c4130839380639a7e44bn",36.0,0.0,"build/fbcode_builder/manifests/openr,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,4.0,0.0,4.0,Feature Addition,False,,
2c70cc3b6da64661848fccd80191bc3e029bdc20,ef71efdf56e469fff4c1ed9552adf499a22d6e5e,svcscm,svcscm@fb.com,Mon Sep 23 23:33:04 2019 -0700,1569306784,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f9bbdeb0bbbc3c9815d957ee834ca0011d39ea03nhttps://github.com/facebook/fbzmq/commit/59c430137a0f34c89321413cf0362c464d0816fenhttps://github.com/facebook/folly/commit/fff74a54dee774231dba29ba3b69f83fa29d67danhttps://github.com/facebook/proxygen/commit/6d65bdb63cdb25bce868e968652ebfd24298b260nhttps://github.com/facebook/wangle/commit/cd38f1b7dfc5476b6ddd42582b2e090a555dbf83nhttps://github.com/facebookincubator/fizz/commit/be0be14a4fc2d73077f6960247f0bf48a1bf45fanhttps://github.com/facebookincubator/katran/commit/7ce91ed7625d2f94ddabf2850c8ddb9dec0a0818nhttps://github.com/facebookincubator/mvfst/commit/edb4102001eb7f833370fbd9f19c7e1a93c98ca9nnReviewed By: yns88nnfbshipit-source-id: d346086ba0a2dc4ef0addf2f6e5978f17012e617n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1576.0,0.15354166666666666,1571.0,4.980099502487564,1572.0,None,False,,
ef71efdf56e469fff4c1ed9552adf499a22d6e5e,eb1ee2be21635824cef2942990016d603b247229,svcscm,svcscm@fb.com,Tue Sep 24 15:02:21 2019 -0700,1569362541,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/646d07e3327d929489e157c8488b407329fcb877nhttps://github.com/facebook/proxygen/commit/2c406202f2953a065131eb5d5b5070dcbb723160nhttps://github.com/facebook/rocksdb/commit/6652c94f59dbd82bc57a2e62e66f7d355232f669nnReviewed By: yns88nnfbshipit-source-id: 84be4822d75f34a98f30b006348d874857443b68n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1579.0,0.6453356481481481,1574.0,1.946966300195491,1575.0,None,False,,
eb1ee2be21635824cef2942990016d603b247229,e5a49736d644071e291f49bd08f665aabcad4c00,svcscm,svcscm@fb.com,Wed Sep 25 03:42:55 2019 -0700,1569408175,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/966dbc1ce4fa4ef66c8053097af4ff82be066f43nnReviewed By: yns88nnfbshipit-source-id: b449ba2557191342fe86de53023c3f34dd48bf8bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1017.0,0.5281712962962963,1576.5,2.419993864224044,1577.0,None,False,,
e5a49736d644071e291f49bd08f665aabcad4c00,9fac2a5b7658a1dc3ba74f154ff326f86573d309,svcscm,svcscm@fb.com,Wed Sep 25 12:25:52 2019 -0700,1569439552,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8f459f897c846d8ae760daea2590ba5209373f93nhttps://github.com/facebook/folly/commit/a6306282321bd3c35f6a04679f7b92c78a59fee7nhttps://github.com/facebook/proxygen/commit/96ddeb5dfc5371f89e223fb2c600be5e76a784f0nnReviewed By: yns88nnfbshipit-source-id: fc0b94425f05f532a0ebda1de3d96121612df04cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1057.0,0.6272453703703703,1578.5,2.77537277300857,1579.0,None,False,,
9fac2a5b7658a1dc3ba74f154ff326f86573d309,752041866a12fc25066e43d829e2daf17152e3cf,svcscm,svcscm@fb.com,Thu Sep 26 11:07:54 2019 -0700,1569521274,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/cc165a7af46e56a89be70fbb7b5a3fdd294357c5nhttps://github.com/facebook/fbzmq/commit/25efe319122c1ab954dadc0753692e77e1638e03nhttps://github.com/facebook/litho/commit/db34e2d029c15618d8ab64357a0daa73bb9d9548nhttps://github.com/facebook/proxygen/commit/a3cee8134b2f73202aaf06e1e03cb0fdb4f7326enhttps://github.com/facebook/wangle/commit/24e8913582aff2defb2c2f0a0ab7e8d59df23a72nhttps://github.com/facebookincubator/fizz/commit/95805b6b6c65a96313e1abf6808decf86f8539f4nhttps://github.com/facebookincubator/katran/commit/9df7ce2a7b3a3e35405ee0cc4a3f79fe0b56b90anhttps://github.com/facebookincubator/mvfst/commit/5ca37848e110ef43371996cca4eeb02abe0326a9nnReviewed By: cdelahoussennfbshipit-source-id: e1b18b0c9b898f0b0d1b402a517af418eedacafen,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1586.0,1.0669097222222221,1581.0,1.6327643600315014,1582.0,None,False,,
752041866a12fc25066e43d829e2daf17152e3cf,02f2ac679f382bd439300fd85aead4f6350fc61b,svcscm,svcscm@fb.com,Thu Sep 26 14:58:32 2019 -0700,1569535112,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/62e24e7b928a6a0ce889cfabca2b17cdb035a77cnhttps://github.com/facebookincubator/mvfst/commit/0c836629cf88381d652283f32786e3629df01c0ennReviewed By: cdelahoussennfbshipit-source-id: 0b80e964b402bfac849d185ba160de43f9b4ac79n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,494.0,0.16016203703703705,1583.0,7.2436768319121265,1583.0,None,False,,
02f2ac679f382bd439300fd85aead4f6350fc61b,0bac129aa49e94f7ad89140a84b4d2db0bf818f7,svcscm,svcscm@fb.com,Thu Sep 26 17:07:59 2019 -0700,1569542879,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/d3f8fa39189a7fe0be74be86c53a54194cadb7f7nhttps://github.com/facebook/rocksdb/commit/76e951dbb1b4e06c5649618a61865f3141e66054nnReviewed By: cdelahoussennfbshipit-source-id: fdb8c001270f3d24462c93a4ff7026f37d3b9743n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,567.0,0.2500578703703704,1584.0,4.999074288359177,1584.0,None,False,,
0bac129aa49e94f7ad89140a84b4d2db0bf818f7,1360ed6f677a9e5e261a16d045830cd9cd1b10b5,svcscm,svcscm@fb.com,Thu Sep 26 19:30:52 2019 -0700,1569551452,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d9c8d3cd0928111033b805cba390b966e14b50a7nnReviewed By: cdelahoussennfbshipit-source-id: f67179a8abd29dabc87ae3687ca882b1da5371b0n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1023.0,0.2692013888888889,1585.5,4.572491621279464,1586.0,None,False,,
1360ed6f677a9e5e261a16d045830cd9cd1b10b5,1ec8d1f323935948975d350d76a785eb71e99b17,svcscm,svcscm@fb.com,Thu Sep 26 23:34:06 2019 -0700,1569566046,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b6b5955e726630b54700724c0bffe5d776d35f03nhttps://github.com/facebook/wangle/commit/99ef0247c06ce77fd531f3833be2e59fac2dba5anhttps://github.com/facebookincubator/fizz/commit/017ffed361ea8f50d7d18081d84ea7a0b0d336ebnnReviewed By: cdelahoussennfbshipit-source-id: 03030b2472aafa7b8eee8eb35841c4ade5dad084n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1025.0,0.16891203703703705,1587.5,5.440180896258737,1588.0,None,False,,
1ec8d1f323935948975d350d76a785eb71e99b17,b4dd802c892b9a8a1c4aad4c787f9cbb994b82a8,svcscm,svcscm@fb.com,Fri Sep 27 14:47:21 2019 -0700,1569620841,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a27ffe537ed00cc2ea861d530db0a378dd5bcb79nhttps://github.com/facebook/folly/commit/e575bf3958f5256d7f7367ac0819f7927c9de214nhttps://github.com/facebook/proxygen/commit/b6904a0c7c5a9883a59a6a9e9091da4320fb56c4nhttps://github.com/facebookincubator/mvfst/commit/e3739e5bec30c9fe48a727e2d2a2f5cf38529ad3nnReviewed By: cdelahoussennfbshipit-source-id: 37bd1e1b730dbeb21bc300ecbe271a64d771afean,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1595.0,0.7235802469135804,1590.0,1.896090527716512,1591.0,None,False,,
b4dd802c892b9a8a1c4aad4c787f9cbb994b82a8,70dd2140fd0ad17e85c889e039bce6e463aa081a,svcscm,svcscm@fb.com,Fri Sep 27 16:04:17 2019 -0700,1569625457,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3d4443b2f8b047f7d6de65a3f68d0682e122ab39nnReviewed By: cdelahoussennfbshipit-source-id: 49a90116853cda894b173861d80c58360c46d91en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,498.0,0.053425925925925925,1592.0,19.717504332755638,1592.0,None,False,,
70dd2140fd0ad17e85c889e039bce6e463aa081a,07a04c54f09b18335b53a4fdd1e8acc7dcbbc81b,svcscm,svcscm@fb.com,Sat Sep 28 10:52:20 2019 -0700,1569693140,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3515c4dc537bb20f413cb0b87e74b742d6e3a618nnReviewed By: cdelahoussennfbshipit-source-id: 568b205fc1d55c4f3b51998794be89f68575f62an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1599.0,0.8189853395061729,1594.0,1.7669230224722394,1595.0,None,False,,
07a04c54f09b18335b53a4fdd1e8acc7dcbbc81b,cc565a1eb9f1923cdd971d8a664aa3b3c8a19847,svcscm,svcscm@fb.com,Sat Sep 28 21:44:11 2019 -0700,1569732251,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/f29868766b689ff9c50c35c4789a621af624a28dnhttps://github.com/facebook/proxygen/commit/adafc58d155f4390a75a3250fe5c66ba56f16b10nhttps://github.com/facebook/wangle/commit/aa8fb1a1943071c62295329c2f67e8ecbbd6a0bfnhttps://github.com/facebookincubator/fizz/commit/24205148d7207b70d53900f06eeac0d70269ec56nnReviewed By: cdelahoussennfbshipit-source-id: 0251a1c751f22af94af7359074bfbdc3ba85fbfbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1602.0,0.4526736111111111,1597.0,2.350003835238168,1598.0,None,False,,
cc565a1eb9f1923cdd971d8a664aa3b3c8a19847,a3429791b24651e400377312b77135d8959bbe7a,svcscm,svcscm@fb.com,Sun Sep 29 21:15:42 2019 -0700,1569816942,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/928980fadf9ee9671b8752e00985fd145fda5d67nnReviewed By: cdelahoussennfbshipit-source-id: 8ac128e9ba1f62d9aa3fdfcef2273d04c4a53e52n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1605.0,0.9802199074074074,1600.0,1.6234428687818068,1601.0,None,False,,
a3429791b24651e400377312b77135d8959bbe7a,95d39e3d0be66d6181ab59eb73942dc2254b2396,svcscm,svcscm@fb.com,Mon Sep 30 10:21:34 2019 -0700,1569864094,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/c77641cc344a90a4e3c732fdd08890366a6edd82nhttps://github.com/facebook/litho/commit/85799633aa2a57a3e62e955c3e5d411a91c64070nnReviewed By: cdelahoussennfbshipit-source-id: 040e5289870d24cb0c08500c7aebe0ee5fa14990n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1074.0,0.5457407407407407,1602.5,2.3742789277231084,1603.0,None,False,,
95d39e3d0be66d6181ab59eb73942dc2254b2396,34ebb352a93acaf7b5f7ad281ca5b8ca95a1df01,wez@fb.com,wez@fb.com,Mon Sep 30 10:44:12 2019 -0700,1569865452,getdeps: export a property that contains the path to the output executableSummary:nExport a property that indicates the path to the test executable.  This isnuseful for callers that want to install the binary or run it from other CMakenrules.nnReviewed By: simpkinsnnDifferential Revision: D17647146nnfbshipit-source-id: b32e2694e44a07d7c234e53a7a5c8443cb144487n,6.0,0.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,489.0,5.0,18.968263888888885,0.0,0.0,0.0,None,False,,
34ebb352a93acaf7b5f7ad281ca5b8ca95a1df01,d032e946dc4ae3277557a594e430cd599a49753f,wez@fb.com,wez@fb.com,Mon Sep 30 10:44:12 2019 -0700,1569865452,"getdeps: add an `add_fb_python_unittest()` functionSummary:nAdd a function for defining Python unit tests.  This creates the testnexecutable, and also emits logic to perform test discovery for ctest.nnReviewed By: simpkinsnnDifferential Revision: D17610034nnfbshipit-source-id: cdf15b0b04acc1d3e906a1e2a95eb327951176ban",1037.0,29.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/FBPythonTestAddTests.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/fb_py_test_main.py,CAS_DELIMITER",3.0,1.0,1.0,0.9627582466749336,2.0,165.0,6.0,0.0,2.0,0.0,3.0,None,False,,
d032e946dc4ae3277557a594e430cd599a49753f,95e555db079bba5e082cb762b1c07f7c16dc69ea,wez@fb.com,wez@fb.com,Mon Sep 30 10:44:12 2019 -0700,1569865452,getdeps: update run_cmake.py to also support running testsSummary: Add a `--mode=tests` behavior for invoking `ctest`nnReviewed By: simpkinsnnDifferential Revision: D17610033nnfbshipit-source-id: 6284fe1dbfb7adf38a67820c842a5531eefd72fan,12.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,779.0,35.0,9.858726851851852,4.0,1.1014329755786023,4.0,None,False,,
95e555db079bba5e082cb762b1c07f7c16dc69ea,e6574c8efcb3f046382b1d843cebf6c0bc7580e2,svcscm,svcscm@fb.com,Mon Sep 30 11:24:46 2019 -0700,1569867886,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/fff8f73ce7f91b40f16f27bb088ee06c5d347c66nhttps://github.com/facebook/fbzmq/commit/4081fb9272666d0fadc319e2b5419a901be2abf1nhttps://github.com/facebook/folly/commit/c6e6dff1e9ef48ccae4c1eb7750eb1a861638307nhttps://github.com/facebook/litho/commit/941e49f59bbf81a033ce34ab170f30beeb38ad0cnhttps://github.com/facebook/proxygen/commit/17d9c5e006b850d58d3c2e21831df3497d8aee60nhttps://github.com/facebook/wangle/commit/c5db605702f90d10b241cc42cb9ffa2e9c50587anhttps://github.com/facebookincubator/fizz/commit/e6e46fe490a9f16e62b1fa2b0fd64adf9f6bc71enhttps://github.com/facebookincubator/katran/commit/642c3e162794f4b61f31b23f037dd96c5606b87bnhttps://github.com/facebookincubator/mvfst/commit/3d11c539cd5ae814e30f590b3666f61af3607cfcnhttps://github.com/pytorch/fbgemm/commit/0d7da7c36f50276b5a550d46508516d139522687nnReviewed By: zpaonnfbshipit-source-id: b817e19167517a26a7b4663cc69dcada07ae3021n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1610.0,0.2258024691358025,1605.0,12.88447723387616,1606.0,None,False,,
e6574c8efcb3f046382b1d843cebf6c0bc7580e2,9d4be1efc3231a8a1e029675f4792ce5a20aee86,svcscm,svcscm@fb.com,Mon Sep 30 11:51:41 2019 -0700,1569869501,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/27fdeffd7c31553cf25f94ed4018cb5b5e170784nhttps://github.com/facebook/fbzmq/commit/c23006a21c51491b89fc6a2b77fd20b84744585fnhttps://github.com/facebook/proxygen/commit/217709ff4567b203954561b6bf45d0cda13f6075nhttps://github.com/facebook/wangle/commit/3d71ccb141b4c3a4cab9fa7f8f078705021a3d5cnhttps://github.com/facebookincubator/fizz/commit/e9395af05b1119def14ed673fe84404d45f03ea6nhttps://github.com/facebookincubator/katran/commit/2e516ba16ab0dff0d8e0bd4cf5cb1bdc7b073a10nhttps://github.com/facebookincubator/mvfst/commit/a78fcc51e48cfc49be92c65f601bad02586fbaf5nnReviewed By: zpaonnfbshipit-source-id: 3ccf71f58ea6de7ef897be981df02e2eec4d290bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1039.0,0.018692129629629628,1607.5,41.12383900928794,1608.0,None,False,,
9d4be1efc3231a8a1e029675f4792ce5a20aee86,de73c32e7c0ed9717e27a4a57eb2790062937b49,Luca Niccolini,lniccolini@fb.com,Mon Sep 30 12:15:29 2019 -0700,1569870929,add gperf manifestReviewed By: dddmellonnDifferential Revision: D17642516nnfbshipit-source-id: 5e9820df831fd907c97fab1238b38712ce2f6e64n,15.0,0.0,"build/fbcode_builder/manifests/gperf,CAS_DELIMITER,build/fbcode_builder/manifests/proxygen,CAS_DELIMITER",2.0,1.0,1.0,0.35335933502142136,1.0,14.5,2.0,20.027806712962967,14.5,0.5124826449337654,15.0,Feature Addition,False,,
de73c32e7c0ed9717e27a4a57eb2790062937b49,551822bfe24c2f017cca7d5ab84a1dad7a63f2b3,svcscm,svcscm@fb.com,Mon Sep 30 13:08:31 2019 -0700,1569874111,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1fb7f02b544775bf168056e26e5168ae91fb5b08nhttps://github.com/facebook/fbzmq/commit/bd3ecc88027cc249e78380b2da3936985de1eb61nhttps://github.com/facebook/folly/commit/bba449009effb81122d8e43dff3e015057ab5cf9nhttps://github.com/facebook/litho/commit/ed6a430252465d54dabd7a772ab6e8770ca06ab2nhttps://github.com/facebook/proxygen/commit/c424e3f96cf4ab50fe75e54437d115b049aec0dbnhttps://github.com/facebook/rocksdb/commit/69c4ccb970bdc8d5a58067de89a322ef9c7c2d93nhttps://github.com/facebook/wangle/commit/b2391c97f1aa936b8dd55f08f9b9e0c99d7e7552nhttps://github.com/facebookincubator/fizz/commit/a60a9134345d7a5b3747970344cf7d58fca84241nhttps://github.com/facebookincubator/katran/commit/3acc78766ce6074c80469ef1ff64804ad811e7f7nhttps://github.com/facebookincubator/mvfst/commit/913d5a6189de4b89280dbe33aaf7d0e87f76b9b5nnReviewed By: zpaonnfbshipit-source-id: c66ed9da645f33b811e94106b3de49a5e7af0641n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1615.0,0.05958719135802469,1610.0,11.770022237123165,1611.0,None,False,,
551822bfe24c2f017cca7d5ab84a1dad7a63f2b3,38f68acf44732032c7ebeae6cf14e8298c59f3d5,svcscm,svcscm@fb.com,Mon Sep 30 14:27:52 2019 -0700,1569878872,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/51e2bb943f1fbf615f8de8cb6a0a33416f097e4fnhttps://github.com/facebook/rocksdb/commit/51413e0a856f377a7d62dfe4606c29ba9051c872nnReviewed By: zpaonnfbshipit-source-id: 9f5de4b69be93dc3ae885b88105c51f4b97e147dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1618.0,0.05510416666666667,1613.0,12.090107120352867,1614.0,None,False,,
38f68acf44732032c7ebeae6cf14e8298c59f3d5,4216737422de07b9de9ca2f3205b100d5ab32a96,svcscm,svcscm@fb.com,Mon Sep 30 15:32:43 2019 -0700,1569882763,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8509e9af038806e9ad2ff537c90d48801502bc3dnnReviewed By: zpaonnfbshipit-source-id: a1ec70338bb4c2484fad24d26377588e1606c285n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,507.0,0.04503472222222222,1615.0,23.205088666152662,1615.0,None,False,,
4216737422de07b9de9ca2f3205b100d5ab32a96,c41032c91e01ecfcdb4da42872d8ed8c6ebefe57,svcscm,svcscm@fb.com,Mon Sep 30 18:33:36 2019 -0700,1569893616,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/00a327cd50405e261c27f86c24102fcbec7b65e8nhttps://github.com/facebook/folly/commit/e984df45f4d5fad3fa9b8500e25b2bbfa6aa7c6bnhttps://github.com/facebook/litho/commit/3f3ca985086c1813deecb29571b2a2b36232eff6nhttps://github.com/facebook/proxygen/commit/a46b22b8913c47b934b043f37a93889c8e899988nhttps://github.com/facebookincubator/mvfst/commit/5199ae5b8d8b9d1a2bab518bce08a22121f6f43anhttps://github.com/facebookincubator/profilo/commit/ffba445549b576d94ff3d43f73b7c902f5870102nhttps://github.com/pytorch/fbgemm/commit/e82b986c72712fcb86a62f4222f3aabd391e07c7nnReviewed By: zpaonnfbshipit-source-id: d1ceda5c5811733f7072ad78ceeb4ad4671da9f8n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1084.0,0.14813078703703705,1616.5,6.668164007618588,1617.0,None,False,,
c41032c91e01ecfcdb4da42872d8ed8c6ebefe57,23e221e58a639b3c78213c0ad326b4108b439d96,Wez Furlong,wez@fb.com,Mon Sep 30 18:49:41 2019 -0700,1569894581,watchman: auto-format glob.cppSummary:nNo functional changes; I'm doing this to minimize the changesnin the next diff in the stack.nnReviewed By: fanzeyinnDifferential Revision: D17679771nnfbshipit-source-id: 3f0d61472f9d6ac53b865e3c9b37398e7ea534ean,41.0,35.0,"query/glob.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,401.0,23.0,216.0439004629629,6615.0,1.004628688881552,427.0,None,False,,
23e221e58a639b3c78213c0ad326b4108b439d96,ddf4a522149a16558b4da50a04ccc9cf4db520ef,Wez Furlong,wez@fb.com,Mon Sep 30 18:49:41 2019 -0700,1569894581,watchman: Fix add_glob parameter typeSummary:nThe only caller of add_glob passes the `w_string` returned from `json_to_w_string`.nnThe `w_string` type has an implicit conversion to `w_string_t*` which allows itnto be passed in to `add_glob` without a cast.  The implicit conversion isnundesirable in this case because it makes it more awkward to use some of thennewer methods that are present on the `w_string` type.nnThis diff fixes up the method to accept to `w_string` reference.nnIt has no functional change.nnReviewed By: fanzeyinnDifferential Revision: D17679772nnfbshipit-source-id: ffb83bf984c1d05bd28556b623e3b19c54d34fa7n,5.0,3.0,"query/glob.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,407.0,24.0,0.0,6616.0,0.0,428.0,None,False,,
ddf4a522149a16558b4da50a04ccc9cf4db520ef,d9f80549d2410bda5845e184676cb64cbf034773,Wez Furlong,wez@fb.com,Mon Sep 30 18:49:41 2019 -0700,1569894581,"watchman: consistently error out for absolute globsSummary:nThe glob generator is able to parse globs that are anchored tonthe root of the VFS, but is unable to ever execute that glob expression.nnThis has led to some silent errors in cases where folks have used that sortnof glob expression in the BUCK/TARGETS files, and some not-so silent butnpretty obscure empty PathComponent errors being returned from the Edennglob walker when used in an Eden repo.nnThis diff adds an explicit check and a clearer error message when attemptingnto parse such a query.nnReviewed By: fanzeyinnDifferential Revision: D17679773nnfbshipit-source-id: 497d3c362b5211230f0e49f320bbf9727c08c26bn",23.0,0.0,"query/glob.cpp,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER",2.0,2.0,2.0,0.8865408928220899,29.0,289.5,38.0,62.560804398148136,6617.5,0.5039961123007459,846.0,None,False,,
d9f80549d2410bda5845e184676cb64cbf034773,81dbb7bf19f11fb16608758f16be9a38aba8484f,Wez Furlong,wez@fb.com,Mon Sep 30 18:55:45 2019 -0700,1569894945,"eden: remove legacy bind mount codeSummary:nThis diff removes the logic that consumes the legacy bindnmount list and mounts them on startup.  That functionality has beennreplaced with the eden redirect command.nnInstead of performing the bind mounts in the server, the server willnnow run `eden redirect fixup` to apply that configuration.nnThis diff also changes the behavior of performBindMounts: previously, if thenbind mount setup failed, we would tear down the entire repo mount.  Since we'rennow spawning an external process, it is much more likely that something mightnfail and result in a bad experience, so we no longer bail out in that case:nwe'll continue and leave the bind mounts as-is.  The user can then use `edenndoctor` or `eden redirect fixup` to sort things out.nnReviewed By: simpkinsnnDifferential Revision: D17236366nnfbshipit-source-id: 8b004551a076216f0e5448942f00b5195ee18803n",0.0,6.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1060.0,24.0,32.408159722222216,6619.0,1.0308564265472409,4.0,None,False,,
81dbb7bf19f11fb16608758f16be9a38aba8484f,919def5d9dd6acd3b54a58a06f1636de88099fec,svcscm,svcscm@fb.com,Mon Sep 30 19:22:16 2019 -0700,1569896536,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/97512e64872a82f626a4d5f88448d62cb832e9a7nhttps://github.com/facebook/proxygen/commit/b473f522e88de76dea16363ce7960a92ffb215f6nhttps://github.com/facebookincubator/mvfst/commit/5cf3c6ce6710326bfce06565fba422d4ae17a8c1nnReviewed By: zpaonnfbshipit-source-id: 6891411486895c7e9ec15b6ee722d3f39195868cn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,509.0,0.033796296296296297,1618.0,30.589041095890412,1618.0,None,False,,
919def5d9dd6acd3b54a58a06f1636de88099fec,49a5b3d3e78826d8a8454f743cd3853a67106787,svcscm,svcscm@fb.com,Tue Oct 1 07:54:25 2019 -0700,1569941665,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/dea91b898f38032586773920e70dac3792575a5fnnReviewed By: zpaonnfbshipit-source-id: db0b5e81d57a2bf0aa65c838f2262a34b08bcb58n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1087.0,0.539224537037037,1619.5,2.4208846200844265,1620.0,None,False,,
49a5b3d3e78826d8a8454f743cd3853a67106787,05c0677ecf6f4a6986aa4cc70397634bd938f754,Adam Simpkins,simpkins@fb.com,Tue Oct 1 08:40:36 2019 -0700,1569944436,getdeps: update the python wheel builder to support dependenciesSummary:nCorrectly emit dependency information when one Python package depends onnanother.nnReviewed By: weznnDifferential Revision: D17669620nnfbshipit-source-id: f51c7851470fe50dc0c17263c94c4d858d6e0921n,21.0,2.0,"build/fbcode_builder/getdeps/py_wheel_builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,271.0,1.0,11.885451388888884,118.0,1.084136476376055,76.0,None,False,,
05c0677ecf6f4a6986aa4cc70397634bd938f754,af5f380965754ed6859631d69c251d85f64f0cde,Adam Simpkins,simpkins@fb.com,Tue Oct 1 08:40:36 2019 -0700,1569944436,"getdeps: add manifests for pexpect and python-ptyprocessSummary:nAdd a manifest to download pexpect-4.7.0 from PyPI, as well as its ptyprocessndependency.nnReviewed By: weznnDifferential Revision: D17669618nnfbshipit-source-id: 13395ec07f503f39adb3dc5aa8d0c2d8d0f1d927n",21.0,0.0,"build/fbcode_builder/manifests/pexpect,CAS_DELIMITER,build/fbcode_builder/manifests/python-ptyprocess,CAS_DELIMITER",2.0,1.0,1.0,0.9852281360342516,1.0,0.0,0.0,0.0,119.5,0.0,78.0,None,False,,
af5f380965754ed6859631d69c251d85f64f0cde,c4e8d6547cefdaa0075028e0629bdfa98a4d32f3,svcscm,svcscm@fb.com,Tue Oct 1 09:34:05 2019 -0700,1569947645,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0af071ad7f4f74c9d5c9ae9f0a9b1f467a272ee3nhttps://github.com/facebook/fbzmq/commit/dd99546c0838f4fa49fd81b9363802e9e85e4412nhttps://github.com/facebook/folly/commit/280ed609661f4cd592ade84498c30de22b85a7dcnhttps://github.com/facebook/litho/commit/d25646206456a194c06c9cb9f39efbe7c3aca013nhttps://github.com/facebook/proxygen/commit/1557482fab21fe9ce2b3c8fadd1a8cfc0b3ef8ecnhttps://github.com/facebook/wangle/commit/c0d337e6ab2abe3a1ae571f1062232fa0bfd676dnhttps://github.com/facebookincubator/fizz/commit/4f3fdb34488ebc43cc2b46dfa395bce8e7ddbc8bnhttps://github.com/facebookincubator/katran/commit/b93a13f45d74139a7c097af566e1e3a4f21cf702nhttps://github.com/facebookincubator/mvfst/commit/87559ce4fd88015769ee269caa0028ac9fccf984nnReviewed By: zpaonnfbshipit-source-id: 75067746b9ca1e09d1666d3fc58e249703683dafn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1627.0,0.31146990740740743,1622.0,8.580811715665254,1623.0,None,False,,
c4e8d6547cefdaa0075028e0629bdfa98a4d32f3,327227994599c71cb335582e1ee6c4130df8f7b6,svcscm,svcscm@fb.com,Tue Oct 1 12:39:50 2019 -0700,1569958790,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/d0e76dbb30a48f2571182d163f40072bbe09f9cbnnReviewed By: zpaonnfbshipit-source-id: 44a11090ba7361c98016317d88e1f5d9ad945053n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1630.0,0.12899305555555554,1625.0,5.7375504710632566,1626.0,None,False,,
327227994599c71cb335582e1ee6c4130df8f7b6,9387cfecd75bb1c9e37e989e0e9bdd8f8aa91e8d,Wez Furlong,wez@fb.com,Tue Oct 1 14:19:52 2019 -0700,1569964792,eden: restore getBindMounts methodSummary:nit turns out that buck was using this to avoid making a thriftncall to get the sha1 of files.nnLet's restore the method but have it return an empty list until bucknhas migrated away from that.nnasp2insp is looking at fixing up that aspect of bucknnReviewed By: chadaustinnnDifferential Revision: D17694987nnfbshipit-source-id: 9ab0771c00fc64ed3c3395948650189d50d99180n,6.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1054.0,25.0,0.8084143518518518,6620.0,2.2369894197316995,5.0,None,False,,
9387cfecd75bb1c9e37e989e0e9bdd8f8aa91e8d,0a5e4d0ffbd2bb922aaae1db132a17d23ba51429,svcscm,svcscm@fb.com,Tue Oct 1 16:20:41 2019 -0700,1569972041,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/bc1d8a605c1b837e7bf3fd3df324a84eb9f211e0nhttps://github.com/facebook/proxygen/commit/84d3e7a84fc03305a26f25e5eb59d21c43f74a21nhttps://github.com/facebookincubator/mvfst/commit/95d02afb2b2cd974b3a71920d8451513805968dcnnReviewed By: zpaonnfbshipit-source-id: 22012324091072cae7109817c7c7b451338e3c06n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,513.0,0.15336805555555555,1627.0,7.5202626216889294,1627.0,None,False,,
0a5e4d0ffbd2bb922aaae1db132a17d23ba51429,0bb0b1fddf5a7dde6e495988db225ba29814899e,svcscm,svcscm@fb.com,Wed Oct 2 12:20:05 2019 -0700,1570044005,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/df012bf428f075a730aea6ded5bb5700de2838a3nhttps://github.com/facebook/mcrouter/commit/74f8b5e0b1682277019ecb993f5d3dc2125da72dnhttps://github.com/facebook/proxygen/commit/a2800f5ac9780c20eb5ff6f7746d299c8129a27enhttps://github.com/facebookincubator/mvfst/commit/31744e535367d14129a98921bbcfeee8bbf9137fnnReviewed By: zpaonnfbshipit-source-id: ade6e8199886a7cd8d50e5045f5325be961fd835n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1634.0,0.9351620370370368,1629.0,1.7022455064374409,1630.0,None,False,,
0bb0b1fddf5a7dde6e495988db225ba29814899e,3799853efa1d85cbceda4e0b9a167481de3f218d,svcscm,svcscm@fb.com,Wed Oct 2 12:51:43 2019 -0700,1570045903,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/be4a3034dd618d93c839d80616f65a73c8b4368dnhttps://github.com/facebookincubator/katran/commit/19e3fe0c5e7d3ea6e28d021dafcf8a76fd45a3f6nhttps://github.com/facebookincubator/mvfst/commit/d6cd41309752403daef7c3b1dfede2df5a481d7fnnReviewed By: zpaonnfbshipit-source-id: f993f7bb8dee7fee7fcca9897d92720af35144ccn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,581.0,0.0219675925925926,1631.0,46.52160168598525,1631.0,None,False,,
3799853efa1d85cbceda4e0b9a167481de3f218d,7162ef1ea4cdcf0bdebb274c9255ae7f9123f17f,svcscm,svcscm@fb.com,Wed Oct 2 15:51:18 2019 -0700,1570056678,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f4b878d907d9bdffb570d763748a59485f64c840nhttps://github.com/facebook/folly/commit/17cd1d8ea83e514a1a3cdeaae0d0ae9db3130843nhttps://github.com/facebook/rocksdb/commit/9e4913ce9d5113f205f8d56fa4490d503ab61472nhttps://github.com/facebookincubator/fizz/commit/69913e59b9b37a9790974521f433685c3499fe1anhttps://github.com/facebookincubator/katran/commit/4e97c6455e8514b1df4773fe3d2b4380ab04d9f8nnReviewed By: zpaonnfbshipit-source-id: ab20dc5aabe5264d3feda8cb70d0f210e7084e60n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1097.0,0.13569444444444445,1632.5,6.25119652100901,1633.0,None,False,,
7162ef1ea4cdcf0bdebb274c9255ae7f9123f17f,a960699da02d7d87accab0a6121e96e01417c851,Wez Furlong,wez@fb.com,Wed Oct 2 17:49:16 2019 -0700,1570063756,"getdeps: fixup-dyn-deps: use patchelf from our manifest on linuxSummary:nOn linux we use `patchelf` to manipulate dynamic deps but itnisn't guaranteed to be installed everywhere.  We have a manifest filenthat describes how to build it, but so far nothing has told getdepsnthat it should build it.nnThis diff updates the ELF dep munging code to literally runn`getdeps.py build patchelf` and then use that patchelf binary tonmanipulate the object files.nnRefs: https://github.com/facebook/watchman/pull/750nnReviewed By: pkaushnnDifferential Revision: D17705351nnPulled By: weznnfbshipit-source-id: 358ef239edb389fbd51fa023ff553963aa80b6c7n",10.0,1.0,"build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,292.0,5.0,16.00894675925926,6621.0,1.0624650712528367,209.0,None,False,,
a960699da02d7d87accab0a6121e96e01417c851,65754af9dc617ae3c0604146edb7cb06c0ffb825,svcscm,svcscm@fb.com,Wed Oct 2 18:20:16 2019 -0700,1570065616,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ebb1f736b9d6b7eb5c49d611b89d2427d62d99adnhttps://github.com/facebook/fbzmq/commit/61ae5cb75b80712cf59df63d9c7a22b960fa21b7nhttps://github.com/facebook/folly/commit/93c3a4e2397913012c5af8672747f4c699e2f855nhttps://github.com/facebook/proxygen/commit/4040bc13f65e6b106d07748f7602f95eebc4d6b0nhttps://github.com/facebook/wangle/commit/5aa58b5c5e0fdc732db705e58829d6bb4100390fnhttps://github.com/facebookincubator/fizz/commit/395c85701af0a67ae0a06444ce1cac9100807735nhttps://github.com/facebookincubator/katran/commit/2437de44e8a08ff806e8eeec4a0cbdec922bbd4fnhttps://github.com/facebookincubator/mvfst/commit/62d9741257567ac88c38ecdadad4e02694ee1ce3nnReviewed By: zpaonnfbshipit-source-id: 309e0a4127d6133e2d630c5bcb4e3fb50c9c1e37n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1640.0,0.15234182098765436,1635.0,6.562650003978356,1636.0,None,False,,
65754af9dc617ae3c0604146edb7cb06c0ffb825,4a23b0d9233902d7b2b344958f48d2c1377a3fa0,svcscm,svcscm@fb.com,Wed Oct 2 19:21:36 2019 -0700,1570069296,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ef48199f5396c4ee5bd429cb2150d266c765cd1cnnReviewed By: zpaonnfbshipit-source-id: 8f9c5bd511cc9e4d8efb7f59fc43142add5a71ffn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1059.0,0.042592592592592585,1637.5,18.608695652173914,1638.0,None,False,,
4a23b0d9233902d7b2b344958f48d2c1377a3fa0,348af8f3b675c2f64e2e8c86ffdf930459196bc1,svcscm,svcscm@fb.com,Thu Oct 3 09:17:13 2019 -0700,1570119433,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/litho/commit/7b18a047e0919fa3f6ffe4647ffee45e17025accnhttps://github.com/facebook/wangle/commit/c8d9578c9897cd58096bb3b4d82ec67316cd2fb4nhttps://github.com/facebookincubator/fizz/commit/ea8fab36e5a3f28f677a2aa5deace44a720d1f8fnnReviewed By: zpaonnfbshipit-source-id: 5c26a12cc4de0f8ff310e434625709db07430ec1n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,543.0,0.5802893518518518,1639.0,2.723278217683548,1639.0,None,False,,
348af8f3b675c2f64e2e8c86ffdf930459196bc1,6be84bdd2672ce79a4c46626910834694f9a2bcb,Wez Furlong,wez@fb.com,Thu Oct 3 09:24:41 2019 -0700,1570119881,watchman: pywatchman: remove close_fds when resolving socknameSummary:nThis pessimizes the subprocess creation (see https://bugs.python.org/issue35757) when performingnsockname discovery and isn't strictly required: watchman willnperform an equivalent operation for itself IFF it needs to spawnnthe daemon.nnReviewed By: quark-zjunnDifferential Revision: D17728332nnfbshipit-source-id: 5e00c82969aeaee38d93c44aba4959c6733cce25n,1.0,6.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,1162.0,60.0,327.71519675925924,6622.0,1.0030514300523408,112.0,None,False,,
6be84bdd2672ce79a4c46626910834694f9a2bcb,a3464e19887308c4f74aa82b125c2a51a18755af,svcscm,svcscm@fb.com,Thu Oct 3 09:45:35 2019 -0700,1570121135,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/6f3c9bbaf9728dc65ffc77ed4cc277b3d17f103enhttps://github.com/facebookincubator/fizz/commit/6184e8c3d080f83da22bab6beb2c35cfa130947bnhttps://github.com/facebookincubator/mvfst/commit/fd51e75c9f4a71a16ff397c1caa155e6a0a01d2cnnReviewed By: zpaonnfbshipit-source-id: 94f9f1b77fc466e709c510534ca7f8ba5582c933n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,544.0,0.019699074074074074,1640.0,51.76380728554642,1640.0,None,False,,
a3464e19887308c4f74aa82b125c2a51a18755af,b85a74d88755e5a5c430cf1ba7693f72b9d0a5ee,svcscm,svcscm@fb.com,Thu Oct 3 10:58:05 2019 -0700,1570125485,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/proxygen/commit/b1fc10d33799188ec6163b76b9f64f5f9e15ba17nhttps://github.com/facebook/rocksdb/commit/cca87d7722ac097dbf489a4214bb93a78f4ecba3nhttps://github.com/facebook/wangle/commit/2b0ab0456dd42ddf0ae707880c7462a17f825ab0nhttps://github.com/facebookincubator/katran/commit/5aa4635830faabdf60cc776c58b6fe71a1a7cf0enhttps://github.com/facebookincubator/mvfst/commit/a8dc522a015ecf549f195cbbddce20e65ced4d37nnReviewed By: zpaonnfbshipit-source-id: 504610ab3a08841b7e8297e5b8cef6a589d57554n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,545.0,0.050347222222222224,1641.0,20.86206896551724,1641.0,None,False,,
b85a74d88755e5a5c430cf1ba7693f72b9d0a5ee,088c3007da0bafc527ef505b07270e8bdabb2639,Wez Furlong,wez@fb.com,Thu Oct 3 12:55:12 2019 -0700,1570132512,"getdeps: ensure that INST/lib/*.dll are found in PATH on windowsSummary:nWe were troubleshooting an issue with the eden tests on windowsnwhere the boost dlls where not being found during gtest discovery.nnWhen we compute the environment, we were only including INST/bin in thenPATH on windows.  On Windows, the dlls are searched for in the PATH, andnsince boost installs those into its `lib` dir we were missing those.nnThis diff causes `lib` dirs to get added to PATH on windows in the samenmanner that we would add them to `LD_LIBRARY_PATH` on linux.nnReviewed By: pkaushnnDifferential Revision: D17694542nnfbshipit-source-id: 143a907e6d30d8c12360caa43c8d9c26ff8c88c6n",2.0,0.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,379.0,21.0,12.946331018518519,6623.0,1.0772419613378952,210.0,None,False,,
088c3007da0bafc527ef505b07270e8bdabb2639,bddde148270ff499a6fb1ea07d78cb1c62e6bc47,svcscm,svcscm@fb.com,Thu Oct 3 13:21:44 2019 -0700,1570134104,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b09f9d4bd90e8976101142e18bafff31b3104c5dnhttps://github.com/facebook/fbzmq/commit/a46c6905161350ab5fc9fe66c3d23441d8a6c035nhttps://github.com/facebook/folly/commit/a8d1fd8e17adb3d8a6d225727800814f8ce1dc10nhttps://github.com/facebook/proxygen/commit/686f4cdab51c1009eff258378d7595a85a8d975bnhttps://github.com/facebook/wangle/commit/2bd394f5a6bb3add51f8103d9f5ab3fd4da6fb23nhttps://github.com/facebookincubator/fizz/commit/2d436815b9da13fe59521d3334a404cc6f9dfb6bnhttps://github.com/facebookincubator/katran/commit/c3565bbd1b6e3bdb5fd1778282cf3e6d7ca5cafdnhttps://github.com/facebookincubator/mvfst/commit/6d8ff2abdcbbb07ddda14b6877ca923ed9545b47nnReviewed By: zpaonnfbshipit-source-id: d4f859be9349c3dd4b0fb51beea8875048992f32n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1648.0,0.5475115740740739,1643.0,1.8633884570791999,1644.0,None,False,,
bddde148270ff499a6fb1ea07d78cb1c62e6bc47,5e62a4a895acc69c9cb4fe849f5a8eb531921785,svcscm,svcscm@fb.com,Thu Oct 3 22:50:33 2019 -0700,1570168233,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/b695c6bce85d28c343f4c71fa49645dc7b00f094nnReviewed By: zpaonnfbshipit-source-id: 8ba01a4003190450461279ed68f56846af253efan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1651.0,0.3950115740740741,1646.0,2.547071405549533,1647.0,None,False,,
5e62a4a895acc69c9cb4fe849f5a8eb531921785,259dc66dc9591f9b7ce76d0275bb1065f390c9b1,Wez Furlong,wez@fb.com,Fri Oct 4 07:17:25 2019 -0700,1570198645,watchman: use `add_fb_python_unittest` for watchman integration testsSummary:nThis is a bit of a rough first pass at running python based test executables innthe getdeps-driven cmake build.nnReviewed By: simpkinsnnDifferential Revision: D17148589nnfbshipit-source-id: 6b4f89b50dbe4ed39dfbd17cadee3800c2d17d33n,67.0,8.0,"CMakeLists.txt,CAS_DELIMITER,python/CMakeLists.txt,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER,tests/integration/CMakeLists.txt,CAS_DELIMITER,tests/integration/site_spawn.py,CAS_DELIMITER,tests/integration/test_bser_cli.py,CAS_DELIMITER",6.0,3.0,4.0,1.4740500149905347,30.0,326.3333333333333,115.0,176.8108101851852,6626.5,1.0152450493945069,849.0,None,False,,
259dc66dc9591f9b7ce76d0275bb1065f390c9b1,331a2e648abf096b0ce094eff95032b95df83cfd,svcscm,svcscm@fb.com,Fri Oct 4 08:16:01 2019 -0700,1570202161,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/c510b2adff4ef1db8b40331fc6cde9badeecf320nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 15331ba12019dc91362909a446f867d4dd78ea01n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,586.0,0.3926851851851852,1648.0,3.5465692053760907,1648.0,None,False,,
331a2e648abf096b0ce094eff95032b95df83cfd,834abf0ba28e92da365502b46f33e63b3bfbde2e,Puneet Kaushik,puneetk@fb.com,Fri Oct 4 09:04:59 2019 -0700,1570205099,"Watchman will not watch Eden clones on WindowsSummary: On Windows, Watchman is crawling the Eden repo and pulling down all the contents. Until the Eden integration is complete Watchman will skip Eden repos on Windows.nnReviewed By: weznnDifferential Revision: D17490622nnfbshipit-source-id: a208a050499928a9a5115e5ca4617f1ec32f5370n",26.0,6.0,"scm/SCM.cpp,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER",3.0,2.0,2.0,1.4000745152068983,30.0,464.33333333333326,90.0,255.0399884259259,7.0,1.002246527553052,1.0,None,False,,
834abf0ba28e92da365502b46f33e63b3bfbde2e,d49b94a951e0dbccb3a3c42fea4e43f2a405a3d0,Wez Furlong,wez@fb.com,Fri Oct 4 10:02:04 2019 -0700,1570208524,"watchman: getdeps: Capture artifacts from Github Actions CI builds (#750)Summary:nThis diff teaches the generated Github Actions configuration to copy thenexecutable outputs from the leaf project into an artifacts dir, and then capturenthe artifacts in the build.nnThis page has details on the artifacts mechanism used by Github Actions:nhttps://github.com/actions/upload-artifactnnThis page has the Artifacts link on the RHS where an example of the artifactsncan be downloaded:nhttps://github.com/facebook/watchman/pull/750/checks?check_run_id=244088199nnHere's the actual download:nhttps://github.com/facebook/watchman/suites/247296465/artifacts/74686nnAnd here's what the inside of that zip file contains for the watchman build:nn```n$ find . -lsn496854440 drwxr-xr-x6 wez  mygroup  192 Oct  1 18:50 .n49685487   16 -rw-r--r--1 wez  mygroup 6148 Oct  1 18:51 ./.DS_Storen496854460 drwxr-xr-x5 wez  mygroup  160 Oct  1 18:51 ./macn49685501   16 -rw-r--r--1 wez  mygroup 6148 Oct  1 18:51 ./mac/.DS_Storen496854530 drwxr-xr-x3 wez  mygroup   96 Oct  1 18:50 ./mac/binn49685455 5432 -rwxr-xr-x1 wez  mygroup  2778500 Oct  2 01:02 ./mac/bin/watchmann496854540 drwxr-xr-x7 wez  mygroup  224 Oct  1 18:50 ./mac/libn49685457  296 -rwxr-xr-x1 wez  mygroup   149096 Oct  2 01:02 ./mac/lib/libgflags.2.2.dylibn49685460 1072 -rwxr-xr-x1 wez  mygroup   546348 Oct  2 01:02 ./mac/lib/libssl.1.1.dylibn49685459  272 -rwxr-xr-x1 wez  mygroup   135524 Oct  2 01:02 ./mac/lib/liblz4.1.dylibn49685458  352 -rwxr-xr-x1 wez  mygroup   176900 Oct  2 01:02 ./mac/lib/libglog.0.dylibn49685456 4888 -rwxr-xr-x1 wez  mygroup  2501012 Oct  2 01:02 ./mac/lib/libcrypto.1.1.dylibn496854450 drwxr-xr-x5 wez  mygroup  160 Oct  1 18:50 ./linuxn49685486   16 -rw-r--r--1 wez  mygroup 6148 Oct  1 18:50 ./linux/.DS_Storen496854480 drwxr-xr-x3 wez  mygroup   96 Oct  1 18:50 ./linux/binn49685450   196264 -rwxr-xr-x1 wez  mygroup 100486648 Oct  2 01:16 ./linux/bin/watchmann496854490 drwxr-xr-x4 wez  mygroup  128 Oct  1 18:50 ./linux/libn49685451 3864 -rwxr-xr-x1 wez  mygroup  1976888 Oct  2 01:16 ./linux/lib/libgflags.so.2.2n49685452 2208 -rwxr-xr-x1 wez  mygroup  1127336 Oct  2 01:16 ./linux/lib/libglog.so.0n496854470 drwxr-xr-x4 wez  mygroup  128 Oct  1 18:51 ./windowsn49685513   16 -rw-r--r--1 wez  mygroup 6148 Oct  1 18:51 ./windows/.DS_Storen496854610 drwxr-xr-x5 wez  mygroup  160 Oct  2 01:44 ./windows/binn49685464 7880 -rwxr-xr-x1 wez  mygroup  4030976 Oct  2 01:44 ./windows/bin/watchman.exen49685463  488 -rwxr-xr-x1 wez  mygroup   249856 Oct  2 01:44 ./windows/bin/glog.dlln49685462  544 -rwxr-xr-x1 wez  mygroup   278016 Oct  2 01:44 ./windows/bin/gflags.dlln```nnThe `main.yml` file was updated by running:nn```n$ opensource/fbcode_builder/getdeps.py generate-github-actions --output-file watchman/.github/workflows/main.yml watchmann```nnPull Request resolved: https://github.com/facebook/watchman/pull/750nnTest Plan: See description abovennReviewed By: pkaushnnDifferential Revision: D17705148nnPulled By: weznnfbshipit-source-id: 4f3c466180f5a1cb9fa31a9b3b3f117876f8b89dn",40.0,0.0,".github/workflows/main.yml,CAS_DELIMITER,build/fbcode_builder/getdeps.py,CAS_DELIMITER",2.0,2.0,2.0,0.8112781244591328,33.0,551.0,35.0,15.852754629629633,6630.5,1.0437352589514544,211.0,None,False,,
d49b94a951e0dbccb3a3c42fea4e43f2a405a3d0,6cb51aba9ffa1579c935a888188e7f9ec01e2865,svcscm,svcscm@fb.com,Fri Oct 4 10:29:53 2019 -0700,1570210193,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f35c0177d896b0166c16dad6f71d572a7cf3110enhttps://github.com/facebook/fbzmq/commit/52c8537cc3414b272c37a1e46e17e6192f3d69c3nhttps://github.com/facebook/folly/commit/03191fe7b1b8b9630faa28378dfd230c7b6256c7nhttps://github.com/facebook/litho/commit/9d481a51bb863adf6728fbebb8fd12b071ba13f7nhttps://github.com/facebook/proxygen/commit/33e4a55d8f078defd936ad4a43c11ae2f5400771nhttps://github.com/facebook/wangle/commit/b899630b142f11b73115468c6f29bbe9294944b4nhttps://github.com/facebookincubator/fizz/commit/6eac742faa7d3adc1f4c246e039d83ff12e3d1c1nhttps://github.com/facebookincubator/katran/commit/62045e2c23091ce9bab4ad335e694950f965f36anhttps://github.com/facebookincubator/mvfst/commit/932f277fc1cce2b9e8a2c3f0ae4625311508d6e4nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 63094af9262a1b276f88cc459921ff1486d1d045n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1655.0,0.35475308641975306,1650.0,2.5756670347943085,1651.0,None,False,,
6cb51aba9ffa1579c935a888188e7f9ec01e2865,30462cbd7c439af0585a5daf01bebc5d94a6a50b,Zeyi (Rice) Fan,zeyi@fb.com,Fri Oct 4 10:53:55 2019 -0700,1570211635,"getdeps: add libcurl and make Eden use libcurl instead of system curlSummary:nWe are seeing random segment fault originating from OpenSSL on macOS whennMononoke fetching is enabled.nnThe cause is that on macOS we are actually linking against libcurl shipped withnthe system instead of ours. That copy of libcurl is linked with macOS'snlibcrypto instead of the one we compiles during Eden's build, and it seems thatnversion of libcrypto does not provide concurrency safety.nnThe solution is to build curl on macOS and make sure it is linked to ournOpenSSL that has the concurrency callbacks registered.nnReviewed By: weznnDifferential Revision: D17657822nnfbshipit-source-id: 85abdf3be10b3903a5efc6b3a91624c7258de790n",33.0,2.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER,build/fbcode_builder/manifests/libcurl,CAS_DELIMITER,build/fbcode_builder/manifests/nghttp2,CAS_DELIMITER",3.0,1.0,1.0,1.4831261215117912,32.0,20.0,7.0,43.22127700617285,11.0,1.0289978258940031,12.0,None,False,,
30462cbd7c439af0585a5daf01bebc5d94a6a50b,66e5947ff3bd4d699dabcafebe0b3407f9b4e5a5,svcscm,svcscm@fb.com,Fri Oct 4 11:08:54 2019 -0700,1570212534,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/716e58b5b2e19813deda2dcbd25ebc3d6991e3d4nhttps://github.com/facebook/fbzmq/commit/657c1a3dd80fa59e853fe73098affb916b92c0b9nhttps://github.com/facebook/proxygen/commit/c58b4d6edfa9007a9a2895c5d7b326c1295a7cecnhttps://github.com/facebook/wangle/commit/ef116e374786ecaf302fec7d71413b9facd6cb55nhttps://github.com/facebookincubator/fizz/commit/b882dfef2b843bded902c5803f390581800c36benhttps://github.com/facebookincubator/katran/commit/29d57f5c864788e157482965809fa388a4cb8914nhttps://github.com/facebookincubator/mvfst/commit/416373d0c01475ce07fca6f909eba9b2625c38a6nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 104c97ccbe3eed169c92d6d75d7a28ea059c802dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1070.0,0.027094907407407408,1652.5,28.680478428022212,1653.0,None,False,,
66e5947ff3bd4d699dabcafebe0b3407f9b4e5a5,9d8ebe3c25142110ddcc6d5c05e8e688878ad4c2,svcscm,svcscm@fb.com,Sat Oct 5 00:24:42 2019 -0700,1570260282,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d83845a575f5e2ac9d7cfdff44dc0c57a00c9d0annReviewed By: zpaonnfbshipit-source-id: 048545d9a5e0003553759adb8af5841a80ef300en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1660.0,0.5616705246913579,1655.0,2.095356364363301,1656.0,None,False,,
9d8ebe3c25142110ddcc6d5c05e8e688878ad4c2,72ded9aad31797d41f5fce57499314db0cc7c728,svcscm,svcscm@fb.com,Sat Oct 5 22:13:13 2019 -0700,1570338793,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0773adc6ed5dde5468461e1369cafa518b57d135nnReviewed By: zpaonnfbshipit-source-id: f4a9f5d00470936f93fa214c168491d800b51ba7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1663.0,0.9086921296296296,1658.0,1.6725172268854045,1659.0,None,False,,
72ded9aad31797d41f5fce57499314db0cc7c728,f392b42c14894ea95a75417c9394f94c9d94f0d1,svcscm,svcscm@fb.com,Sun Oct 6 13:36:09 2019 -0700,1570394169,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c0fcc0584dc937de0845ff404e7064f783cb9c7dnnReviewed By: zpaonnfbshipit-source-id: 57e606b87b9a3c82ab52583b75f8f9b18fb67717n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1076.0,0.6409259259259259,1660.5,2.1701820283155158,1661.0,None,False,,
f392b42c14894ea95a75417c9394f94c9d94f0d1,109ec9822b69a8ff163e518a7f67b3c47163b567,svcscm,svcscm@fb.com,Mon Oct 7 01:12:30 2019 -0700,1570435950,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/8f538e5f743c3efe51b8f45cf0f93be7f254d779nnReviewed By: zpaonnfbshipit-source-id: 02817f56059231d315f265a44382ade7773f736bn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1143.0,0.8040393518518518,1662.5,1.7555712029653945,1663.0,None,False,,
109ec9822b69a8ff163e518a7f67b3c47163b567,84c571af898e05b0298d793c6756c922d51995f2,svcscm,svcscm@fb.com,Tue Oct 8 01:07:05 2019 -0700,1570522025,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/proxygen/commit/442d7def679c297427f5d0b679685db92fe3d28cnhttps://github.com/facebook/wangle/commit/c138dc3d2c0c4f4f68ab4931e44b87a6becb194cnhttps://github.com/facebookincubator/fizz/commit/3833f10989711256704260a01e0c9f7d1c33e468nhttps://github.com/facebookincubator/katran/commit/6fc473d5304985aa31d351c6305904e80af4b614nhttps://github.com/pytorch/fbgemm/commit/82d259dade58e53775a534f88b7b48e760f09a64nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 7834a4a8620d0ab9b60060e0abadfba457fb2890n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1079.0,1.2380266203703705,1664.5,1.5398143836553542,1665.0,None,False,,
84c571af898e05b0298d793c6756c922d51995f2,05b5a3b38d80076685abe82fb152ae6f6688624b,svcscm,svcscm@fb.com,Tue Oct 8 17:27:11 2019 -0700,1570580831,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/7a4406fff121e89a6d7bcb8642195b0e50b7a0b9nhttps://github.com/facebook/rocksdb/commit/2f4e288143f1c0c9f5a9e829d1b20ce62aca4224nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 1a496af357cb8f8baf7588c32332b3e68ec51203n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1672.0,1.0127044753086418,1667.0,1.7408565682396298,1668.0,None,False,,
05b5a3b38d80076685abe82fb152ae6f6688624b,cf434736141ad20c6dea3d7c46f4dc3d22a96ad8,Alexey Spiridonov,lesha@fb.com,Tue Oct 8 21:45:41 2019 -0700,1570596341,"Revert / fix up D17158685Summary:nProxygen no longer uses `fbcode_builder` to run its tests, so whatever the purpose of D17158685, these `fbcode_builder` configs no longer affect Proxygen, and can be reverted to their original state.nnSince the general design pattern for `fbcode_builder` has been to link everything as `.so`s, let's return to this (which helps fix Bistro's build).nnAlso, let's not waste time building & linking tests for libraries that are not the library under test. That is:n - Before: The Bistro build also builds tests for wangle, proxygen, etc. This is a result of some accidental changes in D17158685.n - After: We explicitly don't build test for any of the 4 dependencies here. This is OK because each project also has its own `fbcode_builder_config.py`, which **does** build tests.nnThis latter part should result in a build-time reduction.nnReviewed By: lnicconnDifferential Revision: D17819858nnfbshipit-source-id: 7cad1bed86b2f0c3934b0fc5d6fb33e6a2ee2695n",24.0,10.0,"build/fbcode_builder/specs/fizz.py,CAS_DELIMITER,build/fbcode_builder/specs/mvfst.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen_quic.py,CAS_DELIMITER,build/fbcode_builder/specs/wangle.py,CAS_DELIMITER",5.0,1.0,1.0,2.265452932365805,4.0,26.4,20.0,35.509791666666665,5.0,1.0128603026160623,6.0,Corrective,True,,
cf434736141ad20c6dea3d7c46f4dc3d22a96ad8,860df9ce1842f73ce2b5497b031a1e9c28befdb0,svcscm,svcscm@fb.com,Tue Oct 8 22:23:41 2019 -0700,1570598621,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3fe0037e48eba6896cccf4b921033680efd73c77nhttps://github.com/facebook/fbzmq/commit/e00630bf70cca7f0b61dec11c4ff11a2287ee441nhttps://github.com/facebook/folly/commit/946e907c9c5681b211b022fac231a64650368659nhttps://github.com/facebook/proxygen/commit/5b96cf2eb095308c4b3d00649c80dbaa28550481nhttps://github.com/facebook/wangle/commit/77d5a2c10983e8e39f6546ed13edac3794770f3fnhttps://github.com/facebookincubator/fizz/commit/c350d4cea1bfa81204f24480bb0e50cd2651917cnhttps://github.com/facebookincubator/katran/commit/ab93c5bf2f398b72968af516e359f8688acc536enhttps://github.com/facebookincubator/mvfst/commit/9274f54af992ba8b818db0c39d95f45499d42c11nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 13724c98f794dea8e570406c3a0b64e2c83cfd4an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1675.0,0.2059027777777777,1670.0,3.9679595278246214,1671.0,None,False,,
860df9ce1842f73ce2b5497b031a1e9c28befdb0,dd46898bfd5d31face160c91fbea77090de287b2,svcscm,svcscm@fb.com,Tue Oct 8 22:49:02 2019 -0700,1570600142,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ca22474b16f64aaa271d1d57b138ead40284ffddnhttps://github.com/facebook/fbzmq/commit/ba51bf8336caee59eac668973e44e20a7426cf36nhttps://github.com/facebook/proxygen/commit/b00991a9cfce0c1678058d9c8a65918870530fdanhttps://github.com/facebook/wangle/commit/80df4adb86bd60e74406ebe8c9408643d8d1beb1nhttps://github.com/facebookincubator/fizz/commit/029f145b2e5384bb792f8f3f6ae574e2da895f66nhttps://github.com/facebookincubator/katran/commit/5cfd1dd08334c476f2d68e1eaf22a8492837a6c7nhttps://github.com/facebookincubator/mvfst/commit/4d2dd780483749feff5a5bad10e934cd609b9f21nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 8d0046610f745cc79e2a95ab6f8cda804cb2abd3n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1085.0,0.017604166666666667,1672.5,43.60355029585799,1673.0,None,False,,
dd46898bfd5d31face160c91fbea77090de287b2,ff0c93dc79490c68747f81bbf647a3a51282845e,Zeyi (Rice) Fan,zeyi@fb.com,Wed Oct 9 13:00:50 2019 -0700,1570651250,eden: make eden build with Rust datapackReviewed By: weznnDifferential Revision: D17494253nnfbshipit-source-id: 45bab057e5cefd8f2808be96ba31814c5196051bn,1.0,0.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,46.0,6.0,5.088136574074074,13.0,1.1965356050180271,13.0,None,False,,
ff0c93dc79490c68747f81bbf647a3a51282845e,2a9d609566ceecf81d7561d676bcc2e934d6946a,Alexey Spiridonov,lesha@fb.com,Wed Oct 9 15:18:27 2019 -0700,1570659507,"Re-enable BUILD_TESTS for fbcode_builderSummary: As it turns out, several of the `fizz` dependencies require it to have been built with tests enabled, so it's just easier to build them always, IIRC they only waste 1-2 minutes of time.nnReviewed By: lnicconnDifferential Revision: D17837758nnfbshipit-source-id: dd0c73b3aaf72831ce702dbcecd4e3ff627a4901n",4.0,3.0,"build/fbcode_builder/specs/fizz.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,4.0,29.0,5.0,0.731087962962963,8.0,2.367824462527309,7.0,Preventative,False,,
2a9d609566ceecf81d7561d676bcc2e934d6946a,209678224151786771c0ea0a9efd46905ac0a3c8,Durham Goode,durham@fb.com,Wed Oct 9 15:22:29 2019 -0700,1570659749,"Update hg integration testsSummary:nAn earlier diff (D17099990) changed how often Mercurial writes thendirstate, which affects the output of this watchman test. This assertion isnpretty janky anyway, so let's drop it.nnIt's unclear why target determinator did not run this test on the last diff, butnI'll address that in a separate diff.nnReviewed By: weznnDifferential Revision: D17834764nnfbshipit-source-id: 44796929234216dee23346ebf789160acda16d2an",0.0,15.0,"tests/integration/test_scm.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,524.0,25.0,209.10678240740745,0.0,0.0,0.0,Preventative,False,,
209678224151786771c0ea0a9efd46905ac0a3c8,f75d04ce926c6e8e5d5210763e50d7a1d2f7a674,svcscm,svcscm@fb.com,Wed Oct 9 15:57:51 2019 -0700,1570661871,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1b1897772d0b77596d71660e2f23e524198dab1cnhttps://github.com/facebook/fbzmq/commit/3bd6c6d0d0a4a0ddafb4a54ad865b8b90152d0b5nhttps://github.com/facebook/folly/commit/149fed4b2e9df9e28e126a4c84e774558ce08160nhttps://github.com/facebook/proxygen/commit/b047a48ab2cac1413420474825d62ed5ceec37banhttps://github.com/facebook/wangle/commit/2faa112a7968af892541871908aa6d67d2279faanhttps://github.com/facebookincubator/fizz/commit/8f222bfa359686e89190e5b58f5d1c80528559a6nhttps://github.com/facebookincubator/katran/commit/9edafd67e1c726a5d7d915f542441325c36ab4a1nhttps://github.com/facebookincubator/mvfst/commit/08e873d01e4b18a4461c38df701aba3bf3e3ebe6nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 0ee4a022b4ce9097a193c418e3740bb0ec3615a0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1680.0,0.7203240740740741,1675.0,1.8512457000441669,1676.0,None,False,,
f75d04ce926c6e8e5d5210763e50d7a1d2f7a674,2a993d80601cfb293e1c6edc72e53d7c7d081028,svcscm,svcscm@fb.com,Wed Oct 9 20:16:48 2019 -0700,1570677408,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/36acdac8a52abe02afd80f03c9c8826d239a1f22nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: fc46903ce451ee316c0a05c504f8163c2e3453f7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1683.0,0.17982638888888888,1678.0,4.39833944776984,1679.0,None,False,,
2a993d80601cfb293e1c6edc72e53d7c7d081028,2bdd93f2b3d2e20b0e01eea06b804a42e6ef1b85,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,getdeps: ask testpilot to re-run failed tests up to 3 timesSummary: This helps to squash out some flakinessnnReviewed By: pkaushnnDifferential Revision: D17804696nnfbshipit-source-id: decd8e5dd37d802c62cae1168c4f4d72c0fc5c83n,1.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,33.0,790.0,36.0,9.427337962962962,6632.0,1.1060744829482814,212.0,None,False,,
2bdd93f2b3d2e20b0e01eea06b804a42e6ef1b85,bb9837cccfa2c8f2090df1951adc05bf0ec138d4,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,"watchman: migrate wildmatch test to gtestSummary: This is the first step towards removing `watchman/thirdparty/tap.{cpp,h}`nnReviewed By: chadaustinnnDifferential Revision: D17775680nnfbshipit-source-id: d6ac32c3b2489e1713fb132b0bb46d848c56811fn",55.0,65.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER",4.0,3.0,3.0,0.9086369310674762,30.0,269.75,68.0,136.0932175925926,6634.5,1.0513549685151486,2993.0,None,False,,
bb9837cccfa2c8f2090df1951adc05bf0ec138d4,4f7a738f0f926f5d036e65976f48f5203045bc08,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate cache test to gtestSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17775687nnfbshipit-source-id: 0b7e68f8c11a3b16a3df32ae6233fa0659357630n,52.0,61.0,"CMakeLists.txt,CAS_DELIMITER,tests/CacheTest.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.07306611931384561,30.0,421.0,49.0,72.52481481481482,6637.5,0.5034470960131143,851.0,None,False,,
4f7a738f0f926f5d036e65976f48f5203045bc08,07615bb603175e8da65029f77a4dabff18cd13c6,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate art_test to gtestSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17775672nnfbshipit-source-id: d2b0658feea001b30c856dd7a6eea1b1773e7076n,97.0,128.0,"CMakeLists.txt,CAS_DELIMITER,tests/art_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.041125624368577904,30.0,567.5,61.0,279.6891724537037,6639.5,0.5008938494036318,852.0,None,False,,
07615bb603175e8da65029f77a4dabff18cd13c6,4a71ae7a3bc95b46458c97f7834c4b394ae651f3,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate ignore_test to gtestSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17775688nnfbshipit-source-id: ac08dea35a58c4e594079d85b1ee60265442fb6bn,39.0,46.0,"CMakeLists.txt,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.0922772477445739,30.0,434.5,51.0,279.6891724537037,6641.5,0.5008938494036318,853.0,None,False,,
4a71ae7a3bc95b46458c97f7834c4b394ae651f3,367e93c4d9ae36f289abd18b9e3b40dafac346f3,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate pending_test to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775683nnfbshipit-source-id: 701ee6ec9da60d850919c0bc5f41a98578ae637cn,9.0,15.0,"CMakeLists.txt,CAS_DELIMITER,tests/pending_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.2498822928331855,30.0,404.0,57.0,128.93737847222224,6643.5,0.5019389257247374,854.0,None,False,,
367e93c4d9ae36f289abd18b9e3b40dafac346f3,6de7ed52cc716529c3ae052733fd50c93724f852,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate string_test to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775685nnfbshipit-source-id: 8a748dcfb17535923da4e1942d33d4af429a2480n,191.0,195.0,"CMakeLists.txt,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.025992957736547983,30.0,545.0,62.0,387.0028125,6645.5,0.5006459901373456,855.0,None,False,,
6de7ed52cc716529c3ae052733fd50c93724f852,be93ae3d9b0ebf382c917f38fa6f19de67f55521,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate log test to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775675nnfbshipit-source-id: 063037f6bd20109c3a09c06db5a276596eeeaef6n,9.0,11.0,"CMakeLists.txt,CAS_DELIMITER,tests/log.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.28639695711595625,30.0,366.5,52.0,501.6855092592593,6647.5,0.5004983201535342,856.0,None,False,,
be93ae3d9b0ebf382c917f38fa6f19de67f55521,8f662b980db83ed7e35150b0caaf76aad014cfa8,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate bser tests to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775679nnfbshipit-source-id: cf0b8b782b130d2b3d3374397db1a5977b599a3dn,24.0,51.0,"CMakeLists.txt,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.1021580364086504,30.0,522.0,62.0,128.93737847222224,6649.5,0.5019389257247374,857.0,None,False,,
8f662b980db83ed7e35150b0caaf76aad014cfa8,ce2f5d5a4d0e8943989339ca5c081b2474489831,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate childproc tests to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775678nnfbshipit-source-id: 59ab81bea7dca440a318a350e7513906d72dc5edn,13.0,18.0,"CMakeLists.txt,CAS_DELIMITER,tests/childproc.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.20559250818508304,30.0,403.5,56.0,95.52513888888888,6651.5,0.5026171121330772,858.0,None,False,,
ce2f5d5a4d0e8943989339ca5c081b2474489831,2cb71d6dfb4dc4a616ebc2baad48667d97dadc51,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate map util test to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775677nnfbshipit-source-id: 41a4c14aafad4609e603d7186b27d503d89adc1en,51.0,54.0,"CMakeLists.txt,CAS_DELIMITER,tests/MapUtilTest.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.07761951112637416,30.0,412.0,54.0,351.1096759259259,6653.5,0.5007120282269086,859.0,None,False,,
2cb71d6dfb4dc4a616ebc2baad48667d97dadc51,f209385a6487b09638a4b6d75ec5cd13638aa229,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate result test to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775682nnfbshipit-source-id: 31224ae831b4df0f9f3cc3a38b4c4b23e7356cb0n,46.0,80.0,"CMakeLists.txt,CAS_DELIMITER,tests/ResultTest.cpp,CAS_DELIMITER",2.0,2.0,2.0,0.0667796410970523,30.0,419.0,55.0,128.5994386574074,6655.5,0.5019440209273853,860.0,None,False,,
f209385a6487b09638a4b6d75ec5cd13638aa229,2c8f141b3c386c1d24f0b9c2534fbc7762377d31,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate mercurial test to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775681nnfbshipit-source-id: 4af446882df9136fb6308b37399eb671e4ef5c0dn,5.0,11.0,"tests/MercurialTest.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,28.0,22.0,1.0,433.25302083333327,6657.0,1.0023081200866797,861.0,None,False,,
2c8f141b3c386c1d24f0b9c2534fbc7762377d31,72e9f9e37824ba5a1b39c36164592e1b5c3ca279,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: migrate LocalSavedStateInterfaceTest to gtestSummary: as abovennReviewed By: pkaushnnDifferential Revision: D17775686nnfbshipit-source-id: 5bdeb31894e07a61f18b72cdd58902154cbb36fbn,19.0,40.0,"tests/LocalSavedStateInterfaceTest.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,141.0,3.0,160.40158564814809,6658.0,1.0062343523348551,862.0,None,False,,
72e9f9e37824ba5a1b39c36164592e1b5c3ca279,568cf46dbb2d3774f3677d4adb3802b7f2e9a4e5,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: tidy up gtest discovery in the cmake buildSummary:nnow that all the C++ tests use gtest we can switchnfully to gtest discovery and simplify the cmake a little bitnnReviewed By: pkaushnnDifferential Revision: D17775674nnfbshipit-source-id: bde8e267a9f4fc4da470bab1f85079e985930230n,1.0,12.0,"CMakeLists.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,705.0,54.0,0.0,6659.0,0.0,3004.0,None,False,,
568cf46dbb2d3774f3677d4adb3802b7f2e9a4e5,ae83543001ba973706e25e58aa3242186355bc26,Wez Furlong,wez@fb.com,Wed Oct 9 20:59:34 2019 -0700,1570679974,watchman: remove tapSummary:nWe've migrated all tests to gtest so we no longernrequire the tap library.nnsolongthanksforfishnnReviewed By: pkaushnnDifferential Revision: D17775684nnfbshipit-source-id: 7addbdeca99893135442027d48522c4841620d0bn,1.0,537.0,"CMakeLists.txt,CAS_DELIMITER,thirdparty/tap.cpp,CAS_DELIMITER,thirdparty/tap.h,CAS_DELIMITER",3.0,2.0,2.0,0.7254293954118034,30.0,409.33333333333326,62.0,664.4946103395063,6661.0,0.6671849625912225,247.0,None,False,,
ae83543001ba973706e25e58aa3242186355bc26,f94cc20d6665d75babbb2b2e2df01d09d933de0d,svcscm,svcscm@fb.com,Wed Oct 9 21:37:09 2019 -0700,1570682229,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/bc34a0c8732102ec783df4482b62fffc606d1068nhttps://github.com/facebook/fbzmq/commit/34fe0fc87d655f798434fe6be3648bc622ab0b57nhttps://github.com/facebook/folly/commit/4f7f55a9c188d68ba083fae75de05d8297d0b1a9nhttps://github.com/facebook/proxygen/commit/ce95cdf22e58de538f82f152a71beeda8de94917nhttps://github.com/facebook/wangle/commit/52058538bd0fac0bc27c515641cd91fab8438e21nhttps://github.com/facebookincubator/fizz/commit/b8f426fd375427c59ea67f6fb164cc9938b62a8fnhttps://github.com/facebookincubator/katran/commit/a6d0ad8c647abd33511bcc7db2f02c10df626c6anhttps://github.com/facebookincubator/mvfst/commit/b3f1ee8e0e19a449282f0fa01aad50764af4cf6annReviewed By: 2d2d2d2d2dnnfbshipit-source-id: d4e747570517b1d42a84ebd7e37fab38c5a7f003n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1686.0,0.05579861111111111,1681.0,11.952084629744869,1682.0,None,False,,
f94cc20d6665d75babbb2b2e2df01d09d933de0d,933ecdeeb9df31e32b8391817a59c9b460e19ab3,svcscm,svcscm@fb.com,Wed Oct 9 22:01:53 2019 -0700,1570683713,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2f4bb4a806e98ed15998916560a421996b933e0fnhttps://github.com/facebook/fbzmq/commit/cf43d07a4796e088935ea87af21f8a40e0f8550fnhttps://github.com/facebook/proxygen/commit/47e29774d38aa2f8112ccb9e804db0b8aa2e7784nhttps://github.com/facebook/wangle/commit/2b4d6ba7c070c74514663b950ac7793e1960a2eenhttps://github.com/facebookincubator/fizz/commit/8d19a830c6ce7f99e94665f9ec630fc5e194150bnhttps://github.com/facebookincubator/katran/commit/0a5e6b6b777d3e68d32a3d6f6e44b5f6a5aced5dnhttps://github.com/facebookincubator/mvfst/commit/d62143429adb09854055693302e28fca005ede84nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 0c7a824a83ad48026e3bb043daa7730351828d10n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1093.0,0.017175925925925924,1683.5,44.66576819407008,1684.0,None,False,,
933ecdeeb9df31e32b8391817a59c9b460e19ab3,ed6facbafb698de1de8e730f12cd56639a47ed68,Wez Furlong,wez@fb.com,Thu Oct 10 06:53:14 2019 -0700,1570715594,watchman: deadcode: remove unused json_load_callback functionSummary: deadcodennReviewed By: pkaushnnDifferential Revision: D17779598nnfbshipit-source-id: 03198624fa1f1ef1ad754111d1685a1cf818fe35n,0.0,64.0,"thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER",2.0,1.0,1.0,0.4980278865344765,29.0,707.0,35.0,379.2224189814815,6663.5,1.0028073013833962,249.0,None,False,,
ed6facbafb698de1de8e730f12cd56639a47ed68,0611453a8a90c41ee29e9aab7b58329bddd26bb8,Wez Furlong,wez@fb.com,Thu Oct 10 06:53:14 2019 -0700,1570715594,watchman: remove use of jansson private strbuffer type from bser testSummary:nthis test pre-dates our use of C++.  We're now able to replacenstrbuffer with std::stringnnReviewed By: pkaushnnDifferential Revision: D17779597nnfbshipit-source-id: cdcbc555ed3a2624df85c4388e961129d483b3c8n,12.0,27.0,"tests/bser.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,315.0,13.0,0.4122685185185185,6665.0,3.4256035934868048,863.0,None,False,,
0611453a8a90c41ee29e9aab7b58329bddd26bb8,c7ed2dbcc684138f91aff43881bcc1193e6ae64a,Wez Furlong,wez@fb.com,Thu Oct 10 06:53:14 2019 -0700,1570715594,watchman: clang-format some filesSummary:nno functional changes; produced this diff by running `arc f watchman/**/*.cpp`nndontlooknnReviewed By: fanzeyinnDifferential Revision: D17779599nnfbshipit-source-id: a956f8721ce96b23970a0a09f438c47b1ed2e9e3n,3718.0,3380.0,"ChildProcess.cpp,CAS_DELIMITER,ChildProcess.h,CAS_DELIMITER,ContentHash.cpp,CAS_DELIMITER,ContentHash.h,CAS_DELIMITER,CookieSync.cpp,CAS_DELIMITER,CookieSync.h,CAS_DELIMITER,FileDescriptor.cpp,CAS_DELIMITER,FileDescriptor.h,CAS_DELIMITER,FileInformation.cpp,CAS_DELIMITER,FileInformation.h,CAS_DELIMITER,FileSystem.h,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,InMemoryView.h,CAS_DELIMITER,LRUCache.h,CAS_DELIMITER,LocalFileResult.h,CAS_DELIMITER,Logging.h,CAS_DELIMITER,Pipe.cpp,CAS_DELIMITER,Pipe.h,CAS_DELIMITER,PubSub.cpp,CAS_DELIMITER,PubSub.h,CAS_DELIMITER,QueryableView.cpp,CAS_DELIMITER,QueryableView.h,CAS_DELIMITER,Result.h,CAS_DELIMITER,SymlinkTargets.cpp,CAS_DELIMITER,SymlinkTargets.h,CAS_DELIMITER,ThreadPool.cpp,CAS_DELIMITER,ThreadPool.h,CAS_DELIMITER,bser.cpp,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/find.cpp,CAS_DELIMITER,cmds/heapprof.cpp,CAS_DELIMITER,cmds/info.cpp,CAS_DELIMITER,cmds/query.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/since.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,cppclient/WatchmanClient.cpp,CAS_DELIMITER,cppclient/WatchmanClient.h,CAS_DELIMITER,cppclient/WatchmanConnection.cpp,CAS_DELIMITER,cppclient/WatchmanConnection.h,CAS_DELIMITER,error_category.cpp,CAS_DELIMITER,expflags.cpp,CAS_DELIMITER,fstype.cpp,CAS_DELIMITER,hash.cpp,CAS_DELIMITER,ignore.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,launchd.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,query/dirname.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/name.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/file.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/poison.cpp,CAS_DELIMITER,root/reap.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,saved_state/SavedStateInterface.h,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,scm/Mercurial.h,CAS_DELIMITER,scm/SCM.cpp,CAS_DELIMITER,scm/SCM.h,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/integration/cppclient.cpp,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/error.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER,thirdparty/jansson/memory.cpp,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER,thirdparty/jansson/strbuffer.cpp,CAS_DELIMITER,thirdparty/jansson/strbuffer.h,CAS_DELIMITER,thirdparty/jansson/strconv.cpp,CAS_DELIMITER,thirdparty/jansson/utf.cpp,CAS_DELIMITER,thirdparty/jansson/utf.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER,time.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_config.h,CAS_DELIMITER,watchman_error_category.h,CAS_DELIMITER,watchman_file.h,CAS_DELIMITER,watchman_getopt.h,CAS_DELIMITER,watchman_hash.h,CAS_DELIMITER,watchman_ignore.h,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,watchman_opendir.h,CAS_DELIMITER,watchman_pdu.h,CAS_DELIMITER,watchman_perf.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER,watchman_stream.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,watchman_time.h,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER,watchman_watcher.h,CAS_DELIMITER,winbuild/asprintf.cpp,CAS_DELIMITER,winbuild/backtrace.cpp,CAS_DELIMITER,winbuild/dir.cpp,CAS_DELIMITER,winbuild/errmap.cpp,CAS_DELIMITER,winbuild/getopt.h,CAS_DELIMITER,winbuild/getopt_long.cpp,CAS_DELIMITER,winbuild/pathmap.cpp,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER,winbuild/spawn.h,CAS_DELIMITER,winbuild/susres.cpp,CAS_DELIMITER,winbuild/sys/time.h,CAS_DELIMITER,winbuild/time.cpp,CAS_DELIMITER",141.0,10.0,11.0,5.03418235337204,30.0,219.95744680851064,2426.0,465.3649350702651,6736.0,1.0001271340193538,281.0,None,False,,
c7ed2dbcc684138f91aff43881bcc1193e6ae64a,87b1155179dcffab9155e890f2d9ffa92ba48997,Wez Furlong,wez@fb.com,Thu Oct 10 06:53:14 2019 -0700,1570715594,watchman: remove use of strbuffer type from json_dumpsSummary:njson_dumps now returns a `std::string` which is more exceptionnsafe than the previous implementation (which used malloc directly) andnalso saves an intermediate copy of the string.nnReviewed By: pkaushnnDifferential Revision: D17779605nnfbshipit-source-id: 9b529c8a6e4dc5196a84a29f262b4d111c092f95n,21.0,38.0,"listener.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,tests/bser.cpp,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER",5.0,3.0,3.0,2.072079177856425,30.0,419.4,133.0,0.0,6809.0,0.0,264.0,None,False,,
87b1155179dcffab9155e890f2d9ffa92ba48997,bbc9f0edd0edc5d16f2a0b18a2635235b724b83f,Thomas Orozco,torozco@fb.com,Thu Oct 10 09:49:49 2019 -0700,1570726189,"watchman-wait: update to Python 3Summary: Update watchman-wait to build with Python 3. Since the code was already compatible, I didn't change it.nnReviewed By: weznnDifferential Revision: D17855287nnfbshipit-source-id: cd03d154d03a7f4c13cb35fa7db66faca42191b4n",1.0,1.0,"python/bin/watchman-wait,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,264.0,9.0,494.8158333333333,0.0,0.0,0.0,None,False,,
bbc9f0edd0edc5d16f2a0b18a2635235b724b83f,7711946c74c6235dc98cd5f2d369fd31be17a9a1,Thomas Orozco,torozco@fb.com,Thu Oct 10 09:49:49 2019 -0700,1570726189,"watchman-replicate-subscription: update to Python 3Summary: Update watchman-replicate-subscription to Python 3. The code was already compatible, so I left it as-is.nnReviewed By: ikostiannDifferential Revision: D17855706nnfbshipit-source-id: 851c82e8641eea1cbdce17ee0fcedd387042453dn",1.0,1.0,"python/bin/watchman-replicate-subscription,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,399.0,5.0,494.8158333333333,1.0,1.0020209539239346,1.0,None,False,,
7711946c74c6235dc98cd5f2d369fd31be17a9a1,980d093e7210f12c47204a1934214752ed2860e8,Thomas Orozco,torozco@fb.com,Thu Oct 10 09:49:49 2019 -0700,1570726189,"watchman-make: remove Python 2 targetSummary: This was already compatible, so I didn't break compatibility for the sake of it. I did however remove the Py2 target, and renamed the Py3 (and checked in zbgs that there were no references to the Py2 target).nnReviewed By: ikostiannDifferential Revision: D17855709nnfbshipit-source-id: 8a0749df066e265c20e2d23cf272c03881724de1n",1.0,1.0,"python/bin/watchman-make,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,305.0,7.0,420.8816435185185,2.0,1.0023759648713593,2.0,None,False,,
980d093e7210f12c47204a1934214752ed2860e8,a23bfe80c150582f6491ce225d0bc01413a53c2c,svcscm,svcscm@fb.com,Thu Oct 10 10:55:10 2019 -0700,1570730110,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6e6968f5ffa5a9f9151c05d852337d38aafc1c4fnhttps://github.com/facebook/proxygen/commit/80e85cb30f214653b33ac7fd8d70614a1d3648fcnhttps://github.com/facebook/rocksdb/commit/4c49e38f15ad2d575d5768742e961e6eb85a44c0nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 0c36902ad26a7ea5f4c0a7998ef1596167b71b1dn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,533.0,0.5370023148148149,1685.0,2.862189365691747,1685.0,None,False,,
a23bfe80c150582f6491ce225d0bc01413a53c2c,ebffc1ce47c45edde996d1d7aa47070feda6ccd6,Andres Suarez,asuarez@fb.com,Thu Oct 10 13:17:07 2019 -0700,1570738627,Relicense getdeps from BSD to MITSummary: See https://fb.workplace.com/groups/osssupport/permalink/2846876118694318/nnReviewed By: weznnDifferential Revision: D17750243nnfbshipit-source-id: 9e149df1f8e09203820f50d0fcac4a5cecf52e33n,81.0,101.0,"build/fbcode_builder/LICENSE,CAS_DELIMITER,build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/getdeps/cache.py,CAS_DELIMITER,build/fbcode_builder/getdeps/copytree.py,CAS_DELIMITER,build/fbcode_builder/getdeps/dyndeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/envfuncs.py,CAS_DELIMITER,build/fbcode_builder/getdeps/errors.py,CAS_DELIMITER,build/fbcode_builder/getdeps/expr.py,CAS_DELIMITER,build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/getdeps/platform.py,CAS_DELIMITER,build/fbcode_builder/getdeps/py_wheel_builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/runcmd.py,CAS_DELIMITER,build/fbcode_builder/getdeps/subcmd.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/expr_test.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/manifest_test.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/platform_test.py,CAS_DELIMITER,build/fbcode_builder/getdeps/test/scratch_test.py,CAS_DELIMITER",21.0,1.0,3.0,4.338739745191363,34.0,247.66666666666663,179.0,57.392421186067025,43.0,0.9732423682867036,20.0,None,False,,
ebffc1ce47c45edde996d1d7aa47070feda6ccd6,702c0045448e8cbaccd1d5c58f2f1bec9620c526,svcscm,svcscm@fb.com,Thu Oct 10 13:55:32 2019 -0700,1570740932,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8f09128eff26339729b42cbd3c0677b8c6f27a58nhttps://github.com/facebook/fbzmq/commit/041c679db7d974213db56eaf56375ac650c8e726nhttps://github.com/facebook/folly/commit/912054cbe99f3bf7e956c8c471265c0f42f907f0nhttps://github.com/facebook/litho/commit/c9181f8d8a2c6b01f087697f6cbeb8c37aa7396anhttps://github.com/facebook/proxygen/commit/18fe084a4e04a22c72d66158a3320835c8cd95eenhttps://github.com/facebook/wangle/commit/96fcd9bee83d8cea440a6e8bd5e34bf3064116c6nhttps://github.com/facebookincubator/fizz/commit/84be6967008c33e591e6989e3e4bb4004f1b4ee3nhttps://github.com/facebookincubator/katran/commit/1ad80670e6d8f2ee3ff60ceafeb12d57b47981f5nhttps://github.com/facebookincubator/mvfst/commit/3fb701aa595564d9596c20b4723168c43452e549nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 78f58d88f849ab105121533bf276c24d9da06e69n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1692.0,0.4889814814814815,1687.0,4.302714784339813,1688.0,None,False,,
702c0045448e8cbaccd1d5c58f2f1bec9620c526,c5518314297905e04820094d3c62c992c97f57d6,svcscm,svcscm@fb.com,Thu Oct 10 17:30:43 2019 -0700,1570753843,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6ec3be91349f9e5ce30b5a5441ae0e337622ced8nhttps://github.com/facebook/mcrouter/commit/c19dfa4ecfcd9e3da97f7b8091abcb9bec245c5cnhttps://github.com/facebook/proxygen/commit/605f2b84cb542665e5d1f1ae605061fc82ac3bc2nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 21de900fbca22d3a3717e7f4e1dcf2b2a4633405n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1695.0,0.14943287037037034,1690.0,5.089536054527146,1691.0,None,False,,
c5518314297905e04820094d3c62c992c97f57d6,796c9d646e92cad9011e310a2c9c86e94b01ecd9,svcscm,svcscm@fb.com,Thu Oct 10 23:26:40 2019 -0700,1570775200,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/9b54ae14cc87578dabdf9e0ede4ac445f45a2373nhttps://github.com/facebook/proxygen/commit/1e72a744e219b7b111aa39235252a43822fbe2d3nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 487333c649237a81322dcbed0d3a9cbcbd1830f7n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,536.0,0.2471875,1692.0,5.0455120101137805,1692.0,None,False,,
796c9d646e92cad9011e310a2c9c86e94b01ecd9,304f551bd2eb62e41d8a380c7c9bef61bdf9bb9d,svcscm,svcscm@fb.com,Fri Oct 11 04:37:47 2019 -0700,1570793867,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4516865d9db37b71cfdc6871baee7b1f3caa3d71nhttps://github.com/facebookincubator/mvfst/commit/f6a09a345e3034ce6932f52fa49e6ef8bd68ea84nnReviewed By: zpaonnfbshipit-source-id: e8ea2bddff0d2919753fd0b2c96e58300598e9aan,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1135.0,0.33964699074074073,1693.5,4.050302727931818,1694.0,None,False,,
304f551bd2eb62e41d8a380c7c9bef61bdf9bb9d,abd7b0b1a5cb21620803bd5eff6487b284d29c81,Andres Suarez,asuarez@fb.com,Fri Oct 11 05:26:59 2019 -0700,1570796819,Tidy up license headersReviewed By: chadaustinnnDifferential Revision: D17872966nnfbshipit-source-id: cd60a364a2146f0dadbeca693b1d4a5d7c97ff63n,2.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER,eden/fs/service/streamingeden.thrift,CAS_DELIMITER",2.0,1.0,1.0,1.0,30.0,545.5,31.0,58.265787037037036,54.5,1.056212074597827,1.0,None,False,,
abd7b0b1a5cb21620803bd5eff6487b284d29c81,3e614db99deb7c4d03c414953b8df927d2acdcb6,svcscm,svcscm@fb.com,Fri Oct 11 09:17:36 2019 -0700,1570810656,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/71ad58349c0623278803c41cdd9be1f1aa893f09nhttps://github.com/facebook/folly/commit/03358af986d98e418ec0409f360b5c6c5b03522fnnReviewed By: zpaonnfbshipit-source-id: 3e3147221226b0f9874fc24019ec02e2888de6ban,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1137.0,0.1943171296296297,1695.5,4.859670022038238,1696.0,None,False,,
3e614db99deb7c4d03c414953b8df927d2acdcb6,6371245e8c3b2f113e4e4195e65483e02624ffa3,svcscm,svcscm@fb.com,Fri Oct 11 16:10:58 2019 -0700,1570835458,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4ca7f0e2ab1e62a9a0fd1a48f2f0eb42bac27cabnhttps://github.com/facebook/folly/commit/c3543916f73d9594e78de9ee8e6da9b9bfda37e0nhttps://github.com/facebookincubator/mvfst/commit/7a7b50a9a9909ae979cb4abf55de42d365df8c5ennReviewed By: zpaonnfbshipit-source-id: 63b7a7ad92b9c4b99412070119f3ef88adf6060dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1703.0,0.5062461419753087,1698.0,2.9612754271421933,1699.0,None,False,,
6371245e8c3b2f113e4e4195e65483e02624ffa3,658e9ec680fe7691e1fe1d136180b282511a301a,svcscm,svcscm@fb.com,Fri Oct 11 16:48:26 2019 -0700,1570837706,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c70b88fed978c03eaf4c886b9ec55d30943a234dnhttps://github.com/facebook/proxygen/commit/469cdaccc9b30d5285119de55b2461a825e10c1annReviewed By: zpaonnfbshipit-source-id: 686993930dcf58d612a1a635e418e3b966e180ddn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,540.0,0.026018518518518517,1700.0,39.43416370106762,1700.0,None,False,,
658e9ec680fe7691e1fe1d136180b282511a301a,9a38719181b799753b6db9881cff3da865469b17,svcscm,svcscm@fb.com,Sat Oct 12 17:14:15 2019 -0700,1570925655,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/5021575a6523d7a67e87cfdebb823987a48244a9nhttps://github.com/facebookincubator/katran/commit/073767242c47e2514a431ba31d6e4ff57fd80cc4nnReviewed By: zpaonnfbshipit-source-id: 85cacd408a3be307ffd59fa78559c01970106738n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1106.0,1.0309375,1701.5,1.7336914866038249,1702.0,None,False,,
9a38719181b799753b6db9881cff3da865469b17,72d24267e589668e4fedcbcab585656d0063a262,svcscm,svcscm@fb.com,Sun Oct 13 11:30:52 2019 -0700,1570991452,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/9e3083d7da75ddbe3d3f960d46129522e6ff214dnhttps://github.com/facebook/fbzmq/commit/e4fab77764f51553b03237c4454dd78f25a94427nhttps://github.com/facebook/folly/commit/72850c2ebfb94d87bea74d89fcf79f3aaa91a627nnReviewed By: zpaonnfbshipit-source-id: c5c5fc5863af1f7e88a1e0f8f4bd01e7dd6fa380n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1709.0,1.1095216049382717,1704.0,1.6677051642449727,1705.0,None,False,,
72d24267e589668e4fedcbcab585656d0063a262,29a0b4bd559d8e471b9ffe601f76667847ed416e,svcscm,svcscm@fb.com,Mon Oct 14 11:16:34 2019 -0700,1571076994,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/15f1d999e449fc145f77c3b8a94240981d837d74nhttps://github.com/facebook/litho/commit/ecaad240625293a94759206f98fa2a68507a8b1enhttps://github.com/facebook/rocksdb/commit/a6e615a7badd9b88280bac48ee6314f8024de5bcnnReviewed By: yns88nnfbshipit-source-id: 6a7b538ba5e3211661636465bf2067359c95ad90n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1712.0,0.9900694444444444,1707.0,1.6172406537139647,1708.0,None,False,,
29a0b4bd559d8e471b9ffe601f76667847ed416e,e88f78066e575018df54d6dc9bea53acdc74bf8c,svcscm,svcscm@fb.com,Tue Oct 15 10:34:23 2019 -0700,1571160863,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f578156fa3ed0a86d9bba125106bf269ff67e143nhttps://github.com/facebook/litho/commit/6ee6a588ddfc0a17d1349390dd85c51cf8f313b3nnReviewed By: yns88nnfbshipit-source-id: 81f59e1d306b046a4d0a3a5376a953608111e058n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1715.0,0.9707060185185186,1710.0,1.6295532318258237,1711.0,None,False,,
e88f78066e575018df54d6dc9bea53acdc74bf8c,6ea7b10e13dd962151eaac65923733e7c16ee4a5,svcscm,svcscm@fb.com,Wed Oct 16 04:46:16 2019 -0700,1571226376,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/49b65e9ec1f5516a7441c4c59b5fd189f3b44105nhttps://github.com/facebookincubator/katran/commit/55c5e5b9634932455c7436f2757ba76cb7616e7fnnReviewed By: yns88nnfbshipit-source-id: 39ecfc46668c82d08d1c7a7f9f4645a8ee7d62f6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1718.0,0.7582523148148148,1713.0,1.805946911300048,1714.0,None,False,,
6ea7b10e13dd962151eaac65923733e7c16ee4a5,f78dd1239c33ab84e58870af1a4807a20a7dbe1e,svcscm,svcscm@fb.com,Wed Oct 16 09:47:11 2019 -0700,1571244431,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/560befd3fb5ad7fd1cdd10c82bb2a19f8110e33fnnReviewed By: yns88nnfbshipit-source-id: 680e6531bda06b4896b55598bc1b75bea564770cn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,605.0,0.2089699074074074,1715.0,5.785378011631128,1715.0,None,False,,
f78dd1239c33ab84e58870af1a4807a20a7dbe1e,157244132f0d3829a1ddc26e983e622766a2d3ba,svcscm,svcscm@fb.com,Wed Oct 16 22:32:39 2019 -0700,1571290359,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8cc7cf6522f359b79475ce929bd739e660e64d7fnnReviewed By: yns88nnfbshipit-source-id: 4aebaf176c9e189aac93f9fa0f3c9eafc67e0be6n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1152.0,0.6360590277777778,1716.5,2.068224626605261,1717.0,None,False,,
157244132f0d3829a1ddc26e983e622766a2d3ba,8b0e8014329af25843688067d02773270f502754,Wez Furlong,wez@fb.com,Thu Oct 17 02:17:45 2019 -0700,1571303865,getdeps: constrain testpilot to our number of jobsSummary: testpilot's defaults assume a bigger machine than some of our laptopsnnReviewed By: fanzeyinnDifferential Revision: D17878120nnfbshipit-source-id: e01f1f9c77a4f5f011051c9c642dbe934c66bc0bn,1.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,789.0,38.0,6.542106481481483,6812.0,1.152855965097888,214.0,None,False,,
8b0e8014329af25843688067d02773270f502754,d92ca2fa0ad30f738217b19400deb92c4a162b8c,Wez Furlong,wez@fb.com,Thu Oct 17 02:17:45 2019 -0700,1571303865,watchman: pass version info down to watchman build via environmentSummary:nThis diff allows passing a watchman version number overridenvia the environment as well as via the cmake `WATCHMAN_VERSION_OVERRIDE`noption.nnTo help invalidate the build I've added a new section to the manifestnfiles that allows listing out additional env vars that the projectnhashes should be sensitive to.  The effect of this is that we'llnre-run the cmake configure step if the listed env vars are changed.nnReviewed By: Ben0megannDifferential Revision: D17865896nnfbshipit-source-id: 8ea5572b0b9b7af95ec5c310e494cb17a139ced4n,10.0,1.0,"CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/getdeps/load.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/manifests/watchman,CAS_DELIMITER",4.0,2.0,3.0,1.7899290753099992,34.0,382.0,104.0,6.881533564814816,6814.5,1.0741803989703604,217.0,None,False,,
d92ca2fa0ad30f738217b19400deb92c4a162b8c,1e6ee3f816fe4c7c13882dee415316941757470b,Wez Furlong,wez@fb.com,Thu Oct 17 02:17:45 2019 -0700,1571303865,getdeps: regard IOError as transient when fetching URLsSummary:nthis should help avoid this particular error:nn```nIOError: [Errno socket error] [Errno 11001] getaddrinfo failedn```nnReviewed By: chadaustinnnDifferential Revision: D17886598nnfbshipit-source-id: bd9f5b84ebd7ca5c339be3afec3a975fa907d052n,1.0,1.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,693.0,13.0,6.542106481481483,6817.0,1.152855965097888,218.0,None,False,,
1e6ee3f816fe4c7c13882dee415316941757470b,bc76f684536dba1b9bfa6a729be16530ac59c018,svcscm,svcscm@fb.com,Thu Oct 17 02:48:51 2019 -0700,1571305731,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b728b4ac51032f40a1bf8e0562ed6ef9dbc72f10nhttps://github.com/facebook/fbzmq/commit/97a578dabb3ffd70b65d228edb9d0a5e8772c35dnhttps://github.com/facebook/folly/commit/a9e811bdc7033aa6ab34c0766acde790fefb3b4fnhttps://github.com/facebook/proxygen/commit/185282d1c669ec4cf5063dc2ea64c26393e43ffbnhttps://github.com/facebook/wangle/commit/e686e5de15333acb7a1a2498e8e459e2ebb40decnhttps://github.com/facebookincubator/fizz/commit/2c918fee3b8fae4acf0d59a494bc2649fb1e2921nhttps://github.com/facebookincubator/katran/commit/be1708e4f5058f8da3d70e24078ecd742a5a5443nhttps://github.com/facebookincubator/mvfst/commit/df06d5797fb0736fa4fcdb84d743515119639a5annReviewed By: yns88nnfbshipit-source-id: c9521877ef7a20f9eef3a3857b70b7b925bdfc29n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1724.0,0.4247646604938272,1719.0,4.0718872069852905,1720.0,None,False,,
bc76f684536dba1b9bfa6a729be16530ac59c018,073fdd5c13d73c66563a8f07acebc53a1c6d7dde,svcscm,svcscm@fb.com,Thu Oct 17 21:44:23 2019 -0700,1571373863,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/60d455246a2db60c1958ccbbe763cadaea38bc2fnnReviewed By: yns88nnfbshipit-source-id: e098bb396ddd63040504d50156fbec053afc52c1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1727.0,0.7885648148148148,1722.0,1.774966242000822,1723.0,None,False,,
073fdd5c13d73c66563a8f07acebc53a1c6d7dde,1328e661da0889f91b6e25a0f11204df4897aef9,svcscm,svcscm@fb.com,Fri Oct 18 11:24:12 2019 -0700,1571423052,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ed0f3dfc4f96aa00567f69dc870842fd813c6677nnReviewed By: yns88nnfbshipit-source-id: 545ae7384585ebfec93e67cd5efb68af51607cfcn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1730.0,0.5693171296296297,1725.0,2.07341072190937,1726.0,None,False,,
1328e661da0889f91b6e25a0f11204df4897aef9,b8770941c33ab06e9069ea544d96fecc91c9358e,svcscm,svcscm@fb.com,Fri Oct 18 13:19:23 2019 -0700,1571429963,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/615a44f04f1c41b9bcc96bcc0845a6b5cba47b01nnReviewed By: yns88nnfbshipit-source-id: ca24d4c01ddd31a8ecdd9043557c07b5bd55acc3n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,610.0,0.07998842592592592,1727.0,13.501808710750975,1727.0,None,False,,
b8770941c33ab06e9069ea544d96fecc91c9358e,77513e0a9875e340ed3b6ac0574c6b9e3bde5567,svcscm,svcscm@fb.com,Sat Oct 19 08:31:20 2019 -0700,1571499080,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0dc1a115118d4a68f85b2ae7be4df4cd6261b84fnnReviewed By: yns88nnfbshipit-source-id: 3d254e9994c6280717e19b56a5c73f59b5a53155n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1734.0,0.8532908950617285,1729.0,1.7074448842593384,1730.0,None,False,,
77513e0a9875e340ed3b6ac0574c6b9e3bde5567,3bc82a197cacce83a9448a4d630cf425c6d93105,svcscm,svcscm@fb.com,Sat Oct 19 19:12:33 2019 -0700,1571537553,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a62d2e395a8ff3dac6400d089064966f84c15b52nhttps://github.com/facebook/proxygen/commit/ac8a0f520b1d5fb91cd3f3ef681d4b37053b09f0nnReviewed By: yns88nnfbshipit-source-id: 31fee2012c2fc12bd01cea9a60eb2f0a81e5eb54n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1125.0,0.4452893518518519,1731.5,2.6842980791724065,1732.0,None,False,,
3bc82a197cacce83a9448a4d630cf425c6d93105,0bef2bda8c9b322ae0f562395b754058ee8e6e52,Wez Furlong,wez@fb.com,Mon Oct 21 03:36:40 2019 -0700,1571654200,watchman: fixup case sensitivity of file globsSummary:nThis is fixing the bug I introduced with the glob feature in:nnhttps://github.com/facebook/watchman/commit/701f157e370a720003f5ddc051157a8c74b7ebdennReviewed By: pkaushnnDifferential Revision: D18004111nnfbshipit-source-id: cdab2f66bf08357d19208d251c2da9c006e426ean,35.0,2.0,"query/glob.cpp,CAS_DELIMITER,tests/integration/test_glob.py,CAS_DELIMITER",2.0,2.0,2.0,0.4941829348497887,29.0,301.0,40.0,20.36596064814815,6818.5,1.0368261538435308,866.0,None,False,,
0bef2bda8c9b322ae0f562395b754058ee8e6e52,f5bc361ccb7c47f8d19a8c9d474ff99904201601,Wez Furlong,wez@fb.com,Mon Oct 21 04:07:32 2019 -0700,1571656052,"getdeps: don't use fbsource hash in the simple shipit fetcherSummary:nThis avoids invalidating the entire build in responsento just running `hg amend`, which is frustrating and slow.nnReviewed By: chadaustinnnDifferential Revision: D18005409nnfbshipit-source-id: ef93313859919298be78204046eb08bcadc5398en",6.0,2.0,"build/fbcode_builder/getdeps/fetcher.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,693.0,14.0,4.076238425925927,6820.0,1.245324216964283,219.0,None,False,,
f5bc361ccb7c47f8d19a8c9d474ff99904201601,b51fabb1dd85eba6a3b65a6bb3eee9d28d34fd9e,svcscm,svcscm@fb.com,Mon Oct 21 04:35:35 2019 -0700,1571657735,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d5ca07fd8f978a5b85e5601216546d18596d4dafnhttps://github.com/facebook/fbzmq/commit/0a37fb5cfa47f3c6532fbe52f4c7db9929aa5fd3nhttps://github.com/facebook/folly/commit/eddca91ca3192add546eeff060d5410dc7f830fdnhttps://github.com/facebook/proxygen/commit/5cb5dbeb4ec0571def1b1df970e9db48b70d3dcfnhttps://github.com/facebook/wangle/commit/22d44c34bfa9ae501594cc701a545256f251c5a8nhttps://github.com/facebookincubator/fizz/commit/c85cb20c1d7460f7a03c57eb2f0eb46895292942nhttps://github.com/facebookincubator/katran/commit/2e917c1e22294ada0204a651d03dbf0e2412e553nhttps://github.com/facebookincubator/mvfst/commit/b572b4d1cd69fde51db18c766a3f054bb2b8e66fnnReviewed By: yns88nnfbshipit-source-id: a0496814c3cc08b11054e427f39a4ce0d77b7088n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1739.0,1.5394251543209876,1734.0,1.4150997146134383,1735.0,None,False,,
b51fabb1dd85eba6a3b65a6bb3eee9d28d34fd9e,3c928f2f70656a07ca58f48c0fced5a2fc9dcbf6,svcscm,svcscm@fb.com,Mon Oct 21 04:58:25 2019 -0700,1571659105,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/20a5ee8264b6efba63d5340bb822e977b88b07e6nhttps://github.com/facebook/fbzmq/commit/bd510c82bce0d52443469869d16f7c01d1427ed9nhttps://github.com/facebook/proxygen/commit/5681c175ca0d84d9ab22aca51ffebd0712af4273nhttps://github.com/facebook/wangle/commit/471f1be14ba008714d589a50f5c7cb81cb04679cnhttps://github.com/facebookincubator/fizz/commit/dabc80ee8af238f7c2c13051c40d2b81c00ac25bnhttps://github.com/facebookincubator/katran/commit/9b2c419474439a741835771e262025a7582ee644nhttps://github.com/facebookincubator/mvfst/commit/4ebd7344ee64e748b8dbb5847dbb40bcc795b783nnReviewed By: yns88nnfbshipit-source-id: b044853bcfa04a687890baf9ca2c7fb61f72c85dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1129.0,0.015856481481481482,1736.5,48.299270072992705,1737.0,None,False,,
3c928f2f70656a07ca58f48c0fced5a2fc9dcbf6,85c5dc1b303addfc10ee30f908e78d759b56aa8b,Wez Furlong,wez@fb.com,Mon Oct 21 08:05:48 2019 -0700,1571670348,watchman: replace some more strbuffer usage with std::stringSummary:nthis brings us closer to removing strbuffer.nnThis commit temporarily introduces a destructor for the lexer struct;nit will be removed in a later diff in this stack.nnReviewed By: chadaustinnnDifferential Revision: D17779595nnfbshipit-source-id: 3923c93c51801199a2d9ee5dcf8011c354945b25n,36.0,47.0,"thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER,thirdparty/jansson/strconv.cpp,CAS_DELIMITER",3.0,1.0,1.0,0.9308129976190406,30.0,400.66666666666674,23.0,11.050393518518515,6822.0,1.05530220349954,267.0,None,False,,
85c5dc1b303addfc10ee30f908e78d759b56aa8b,abd3808b36c08ad7ef1a67d6ae645993edaab0f7,Wez Furlong,wez@fb.com,Mon Oct 21 08:05:48 2019 -0700,1571670348,"watchman: remove strbuffer codeSummary: all uses of strbuffer have now been replaced with std::string, so we can delete thisnnReviewed By: chadaustinnnDifferential Revision: D17779600nnfbshipit-source-id: 6b1d8247ce4bccc988dfc41b32c0f97fbfd67a1en",0.0,143.0,"CMakeLists.txt,CAS_DELIMITER,thirdparty/jansson/dump.cpp,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/load.cpp,CAS_DELIMITER,thirdparty/jansson/strbuffer.cpp,CAS_DELIMITER,thirdparty/jansson/strbuffer.h,CAS_DELIMITER,thirdparty/jansson/strconv.cpp,CAS_DELIMITER",7.0,2.0,2.0,1.0657399710876774,34.0,344.1428571428572,96.0,5.341840277777777,6827.0,1.0747688355035383,273.0,None,False,,
abd3808b36c08ad7ef1a67d6ae645993edaab0f7,9f1c5edf3a1bc3f6ff0c71eea449724d8249f4de,Wez Furlong,wez@fb.com,Mon Oct 21 08:05:48 2019 -0700,1571670348,watchman: adopt std::string in place of raw pointer in json parserSummary:nthis is desirable for a couple of reasons:nn* The raw pointer is harder to manage exception safety forn* It is the last use of jsonp_malloc which means that we can subsequentlyn  remove the custom allocator functionalitynnThis diff replaces the union in the lexer with a plain struct; the unionndoesn't buy us much in the context of watchman while also making it hardernto reason about how things are cleaned up in the destructor.  By switchingnto a struct we can remove the custom explicit destructor from the lexer.nnReviewed By: chadaustinnnDifferential Revision: D17779610nnfbshipit-source-id: e36ee88c965cf58aac4a5a901dc0709f3f225701n,16.0,34.0,"thirdparty/jansson/load.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,941.0,8.0,0.0,6831.0,0.0,274.0,None,False,,
9f1c5edf3a1bc3f6ff0c71eea449724d8249f4de,6da5aeeb7cca4b9093414fd37fb26776269c8ebe,Wez Furlong,wez@fb.com,Mon Oct 21 08:05:48 2019 -0700,1571670348,"watchman: remove json memory functionsSummary: These were not used in watchman, so remove them.nnReviewed By: chadaustinnnDifferential Revision: D17779607nnfbshipit-source-id: ae52f67948386afdb35259cd4e2c134cb4aaa0d7n",0.0,60.0,"CMakeLists.txt,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/jansson_private.h,CAS_DELIMITER,thirdparty/jansson/memory.cpp,CAS_DELIMITER",4.0,2.0,2.0,1.034777246313702,34.0,306.75,111.0,5.5251967592592575,6833.5,0.8065590717608934,277.0,None,False,,
6da5aeeb7cca4b9093414fd37fb26776269c8ebe,757d2c7840b811d11bef932b846da756c7e1731b,Wez Furlong,wez@fb.com,Mon Oct 21 08:05:48 2019 -0700,1571670348,"watchman: add json_ref::asInt method, migrate to it from json_integer_valueSummary:n`asInt()` is compatible with the folly::dynamic method with the same name.nnMigrate all the code outside of jansson to use `asInt`.nnReviewed By: chadaustinnnDifferential Revision: D17779603nnfbshipit-source-id: d97e57405a606655785e570f81825ca29fee688fn",37.0,30.0,"bser.cpp,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/debug.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,saved_state/LocalSavedStateInterface.cpp,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/value.cpp,CAS_DELIMITER",14.0,5.0,5.0,3.1703794635135685,34.0,387.07142857142856,368.0,48.25567377645501,6842.5,1.0113226784057232,279.0,None,False,,
757d2c7840b811d11bef932b846da756c7e1731b,6297d7f5df2f56ec585658c16cbe93dc4f0fcd8d,Wez Furlong,wez@fb.com,Mon Oct 21 08:05:48 2019 -0700,1571670348,"watchman: remove use of json_unpack from query/parse.cppSummary:nThis is more type safe and a bit clearer, if a little more verbose.nIt also allows a future migration to folly::dynamic.nnReviewed By: chadaustinnnDifferential Revision: D17779611nnfbshipit-source-id: 2f77cfdf3552906db89acb48f6e8419da0a452dcn",25.0,16.0,"query/parse.cpp,CAS_DELIMITER,tests/integration/test_invalid_expr.py,CAS_DELIMITER",2.0,2.0,2.0,0.2811937964320427,34.0,283.0,39.0,254.6400578703704,6850.5,0.5009817779735476,867.0,None,False,,
6297d7f5df2f56ec585658c16cbe93dc4f0fcd8d,13666a593f06c9d033ace5c202920abe2b2704b7,svcscm,svcscm@fb.com,Mon Oct 21 08:30:33 2019 -0700,1571671833,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/c9d712c388b4f943f1334f69f716bd80b88b8ce6nnReviewed By: yns88nnfbshipit-source-id: f2bd1e6b49fb44e4145122db39b6cec85206f169n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,613.0,0.1631712962962963,1738.0,7.128528869343167,1738.0,None,False,,
13666a593f06c9d033ace5c202920abe2b2704b7,563ce4c2ac6e834dabc93ac97aa2d3e99a013544,svcscm,svcscm@fb.com,Mon Oct 21 21:50:17 2019 -0700,1571719817,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/9d739fe1622d1875e91337aab32bbbefb76da5bcnhttps://github.com/facebookincubator/fizz/commit/758bf19acf0fe12bc5b620f6af0b4df40e7bb7f6nnReviewed By: cdelahoussennfbshipit-source-id: 0000f5800d8bd388c0ee5ea80e489e63608f3ce6n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1168.0,0.6290277777777777,1739.5,2.1089949279588844,1740.0,None,False,,
563ce4c2ac6e834dabc93ac97aa2d3e99a013544,815cb5460d1522dfbdb168a32af520fe7f64a6e8,Wez Furlong,wez@fb.com,Tue Oct 22 01:44:57 2019 -0700,1571733897,"watchman: remove use of json_unpack from triggerSummary:nThis makes us slightly stricter: we used to allow specifying `stdout:n` by accident; this was equivalent to not specifying the output file name,nbut now we will raise an error in that case.nnReviewed By: chadaustinnnDifferential Revision: D17779602nnfbshipit-source-id: 9e2f99f3ba8aee4ebaff696ea3daa980b98ee4d6n",24.0,20.0,"cmds/trigger.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",3.0,2.0,2.0,1.0957952550009338,34.0,267.0,91.0,8.102449845679013,6853.0,1.4935278887376109,3102.0,None,False,,
815cb5460d1522dfbdb168a32af520fe7f64a6e8,490048e09c4e6ce5cc33da0f61fb15718738bbbf,Wez Furlong,wez@fb.com,Tue Oct 22 01:44:57 2019 -0700,1571733897,watchman: remove use of json_unpack from clock commandSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17779609nnfbshipit-source-id: 53383b8aabf649600ecc851aed4940703f906209n,15.0,10.0,"cmds/watch.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,332.0,26.0,11.785914351851853,6855.0,1.0848470445437164,427.0,None,False,,
490048e09c4e6ce5cc33da0f61fb15718738bbbf,bb1cd4152fd774c8bb5084bcafb614635fe41740,svcscm,svcscm@fb.com,Tue Oct 22 05:45:19 2019 -0700,1571748319,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbzmq/commit/cc706526f8b1e4d61492f8f838c996a6cbcd3b9cnhttps://github.com/facebook/litho/commit/1186b8bcc3872b1c79e4bee2e5153361acff219bnhttps://github.com/facebook/wangle/commit/82f7971f3b847063261217c553ef721be8509f5bnhttps://github.com/facebookincubator/katran/commit/a2b9ce30f22e53511a1fd654aba69e2d695edd29nnReviewed By: cdelahoussennfbshipit-source-id: 89d606f2dc19927187691c168001236925503af1n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,577.0,1.0325694444444444,1741.0,1.9684578653574551,1741.0,None,False,,
bb1cd4152fd774c8bb5084bcafb614635fe41740,df9f2c4a5eb37354949fdefb2b917427fe05fa6c,Mateusz Kwapich,mitrandir@fb.com,Tue Oct 22 05:53:30 2019 -0700,1571748810,fix the checks for data availabilitySummary: `readAvail` doesn't take any arguments.nnReviewed By: weznnDifferential Revision: D18059090nnfbshipit-source-id: 82b285e6ba7a8871c5bc856bbc1513c0c3e79fd7n,2.0,2.0,"node/bser/index.js,CAS_DELIMITER",1.0,1.0,1.0,0.0,15.0,586.0,4.0,124.5667824074074,1.0,1.0080278223509809,0.0,Corrective,True,,
df9f2c4a5eb37354949fdefb2b917427fe05fa6c,0658382f41f72ebe9cc1f5b50aed0f2401f0bf29,Wez Furlong,wez@fb.com,Tue Oct 22 10:25:10 2019 -0700,1571765110,watchman: bump bser.js package version for publishingSummary: as abovennReviewed By: fanzeyinnDifferential Revision: D18062061nnfbshipit-source-id: 1f0490ac24c78daf2cd4645ffc64688b6e39b553n,1.0,1.0,"node/bser/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,10.0,33.0,5.0,122.88211805555555,6856.0,1.0081378805624746,38.0,None,False,,
0658382f41f72ebe9cc1f5b50aed0f2401f0bf29,fff94236e01efd295210a669154ced58c8aa42cf,svcscm,svcscm@fb.com,Tue Oct 22 10:50:40 2019 -0700,1571766640,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/66b625242c562b1badecba223550efc488805b1enhttps://github.com/facebook/folly/commit/f54c24f82d7b9647d0b41605ff1f9f5e1fc52ad6nhttps://github.com/facebook/litho/commit/3885c389bdecf45b77c0cacfbf0432b7bf746bf2nhttps://github.com/facebook/proxygen/commit/fc5afaecdfd0c21dc47b135d6c32ebb9f1cce33cnhttps://github.com/facebook/wangle/commit/b3e50b5606a097cacee93fab8d7bca2f1c454aa3nhttps://github.com/facebookincubator/mvfst/commit/f8a545e32b9e19da479e1079b751431c264fd053nnReviewed By: cdelahoussennfbshipit-source-id: 4ea875f35026ef802d89e30f4ec665c816759b78n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1748.0,0.431971450617284,1743.0,2.1798421417786042,1744.0,None,False,,
fff94236e01efd295210a669154ced58c8aa42cf,989b57bdac5a7a2b2be6353be862ef2327ab6247,svcscm,svcscm@fb.com,Tue Oct 22 23:31:04 2019 -0700,1571812264,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/d32d4344ec8886c53e32b51bc0cfb99baa1df61bnhttps://github.com/pytorch/fbgemm/commit/00dfc2c82e0073305ca2a8f73ca94b392f94b5efnnReviewed By: cdelahoussennfbshipit-source-id: 5d1b8300a428c65bc35f222ae19c656585ba897bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1751.0,0.5280555555555555,1746.0,2.1572856391372963,1747.0,None,False,,
989b57bdac5a7a2b2be6353be862ef2327ab6247,727e7e30c407375d00c1ed4228958a78e3ec5d4d,svcscm,svcscm@fb.com,Wed Oct 23 20:24:44 2019 -0700,1571887484,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3b4535a7b996dd7d588026a842b40b873cbf612fnnReviewed By: cdelahoussennfbshipit-source-id: 30d40aa0a2ce053bcd00860565aae7627ca1137an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1754.0,0.8706018518518519,1749.0,1.70194097314544,1750.0,None,False,,
727e7e30c407375d00c1ed4228958a78e3ec5d4d,6e020cd246b9fabf6829e83d0dc56f0f5d603a33,svcscm,svcscm@fb.com,Thu Oct 24 01:47:24 2019 -0700,1571906844,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b0959ec2f99299f1643d9a0cbb5b64d10bbf7629nnReviewed By: cdelahoussennfbshipit-source-id: c0fb5793ddac8b0ce33d6614dcb07502b880a9b1n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1139.0,0.22407407407407406,1751.5,4.347107438016529,1752.0,None,False,,
6e020cd246b9fabf6829e83d0dc56f0f5d603a33,2d66822a24ab86595adbe5d735be6fc4dab42ba4,svcscm,svcscm@fb.com,Thu Oct 24 13:15:07 2019 -0700,1571948107,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4e8d4f153f131fb2dcfd68e2cd8c4bc77fee8c39nhttps://github.com/facebookincubator/profilo/commit/be10a3d4b3aac246001ef87a0203597af7945bbdnnReviewed By: cdelahoussennfbshipit-source-id: 9874eae216a6b5db07676c17687a1bf727e6ae69n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,559.0,0.4775810185185185,1753.0,3.0938855633376146,1753.0,None,False,,
2d66822a24ab86595adbe5d735be6fc4dab42ba4,e87665f3a4464a4e3433b5df3982eab40c1414bb,svcscm,svcscm@fb.com,Thu Oct 24 22:26:33 2019 -0700,1571981193,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/59613a5631665e2819df3c9fac3ec83ab5f9b9adnhttps://github.com/facebook/proxygen/commit/ff6fbc6607930b243ece4ae61f91db9c6e632478nhttps://github.com/pytorch/fbgemm/commit/4dd4f005120b61022a6d16e6a8f6f6eb131a18c9nnReviewed By: cdelahoussennfbshipit-source-id: 5637007829adcab490bef01db9b1bd60fd856405n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1142.0,0.6217303240740739,1754.5,2.7077918040162565,1755.0,None,False,,
e87665f3a4464a4e3433b5df3982eab40c1414bb,b2144a1c8613c9050e26b0af20e67fbc3fb4f2c1,Wez Furlong,wez@fb.com,Fri Oct 25 10:19:08 2019 -0700,1572023948,"getdeps: memoize eden prefetched dirsSummary:ncurrently, the implementation of `eden prefetch` calls intona mercurial function that is overly eager in making network connections,nwhich results in what should be a fast NOP second prefetch call takingnmore time than is desirable.nnThis diff adds a little cache to avoid repeatedly calling prefetchnfor the same directory more than once for the life of the getdepsnprocess.nnGiven the usage pattern of getdeps it is OK that we don't providena way to invalidate this cache.nnReviewed By: fanzeyinnDifferential Revision: D18005408nnfbshipit-source-id: 0ec3f477da1043a5a715704b512c81fcfaa0acden",6.0,1.0,"build/fbcode_builder/getdeps/copytree.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,52.0,2.0,14.876400462962966,6857.0,1.0672205620230275,220.0,None,False,,
b2144a1c8613c9050e26b0af20e67fbc3fb4f2c1,158af9ebcce797ba5c9a0a15406cc7c0beb1434b,svcscm,svcscm@fb.com,Fri Oct 25 10:54:59 2019 -0700,1572026099,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f8f2eb3342f979d15cfb5ff5098a8733971c1104nhttps://github.com/facebook/fbzmq/commit/c5e631fed8e750db03a29e0eb2f495f924cbfdc2nhttps://github.com/facebook/folly/commit/60df0a6bcd997bd1c5dc60707ae56dcecf1039c2nhttps://github.com/facebook/proxygen/commit/230005c898f1c18413bfd83eca88b874d05f4aa2nhttps://github.com/facebook/wangle/commit/bd14c14a9cb40236a7d18bb1ce0dd244295187d1nhttps://github.com/facebookincubator/fizz/commit/5695e84ef4a3da8ad5aefab2f61fc086e4ec2e8cnhttps://github.com/facebookincubator/katran/commit/2a8880f49006685eb114917e0930b30e9e91b545nhttps://github.com/facebookincubator/mvfst/commit/c23c7cc7cc73e9c5eb472e564fef1c1604aa8ac1nnReviewed By: cdelahoussennfbshipit-source-id: b49813970f9d7ce24405e39eef8b3a9be80a886dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1762.0,0.8812770061728394,1757.0,1.92434962349666,1758.0,None,False,,
158af9ebcce797ba5c9a0a15406cc7c0beb1434b,b449e94b688b4dce8723bfcdfb225bcb27e67ca1,svcscm,svcscm@fb.com,Fri Oct 25 18:12:36 2019 -0700,1572052356,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/665bff62059149157687f3f5726d69d7811d987dnnReviewed By: cdelahoussennfbshipit-source-id: a6f55e77c201633ccf67699f0ed7e1b7ece1497dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1765.0,0.30390046296296297,1760.0,3.0108923334729787,1761.0,None,False,,
b449e94b688b4dce8723bfcdfb225bcb27e67ca1,8c9cc1c954662a94c35d36f98399ab3959ff3f18,Wez Furlong,wez@fb.com,Fri Oct 25 20:30:45 2019 -0700,1572060645,getdeps: [EASY] tell testpilot to use long output mode for failuresSummary: Ask testpilot to include more output in test failures.nnReviewed By: fanzeyinnDifferential Revision: D18061772nnfbshipit-source-id: 0c14092557c21396c877d3b1776c5707437a117cn,1.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,790.0,39.0,8.759027777777778,6858.0,1.1141679219852534,221.0,None,False,,
8c9cc1c954662a94c35d36f98399ab3959ff3f18,60c7427604e0df77fa2e9aed3efe36a1afcff1f8,Wez Furlong,wez@fb.com,Fri Oct 25 20:30:45 2019 -0700,1572060645,"getdeps: [EASY] pass yarn offline mirror location for fbsource buildsSummary:nOur CI environment cannot directly connect to the internet,nand even if it could, doing so is undesirable to fetch javascript deps.nWe maintain an offline mirror of packages used by the build(s) so thatnwe don't have to go out to the internet.nnWhen running in fbsource, configure the environment to use that offlinenmirror.nnReviewed By: chadaustinnnDifferential Revision: D18061773nnfbshipit-source-id: 1a5e112f23c1baaedfb3dff0c4c2a1641f6bb9a1n",8.0,0.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,379.0,23.0,15.30113425925926,6859.0,1.0653546320851908,222.0,None,False,,
60c7427604e0df77fa2e9aed3efe36a1afcff1f8,ee6bf194ac0664707d027995cc1d74c27edc3697,Wez Furlong,wez@fb.com,Fri Oct 25 20:30:45 2019 -0700,1572060645,watchman: re-enable nodejs testsSummary:nsomewhere along the way we excluded this from all variationsnof the tests.  This removes the exclusion and adds some plumbingnto use `yarn` rather than `npm` so that we have better controlnover fetching deps from the internet (in other words: so that wendon't reach out to the internet at all in our internal CI builds).nnReviewed By: mitrandir77nnDifferential Revision: D18058817nnfbshipit-source-id: ac32abaa7593629fb1195fee6bc4f0dd36499cadn,114.0,8.0,".gitignore,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,node/bser/CMakeLists.txt,CAS_DELIMITER,node/bser/test_bser.py,CAS_DELIMITER,tests/integration/CMakeLists.txt,CAS_DELIMITER,tests/integration/test_nodejs.py,CAS_DELIMITER",6.0,3.0,3.0,1.7944742378014091,34.0,161.0,102.0,129.99639853395058,6862.5,1.00329398064372,869.0,None,False,,
ee6bf194ac0664707d027995cc1d74c27edc3697,db19c780855d34c3ff8037f3a9a7cf1a27e08cae,svcscm,svcscm@fb.com,Fri Oct 25 20:38:19 2019 -0700,1572061099,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/0ab6e7940ae4ea69b2a3de4b454baf712faafd35nnReviewed By: cdelahoussennfbshipit-source-id: c7b17e5c17c346ea1dd0e78a0a8b1fb95f652881n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,620.0,0.10119212962962963,1762.0,10.882191467459679,1762.0,None,False,,
db19c780855d34c3ff8037f3a9a7cf1a27e08cae,fca8ed0ab0ef470eb82083df9762d582fea3b426,svcscm,svcscm@fb.com,Fri Oct 25 23:25:41 2019 -0700,1572071141,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/d92be25ee29f6a33e407ec3debb73273cdd5233annReviewed By: cdelahoussennfbshipit-source-id: c95da68fb4360f21fca126c9c2ffe43e1305d460n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1769.0,0.18368827160493825,1764.0,4.137091043867229,1765.0,None,False,,
fca8ed0ab0ef470eb82083df9762d582fea3b426,37e1e879b34c6244a2b53c67672172f882c6205c,svcscm,svcscm@fb.com,Sat Oct 26 21:45:57 2019 -0700,1572151557,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c359ca2d7181aeebada5c86987787e401d77a38dnhttps://github.com/facebook/fbzmq/commit/7132ca43d75ecd181c2ae28786bbcd729afb8d5enhttps://github.com/facebook/wangle/commit/e0ab73bf4cfb7db6076d7c6175d092db457ab8e0nhttps://github.com/facebookincubator/fizz/commit/7ce383413a9cde369cea6428f042ef1eb93926canhttps://github.com/facebookincubator/katran/commit/b48dc93caa1df30a0c9e7b0ca04cf3fd3f35035enhttps://github.com/facebookincubator/mvfst/commit/9dd2fc874e50915c6f9e15334497a0098571e337nnReviewed By: cdelahoussennfbshipit-source-id: 49d776f8bf8c5784b996825cf324461f577b9d4fn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1150.0,0.9307407407407408,1766.5,1.8058097890966969,1767.0,None,False,,
37e1e879b34c6244a2b53c67672172f882c6205c,69bcd99f72d19d5b1cd362e80f2ecff21219021f,svcscm,svcscm@fb.com,Sun Oct 27 18:12:17 2019 -0700,1572225137,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/fd84bde19311f13f840b8e5809c87714575ade72nnReviewed By: cdelahoussennfbshipit-source-id: 6fea40cfb108dff9821d991a1fa6a00157eadf38n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1774.0,1.1618672839506174,1769.0,1.6135933395573216,1770.0,None,False,,
69bcd99f72d19d5b1cd362e80f2ecff21219021f,53f7cdfeb99f491817f52fcb4d93f1974374c32f,svcscm,svcscm@fb.com,Mon Oct 28 09:45:48 2019 -0700,1572281148,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ece1df2d8d1a6786546bb1a3f75efd9471b879b5nnReviewed By: cdelahoussennfbshipit-source-id: e013670b13f81fdde095f01a4da81c684a812898n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1154.0,0.648275462962963,1771.5,2.156915605863134,1772.0,None,False,,
53f7cdfeb99f491817f52fcb4d93f1974374c32f,05a7da3eb8d64e3ddeb0d97eaa06e528fb36b39b,svcscm,svcscm@fb.com,Mon Oct 28 11:30:23 2019 -0700,1572287423,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/acf4b746dd413c390858fba815b342eb9dfa0495nnReviewed By: zpaonnfbshipit-source-id: ebacb2b42ec8bd975ed81e4fff950596ac483455n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,623.0,0.7209027777777778,1773.0,2.387149600231192,1773.0,None,False,,
05a7da3eb8d64e3ddeb0d97eaa06e528fb36b39b,9dcd041986d114af7e38dea4f8da4e08e3004437,svcscm,svcscm@fb.com,Mon Oct 28 17:39:43 2019 -0700,1572309583,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/724e939772a49a7d18466aad787437c6c76184ccnhttps://github.com/facebook/folly/commit/f4fb4266c044a959f8f01bee88c2f502939f527fnhttps://github.com/facebook/proxygen/commit/95d4b19724ebb58b9c3faea0ab8ff5045efd7928nhttps://github.com/facebookincubator/mvfst/commit/8b8131450ee24587687f9284485aa8b5413e5a23nhttps://github.com/facebookincubator/profilo/commit/ac8faa6528a5784c683904b422c5843c2b5a0bf6nhttps://github.com/pytorch/fbgemm/commit/5487e2b1a2184ee41f49a2935922dc8ed92f6464nnReviewed By: zpaonnfbshipit-source-id: 9b9f4cccd869638215c17111361a6f6c480c73afn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1191.0,0.2927951388888889,1774.5,3.373093752135764,1775.0,None,False,,
9dcd041986d114af7e38dea4f8da4e08e3004437,42c72357ecd22d529c8fe5283466eb4648761fd6,svcscm,svcscm@fb.com,Mon Oct 28 18:16:32 2019 -0700,1572311792,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2061a4919b1311d4b188d05d22104768d3eb00a4nhttps://github.com/facebook/proxygen/commit/1774fbd30aca146b32ffb9919bbaff1cb17f9f2cnhttps://github.com/facebookincubator/katran/commit/00fcf512b8a6e4468df56c0fcb926050dce80511nhttps://github.com/facebookincubator/mvfst/commit/f2e09a4ab82934dcc7d3f06bc857e322ef8edba6nnReviewed By: zpaonnfbshipit-source-id: a00efff3f859c81b6a50fe43ff4d76e2f6de0fb3n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,568.0,0.02556712962962963,1776.0,40.11272068809416,1776.0,None,False,,
42c72357ecd22d529c8fe5283466eb4648761fd6,6e754635ee8903a1f7dfc6faa7d4697dcb39b636,svcscm,svcscm@fb.com,Mon Oct 28 23:26:00 2019 -0700,1572330360,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8c944945a03d5095b9524bc508a6da5cea7128ecnhttps://github.com/facebook/mcrouter/commit/524f00d043810b47aafaec526601090b0d11462bnnReviewed By: zpaonnfbshipit-source-id: 7a18f1dc68ef71a4a61d53d8a25567f0b49d516cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1158.0,0.3922453703703704,1777.5,3.9639395214947006,1778.0,None,False,,
6e754635ee8903a1f7dfc6faa7d4697dcb39b636,bedecef26d6219455e59f0ae6c53962e9fbd0525,Genevieve Helsel,helsel@fb.com,Tue Oct 29 09:20:57 2019 -0700,1572366057,"add EdenErrorType to EdenErrorSummary: Adds a non-optional EdenErrorType struct for EdenError, this can be used in case of special error case handling of errors without error message parsing. Currently this is just passed along and not consumed anywhere in the client, but later in the stack is used for specific retry of checkout if CHECKOUT_IN_PROGRESS on the consuming side.nnReviewed By: chadaustinnnDifferential Revision: D18139917nnfbshipit-source-id: b3f2ec4c480fc5246ff2f46d09c436021bad8b61n",35.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1061.0,27.0,18.162476851851853,1.0,1.0550585698281587,1.0,Feature Addition,False,,
bedecef26d6219455e59f0ae6c53962e9fbd0525,10874e41577abe394322887eb119e0f1b5520d94,Genevieve Helsel,helsel@fb.com,Tue Oct 29 09:54:26 2019 -0700,1572368066,"add a new getScmStatusV2() API to replace getScmStatus()Summary:nAdd a new thrift API for computing the difference between the workingndirectory and a given source control commit.nnThis has the following differences from the old getScmStatus() commit:nn- The parameters are accepted in a GetScmStatusParams structure now.n  This makes it easier for the server-side C++ implementation to tell whichn  parameters have actually been specified by the caller.  This will make itn  easier to extend this API in the future without having to replace it with an  new function call again.nn- The return value is a GetScmStatusResult, which includes both the ScmStatusn  and the EdenFS version number.  This will allow code like `hg status` to getn  both the status results and the EdenFS version in a single call, withoutn  needing to make multiple separate thrift calls.nn- This new call will return an error if the caller requests the status againstn  a commit that disagrees with EdenFS's view of the current commit.  Becausen  the individual `hg` command line processes do not perform anyn  synchronization of their own when reading the working directory parent,n  they can often call EdenFS with stale parent information, or while an  checkout is currently in progress.  This new behavior will reject then  request with an error, rather than having EdenFS perform a potentially veryn  expensive status computation when the results probably aren't actuallyn  useful to the caller anyway.nnReviewed By: chadaustinnnDifferential Revision: D15110218nnfbshipit-source-id: ebc2f74dafc090d4fd245de8e4d62e2b086500ddn",45.0,2.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1096.0,28.0,0.023252314814814816,2.0,44.00647088103535,2.0,Feature Addition,False,,
10874e41577abe394322887eb119e0f1b5520d94,b6a6fb5589069b801f6663daad022371eff79dea,Wez Furlong,wez@fb.com,Tue Oct 29 11:29:44 2019 -0700,1572373784,"watchman: tighten up some edge cases in getattrlistbulkSummary:nThis shouldn't change any real behavior, but may helpnhighlight occasional weird problems we see on CI hosts fromntime to time.nnReviewed By: genevievehelselnnDifferential Revision: D18036498nnfbshipit-source-id: b63ae0ca946c8e5e088c1c9d21b8d0f99b6bcf5fn",26.0,2.0,"opendir.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,384.0,22.0,19.192013888888887,6866.0,1.0521050060608257,3105.0,None,False,,
b6a6fb5589069b801f6663daad022371eff79dea,9dfb8c9b349b2ff1b6a583f9588157a1c7372ae7,svcscm,svcscm@fb.com,Tue Oct 29 19:52:58 2019 -0700,1572403978,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4b2da87ee665419f4bea4f1948af54a52e0e6adfnhttps://github.com/facebook/fbzmq/commit/b997eec151aa8fd8f16ace83a84f743cf7e60e49nhttps://github.com/facebook/mcrouter/commit/9f34d1f643ba017ac8a0dd62c8349123d96148c9nhttps://github.com/facebook/rocksdb/commit/a3960fc875233308976351f185b672e8f01296ecnhttps://github.com/facebook/wangle/commit/541c404784c95dd63a6b1acce2bfb2ac2d2696a3nhttps://github.com/facebookincubator/katran/commit/b2438faaf0e92e9ec5de011f7e9b988bda73a243nhttps://github.com/facebookincubator/mvfst/commit/06335bac7c7c6585b26b91df8399f77fa8ccf15fnhttps://github.com/pytorch/fbgemm/commit/2ac6f45e20b207840f74645b757ada13a94eb8c3nnReviewed By: zpaonnfbshipit-source-id: a6fb756d2d210d0505c889ba6c0e207e6a2d074dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1160.0,0.8520601851851852,1779.5,1.8802195115325049,1780.0,None,False,,
9dfb8c9b349b2ff1b6a583f9588157a1c7372ae7,4d88f9f5ab978d90e69b16a4e7aaa7dd21ddaf1d,svcscm,svcscm@fb.com,Wed Oct 30 13:44:01 2019 -0700,1572468241,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a8089cff847b93348d29466ec461630835118928nnReviewed By: zpaonnfbshipit-source-id: 302e08b2c94b2af6156254c45d40273b115eb304n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1787.0,1.1079629629629628,1782.0,1.6776362379278558,1783.0,None,False,,
4d88f9f5ab978d90e69b16a4e7aaa7dd21ddaf1d,0c9446c27561677f09aa8cbd4b22f246b8600f5d,svcscm,svcscm@fb.com,Thu Oct 31 13:45:15 2019 -0700,1572554715,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3e3c4e10494235a47d8e955e28ded70f8094e7d0nhttps://github.com/facebook/litho/commit/3a49cbedb4eae29c1b50c25c740d55c717d320f8nhttps://github.com/facebook/wangle/commit/70a2b8da25fabff6945cd98cd007e2bb0b607b04nhttps://github.com/facebookincubator/fizz/commit/a9fdd8e89ab9e9c45dbdc234b1ed608ddac8c9c8nhttps://github.com/facebookincubator/katran/commit/f5eb9e6e92b6713d2c2a67cb8dbd6f4d914e238ennReviewed By: zpaonnfbshipit-source-id: e7b13e8b23586d63b7b7d168454f350695eb290en,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1790.0,1.0008564814814815,1785.0,1.610588153664685,1786.0,None,False,,
0c9446c27561677f09aa8cbd4b22f246b8600f5d,bb5e33c77e282214d10d79e2929705eb446c8c1e,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove use of json_unpack from [match] termSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17779596nnfbshipit-source-id: a9cbe86077b7a03a758bada2923d56bef602ae96n,48.0,15.0,"query/match.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,113.0,13.0,21.32314814814815,6867.0,1.0468973902470795,441.0,None,False,,
bb5e33c77e282214d10d79e2929705eb446c8c1e,f6dfaa8217c0330236f64355fffc080cb59e31a8,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove use of json_unpack from [pcre] termSummary: as abovennReviewed By: fanzeyinnDifferential Revision: D17779606nnfbshipit-source-id: 29ecdc40ed3f8a4755e922277f8f337f7b67d763n,16.0,4.0,"query/pcre.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,114.0,14.0,21.32314814814815,6868.0,1.0468973902470795,442.0,None,False,,
f6dfaa8217c0330236f64355fffc080cb59e31a8,500201101d7212f62f48f72569f437b843680941,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove use of json_unpack from [type] termSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17779604nnfbshipit-source-id: dc22d97a494a1fb4e1ec81970255e21ce23f6acen,20.0,4.0,"query/type.cpp,CAS_DELIMITER,tests/integration/test_type.py,CAS_DELIMITER",2.0,2.0,2.0,0.99498482818597,30.0,70.0,19.0,270.43800925925916,6869.5,1.024373121392927,870.0,None,False,,
500201101d7212f62f48f72569f437b843680941,5d089e4f688f557a8d18d898e9da691ea8a1f87f,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove use of json_unpack from wildmatch testsSummary: as abovennReviewed By: genevievehelselnnDifferential Revision: D17779601nnfbshipit-source-id: 98addccbcff3d758459047b406040f41509b6139n,8.0,23.0,"tests/wildmatch_test.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,83.0,8.0,21.735416666666666,6871.0,1.0460078596760278,871.0,None,False,,
5d089e4f688f557a8d18d898e9da691ea8a1f87f,c80e940eaad6d84084e5ba29968d0cdd0e324e15,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove json_unpackSummary:ndeadcodennchainsaw-lets-rollnnReviewed By: genevievehelselnnDifferential Revision: D17779608nnfbshipit-source-id: fafd6d626dd7b5f8530fd82f280e6c53e6a510ecn,0.0,461.0,"CMakeLists.txt,CAS_DELIMITER,thirdparty/jansson/jansson.h,CAS_DELIMITER,thirdparty/jansson/pack_unpack.cpp,CAS_DELIMITER",3.0,2.0,2.0,0.21846171640924605,34.0,502.33333333333326,102.0,12.450443672839508,6873.0,1.087637309665196,281.0,None,False,,
c80e940eaad6d84084e5ba29968d0cdd0e324e15,e3eb6920362493bb761e1305b5cb0eaace2c57e8,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,"watchman: restructure command validation callback to avoid asprintfSummary:nI'd like to remove all use of asprintf; this is one area where it is used.nnThis diff changes the semantics of the cli validation callback so that it can simplynthrow an exception instead of the awkward use of asprintf (which comes from thentime that watchman was a pure C codebase).nnThe cli validation callback is the component of the watchman CLI that has limitednknowledge of the command that will be sent to the server to be executed; the onlynimplementation of it is `w_cmd_realpath_root` which is a function that knows hownto expand a relative path into a canonical path; it is what allows the CLI tonprocess `watchman watch .` into `watchman watch /absolute/path/to/cwd` and thennsend the result to the server.nnThis diff shouldn't change the semantics of that check in practice, but does haventhe side effect of making any errors around the resolution slightly more verbosenand theoretically clearer if the user were to encounter a problem.nnReviewed By: genevievehelselnnDifferential Revision: D17783429nnfbshipit-source-id: 84f95fe91ab09ca8a4741ed7e81a6ad5cf8eb68cn",46.0,52.0,"cmds/reg.cpp,CAS_DELIMITER,cmds/watch.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER",3.0,2.0,2.0,1.3584051002207191,30.0,224.3333333333333,82.0,17.394510030864197,6876.0,1.0328215101934088,3107.0,None,False,,
e3eb6920362493bb761e1305b5cb0eaace2c57e8,46ed459191b554e9f12e1f27e1eb22715e4e9b15,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove use of asprintf from trigger commandSummary: Replace it with throwing an exception insteadnnReviewed By: chadaustinnnDifferential Revision: D17783439nnfbshipit-source-id: 85fdee70f179f1b16d9fe0ad6583399d22e9609cn,26.0,61.0,"cmds/trigger.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman_trigger.h,CAS_DELIMITER",3.0,2.0,2.0,0.9180040525833262,34.0,254.3333333333333,83.0,13.465871913580253,6879.0,1.0540033825993305,3109.0,None,False,,
46ed459191b554e9f12e1f27e1eb22715e4e9b15,52e770cb3ad3c071ad6f306cd01581edb679a71b,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove use of asprintf from the watch commandSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17783431nnfbshipit-source-id: fee50ff6bc831367f0fe73fb46b734c55c6f1eb7n,18.0,29.0,"cmds/watch.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,330.0,28.0,0.0,6881.0,0.0,431.0,None,False,,
52e770cb3ad3c071ad6f306cd01581edb679a71b,bf6e8a4b8d763f6b71fa9c3ca417f762f5bfb5ed,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove usage of asprintf from root resolutionSummary: as abovennReviewed By: chadaustinnnDifferential Revision: D17783428nnfbshipit-source-id: 95c06e09ff43e2f5f9111185fd7e4098dae25cd9n,93.0,143.0,"listener-user.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/symlink.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,watchman_root.h,CAS_DELIMITER",5.0,1.0,1.0,1.5174784315422196,34.0,217.0,183.0,17.058518518518518,6884.0,1.0226670719527553,3114.0,None,False,,
bf6e8a4b8d763f6b71fa9c3ca417f762f5bfb5ed,020ab3e697ca6c5ded49ff97002a37e8be15eb0b,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,"watchman: remove use of asprintf from w_set_thread_nameSummary:nThis is slightly more than a mechanical change:nn* Adjust interface to avoid using asprintfn* Adopt the use of folly::ThreadLocal to track thread namesn* Read from the system thread name when logging the thread namen  if watchman hasn't explicitly set a thread namen* When setting our local thread, also set the system thread namen  to make things slightly nicer in the debuggernnReviewed By: chadaustinnnDifferential Revision: D17783430nnfbshipit-source-id: 822d9f60f6845cde76191b08489537571440aae1n",43.0,60.0,"InMemoryView.cpp,CAS_DELIMITER,Logging.h,CAS_DELIMITER,ThreadPool.cpp,CAS_DELIMITER,cmds/trigger.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER",10.0,3.0,3.0,1.9066168998761608,34.0,518.1,360.0,19.781684027777786,6891.5,1.0147351661167991,3120.0,None,False,,
020ab3e697ca6c5ded49ff97002a37e8be15eb0b,c156e68ca899373d5a25458520f4f0f7170dd4ef,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove asprintf usage from option parsingSummary: as abovennReviewed By: genevievehelselnnDifferential Revision: D17783426nnfbshipit-source-id: 0b6e59d96f99e83f35ce6000290ad9730a97d62en,5.0,3.0,"opt.cpp,CAS_DELIMITER,tests/integration/test_site_spawn.py,CAS_DELIMITER",2.0,2.0,2.0,0.5435644431995964,34.0,155.5,14.0,202.1674305555556,6897.5,1.0499090355439873,872.0,None,False,,
c156e68ca899373d5a25458520f4f0f7170dd4ef,892cb26f437955b170e39f502bf1cf4b2c8c708e,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove asprintf from info.cppSummary: as abovennReviewed By: genevievehelselnnDifferential Revision: D17783432nnfbshipit-source-id: 4ce900a3d0ef700f3813a9801371cac9e9f403cbn,6.0,8.0,"cmds/info.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,142.0,12.0,21.32314814814815,6899.0,1.0468973902470795,433.0,None,False,,
892cb26f437955b170e39f502bf1cf4b2c8c708e,66db9584eacbe593956bc994b5b1da135b4d15d8,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove asprintf from compute_file_name + fanoutSummary:ncompute_file_name is used to set some global program optionsnwhich means that the types of those global strings has now changednto std::string.  In turn that means that the command line optionnparser needs to populate std::string values for REQ_STRING argument types.nnReviewed By: chadaustinnnDifferential Revision: D17783434nnfbshipit-source-id: da08bcef8671e0733503ec11e6fe82eeeaac7911n,118.0,124.0,"log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,sockname.cpp,CAS_DELIMITER,state.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER",8.0,2.0,2.0,0.9974472429497462,34.0,376.25,375.0,68.37460937499999,6903.5,0.8879048122082489,3128.0,None,False,,
66db9584eacbe593956bc994b5b1da135b4d15d8,e9069b6019b9a2f92ee382ec492a5e7a4e5a3455,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,"watchman: remove asprintf from poison handling codeSummary:nThis changes the type from a simple pointer type to std::string,nso we now need stronger concurrency safety than we used to use.nnReviewed By: genevievehelselnnDifferential Revision: D17783438nnfbshipit-source-id: df809f629362364e7333a87e2ddb220231ef280dn",26.0,26.0,"cmds/debug.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,root/poison.cpp,CAS_DELIMITER,root/warnerr.cpp,CAS_DELIMITER,watchman.h,CAS_DELIMITER",5.0,2.0,2.0,1.3850308915512006,34.0,130.0,296.0,129.3041851851852,6910.0,1.0458865801978012,3131.0,None,False,,
e9069b6019b9a2f92ee382ec492a5e7a4e5a3455,a1bfd1f8adbeb0d16b47be3a6c50272bb7abeba0,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove asprintf port for windowsSummary: deadcodennReviewed By: genevievehelselnnDifferential Revision: D17783437nnfbshipit-source-id: 494f4029ae28db93db962112319a789fa433eb06n,0.0,18.0,"CMakeLists.txt,CAS_DELIMITER,watchman_system.h,CAS_DELIMITER,winbuild/asprintf.cpp,CAS_DELIMITER",3.0,2.0,2.0,0.9864267287308424,34.0,325.0,78.0,14.215432098765431,6914.0,0.6901153617902066,282.0,None,False,,
a1bfd1f8adbeb0d16b47be3a6c50272bb7abeba0,d6cebe58c7b0dbf93b65052b8f31e0ddfdc0a961,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: remove w_string::printfSummary: Switch the users to the more type safer w_string::buildnnReviewed By: genevievehelselnnDifferential Revision: D17783435nnfbshipit-source-id: 70cd0584316cd0d0c9eb188cdf540ce0be090b06n,15.0,33.0,"CookieSync.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,string.cpp,CAS_DELIMITER,tests/ignore_test.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",6.0,4.0,4.0,2.1106191847545297,34.0,488.16666666666674,213.0,15.996269290123458,6918.5,1.0224421728731945,3136.0,None,False,,
d6cebe58c7b0dbf93b65052b8f31e0ddfdc0a961,153fccf7c7f11ccb478cc87028005cb8ece11ec9,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,"watchman: watchman::to -> folly::toSummary:nNow that we require folly, we can use folly's implementation of `to`.nnThe watchman implementation had a blanket conversion for pointer types,nso we have to explicitly cast pointers to uintptr_t in the follynimplementation.nnReviewed By: chadaustinnnDifferential Revision: D17783427nnfbshipit-source-id: 959f18876ce8faf022db37d3343a9c07a991926bn",94.0,103.0,"ChildProcess.cpp,CAS_DELIMITER,ContentHash.cpp,CAS_DELIMITER,CookieSync.cpp,CAS_DELIMITER,FileDescriptor.cpp,CAS_DELIMITER,InMemoryView.cpp,CAS_DELIMITER,Logging.h,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,checksock.cpp,CAS_DELIMITER,cmds/heapprof.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opt.cpp,CAS_DELIMITER,query/glob.cpp,CAS_DELIMITER,query/intcompare.cpp,CAS_DELIMITER,query/match.cpp,CAS_DELIMITER,query/parse.cpp,CAS_DELIMITER,query/pcre.cpp,CAS_DELIMITER,query/type.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/poison.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/sync.cpp,CAS_DELIMITER,scm/Mercurial.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,tests/wildmatch_test.cpp,CAS_DELIMITER,watcher/auto.cpp,CAS_DELIMITER,watcher/eden.cpp,CAS_DELIMITER,watchman_cmd.h,CAS_DELIMITER,watchman_query.h,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",33.0,6.0,6.0,4.505763624956452,34.0,382.5757575757576,995.0,18.78592452300785,6938.0,1.0093805139563472,3155.0,None,False,,
153fccf7c7f11ccb478cc87028005cb8ece11ec9,997b4f0331318384cb3700fc423bab96039a6a2b,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,"watchman: introduce w_string::format and w_string::vformatSummary:nThe goal is to replace the w_string::printf methods with the fast andntype-safe `fmt` library, which is already a dependency of folly.nnReviewed By: chadaustinnnDifferential Revision: D17783433nnfbshipit-source-id: 48240734da471fd2fb367545038ec50ef81835c6n",56.0,0.0,"string.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",3.0,2.0,2.0,1.3571305013426214,34.0,584.0,134.0,0.0,6956.0,0.0,3157.0,None,False,,
997b4f0331318384cb3700fc423bab96039a6a2b,980a2220324855b70e9ee9d338d0613f7729df8c,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,watchman: implement w_string::build in terms of w_string::formatSummary:nThis improves handling of a number of types (eg: bool and pointerntypes) and allows removing a chunk of ugly boiler plate that was borrowed andnadapted from folly in the past.nnReviewed By: chadaustinnnDifferential Revision: D17783425nnfbshipit-source-id: 7316c89f9d3527722f5ab1cccb3da54031cff3adn,53.0,285.0,"cmds/subscribe.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,tests/string_test.cpp,CAS_DELIMITER,watchman_string.h,CAS_DELIMITER",4.0,3.0,3.0,0.7734414033934149,34.0,500.75,203.0,40.950520833333336,6959.5,0.7545786963434022,3159.0,None,False,,
980a2220324855b70e9ee9d338d0613f7729df8c,b3895be21e4502fc1fcaae75b146a703bc134fce,Wez Furlong,wez@fb.com,Thu Oct 31 14:38:34 2019 -0700,1572557914,"watchman: replace `w_log` with fmt based `logf`Summary:nI've been wanting to kill off the old printf based loggingnstuff and now I've finally gotten around to it.  This diff adds an`fmt` based logger helper and migrates the `w_log` calls over tonuse it.nn`fmt` is easier to use and more type-safe, with richer output (eg: it willnrender true/false for booleans).nnThis also allows cleaning up some of the logging to eliminate a couplenof annoying patterns:nn```n  %.*s, int(s.size()), s.data()n```nn```n  %s, s.c_str(),n```nnReviewed By: chadaustinnnDifferential Revision: D17783436nnfbshipit-source-id: 31479fbd9af1b54ba2a4335aafba8e65beb32938n",367.0,444.0,"InMemoryView.cpp,CAS_DELIMITER,Logging.h,CAS_DELIMITER,cfg.cpp,CAS_DELIMITER,clockspec.cpp,CAS_DELIMITER,cmds/reg.cpp,CAS_DELIMITER,cmds/state.cpp,CAS_DELIMITER,cmds/subscribe.cpp,CAS_DELIMITER,groups.cpp,CAS_DELIMITER,json.cpp,CAS_DELIMITER,launchd.cpp,CAS_DELIMITER,listener-user.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,log.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,pending.cpp,CAS_DELIMITER,perf.cpp,CAS_DELIMITER,root/crawler.cpp,CAS_DELIMITER,root/init.cpp,CAS_DELIMITER,root/iothread.cpp,CAS_DELIMITER,root/notifythread.cpp,CAS_DELIMITER,root/resolve.cpp,CAS_DELIMITER,root/stat.cpp,CAS_DELIMITER,root/watchlist.cpp,CAS_DELIMITER,spawn.cpp,CAS_DELIMITER,stream_stdout.cpp,CAS_DELIMITER,stream_unix.cpp,CAS_DELIMITER,stream_win.cpp,CAS_DELIMITER,tests/log.cpp,CAS_DELIMITER,thirdparty/libart/src/art-inl.h,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watcher/inotify.cpp,CAS_DELIMITER,watcher/kqueue.cpp,CAS_DELIMITER,watcher/portfs.cpp,CAS_DELIMITER,watcher/win32.cpp,CAS_DELIMITER,watchman_clockspec.h,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER",37.0,6.0,6.0,4.681309614631796,34.0,376.3513513513514,1052.0,37.358344281781775,6980.0,0.9305984251355888,283.0,None,False,,
b3895be21e4502fc1fcaae75b146a703bc134fce,e56a2f7fdd529b50c37c262c6b2cf0f9ef234a98,svcscm,svcscm@fb.com,Thu Oct 31 14:52:04 2019 -0700,1572558724,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6a306d7659b00cc9e1ad4ca4f22655094dd5eeecnhttps://github.com/facebook/fbzmq/commit/5f196d9e1110208926210473ce8295c30f441b95nhttps://github.com/facebook/rocksdb/commit/685e895652da4b18c61069b423b9b9c5669eea53nhttps://github.com/facebook/wangle/commit/b997aca80a94b2256c5b98cb25cd703d1e969ba0nhttps://github.com/facebookincubator/mvfst/commit/0e4d56b9ee33a34a8b3c35f13ff0a824b6adbe93nnReviewed By: zpaonnfbshipit-source-id: 36f9ddda09d347bab501241ab3ebbbfe67b66114n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1166.0,0.04640046296296296,1787.5,17.16363182838613,1788.0,None,False,,
e56a2f7fdd529b50c37c262c6b2cf0f9ef234a98,fdb65a6c6a5fdd2cd1d1b56df28db4ea063abb43,svcscm,svcscm@fb.com,Thu Oct 31 18:51:46 2019 -0700,1572573106,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c6d175a9149c4bde9c50647a928d1b07e550f85annReviewed By: zpaonnfbshipit-source-id: 6e2c8b970a038bc9796e158f8d0329870ffbe198n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1795.0,0.1819251543209877,1790.0,4.492027064978585,1791.0,None,False,,
fdb65a6c6a5fdd2cd1d1b56df28db4ea063abb43,10ad9342b4c83974d1e14d89c1135060373ab781,Luca Niccolini,lniccolini@fb.com,Thu Oct 31 19:01:47 2019 -0700,1572573707,windows buildSummary: ^nnReviewed By: mjorasnnDifferential Revision: D18256970nnfbshipit-source-id: 4d07b961ab5ab145b620d9e10fa67116236bbf80n,0.0,3.0,"build/fbcode_builder/manifests/mvfst,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,26.0,2.0,71.3377662037037,16.0,1.0140178204787702,16.0,None,False,,
10ad9342b4c83974d1e14d89c1135060373ab781,f54df85671ea3d3200ee0a29f979152a69936002,svcscm,svcscm@fb.com,Thu Oct 31 19:19:14 2019 -0700,1572574754,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/71ce59d6f7f3776767dc93cea8d05897b1995800nhttps://github.com/facebook/fbzmq/commit/ebda97842afa148f5c19864deefe40424c30edb2nhttps://github.com/facebook/folly/commit/323cd710b2f9c14a27df8a45e016758c6040696bnhttps://github.com/facebook/proxygen/commit/890d23683b9db350207321a11a76e3a5c1605813nhttps://github.com/facebook/wangle/commit/3e2a28c138922cf4256db4278f9660bb982374efnhttps://github.com/facebookincubator/fizz/commit/24586dd211a3018094066fb18028d3d05131f53dnhttps://github.com/facebookincubator/katran/commit/bf0eba94287698f721f49eeea9ad395b3d09191cnhttps://github.com/facebookincubator/mvfst/commit/f4b4ec6d7e4cd94154e4d8a014e47d8a4c62f149nnReviewed By: zpaonnfbshipit-source-id: b64816482631eafe739a5b8a1c51a87bd00fae47n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1798.0,0.01907407407407408,1793.0,33.03883495145632,1794.0,None,False,,
f54df85671ea3d3200ee0a29f979152a69936002,b382330fd5f1d33db177a2cab3e286e88cb7ff84,svcscm,svcscm@fb.com,Thu Oct 31 21:01:52 2019 -0700,1572580912,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/9bc39c7ed65a40747fe22f5bf8667e64dd79ad9fnnReviewed By: zpaonnfbshipit-source-id: a0a0612f8ee93c19023cb57419a737dc4e3418e2n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1172.0,0.07127314814814815,1795.5,11.522897044494965,1796.0,None,False,,
b382330fd5f1d33db177a2cab3e286e88cb7ff84,df087a85125c33016575e5d045a8f31ecf85d469,Mingye Wang,arthur200126@gmail.com,Fri Nov 1 09:45:14 2019 -0700,1572626714,docs: only clone what's neededSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/747nnDifferential Revision: D18271634nnPulled By: weznnfbshipit-source-id: c155d5276a164f9e89b0310ec8bbe6a9cac5f3e1n,3.0,3.0,"website/_docs/install.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,216.0,13.0,246.6919212962963,0.0,0.0,0.0,Non Functional,False,,
df087a85125c33016575e5d045a8f31ecf85d469,d9a8e999201bb8188946f0a7d13371366f40807a,Wez Furlong,wez@fb.com,Fri Nov 1 09:49:03 2019 -0700,1572626943,"delete unused CI configurations (#756)Summary:nWe're standardizing on GH actions so remove the old configurations.nnNote that we can't totally delete .travis.yml without some otherninternal sync configuration changes, so this makes it schedule a NOPnbuild instead.nPull Request resolved: https://github.com/facebook/watchman/pull/756nnDifferential Revision: D18271655nnPulled By: weznnfbshipit-source-id: 794e3b8b5c4fd39d0bc26174b65cac45a7af90dbn",2.0,231.0,".circleci/config.yml,CAS_DELIMITER,.travis.yml,CAS_DELIMITER,README.markdown,CAS_DELIMITER,appveyor.yml,CAS_DELIMITER,azure-pipelines.yml,CAS_DELIMITER",5.0,2.0,2.0,1.9673496131102968,29.0,53.4,115.0,332.94109027777773,7001.0,1.0014590163125825,3189.0,None,False,,
d9a8e999201bb8188946f0a7d13371366f40807a,0308c62c6f05d061346dace794e7ae0290c17215,svcscm,svcscm@fb.com,Fri Nov 1 11:32:36 2019 -0700,1572633156,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/1966558d8570e29bb23acef38e91c8ee7ef1d094nhttps://github.com/facebook/litho/commit/bef8fc5c319706f5d831ea6c2601ad211a296b8dnhttps://github.com/facebook/proxygen/commit/757ca99d06734b6acdfaeec2940e4d4a49bf1472nnReviewed By: zpaonnfbshipit-source-id: e10c789139ab81f977cfaddb307d04e9490b9f6dn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,629.0,0.6759490740740741,1797.0,2.479401390363344,1797.0,None,False,,
0308c62c6f05d061346dace794e7ae0290c17215,cf9d342d24c8bbef3ee7569dbfa96a4af0c480c6,svcscm,svcscm@fb.com,Fri Nov 1 12:22:15 2019 -0700,1572636135,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2808a205f77293b1eeb20b483f10d6f86f807448nhttps://github.com/facebook/litho/commit/117396fe7b2ece27a0e56d8db16bbd1bc3ca7565nhttps://github.com/facebook/proxygen/commit/c11b8b121946ab5bbd74d58694ae0e2e1222f86anhttps://github.com/facebook/rocksdb/commit/a44670e71b4d80bbe7acfdeddf6877e018358a70nhttps://github.com/facebookincubator/fizz/commit/657b7fb382a10c03b92f3725e7313ff08f1ec816nhttps://github.com/facebookincubator/mvfst/commit/92eec4bc0e833a0c0cad4a6f01433f630408cc1annReviewed By: zpaonnfbshipit-source-id: 0132fee1eea34911519b36a2b1938c7f9f854144n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,577.0,0.6391550925925926,1798.0,2.5645654890172573,1798.0,None,False,,
cf9d342d24c8bbef3ee7569dbfa96a4af0c480c6,f0bc612ce7976bb50cef78bff1ab772c9b2ecb8c,Josh Unger,joshunger1@gmail.com,Fri Nov 1 12:42:25 2019 -0700,1572637345,Fix invalid & outdated log location for homebrewSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/668nnDifferential Revision: D18275654nnPulled By: weznnfbshipit-source-id: f8a019430667278e24b53e9651f739d6c7d3b4ban,2.0,5.0,"website/_docs/troubleshooting.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,14.0,267.0,7.0,1025.9894907407408,0.0,0.0,0.0,Corrective,True,,
f0bc612ce7976bb50cef78bff1ab772c9b2ecb8c,8118a56c3f65786735922f3f6ad2e1fb88269f70,yuuji.yaginuma,yuuji.yaginuma@gmail.com,Fri Nov 1 12:42:40 2019 -0700,1572637360,Fix link about binary protocol (#603)Summary:nHi!n`BSER.markdown` does not exist.nIt seems https://facebook.github.io/watchman/docs/bser.html is correct doc.nPull Request resolved: https://github.com/facebook/watchman/pull/603nnDifferential Revision: D18275721nnPulled By: weznnfbshipit-source-id: 9f08e50f3a0d81e2c60b893bcfb83add8db80908n,3.0,3.0,"ruby/ruby-watchman/README.md,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/watchman.c,CAS_DELIMITER,ruby/ruby-watchman/ext/ruby-watchman/watchman.h,CAS_DELIMITER",3.0,1.0,2.0,1.584962500721156,6.0,275.0,7.0,1968.9342245370367,1.0,0.6668083945105593,2.0,Corrective,True,,
8118a56c3f65786735922f3f6ad2e1fb88269f70,ed6e62d2d4ddf0f31556a5e9d4e73765724f0217,svcscm,svcscm@fb.com,Fri Nov 1 13:40:02 2019 -0700,1572640802,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/328ab26d4e45eba0baf3a141e77e774db0f3544cnhttps://github.com/facebook/proxygen/commit/d93d5f5f3ca042f87a84bd3fb404cb464b62092bnhttps://github.com/facebook/wangle/commit/0112bb7aa15c36374feae0e3e56a6d078f3db08cnhttps://github.com/facebookincubator/mvfst/commit/2f2d00e6079c46298b7f79d6e38241e138d72fa4nnReviewed By: zpaonnfbshipit-source-id: 8f7936fad60ef00e8a23871a2725c4ed79ddfc89n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1227.0,0.3908333333333333,1799.5,7.289671927348051,1800.0,None,False,,
ed6e62d2d4ddf0f31556a5e9d4e73765724f0217,c9e9d2a08bf38d714f8953ee44c2baea25747d7d,Wez Furlong,wez@fb.com,Fri Nov 1 14:03:10 2019 -0700,1572642190,watchman: fixup build on windows and macosSummary:na couple of minor issues that broke the builds on thosenplatforms that didn't get surfaced by our internal CI for some reason.nnReviewed By: genevievehelselnnDifferential Revision: D18270360nnfbshipit-source-id: 753f10c34d99a60b17b390c6ded9127cef7304efn,12.0,9.0,"CMakeLists.txt,CAS_DELIMITER,main.cpp,CAS_DELIMITER,opendir.cpp,CAS_DELIMITER,watcher/fsevents.cpp,CAS_DELIMITER,watchman_log.h,CAS_DELIMITER,winbuild/posix_spawn.cpp,CAS_DELIMITER",6.0,3.0,3.0,2.3563703988662144,34.0,591.6666666666666,199.0,1.3306057098765434,7006.5,1.3615402312758202,284.0,None,False,,
c9e9d2a08bf38d714f8953ee44c2baea25747d7d,fb90a7a2fe7d80a9f6997e8052a6591eb0688f17,svcscm,svcscm@fb.com,Fri Nov 1 14:39:00 2019 -0700,1572644340,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/8718c37fcbbca5c30dec94f4e46c810ecd35a20bnhttps://github.com/facebook/mcrouter/commit/2ac8b6150e3e03325ef2206948174a4e5adc84ccnhttps://github.com/facebook/proxygen/commit/213e1ca6290b1b08e3114e876a6ec024e2338252nhttps://github.com/facebook/wangle/commit/7a2ec675f614a178515304d2dcaa571040a9a87dnhttps://github.com/facebookincubator/mvfst/commit/f93292bfc4410e18ebe1590897b3670ccc6631a3nnReviewed By: zpaonnfbshipit-source-id: 0afe54b373478115fd95ea4fedb2f99941a776cdn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1229.0,0.04094907407407408,1801.5,19.31543244771057,1802.0,None,False,,
fb90a7a2fe7d80a9f6997e8052a6591eb0688f17,5cb796e13956f9fdf1066600f549c256ade7123b,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Fri Nov 1 16:51:08 2019 -0700,1572652268,"build(deps): bump nokogiri from 1.8.0 to 1.10.5 in /website (#757)Summary:nBumps [nokogiri](https://github.com/sparklemotion/nokogiri) from 1.8.0 to 1.10.5.n<details>n<summary>Release notes</summary>nn*Sourced from [nokogiri's releases](https://github.com/sparklemotion/nokogiri/releases).*nn> ## 1.10.5 / 2019-10-31n>n> ### Dependenciesn>n> * [MRI] vendored libxml2 is updated from 2.9.9 to 2.9.10n> * [MRI] vendored libxslt is updated from 1.1.33 to 1.1.34n>n>n>n> ## 1.10.4 / 2019-08-11n>n> ### Securityn>n> #### Address CVE-2019-5477 ([#1915](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1915))n>n> A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess by Ruby's `Kernel.open` method. Processes are vulnerable only if the undocumented method `Nokogiri::CSS::Tokenizer#load_file` is being passed untrusted user input.n>n> This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.n>n> This CVE's public notice is [sparklemotion/nokogiri#1915](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1915)n>n>n> ## 1.10.3 / 2019-04-22n>n> ### Security Notesn>n> [MRI] Pulled in upstream patch from libxslt that addresses CVE-2019-11068. Full details are available in [#1892](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1892). Note that this patch is not yet (as of 2019-04-22) in an upstream release of libxslt.n>n> ## 1.10.2 / 2019-03-24n>n> ### Securityn>n> * [MRI] Remove support from vendored libxml2 for future script macros. [#1871](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1871)n> * [MRI] Remove support from vendored libxml2 for server-side includes within attributes. [#1877](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1877)n>n>n> ### Bug fixesn>n> * [JRuby] Fix node ownership in duplicated documents. [#1060](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1060)n> * [JRuby] Rethrow exceptions caught by Java SAX handler. [#1847, [#1872](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1872)] (Thanks, [@&#8203;adjam](https://github.com/adjam)!)n>n>n>n> ## 1.10.1 / 2019-01-13n>n> ### Featuresn>n> * [MRI] During installation, handle Xcode 10's new library pathOS. [#1801, [#1851](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1851)] (Thanks, [@&#8203;mlj](https://github.com/mlj) and [@&#8203;deepj](https://github.com/deepj)!)n> * Avoid unnecessary creation of `Proc`s in many methods. [#1776](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1776) (Thanks, [@&#8203;chopraanmol1](https://github.com/chopraanmol1)!)n>n></tr></table> ... (truncated)n</details>n<details>n<summary>Changelog</summary>nn*Sourced from [nokogiri's changelog](https://github.com/sparklemotion/nokogiri/blob/master/CHANGELOG.md).*nn> ## 1.10.5 / 2019-10-31n>n> ### Dependenciesn>n> * [MRI] vendored libxml2 is updated from 2.9.9 to 2.9.10n> * [MRI] vendored libxslt is updated from 1.1.33 to 1.1.34n>n>n> ## 1.10.4 / 2019-08-11n>n> ### Securityn>n> #### Address CVE-2019-5477 ([#1915](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1915))n>n> A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess by Ruby's `Kernel.open` method. Processes are vulnerable only if the undocumented method `Nokogiri::CSS::Tokenizer#load_file` is being passed untrusted user input.n>n> This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.n>n> This CVE's public notice is [sparklemotion/nokogiri#1915](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1915)n>n>n> ## 1.10.3 / 2019-04-22n>n> ### Security Notesn>n> [MRI] Pulled in upstream patch from libxslt that addresses CVE-2019-11068. Full details are available in [#1892](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1892). Note that this patch is not yet (as of 2019-04-22) in an upstream release of libxslt.n>n>n> ## 1.10.2 / 2019-03-24n>n> ### Securityn>n> * [MRI] Remove support from vendored libxml2 for future script macros. [#1871](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1871)n> * [MRI] Remove support from vendored libxml2 for server-side includes within attributes. [#1877](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1877)n>n>n> ### Bug fixesn>n> * [JRuby] Fix node ownership in duplicated documents. [#1060](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1060)n> * [JRuby] Rethrow exceptions caught by Java SAX handler. [#1847, [#1872](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1872)] (Thanks, [@&#8203;adjam](https://github.com/adjam)!)n>n>n> ## 1.10.1 / 2019-01-13n>n> ### Featuresn>n> * [MRI] During installation, handle Xcode 10's new library path. [#1801, [#1851](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1851)] (Thanks, [@&#8203;mlj](https://github.com/mlj) and [@&#8203;deepj](https://github.com/deepj)!)n> * Avoid unnecessary creation of `Proc`s in many methods. [#1776](https://github-redirect.dependabot.com/sparklemotion/nokogiri/issues/1776) (Thanks, [@&#8203;chopraanmol1](https://github.com/chopraanmol1)!)n>n>n></tr></table> ... (truncated)n</details>n<details>n<summary>Commits</summary>nn- [`1bc2ff9`](https://github.com/sparklemotion/nokogiri/commit/1bc2ff9f6218e1f814b18040e5bbb49b7b7bf60b) version bump to v1.10.5n- [`383c1f8`](https://github.com/sparklemotion/nokogiri/commit/383c1f8ee833cb63ca93fe3ecfe8d93755a993b6) update CHANGELOGn- [`43a1753`](https://github.com/sparklemotion/nokogiri/commit/43a175339b47b8c604508813fc75b83f13cd173e) dependency: update libxslt to 1.1.34 finaln- [`99d8a6b`](https://github.com/sparklemotion/nokogiri/commit/99d8a6b6ec83077652a06a333571e4705120f022) dependency: update libxml to 2.9.10 finaln- [`2a86496`](https://github.com/sparklemotion/nokogiri/commit/2a86496ca565aa283c4fd9cd247d21c6026d7b61) add suppressions for ruby 2.7n- [`dca794a`](https://github.com/sparklemotion/nokogiri/commit/dca794a716fb285e2b19f8e028e61e4e3613ed14) update CHANGELOG with correct release date for v1.10.4n- [`077e010`](https://github.com/sparklemotion/nokogiri/commit/077e010613cfb41f8cc03383c3e3b901a3985a49) update rake-compiler commands to install bundlern- [`beb832e`](https://github.com/sparklemotion/nokogiri/commit/beb832e3a67ba9aef1b4e83640bc8fd08fbc6da5) version bump to v1.10.4n- [`5d30128`](https://github.com/sparklemotion/nokogiri/commit/5d30128343573a9428c86efc758ba2c66e9f12dc) Merge branch '1915-css-tokenizer-load-file-vulnerability_v1.10.x' into v1.10.xn- [`c86b5fc`](https://github.com/sparklemotion/nokogiri/commit/c86b5fc02e5b50308d8de08b9a194aa71b701081) update CHANGELOGn- Additional commits viewable in [compare view](https://github.com/sparklemotion/nokogiri/compare/v1.8.0...v1.10.5)n</details>n<br />nn[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&package-manager=bundler&previous-version=1.8.0&new-version=1.10.5)](https://help.github.com/articles/configuring-automated-security-fixes)nnDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `dependabot rebase`.nn[//]: # (dependabot-automerge-start)n[//]: # (dependabot-automerge-end)nn ---nn<details>n<summary>Dependabot commands and options</summary>n<br />nnYou can trigger Dependabot actions by commenting on this PR:n- `dependabot rebase` will rebase this PRn- `dependabot recreate` will recreate this PR, overwriting any edits that have been made to itn- `dependabot merge` will merge this PR after your CI passes on itn- `dependabot squash and merge` will squash and merge this PR after your CI passes on itn- `dependabot cancel merge` will cancel a previously requested merge and block automergingn- `dependabot reopen` will reopen this PR if it is closedn- `dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)n- `dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)n- `dependabot use these labels` will set the current labels as the default for future PRs for this repo and languagen- `dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and languagen- `dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and languagen- `dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and languagennYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/facebook/watchman/network/alerts).nn</details>nPull Request resolved: https://github.com/facebook/watchman/pull/757nnDifferential Revision: D18281040nnPulled By: weznnfbshipit-source-id: d5bf78860f5bbdcc3b88ea12a6533511e4405938n",3.0,3.0,"website/Gemfile.lock,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,199.0,2.0,876.0752430555556,0.0,0.0,0.0,None,False,,
5cb796e13956f9fdf1066600f549c256ade7123b,21c7aaea633f7653fe45a1e837bf7e05a099f9ba,svcscm,svcscm@fb.com,Fri Nov 1 17:03:20 2019 -0700,1572653000,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/09fdab8693ce22a563a63736ce45a234e5c0b2b4nhttps://github.com/facebook/rocksdb/commit/e4e1d35cc22a77697d77f8625cfc03bcde5bb334nnReviewed By: zpaonnfbshipit-source-id: 68b8475e3428b45a629631f0b0d0dfff1ac6497en,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,578.0,0.19519675925925925,1803.0,6.123035873109991,1803.0,None,False,,
21c7aaea633f7653fe45a1e837bf7e05a099f9ba,794f5c89767f1ae48cc82a05d91753e757de50a8,Wez Furlong,wez@fb.com,Fri Nov 1 17:46:29 2019 -0700,1572655589,Update Windows download instructions (#758)Summary:nI'd like to link directly to the downloads but that depends onnhttps://github.com/actions/upload-artifact/issues/21nnCloses https://github.com/facebook/watchman/issues/755nCloses https://github.com/facebook/watchman/issues/746nCloses https://github.com/facebook/watchman/issues/741nCloses https://github.com/facebook/watchman/issues/683nPull Request resolved: https://github.com/facebook/watchman/pull/758nnDifferential Revision: D18283531nnPulled By: weznnfbshipit-source-id: aabf52c8d3f873bae05808296f00f139afd7d716n,23.0,7.0,"website/_docs/install.markdown,CAS_DELIMITER,website/static/artifacts-download.png,CAS_DELIMITER,website/static/ci-link.png,CAS_DELIMITER",3.0,1.0,2.0,0.0,17.0,72.0,14.0,0.11140046296296297,7011.0,3.992207792207792,239.0,None,False,,
794f5c89767f1ae48cc82a05d91753e757de50a8,ce6e4f7cf267de5036dddf1e78c1f78d6efea3d2,Wez Furlong,wez@fb.com,Fri Nov 1 18:17:17 2019 -0700,1572657437,"watchman: remove support for gimliSummary:ngimli is a project of mine from the time before I joined FB.nIts purpose is to supervise a process and capture a human readablenstack trace with annotations.nnI haven't been maintaining that project for some time and it doesn'tnsupport more recent versions of the DWARF spec, so let's retire supportnfor it from watchman to simplify things a little bit.nnReviewed By: genevievehelselnnDifferential Revision: D18261887nnfbshipit-source-id: 123d3ddf6bd3e654b953e56ca2312ab5d26b8179n",4.0,76.0,"listener.cpp,CAS_DELIMITER,main.cpp,CAS_DELIMITER,watchman_getopt.h,CAS_DELIMITER,website/_docs/install.markdown,CAS_DELIMITER",4.0,2.0,2.0,1.2458320953871438,34.0,580.25,120.0,5.956195023148147,7014.5,1.4262337315853446,240.0,None,False,,
ce6e4f7cf267de5036dddf1e78c1f78d6efea3d2,b173d6d60547f5bdfcd36e9f7be714b7852b69aa,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,Fri Nov 1 19:00:49 2019 -0700,1572660049,"build(deps): bump ffi from 1.9.18 to 1.11.1 in /website (#759)Summary:nBumps [ffi](https://github.com/ffi/ffi) from 1.9.18 to 1.11.1.n<details>n<summary>Changelog</summary>nn*Sourced from [ffi's changelog](https://github.com/ffi/ffi/blob/master/CHANGELOG.md).*nn> 1.11.1 / 2019-05-20n> -------------------n>n> Changed:n> * Raise required ruby version to >=2.0. [https://github.com/facebook/watchman/issues/699](https://github-redirect.dependabot.com/ffi/ffi/issues/699), [https://github.com/facebook/watchman/issues/700](https://github-redirect.dependabot.com/ffi/ffi/issues/700)n> * Fix a possible linker error on ruby < 2.3 on Linux.n>n>n> 1.11.0 / 2019-05-17n> -------------------n> This version was yanked on 2019-05-20 to fix an install issue on ruby-1.9.3. [https://github.com/facebook/watchman/issues/700](https://github-redirect.dependabot.com/ffi/ffi/issues/700)n>n> Added:n> * Add ability to disable or force use of system libffi. [https://github.com/facebook/watchman/issues/669](https://github-redirect.dependabot.com/ffi/ffi/issues/669)n>   Use like `gem inst ffi -- --enable-system-libffi` .n> * Add ability to call FFI callbacks from outside of FFI call frame. [https://github.com/facebook/watchman/issues/584](https://github-redirect.dependabot.com/ffi/ffi/issues/584)n> * Add proper documentation to FFI::Generator and ::Taskn> * Add gemspec metadata. [https://github.com/facebook/watchman/issues/696](https://github-redirect.dependabot.com/ffi/ffi/issues/696), [https://github.com/facebook/watchman/issues/698](https://github-redirect.dependabot.com/ffi/ffi/issues/698)n>n> Changed:n> * Fix stdcall on Win32. [https://github.com/facebook/watchman/issues/649](https://github-redirect.dependabot.com/ffi/ffi/issues/649), [https://github.com/facebook/watchman/issues/669](https://github-redirect.dependabot.com/ffi/ffi/issues/669)n> * Fix load paths for FFI::Generator::Taskn> * Fix FFI::Pointer#read_string(0) to return a binary String. [https://github.com/facebook/watchman/issues/692](https://github-redirect.dependabot.com/ffi/ffi/issues/692)n> * Fix benchmark suite so that it runs on ruby-2.xn> * Move FFI::Platform::CPU from C to Ruby. [https://github.com/facebook/watchman/issues/663](https://github-redirect.dependabot.com/ffi/ffi/issues/663)n> * Move FFI::StructByReference to Ruby. [https://github.com/facebook/watchman/issues/681](https://github-redirect.dependabot.com/ffi/ffi/issues/681)n> * Move FFI::DataConverter to Ruby ([https://github.com/facebook/watchman/issues/661](https://github-redirect.dependabot.com/ffi/ffi/issues/661))n> * Various cleanups and improvements of specs and benchmarksn>n> Removed:n> * Remove ruby-1.8 and 1.9 compatibility code. [https://github.com/facebook/watchman/issues/683](https://github-redirect.dependabot.com/ffi/ffi/issues/683)n> * Remove unused spec files. [https://github.com/facebook/watchman/issues/684](https://github-redirect.dependabot.com/ffi/ffi/issues/684)n>n>n> 1.10.0 / 2019-01-06n> -------------------n>n> Added:n> * Add /opt/local/lib/ to ffi's fallback library search path. [https://github.com/facebook/watchman/issues/638](https://github-redirect.dependabot.com/ffi/ffi/issues/638)n> * Add binary gem support for ruby-2.6 on Windowsn> * Add FreeBSD on AArch64 and ARM support. [https://github.com/facebook/watchman/issues/644](https://github-redirect.dependabot.com/ffi/ffi/issues/644)n> * Add FFI::LastError.winapi_error on Windows native or Cygwin. [https://github.com/facebook/watchman/issues/633](https://github-redirect.dependabot.com/ffi/ffi/issues/633)n>n> Changed:n> * Update to rake-compiler-dock-0.7.0n> * Use 64-bit inodes on FreeBSD >= 12. [https://github.com/facebook/watchman/issues/644](https://github-redirect.dependabot.com/ffi/ffi/issues/644)n> * Switch time_t and suseconds_t types to long on FreeBSD. [https://github.com/facebook/watchman/issues/627](https://github-redirect.dependabot.com/ffi/ffi/issues/627)n> * Make register_t long_long on 64-bit FreeBSD. [https://github.com/facebook/watchman/issues/644](https://github-redirect.dependabot.com/ffi/ffi/issues/644)n> * Fix Pointer#write_array_of_type [https://github.com/facebook/watchman/issues/637](https://github-redirect.dependabot.com/ffi/ffi/issues/637)n>n></tr></table> ... (truncated)n</details>n<details>n<summary>Commits</summary>nn- [`3d8c91c`](https://github.com/ffi/ffi/commit/3d8c91c902d67f2af184b1da1b0e99323bc1c744) Update CHANGELOG for ffi-1.11.1n- [`2a3d9d6`](https://github.com/ffi/ffi/commit/2a3d9d60db6d01e3a1472484371df2a14ec1ec3a) Bump VERSION to 1.11.1n- [`19d5776`](https://github.com/ffi/ffi/commit/19d5776080c2d8f3d2840ea449ef2c9a632b93d5) Add some missing items to CHANGELOG for ffi-1.11.0n- [`08b9b78`](https://github.com/ffi/ffi/commit/08b9b7875fe6fff8ba34d794a4bdebaf78b95ba2) Raise ruby version requirement to >=2.0n- [`e76c43b`](https://github.com/ffi/ffi/commit/e76c43b3efaa24563e6c93dd8f0128240197a88c) Fix build on ruby-2.0 on Linuxn- [`9b4a9e4`](https://github.com/ffi/ffi/commit/9b4a9e450a4f78bf569ad8b6497bd6b4e8ec82d3) Add version 1.11.0 to CHANGELOGn- [`36f1bb5`](https://github.com/ffi/ffi/commit/36f1bb55aa0712fa8ea5431cfb9d94ebc2a34372) Bump VERSION to 1.11.0n- [`29c07a9`](https://github.com/ffi/ffi/commit/29c07a94fadfb644c28741f744ab9a3fda3e544c) Pass options from rake task to the FFI::Generatorn- [`7efdd2e`](https://github.com/ffi/ffi/commit/7efdd2ecbb8ab2df56aecade9c82fd48eb71969f) Include the name of the template file instead of just raken- [`bc99b7e`](https://github.com/ffi/ffi/commit/bc99b7efa78afc150fe32d09579a11c8990aaf84) Add proper documentation to FFI::Generator and ::Taskn- Additional commits viewable in [compare view](https://github.com/ffi/ffi/compare/1.9.18...1.11.1)n</details>n<br />nn[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=ffi&package-manager=bundler&previous-version=1.9.18&new-version=1.11.1)](https://help.github.com/articles/configuring-automated-security-fixes)nnDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `dependabot rebase`.nn[//]: # (dependabot-automerge-start)n[//]: # (dependabot-automerge-end)nn ---nn<details>n<summary>Dependabot commands and options</summary>n<br />nnYou can trigger Dependabot actions by commenting on this PR:n- `dependabot rebase` will rebase this PRn- `dependabot recreate` will recreate this PR, overwriting any edits that have been made to itn- `dependabot merge` will merge this PR after your CI passes on itn- `dependabot squash and merge` will squash and merge this PR after your CI passes on itn- `dependabot cancel merge` will cancel a previously requested merge and block automergingn- `dependabot reopen` will reopen this PR if it is closedn- `dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)n- `dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)n- `dependabot use these labels` will set the current labels as the default for future PRs for this repo and languagen- `dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and languagen- `dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and languagen- `dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and languagennYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/facebook/watchman/network/alerts).nn</details>nPull Request resolved: https://github.com/facebook/watchman/pull/759nnDifferential Revision: D18285622nnPulled By: weznnfbshipit-source-id: bff26e77b99faaed6a47716a25400e3efd622fdcn",1.0,1.0,"website/Gemfile.lock,CAS_DELIMITER",1.0,1.0,1.0,0.0,17.0,199.0,3.0,0.09005787037037037,1.0,12.103971211926488,1.0,None,False,,
b173d6d60547f5bdfcd36e9f7be714b7852b69aa,654fb37b0f242bc3b51c6ba178cf9c3a5c5355b4,svcscm,svcscm@fb.com,Fri Nov 1 19:02:10 2019 -0700,1572660130,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/7cb2e01c52904eaa94d36e13ce35c9e4b74acff9nhttps://github.com/facebook/rocksdb/commit/0d91a981e929e652dd11cb882545471e85175ed4nhttps://github.com/pytorch/fbgemm/commit/adeb2b0e3868b9537529be922a22b5a5d8faffd6nnReviewed By: zpaonnfbshipit-source-id: 9dbe4512464819932e1a82ae08c3ab37e7f7c1ffn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,579.0,0.08252314814814815,1804.0,13.11781206171108,1804.0,None,False,,
654fb37b0f242bc3b51c6ba178cf9c3a5c5355b4,a1496e8327e43f00dda17f404dc2cf9d8711d94c,svcscm,svcscm@fb.com,Sat Nov 2 15:37:36 2019 -0700,1572734256,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/f9e212695325d6bb5beb22853fc606707f1e0394nhttps://github.com/facebookincubator/katran/commit/da8509bbc6f44adc040001dc4988fa7fb4c0ec4bnnReviewed By: zpaonnfbshipit-source-id: 01f0bc3427e58a5f9af170b52ae92919b69d0f60n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1811.0,0.9797762345679012,1806.0,1.677497015214664,1807.0,None,False,,
a1496e8327e43f00dda17f404dc2cf9d8711d94c,8af06786b05ed154991b72e37cb61f5d7637b94a,svcscm,svcscm@fb.com,Sun Nov 3 03:44:01 2019 -0800,1572781441,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/efe72437a8c5f7162ef6d6e2b942f2df2e6dca72nnReviewed By: zpaonnfbshipit-source-id: ef255895e5d13a2ff6c166ac05af1572e9f3cc6fn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,581.0,0.5461226851851851,1808.0,2.831090388894776,1808.0,None,False,,
8af06786b05ed154991b72e37cb61f5d7637b94a,c12ce5a7f7429870e5b4b962f8dd7ae60e9c7faa,svcscm,svcscm@fb.com,Mon Nov 4 05:55:42 2019 -0800,1572875742,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/b35bea8f0784806e687e32f6914f4a504785ea06nhttps://github.com/facebook/litho/commit/4e9b180439fb7aa187ae5286d907980490162dcdnnReviewed By: zpaonnfbshipit-source-id: ff07f7763bdbb0b3f91632ae27e1cd0ecb146916n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,633.0,1.6375694444444444,1809.0,1.6106611254823795,1809.0,None,False,,
c12ce5a7f7429870e5b4b962f8dd7ae60e9c7faa,ea894c209314fb016705c1c7c1e27f4685653e7d,svcscm,svcscm@fb.com,Mon Nov 4 22:49:30 2019 -0800,1572936570,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/88800af4cb6e58cc543d0b7c8e04d583a0cf2a10nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 1bee0c998c2d7cfa1fbe358c9cae005e88ca2e15n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1816.0,1.6136998456790124,1811.0,1.3878667042814603,1812.0,None,False,,
ea894c209314fb016705c1c7c1e27f4685653e7d,fa8eb58d0d339d724191af4eded7786a087a51ac,svcscm,svcscm@fb.com,Tue Nov 5 21:14:13 2019 -0800,1573017253,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d5828b3036bd697f04791d157406b4e92069bfe8nhttps://github.com/facebook/mcrouter/commit/a145c9c1f3a5891ab537024090509481f9fa4541nhttps://github.com/facebook/rocksdb/commit/834feaff05a4bf7ae49c736305d5eb180aed4011nnReviewed By: yns88nnfbshipit-source-id: 0315b4e8add8213e9639439fc3bd8162e1b40e02n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1819.0,0.9338310185185184,1814.0,1.6544129494441209,1815.0,None,False,,
fa8eb58d0d339d724191af4eded7786a087a51ac,8a07670494ad1125bb7a368a0f93b5f4e6140325,svcscm,svcscm@fb.com,Wed Nov 6 07:45:28 2019 -0800,1573055128,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/85d753b71d2723b9a1b4c5ae47aa367a9d2beb2fnhttps://github.com/facebook/litho/commit/683e83b59a33375cfa9d6aba57fb07685cba7a25nnReviewed By: yns88nnfbshipit-source-id: 64d0bdc3bdaf36639db8da713310da539cda6fa2n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1220.0,0.4383680555555556,1816.5,2.7108910891089097,1817.0,None,False,,
8a07670494ad1125bb7a368a0f93b5f4e6140325,f04c6331ce7c3c6df7291bf2c5c91a6d378c38ff,Adam Simpkins,simpkins@fb.com,Wed Nov 6 11:29:48 2019 -0800,1573068588,"fix O(num_inodes) behavior of `getStatInfo()`Summary:nFix the `getStatInfo()` code to avoid walking all loaded inodes.  Thatnbehavior was okay early on when we were first developing EdenFS and thisnAPI wasn't used in many places.  However, `eden rage` and `eden stats` bothnexercise this code path, and it seems pretty bad to walk all loaded inodes innorder to return some stats.nnI removed the counts about number of materialized inodes for now, since Indon't think we're really using this metric much.nnReviewed By: chadaustinnnDifferential Revision: D17578306nnfbshipit-source-id: 55ab0209745869b160e91167d6cff7d95f39a95an",0.0,2.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1139.0,29.0,8.107893518518518,121.0,1.1233365975658152,8.0,Corrective,True,,
f04c6331ce7c3c6df7291bf2c5c91a6d378c38ff,d76d5c448b47d6ec11ba1e1c8af855072215cd71,svcscm,svcscm@fb.com,Wed Nov 6 12:07:24 2019 -0800,1573070844,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0a9dd201d452eba0a387e92a6bee3c8e713ec562nhttps://github.com/facebook/rocksdb/commit/50804656d20bcfe4c3b9f77d05856a927b059b88nhttps://github.com/facebookincubator/mvfst/commit/ed7646cad2a3435476f189da91a5ab49a23b7f5annReviewed By: yns88nnfbshipit-source-id: 18587bec3df86b7e1d6836707317eaa53f5d7472n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,585.0,0.1818981481481481,1818.0,6.497582081954696,1818.0,None,False,,
d76d5c448b47d6ec11ba1e1c8af855072215cd71,34b4217d7fab99fc612503eee212d7538be670c3,svcscm,svcscm@fb.com,Wed Nov 6 13:47:05 2019 -0800,1573076825,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2c518441de850168fa5ab5f49d755ec3e9948e92nhttps://github.com/facebook/rocksdb/commit/8ea087ad16c853ab24af2f73a9b6a0c9ae04a6e8nnReviewed By: yns88nnfbshipit-source-id: 18aeb8587575e22a799f46e7706156ab39493948n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1188.0,0.3793576388888889,1819.5,8.881881170378357,1820.0,None,False,,
34b4217d7fab99fc612503eee212d7538be670c3,cadecfe7b4f9a4a2d9bddb1db8d56ad6aa1baa18,John Strizich,striz@fb.com,Wed Nov 6 21:15:56 2019 -0800,1573103756,remove libnl depedency from open source buildSummary: We removed this dependency in the code a while ago.nnReviewed By: saifhhasannnDifferential Revision: D18366401nnfbshipit-source-id: daf1c7865fe0c312694bdf395f9d7ace99f70395n,0.0,1.0,"build/fbcode_builder/manifests/openr,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,36.0,1.0,43.973136574074076,5.0,1.0227411569405669,5.0,None,False,,
cadecfe7b4f9a4a2d9bddb1db8d56ad6aa1baa18,6048256c15b22997b6f32fcf65f11544e6e45316,svcscm,svcscm@fb.com,Thu Nov 7 10:51:37 2019 -0800,1573152697,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6111b3b680433b1d15af8f5984b0fa969c5b41dbnhttps://github.com/facebook/fbzmq/commit/930b238caa83851a0878fe7c936aac4930eede2enhttps://github.com/facebook/folly/commit/7e195929d5685466dca803818f9cb05a0849b499nhttps://github.com/facebook/litho/commit/b90eedb63d53bc6c8878ec43d180a7c5f1ef4c17nhttps://github.com/facebook/mcrouter/commit/16416eb27d47822120662b3ae932e9c82c3a76c9nhttps://github.com/facebook/proxygen/commit/b0817301e05f2d3830ceab49e38065cbfe7863dcnhttps://github.com/facebook/rocksdb/commit/7b3222e10aad7b82e3d80b3545cc8c3bd4d65d73nhttps://github.com/facebook/wangle/commit/d4a937d86e983fb3f5a453635eb016f050e32979nhttps://github.com/facebookincubator/fizz/commit/80a314d94be36f2622fd296d92bb21927ac023c3nhttps://github.com/facebookincubator/katran/commit/3e6590ad4b2cdfa62a07a282cc42cbc68577afbfnhttps://github.com/facebookincubator/mvfst/commit/fad1d3411ccd10a23ede38819f6ae4038d9b20d0nhttps://github.com/facebookincubator/profilo/commit/cb8da69f5d07e9f3e853419cf28dcf67b1d184b2nnReviewed By: yns88nnfbshipit-source-id: 412cc7628b2a56b4a2bb40fb0a4d8c10e663e2dan,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1827.0,0.9618557098765432,1822.0,1.6611548173415436,1823.0,None,False,,
6048256c15b22997b6f32fcf65f11544e6e45316,c0f412cb2960db2d4aa89a9100f41cef416e1e24,svcscm,svcscm@fb.com,Fri Nov 8 10:33:46 2019 -0800,1573238026,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b0985d1186056fd54e90bb2e0b77e336d24066e7nhttps://github.com/facebookincubator/mvfst/commit/8952e230383e94b10dd05a404ea7f3bbeed78af2nnReviewed By: yns88nnfbshipit-source-id: 2a6b665b146d6a0ab54233aecc2c54c805465bd7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1830.0,0.9876041666666668,1825.0,1.6187814224941108,1826.0,None,False,,
c0f412cb2960db2d4aa89a9100f41cef416e1e24,545682f6164523d14671e3ec248ff6f895822cb1,svcscm,svcscm@fb.com,Sat Nov 9 03:31:32 2019 -0800,1573299092,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/proxygen/commit/ac1d64f417ff2e07d17d3bb46d524227df694d8bnhttps://github.com/facebook/wangle/commit/a9099071c9aed7668d1bf50d5be98d8ac517943enhttps://github.com/facebookincubator/mvfst/commit/919c20805063d2490375e444068e6d4bdf286742nnReviewed By: yns88nnfbshipit-source-id: ed826141bc2480c42a615a7c5a4464abbfee1cfdn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1833.0,0.7067824074074074,1828.0,1.8646382602430158,1829.0,None,False,,
545682f6164523d14671e3ec248ff6f895822cb1,64f288d2eb8fe46a2e51ccd1a878a576a0061429,svcscm,svcscm@fb.com,Sat Nov 9 20:04:53 2019 -0800,1573358693,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/839d77673faf67c823db5bccf7074cb590f108a7nhttps://github.com/facebookincubator/katran/commit/101d2b99a4d453aa8297ba0d4c1b8ee900873aa2nnReviewed By: yns88nnfbshipit-source-id: 91b970737665510c038bb0fb233aa4167ec9a130n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,590.0,0.6898263888888889,1830.0,2.449640106709619,1830.0,None,False,,
64f288d2eb8fe46a2e51ccd1a878a576a0061429,5edaa2b04341c6578b0eb921b2abdc4219ce6554,svcscm,svcscm@fb.com,Sun Nov 10 13:04:18 2019 -0800,1573419858,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/proxygen/commit/c677af31e52494beab0d74e3e4378d7dac9c66d1nhttps://github.com/facebook/wangle/commit/dd1f217d616329aef24a553dd5df1e25d3bdeca9nhttps://github.com/facebookincubator/katran/commit/7143ac8a8052f62b2f7c0f0d43e6661335bb6079nhttps://github.com/facebookincubator/mvfst/commit/86c5b14f1d75585cdf1e69f1e687e7ee776949a6nnReviewed By: yns88nnfbshipit-source-id: 5d5f5c5d029ea2560fc3e08232a37cb58b61b897n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1837.0,1.1678125,1832.0,1.7243039399030682,1833.0,None,False,,
5edaa2b04341c6578b0eb921b2abdc4219ce6554,bad1e1e4ea280431a1c96c3be7e5d4fe7e2e72eb,svcscm,svcscm@fb.com,Mon Nov 11 09:27:04 2019 -0800,1573493224,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c10f5bf6640a6c45d29d4f941fb253cfcda7a92bnhttps://github.com/facebook/wangle/commit/b6d8b723b7925af7add55e4592cb44b9332d29cfnhttps://github.com/facebookincubator/fizz/commit/35f57f41003ee304f6c33cd40a0b89891fea985dnhttps://github.com/facebookincubator/katran/commit/286e860fbc822dc62f59cf94ad8253b14dbf025fnhttps://github.com/facebookincubator/mvfst/commit/8996c5393fdd0a6558f07110d9aa09673a911295nnReviewed By: yns88nnfbshipit-source-id: b8cea63518aa662ae640c6d5e4a7c8c14cf0690fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1840.0,0.8491435185185185,1835.0,1.7196794155330808,1836.0,None,False,,
bad1e1e4ea280431a1c96c3be7e5d4fe7e2e72eb,427b449778c316ad5194b44ab5222dd062e31a77,svcscm,svcscm@fb.com,Tue Nov 12 03:17:36 2019 -0800,1573557456,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/56c338eee035b2a1c6ce910fcfea65c780315f27nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: fdb23afb0d4656399082564c8e986d7e95e0b0d0n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1843.0,0.7434259259259259,1838.0,1.8220201768588864,1839.0,None,False,,
427b449778c316ad5194b44ab5222dd062e31a77,d28598f71a5a7ea0a675eb46b0f8fb87377897c2,svcscm,svcscm@fb.com,Tue Nov 12 16:19:19 2019 -0800,1573604359,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/proxygen/commit/ae1758dc67b872e484b5c0d897e166a196875edfnhttps://github.com/facebook/rocksdb/commit/42b5494ec81f046e4eb41e1928c4ef615eaafd65nhttps://github.com/facebook/wangle/commit/35c4a5d481e0cc7f05c0832493aff47516175bf3nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 28f531f546459272a540e5d521811b971beed9e8n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1846.0,0.5428587962962963,1841.0,2.1257275654009344,1842.0,None,False,,
d28598f71a5a7ea0a675eb46b0f8fb87377897c2,e41f74b96ac945909e9edd72c4d85f439a084c58,Rodrigo Suu00c3u00a1rez,rodrigosrz12@gmail.com,Tue Nov 12 17:52:32 2019 -0800,1573609952,Update Travis CI status badge on Readme.markdownSummary: Pull Request resolved: https://github.com/facebook/watchman/pull/761nnDifferential Revision: D18445330nnPulled By: weznnfbshipit-source-id: 7d52f938a34c8331575717ae79bea5afe4248a17n,0.0,1.0,"README.markdown,CAS_DELIMITER",1.0,1.0,1.0,0.0,29.0,27.0,64.0,11.377418981481481,0.0,0.0,0.0,None,False,,
e41f74b96ac945909e9edd72c4d85f439a084c58,e577690113efbd090bbaa96652acf71fe0841ae3,svcscm,svcscm@fb.com,Tue Nov 12 18:18:10 2019 -0800,1573611490,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c8ebdc9781f715d661b0a08657775d4492a2334cnhttps://github.com/facebook/folly/commit/67c9b0925c660ac9a33b7e94f540571ebfa956b3nhttps://github.com/facebook/mcrouter/commit/9428045992bd3638db0a90f823324936d03bf8d8nhttps://github.com/facebook/proxygen/commit/103322c93b4e933d4cdae7bfae3887f20513dbcanhttps://github.com/facebookincubator/fizz/commit/e3917f19027830e58cea57a14f6c2497c8d50ab1nhttps://github.com/facebookincubator/katran/commit/edcf5e006b53f03f6218b5749ef16717660fc05cnhttps://github.com/facebookincubator/mvfst/commit/83b8ff6b690a206c4bab762fa2e61c7bd072e6bennReviewed By: 2d2d2d2d2dnnfbshipit-source-id: eb1b70519ab300c39bd3f04c579899ebf651fe5bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1239.0,0.08253472222222223,1843.5,10.087084560370217,1844.0,None,False,,
e577690113efbd090bbaa96652acf71fe0841ae3,5207a48c5b4f4ade540d161517d5a364fdddeff9,svcscm,svcscm@fb.com,Wed Nov 13 14:20:47 2019 -0800,1573683647,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/fe2aa2895c51006ec5a346d9b6c03c4235b4c403nhttps://github.com/facebook/litho/commit/9735191ff988e360b55d010bc2cd53e49d1452b3nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 7e0a742583d7b9e9ff273bb00a119b65edeb7c1fn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1241.0,0.8351504629629629,1845.5,1.8980417700292416,1846.0,None,False,,
5207a48c5b4f4ade540d161517d5a364fdddeff9,d44a44afe31cc4de03e5ab1d73160b22b2bcb450,Wez Furlong,wez@fb.com,Wed Nov 13 16:22:24 2019 -0800,1573690944,"watchman: add basic watchman client rust crateSummary:nNotably missing is the full expression term syntax; I'll donthat in a follow up diff, but this is sufficient to evaluate globsnand return names and content hashes, which is what we're shootingnfor in ndmitchell's prototyping work.nnSee examples/glob.rs for usage.nnDifferential Revision: D18468749nnfbshipit-source-id: a172714cc277e556366ef4cebc683a186fe6f24en",1680.0,6.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/serde_bser/src/de/bunser.rs,CAS_DELIMITER,rust/serde_bser/src/de/mod.rs,CAS_DELIMITER,rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/examples/glob.rs,CAS_DELIMITER,rust/watchman_client/src/expr.rs,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",8.0,1.0,5.0,1.7925832127315802,24.0,55.875,15.0,23.55260416666667,7020.5,1.006965790230203,10.0,None,False,,
d44a44afe31cc4de03e5ab1d73160b22b2bcb450,4fcd0ea0eae81ba901801ec88a923f7ac7b61d3c,svcscm,svcscm@fb.com,Wed Nov 13 16:30:56 2019 -0800,1573691456,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/litho/commit/1deef35e633450caa37ac33bd0a105f395e3673cnhttps://github.com/facebook/wangle/commit/0ff7470bddf1adf7870bd95de09f6413463c7afbnhttps://github.com/facebookincubator/katran/commit/43dfa89c9992599ebc6bab144a6f985fdd3f438ennReviewed By: 2d2d2d2d2dnnfbshipit-source-id: b0a53bb4aa2fda83be642097ce7424b9ba560711n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,610.0,1.0080671296296295,1847.0,1.991997428154816,1847.0,None,False,,
4fcd0ea0eae81ba901801ec88a923f7ac7b61d3c,c264d08c494987f0eb9484926fcf465324d564a7,svcscm,svcscm@fb.com,Wed Nov 13 17:26:15 2019 -0800,1573694775,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/401178e8610122f8b550028e3f7c861d0326d454nhttps://github.com/facebook/proxygen/commit/916f8c247760209342b74023391c2b2c69e05823nhttps://github.com/facebook/rocksdb/commit/f059c7d9b96300091e07429a60f4ad55dac84859nhttps://github.com/facebookincubator/profilo/commit/dca5f88a84b6fd4c62c945c0e5098b60d649e6f7nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 3cc242b97702b130c20f6b7894f660b138a2b80an,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,597.0,0.1287962962962963,1848.0,8.764198418404025,1848.0,None,False,,
c264d08c494987f0eb9484926fcf465324d564a7,596fb8f369406206747d927e729928fc9569138b,Wez Furlong,wez@fb.com,Wed Nov 13 17:41:35 2019 -0800,1573695695,"watchman: fixup crates license identifierSummary:nTurns out that `cargo publish --dry-run` doesn't validatenthese fields, so they need to be corrected.nnReviewed By: dtolnaynnDifferential Revision: D18495495nnfbshipit-source-id: 13feef92ef0f1d096709f2ce7b237309c18da378n",2.0,2.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/watchman_client/Cargo.toml,CAS_DELIMITER",2.0,1.0,2.0,1.0,24.0,20.0,8.0,0.05498842592592594,7025.5,14.639233845506208,12.0,None,False,,
596fb8f369406206747d927e729928fc9569138b,81eb466ef1bbc85d2abf3bde646d53749f7f4df5,svcscm,svcscm@fb.com,Thu Nov 14 01:47:11 2019 -0800,1573724831,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbzmq/commit/dc64b842b88c822a86aa206957c808666ba7bcaanhttps://github.com/facebook/folly/commit/c31d13303ff79fc160411ead147b354a56da9821nhttps://github.com/facebookincubator/fizz/commit/2a71bbc69e33f383d10336284c01342cebcac449nhttps://github.com/facebookincubator/mvfst/commit/4bb251a6af5466e3b4d05e05abd48c1704ac8dbbnhttps://github.com/pytorch/fbgemm/commit/15b4a705e68f397d17c33d0fcadd1ce121c8f5e6nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 70fff211005d374d558de25eb4342b84b7bcba25n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,646.0,0.4766666666666667,1849.0,3.0979020979020984,1849.0,None,False,,
81eb466ef1bbc85d2abf3bde646d53749f7f4df5,8102490aed678ac66f4cfbc3e0722c2b3a89ff79,svcscm,svcscm@fb.com,Fri Nov 15 02:19:56 2019 -0800,1573813196,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f6e9a8278ce677506234e5487cc64c0aa086c1acnhttps://github.com/facebookincubator/profilo/commit/efb1c251e69d43a093679fad65e6fae4cf56e552nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 1c21861cdb0f04f133938b0d58173bd3ed02e500n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1856.0,1.2674614197530862,1851.0,1.470138821508095,1852.0,None,False,,
8102490aed678ac66f4cfbc3e0722c2b3a89ff79,ee930daa3459d3b3362833e4dad747ee37331727,svcscm,svcscm@fb.com,Fri Nov 15 16:09:05 2019 -0800,1573862945,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/789882d5d9feb427e05a1c3085568bab4a590c3fnhttps://github.com/facebook/litho/commit/e11a79a8ef04e67dc08aeb0ffb18a92cf0a82cabnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 86dc55f61bc8663cc959c4395e35dc2bb7e88470n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1859.0,0.5757986111111111,1854.0,2.0613278658867515,1855.0,None,False,,
ee930daa3459d3b3362833e4dad747ee37331727,893efe0157965bc92f3096c507c3ad431ebcb8e8,Wez Furlong,wez@fb.com,Fri Nov 15 16:41:03 2019 -0800,1573864863,"watchman: fix accidental text mode translation of stdoutSummary:nin D18271062 we were seeing consistent failures of one ofnthe BSER validation tests.  It turned out that we'd added a newnvalue whose name was 10 characters in length (`named_pipe`) andnwhen written to stdout this was treated as a newline by the automaticntext processing in the MS libc and rewritten to `rn` which innturn broke the integrity check.nnThe resolution is not to use the ANSI `FILE*` `stdout` object andninstead go directly to our own `FileDescriptor` instance that speaksndirectly to the underlying kernel `HANDLE` object, which has nonsurprising text mode translation.nnReviewed By: simpkinsnnDifferential Revision: D18522236nnfbshipit-source-id: 1c84a460322533e762b6d3c8c879a93a384b95d6n",13.0,5.0,"json.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,615.0,13.0,15.126724537037035,7027.0,1.066108164893963,3197.0,None,False,,
893efe0157965bc92f3096c507c3ad431ebcb8e8,d49668dfb76e148fab6e878b2d1944a5e70a3c38,Wez Furlong,wez@fb.com,Fri Nov 15 16:41:03 2019 -0800,1573864863,watchman: fix test_cookie test on windowsSummary:nThis test is verifying that we propagate an error whennthe root has been removed.  We weren't matching on one of thenflavors of error message that windows generates and were reasonablynconsistently failing this test.nnThis diff adds the windows error text to the test.nnReviewed By: pkaushnnDifferential Revision: D18522237nnfbshipit-source-id: e45c61cb61cf0e9d50c5bb5bf850ed20f43294f7n,1.0,0.0,"tests/integration/test_cookie.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,26.0,74.0,5.0,534.6795949074074,7028.0,1.0018702789661782,879.0,None,False,,
d49668dfb76e148fab6e878b2d1944a5e70a3c38,bcbbc6dd20f22fc39c0071e71af66ef23ace47bc,Wez Furlong,wez@fb.com,Fri Nov 15 16:41:03 2019 -0800,1573864863,watchman: get-sockname now also reports unix_domain and named_pipeSummary:nThis is a stepping stone to future changes that we'd like to make;nwe want to introduce a unix domain transport on Windows and we have somenexperiments planned with TCP sockets.nnIn order to support these concepts we need to expand the informationnreturned from the `get-sockname` command which various clients use forndiscovery.nnIt is important to avoid breaking compatibility with existing clients sonthe approach here is to continue reporting the same `sockname` value innthe `get-sockname` response and to add in the newer endpoints as new keys.nnOn systems that support unix domain sockets we'll report a new `unix_domain`nkey.nnOn systems that support named pipes we'll report a new `named_pipe` key.nnFuture additional options can be reported as additional keys.nnFor the pywatchman client I've introduced a `SockPath` type that holdsnknown keys and allows transforming to/from the more ambiguous sockpath.nnNote that this diff doesn't update the equivalent discovery code fornthe nodejs or the c++ clients.  Those will be updated in follow-on diffs.nnReviewed By: pkaushnnDifferential Revision: D18271062nnfbshipit-source-id: b5a8efe2cc19d77f5192b64bbfa7cfe4d5541f8cn,66.0,10.0,"cmds/info.cpp,CAS_DELIMITER,python/pywatchman/__init__.py,CAS_DELIMITER",2.0,2.0,2.0,0.6601070987550469,30.0,653.0,75.0,28.779901620370367,7029.5,1.0417407000490044,115.0,None,False,True,"[""0c1071b0a29465ef05d92a8d24eb159bdaf95167""]"
bcbbc6dd20f22fc39c0071e71af66ef23ace47bc,83150f65afa4087e2b926632fb95567c2b36b83f,svcscm,svcscm@fb.com,Fri Nov 15 16:58:47 2019 -0800,1573865927,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ad9b5695cc269f5a69001b9836a7bfa53c5b9176nhttps://github.com/facebookincubator/mvfst/commit/36862d762554d4e640ae092b70729f2406be1ddcnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 88d9733fc255381fdb78ed3f27ed84863b04c3aen,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,600.0,0.034513888888888886,1856.0,29.973843058350106,1856.0,None,False,,
83150f65afa4087e2b926632fb95567c2b36b83f,9fb6dcc46008e483d3229690bc71245dcbfd1f69,svcscm,svcscm@fb.com,Sat Nov 16 06:07:53 2019 -0800,1573913273,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/207328497a81eb1a64b489cf900ec83f6b10c931nhttps://github.com/facebook/litho/commit/c272123098e9462a66fdf06fe67603b5b52c9eb7nhttps://github.com/facebook/wangle/commit/cdcd46de4ee97436c9b44b98f6d929f3659aec8cnhttps://github.com/facebookincubator/fizz/commit/1c093d3fa7af9eff8d56f7033f6f8f37d6695f35nhttps://github.com/facebookincubator/katran/commit/e18b3c2e6e3c7bce8603a64fc3d5af54149aa910nhttps://github.com/pytorch/fbgemm/commit/746161a422cf97cf6c9b322d2799bef07a41f98fnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 253c3a9d70da0cbaf34dc38414966ccccf40533cn,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1262.0,0.5825,1857.5,2.2875536480686702,1858.0,None,False,,
9fb6dcc46008e483d3229690bc71245dcbfd1f69,b4faa7352973509274b264751d33d47ca11eafc7,Wez Furlong,wez@fb.com,Sat Nov 16 16:15:00 2019 -0800,1573949700,"getdeps: fix node/yarn detection for watchman buildsSummary:nWhen we detect that we are building out of the fbsourcenmonorepo internal to FB, pre-set some environment variables to helpnprojects detect our internally pinned versions of node and yarn.nnPreviously, the detection logic was deciding that the `yarn` shellnscript was the executable to invoke, but since that is a bash scriptnit would fail to spawn.nnReviewed By: simpkinsnnDifferential Revision: D18523871nnfbshipit-source-id: b932d2b0ccd7b79d6f9cd74d363bc426c288e38fn",40.0,7.0,".gitignore,CAS_DELIMITER,CMakeLists.txt,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,node/bser/yarn.lock,CAS_DELIMITER,node/package.json,CAS_DELIMITER,node/yarn.lock,CAS_DELIMITER",6.0,3.0,4.0,2.2703216234996546,34.0,203.5,137.0,179.84318287037036,7033.5,1.0180996321457034,43.0,None,False,,
b4faa7352973509274b264751d33d47ca11eafc7,57177e598f04aa90229b1fdb136aecbc8112580e,Wez Furlong,wez@fb.com,Sat Nov 16 16:30:13 2019 -0800,1573950613,"watchman: move some types around the rust client crateSummary:nNo functional changes; this is an organizationalnchange that de-clutters the top level exports and makes thendocs easier to navigate.nnRather than `use watchman_client::*`, a consumer that wantsnan easy time can `use watchman_client::prelude::*` instead.nnDifferential Revision: D18497917nnfbshipit-source-id: 0a30b9ffaf763e63717cc6ddfabb7a91d9127ca4n",368.0,346.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/examples/glob.rs,CAS_DELIMITER,rust/watchman_client/src/expr.rs,CAS_DELIMITER,rust/watchman_client/src/fields.rs,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",7.0,1.0,4.0,1.4792362307964666,24.0,241.85714285714286,14.0,2.56037037037037,7040.0,1.1302018225277934,19.0,None,False,,
57177e598f04aa90229b1fdb136aecbc8112580e,4d8861f35cd728d347d3bd65cd4209ef56e951c6,svcscm,svcscm@fb.com,Sat Nov 16 16:52:54 2019 -0800,1573951974,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8f2eb5c69ae0ac996a5a78133593cd4bfe380a75nhttps://github.com/facebook/fbzmq/commit/4a4926a64ab0e7264f8ea81f782be6e234566736nhttps://github.com/facebook/folly/commit/8e0ca4677e034f8520042f6e0463cc8288e0dfbanhttps://github.com/facebook/proxygen/commit/2ca3bf578da9d1ea7c4459509e7723f6a420d434nhttps://github.com/facebook/wangle/commit/7c5d25d54f6b5c2940456b4ca1b44e1e0db9a993nhttps://github.com/facebookincubator/fizz/commit/4aa70edfce8896d66a177ee355a015be023ccc0cnhttps://github.com/facebookincubator/katran/commit/4597821b3ad39a162cfbb548154393b4226070adnhttps://github.com/facebookincubator/mvfst/commit/309dc6604d1d8bfdcfd54121a1b55f4a8e9ff725nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 5b20c52e24e6d19d6baac2c9fd58f6d142686795n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1865.0,0.6305902777777778,1860.0,1.7417679787505846,1861.0,None,False,,
4d8861f35cd728d347d3bd65cd4209ef56e951c6,0463384af9e4cbcec94f37f5c797d56066c114a7,svcscm,svcscm@fb.com,Sat Nov 16 17:30:54 2019 -0800,1573954254,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b5fa56c4e4450c748c1dabaef13eabda070f7e9dnhttps://github.com/facebook/fbzmq/commit/414aa7f2d538494e733af9ca952961b6c76c3cc8nhttps://github.com/facebook/proxygen/commit/a0ceaf440c4fe1254128478879679eda226c34c3nhttps://github.com/facebook/wangle/commit/295a0662c2c580632609b138c00e5490963bffd8nhttps://github.com/facebookincubator/fizz/commit/214cd3295f7bff16c24706bcb6c741de90e5c55bnhttps://github.com/facebookincubator/katran/commit/be9c6db57ae7e1c44200267de49c2d45a171a2dbnhttps://github.com/facebookincubator/mvfst/commit/ec7569b9b9fd65c0c256539ed9d343a597281a3cnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: b4d055387255a169d8ccef88c9d66cb73761e414n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1217.0,0.02638888888888889,1862.5,29.421052631578945,1863.0,None,False,,
0463384af9e4cbcec94f37f5c797d56066c114a7,387bcb2d8e6cb69ae22fa43583c700deebc01177,svcscm,svcscm@fb.com,Sun Nov 17 18:35:21 2019 -0800,1574044521,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/eeb38ffd627a501dbda6b751f32b8e9d09a9d706nhttps://github.com/facebook/fbzmq/commit/f27f0968247cee6da48fda5e0336b8832dc9cf04nhttps://github.com/facebook/proxygen/commit/d5c51096af0610d1c29d3825d572a7315a7d893dnhttps://github.com/facebook/wangle/commit/76432027c04b33931972d113099ae79a34fd5879nhttps://github.com/facebookincubator/katran/commit/e6135854c5843e20224c588440e8341fc75772benhttps://github.com/facebookincubator/mvfst/commit/83800eae9a53ffdc46f752bbebfe9f3e38e1bd1anhttps://github.com/pytorch/fbgemm/commit/5a5b563db57e409cc141c6e2253ba801042bcbe6nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 1eab55cd73b143acedfad7bf6fcad44b8a2cc12en,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1219.0,1.0447569444444444,1864.5,1.7178703180564323,1865.0,None,False,,
387bcb2d8e6cb69ae22fa43583c700deebc01177,c025573692749f10c1f141eda3ae595db7844e30,svcscm,svcscm@fb.com,Sun Nov 17 19:17:05 2019 -0800,1574047025,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/3062e817bf0c53dcfaf3722df8c7cf66e212807bnhttps://github.com/facebook/fbzmq/commit/3e9812cf6b365bef0c066619fed359556f4e3e1bnhttps://github.com/facebook/proxygen/commit/05d9eea2c0807d41d404601126c437b974fb6210nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 2d7a90c7413b6fb600e92b729cb86205a37d62acn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,604.0,0.02898148148148148,1866.0,35.504792332268366,1866.0,None,False,,
c025573692749f10c1f141eda3ae595db7844e30,d7697ece234b374594fb5ed19c1f1cdec214444c,Victor Zverovich,viz@fb.com,Mon Nov 18 05:51:15 2019 -0800,1574085075,"Replace Folly Format with fmt in logger to reduce binary sizeSummary:nNow that fmt is available in Folly builds (D14813810), use it to reduce binary code size in Folly Logger. This is done by moving most of the formatting logic behind the type-erased `vformat` API. Previously it was instantiated for all combinations of formatting argument types used in calls to `FB_LOGF` and `XLOGF` in a program.nnThe effect of this change can be illustrated by looking at symbol sizes as given by `nm -S -td` for the following test function:nn```nvoid test_log() {n  FB_LOGF(logger, WARN, num events: {:06d}, duration: {:6.3f}, 1234, 5.6789);n}n```ncompiled in `opt` mode.nn`nm` before:nn```n0000000004236736 0000000000000231 T test_log()n0000000004236992 0000000000001002 W std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > folly::LogStreamProcessor::formatLogString<int, double>(folly::Range<char const*>, int const&, double const&)n```nn`nm` after:nn```n0000000004237536 0000000000000231 T test_log()n0000000004237792 0000000000000251 W std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > folly::LogStreamProcessor::formatLogString<int, double>(folly::Range<char const*>, int const&, double const&)n0000000004238048 0000000000000740 W folly::LogStreamProcessor::vformatLogString[abi:cxx11](folly::Range<char const*>, fmt::v5::format_args, bool&)n```nnBefore we had one 1002 byte instantiation of `formatLogString<int, double>`. With this change it was reduced 4x to 251 bytes and non-template function `vformatLogString` was added which is shared among all logging calls. The size of `test_log` remained unchanged. There are even bigger savings from Folly Formatter instantiations which are no longer needed, e.g.nn```n0000000004238032 0000000000001363 W _ZNK5folly13BaseFormatterINS_9FormatterILb0EJRKiRKdEEELb0EJS3_S5_EEclIZNKS7_8appendToINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSt9enable_ifIXsr12IsSomeStringIT_EE5valueEvE4typeERSH_EUlNS_5RangeIPKcEEE_EEvSK_n```nnSo in total this change results in ~5x per-call/instantiation binary size. It is possible to reduce binary size even further but it is not done in the current diff to keep it manageable.nnIn addition to binary size improvements, switching to fmt will potentiallynn* allow catching errors in format strings at compile time,n* simplify future migration to C++20 [`std::format`](http://eel.is/c++draft/format).nnReviewed By: simpkinsnnDifferential Revision: D15485589nnfbshipit-source-id: 06db4436839f11c2c3dbed7b36658e2193343411n",12.0,7.0,"build/fbcode_builder/specs/fbthrift.py,CAS_DELIMITER,build/fbcode_builder/specs/fbzmq.py,CAS_DELIMITER,build/fbcode_builder/specs/fizz.py,CAS_DELIMITER,build/fbcode_builder/specs/proxygen.py,CAS_DELIMITER,build/fbcode_builder/specs/rsocket.py,CAS_DELIMITER,build/fbcode_builder/specs/wangle.py,CAS_DELIMITER",6.0,1.0,1.0,2.575588697084778,33.0,28.66666666666667,34.0,84.5509664351852,7.5,1.0031471008465769,7.0,None,False,,
d7697ece234b374594fb5ed19c1f1cdec214444c,18c31d8bec8df1480c3ebe71886fc871f76a43f2,svcscm,svcscm@fb.com,Mon Nov 18 07:04:49 2019 -0800,1574089489,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ea4aa9fc07d6e779de809b7ddfe56c55837441fcnhttps://github.com/facebook/fbzmq/commit/54e6aa55681522b1b6e556ccfa9f09453717f797nhttps://github.com/facebook/folly/commit/da41ae504804260fa371595daed100d03440670enhttps://github.com/facebook/proxygen/commit/da70fce0d34033e231c75afa6b18b895be87d90fnhttps://github.com/facebook/wangle/commit/0bec77c2d282ec52458c9d4d565ee0bd2e0715a8nhttps://github.com/facebookincubator/fizz/commit/09fd20898f0a2cad20842851768c4e902e87ef96nhttps://github.com/facebookincubator/katran/commit/b47c7f5c77af9ed07c803b4738264adbd10d72d3nhttps://github.com/facebookincubator/mvfst/commit/57628093971143e3d35a9fe41683885c42b8a7b5nhttps://github.com/pytorch/fbgemm/commit/241c1746310ec56944ca7499fd21fd3f90a9f700nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 1739f00a0f1e4ffe4b5ebb9e6f5dce403a5adf8bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1873.0,0.8678510802469136,1868.0,1.9662703794335201,1869.0,None,False,,
18c31d8bec8df1480c3ebe71886fc871f76a43f2,f166cb17f9019dbc0f10ebee0923da3d8bc5c54b,svcscm,svcscm@fb.com,Mon Nov 18 17:15:34 2019 -0800,1574126134,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c570a09dd24ca7008d41c05d40016d2365f60a9anhttps://github.com/facebook/proxygen/commit/372475152933ce136f165e5ff7d646b8886403d7nhttps://github.com/facebook/rocksdb/commit/279c488395e736bf9cc8e643919866b61c598b90nnReviewed By: yns88nnfbshipit-source-id: f1f29f030e53ddc0d76c80113509070187c8ae94n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1876.0,0.4241319444444445,1871.0,2.4408514121981173,1872.0,None,False,,
f166cb17f9019dbc0f10ebee0923da3d8bc5c54b,5d4ac0df2bbaa307a47db1696198434e344116c6,Adam Simpkins,simpkins@fb.com,Mon Nov 18 18:38:50 2019 -0800,1574131130,"getdeps: update FBPythonBinary.cmake to generate executable files on WindowsSummary:nOn Windows, compile a small C executable to prepend to the zip file, to allownthe resulting executable files to be run directly on Windows, without needingnto explicitly invoke the Python interpreter to run the output file.nnReviewed By: weznnDifferential Revision: D17733616nnfbshipit-source-id: 989a93851412d0bbe1e7857aa9111db082f67a4cn",92.0,16.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER,build/fbcode_builder/CMake/fb_py_win_main.c,CAS_DELIMITER",2.0,1.0,1.0,0.8112781244591328,2.0,312.0,7.0,24.685636574074074,122.5,1.0202546933922343,80.0,None,False,,
5d4ac0df2bbaa307a47db1696198434e344116c6,368f417c238f1ad6f45ead763f112570be01a580,svcscm,svcscm@fb.com,Mon Nov 18 19:08:01 2019 -0800,1574132881,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/385acc503ca337fa4fe11f135b92152d8275e93bnhttps://github.com/pytorch/fbgemm/commit/b35b183e45a8b9af50efe29c7fd1b2460ad16182nnReviewed By: yns88nnfbshipit-source-id: c7eccd88c804f1afd1db8d52221665b87ab51837n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,653.0,0.07809027777777777,1873.0,13.805691418408182,1873.0,None,False,,
368f417c238f1ad6f45ead763f112570be01a580,1c3fc3965f721dad5ec8edb8d09183cf15a232ca,svcscm,svcscm@fb.com,Mon Nov 18 19:57:25 2019 -0800,1574135845,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c0b919339949d7dcad6976df41c096c9a55c9be6nhttps://github.com/facebook/fbzmq/commit/c0d9a8ebe83f8b91810c5f28a3072556987a3e9anhttps://github.com/facebook/folly/commit/c2bab5e58b2e6c7ff0bf13ea69c2b152331b66ecnhttps://github.com/facebook/proxygen/commit/cf43b69248b6c8d3e0e9d94cd23f4fa0957cd599nhttps://github.com/facebook/wangle/commit/fd03cf64a5f2c5a3cb135e8df3009198ecaa818dnhttps://github.com/facebookincubator/fizz/commit/bd40feb215721ef9e340d602f791eafb58395366nhttps://github.com/facebookincubator/katran/commit/2bf411857cedf7e6f9538a29aacb99f4b020fc5dnhttps://github.com/facebookincubator/mvfst/commit/1f62f7aac903674aeeea63d3eb31e2fad0b35f4annReviewed By: yns88nnfbshipit-source-id: ad4bf4d5a3a8f0041e7425846e54572fde9494b8n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1880.0,0.08636574074074073,1875.0,7.524416698606893,1876.0,None,False,,
1c3fc3965f721dad5ec8edb8d09183cf15a232ca,9e5af70db5ade6d89c36495d7f6040c36b6d1d70,Wez Furlong,wez@fb.com,Tue Nov 19 10:54:48 2019 -0800,1574189688,"rust: Implements an async compatible named pipe client (#763)Summary:nThis allows the client to compile and run against a watchmannserver on windows.nnPull Request resolved: https://github.com/facebook/watchman/pull/763nnTest Plan:n```n$ cargo testn$ cargo run --example globn```nnsucessfully runs the tests and runs the glob example on bothnwindows, mac and linux.nnDifferential Revision: D18507012nnPulled By: weznnfbshipit-source-id: 3618df0ae781ef45ff9368a42509c6b00e5cca93n",178.0,11.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/named_pipe.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",4.0,1.0,2.0,1.3547022164705844,24.0,241.0,7.0,2.075303819444444,7045.5,1.210812506535606,23.0,None,False,,
9e5af70db5ade6d89c36495d7f6040c36b6d1d70,b853c17755c032892d6e81fd8c832b1a27b5295d,Wez Furlong,wez@fb.com,Tue Nov 19 10:54:48 2019 -0800,1574189688,watchman: rust: make specifying the sync_timeout a bit more ergonomicSummary: and also document how to disable the sync cookie!nnDifferential Revision: D18556551nnfbshipit-source-id: 601660893c61191b4963f27ab3c6e06e0212880en,95.0,14.0,"rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",2.0,1.0,1.0,0.5531453183526466,24.0,498.0,6.0,0.0,7048.5,0.0,25.0,None,False,,
b853c17755c032892d6e81fd8c832b1a27b5295d,0c1071b0a29465ef05d92a8d24eb159bdaf95167,Maggie Moss,maggiemoss@fb.com,Tue Nov 19 11:32:20 2019 -0800,1574191940,fix pywatchman type errorSummary: Fix for type errornnReviewed By: weznnDifferential Revision: D18582129nnfbshipit-source-id: 33e7c0787702a6b08fc85be2f5f6e0d93dfa2911n,2.0,2.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1211.0,63.0,3.7856134259259258,0.0,0.0,0.0,Corrective,True,,
0c1071b0a29465ef05d92a8d24eb159bdaf95167,5ecc05d2f8fbb5f38cacf4d31710c966ea9c970e,svcscm,svcscm@fb.com,Tue Nov 19 11:56:21 2019 -0800,1574193381,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ddc3cd2e2c6aadee89b48af854a6fcc4ac7a6118nhttps://github.com/facebook/folly/commit/547f5abfb80f37bd09f3cd4ffde82e8796c2b624nhttps://github.com/facebook/litho/commit/75acf748b15ec1c42501d78fc079289fdf64d60dnhttps://github.com/facebook/rocksdb/commit/38cc6112971d06ba17425d54875f1c5a459e6384nhttps://github.com/facebookincubator/mvfst/commit/2d5fbf572b005e52f2bb2e6346313b0a279bfed7nnReviewed By: yns88nnfbshipit-source-id: fc4e253e87f23f6ff79481790eb9504e50733ed5n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1263.0,0.6659259259259259,1877.5,2.1262513904338154,1878.0,None,False,,
5ecc05d2f8fbb5f38cacf4d31710c966ea9c970e,42fd1bb309f728eed7d75844c5fd6568c4731b56,svcscm,svcscm@fb.com,Tue Nov 19 14:47:44 2019 -0800,1574203664,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/107984051e4fc1793bcd2ba5816c0d7ebfd28813nhttps://github.com/facebook/litho/commit/c420949847d06b37bd385927ca503bbab4360b84nhttps://github.com/facebook/rocksdb/commit/4e0dcd36dfcf3109c4a8ede9c793bc8b1f76e68bnnReviewed By: yns88nnfbshipit-source-id: 328096fad9acc47e4f801645924bf4327ba8f726n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,609.0,0.11901620370370372,1879.0,9.402217251774774,1879.0,None,False,,
42fd1bb309f728eed7d75844c5fd6568c4731b56,53fd6a8add068abb8a58b97daa5c4fb55c36a1a2,Adam Simpkins,simpkins@fb.com,Tue Nov 19 21:40:05 2019 -0800,1574228405,pywatchman: fix string/bytes errors when handling the socket pathSummary:nUpdate the pywatchman code to use `os.fsdecode()` to decode the binary bsernresults so that it consistently handles the socket path as `str` instead ofnusing `str` in some places and `bytes` elsewhere.nnReviewed By: mrkmndznnDifferential Revision: D18610730nnfbshipit-source-id: bd2ea9f99b95a4666dc89b536daeeffa924b15f4n,16.0,5.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1211.0,64.0,0.4220486111111112,124.0,3.369395310571781,0.0,None,False,True,"[""990cf1e93a8095f2f8a153b7d2f8691f75511c98""]"
53fd6a8add068abb8a58b97daa5c4fb55c36a1a2,a44ddaf37900af9f0be83f4d803acb0a32a44456,svcscm,svcscm@fb.com,Tue Nov 19 23:19:37 2019 -0800,1574234377,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b21fd47972613c72927fd2724fb28631797a11f6nhttps://github.com/facebook/fbzmq/commit/950060c67b48692f682dc99e73b9af1034ca7fc4nhttps://github.com/facebook/folly/commit/d5cfc73665ef4ae9b3ba859904faaf8af95c8dc4nhttps://github.com/facebook/litho/commit/195d10ad1515212d0c0de32432678f5e26df73ecnhttps://github.com/facebook/mcrouter/commit/22c4b39574d3cff5af06ede778ed11cdbce66401nhttps://github.com/facebook/rocksdb/commit/0306e01233c26090ee6404e80e125cad36ebe694nhttps://github.com/facebook/wangle/commit/fc0ad8b966ea04866a924a63a0d015544b86990anhttps://github.com/facebookincubator/fizz/commit/6f87219b24f4bde2c9abcc43201fd8429bc1c53fnhttps://github.com/facebookincubator/katran/commit/9c674a127184955f71040c5f2370dcab6dc36024nhttps://github.com/facebookincubator/mvfst/commit/69ac8aeb62a5b56ef147ae3d46332838c8d6bdfdnhttps://github.com/pytorch/fbgemm/commit/672beabd4c315a020adf07a1b8bd2018a18e0dd1nnReviewed By: yns88nnfbshipit-source-id: 96ba9389d7c7faf53c0c5775a425dbea17da217an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1886.0,0.6567939814814815,1881.0,2.508508837549753,1882.0,None,False,,
a44ddaf37900af9f0be83f4d803acb0a32a44456,66e8cac7223d188e473fc26a047bc943934a1db2,svcscm,svcscm@fb.com,Wed Nov 20 15:58:54 2019 -0800,1574294334,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbzmq/commit/2c761ddd41c65bc12c04f0f2c1dda760f9205870nhttps://github.com/facebook/folly/commit/352c2d8b66ffbca76afc935f314874d8846781f5nhttps://github.com/facebook/litho/commit/f87544dffb8d8f74207b15cafcc9436b82128166nhttps://github.com/facebook/mcrouter/commit/dcbe9a1da39bd47b70d80f30dee13affcddecfe8nhttps://github.com/facebook/proxygen/commit/5300258a5819b3fd11ca7e5fb3df0576585fe250nhttps://github.com/facebook/rocksdb/commit/c0983d069193d59aec7ddc8c02475e0f5081b52fnnReviewed By: yns88nnfbshipit-source-id: fc31c6f0bb6c09bb2d1c6f55e9a9afffef51cb5fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1889.0,0.6939467592592593,1884.0,1.8806311189685945,1885.0,None,False,,
66e8cac7223d188e473fc26a047bc943934a1db2,48206d901d01dd2ea332b8d3d8c39d74690d2c98,Adam Simpkins,simpkins@fb.com,Wed Nov 20 15:59:33 2019 -0800,1574294373,getdeps: automatically detect if a build appears to be Facebook-internalSummary:nAutomatically detect the `--facebook-internal` flag based on the currentnrepository project name.nnReviewed By: weznnDifferential Revision: D18621358nnfbshipit-source-id: f2b3018169b151811eec455863a8bfc17667d4d8n,14.0,2.0,"build/fbcode_builder/getdeps.py,CAS_DELIMITER,build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER",2.0,1.0,2.0,1.0,34.0,586.0,61.0,22.57186921296297,125.5,1.0232250823960736,82.0,None,False,,
48206d901d01dd2ea332b8d3d8c39d74690d2c98,9b9a6493313643fc65a52c42582b969d4ce41c7e,Adam Simpkins,simpkins@fb.com,Wed Nov 20 15:59:33 2019 -0800,1574294373,"getdeps: update eden dependenciesSummary:nInclude tools/lfs in the shipit path map for now, since it is needed tondownload vendored Rust crates on internal builds.  Also correctly indicatenthat the fb-mercurial* dependencies also apply only to internal builds.nnReviewed By: chadaustinnnDifferential Revision: D18621421nnfbshipit-source-id: 74f00bf318ff9aefdca8696a61a8f33587749e66n",5.0,2.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,47.0,7.0,42.16577546296296,127.0,1.0237159162619545,83.0,None,False,,
9b9a6493313643fc65a52c42582b969d4ce41c7e,89c4a85dcb42778a1167d72781b8ef80b93164b4,svcscm,svcscm@fb.com,Wed Nov 20 16:50:58 2019 -0800,1574297458,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/96f60c7a28ca50cc8792eaee335cc41bde8149c2nhttps://github.com/facebook/fbzmq/commit/01987a195c9495d2bcbb962383d25606e2a4c4benhttps://github.com/facebook/folly/commit/8f815149ece34b77dcbf5d80b5343d3427fa59e5nhttps://github.com/facebook/mcrouter/commit/47445ecdd0a7eee1f54957594cfadbb32c618e2dnhttps://github.com/facebook/proxygen/commit/c3b48f4db469d313003c7f5bb5d48b2df03d93f6nhttps://github.com/facebook/wangle/commit/717a31547fdda2fcb61a2b42428c2b6a9f0042efnhttps://github.com/facebookincubator/fizz/commit/0e62d3bb5ff2316b2647c05bb13cf59c1e219584nhttps://github.com/facebookincubator/katran/commit/3a85df8eadd9740a41ad37d3ba8438160b68cff9nhttps://github.com/facebookincubator/mvfst/commit/0c319bd2c56a37dca8bc18ede05d1f7ac2570246nnReviewed By: yns88nnfbshipit-source-id: 4419ddcaf3d818b908bec9f47a25be5762aa7888n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1892.0,0.036157407407407416,1887.0,17.901408450704228,1888.0,None,False,,
89c4a85dcb42778a1167d72781b8ef80b93164b4,a873dd156ea61230c6cd08927755d4658b0c01d9,svcscm,svcscm@fb.com,Thu Nov 21 10:37:53 2019 -0800,1574361473,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1f506c0cecd7a4ab31bf5929be4b6b5d58cac624nhttps://github.com/facebook/litho/commit/7fe1a5931ada788a327f27e6d9c7fbafc84e3894nhttps://github.com/facebookincubator/mvfst/commit/fa022633a53c18b7b46f9c7ecbbf664b0b1d94c8nhttps://github.com/facebookincubator/profilo/commit/492916a16bc667563b6fcaf3005442d8046bbc5annReviewed By: yns88nnfbshipit-source-id: e20fa707b85759ad9c2f07ee3e4f9a965e6fbe82n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1895.0,0.7409143518518518,1890.0,1.8248066859329848,1891.0,None,False,,
a873dd156ea61230c6cd08927755d4658b0c01d9,b47f69591487a2301fd050bd9887b24f773030c9,svcscm,svcscm@fb.com,Thu Nov 21 16:53:55 2019 -0800,1574384035,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b475d612b33138d10a2543a80f7ec7d2bdca5e1dnhttps://github.com/facebook/rocksdb/commit/e50b64bdba0cfb09be8ae3f1e553f11c7494eddannReviewed By: yns88nnfbshipit-source-id: 06432c065211c54575a505cad1b195a61fded24an,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,614.0,0.2611342592592593,1892.0,4.829447743994328,1892.0,None,False,,
b47f69591487a2301fd050bd9887b24f773030c9,4adbc00b2dd4fc7489923780b9080405209a3006,svcscm,svcscm@fb.com,Thu Nov 21 20:11:17 2019 -0800,1574395877,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbzmq/commit/eeb1607bdfa7b25f50b3c1b8892849bbb00cb10dnhttps://github.com/facebook/folly/commit/7f4492d60065fcb188770b992dce80d44a3be614nnReviewed By: yns88nnfbshipit-source-id: 32a2251273865436d7ff7a40465c371742390844n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1899.0,0.3111496913580247,1894.0,4.411876754785244,1895.0,None,False,,
4adbc00b2dd4fc7489923780b9080405209a3006,3f0437ec41e2828e0b83db333ef1eb8bd4978acf,Koray Polat,pbk@fb.com,Thu Nov 21 22:50:32 2019 -0800,1574405432,Add SAI-1.4.0 to opensource buildSummary:n- Added sai to getdepsn- added SAI to FBOSS as a dependencyn- Included path of SAI headers to FBOSS's cmake file.nnReviewed By: shri-kharennDifferential Revision: D18629127nnfbshipit-source-id: 119a6b7f2b64bd84414d9e16a903bc8df48a35e7n,14.0,0.0,"build/fbcode_builder/manifests/fboss,CAS_DELIMITER,build/fbcode_builder/manifests/libsai,CAS_DELIMITER",2.0,1.0,1.0,0.3712323266408756,3.0,18.5,3.0,39.54611111111111,0.5,0.5063217341219112,1.0,Feature Addition,False,,
3f0437ec41e2828e0b83db333ef1eb8bd4978acf,7f4acfdc8116e667db463eb4bd20405fccef8bc4,svcscm,svcscm@fb.com,Thu Nov 21 23:28:35 2019 -0800,1574407715,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/3c383a2d506c122c30b90ffecc7ef21f57ee5dc3nhttps://github.com/facebook/wangle/commit/6e7a73a1ebfc45f07334fdb8a76c379e73a82816nhttps://github.com/facebookincubator/fizz/commit/58ff026da1fdce59ba545b9e4f6b37e39aea6c63nhttps://github.com/facebookincubator/katran/commit/f78407350c31c2c9ca0e13e5abc56fb480f87cb5nnReviewed By: yns88nnfbshipit-source-id: ca0b64468f1a25835186b9bfb0d087fb3c14c570n,2.0,2.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1286.0,0.13701388888888888,1896.5,6.473897617840851,1897.0,None,False,,
7f4acfdc8116e667db463eb4bd20405fccef8bc4,4b41e60dcbe60e3ada71313c2d31600a295e39ac,svcscm,svcscm@fb.com,Fri Nov 22 10:52:56 2019 -0800,1574448776,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1dd28fc8472aa2fda2748969618a14f063e454b7nhttps://github.com/facebook/litho/commit/5f687b568ee31ac1c3b30586afb1818915eef346nhttps://github.com/facebook/rocksdb/commit/adcf920f407f0d7b78b71348017e13632fdb95e9nnReviewed By: yns88nnfbshipit-source-id: 6d9ce88e59e74914f20253391052f12fdbed5c8cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1904.0,0.5209143518518519,1899.0,2.064247295477829,1900.0,None,False,,
4b41e60dcbe60e3ada71313c2d31600a295e39ac,eef4856a56d64ce4e7baca3c0213566059268ad0,Adam Simpkins,simpkins@fb.com,Fri Nov 22 12:53:41 2019 -0800,1574456021,getdeps: remove the fb-mercurial-rust targetSummary:nRemove the standalone fb-mercurial-rust target that was an internal-onlyndependency for the Eden build.  This build step is now done entirely in thenEden build.nnReviewed By: fanzeyinnDifferential Revision: D18623943nnfbshipit-source-id: c62a1155ddd1c0a6b2270c472176ba25194c6145n,0.0,1.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,50.0,8.0,1.8709259259259257,128.0,1.5344947045432051,84.0,None,False,,
eef4856a56d64ce4e7baca3c0213566059268ad0,b2126d3996ae696b73d9e7ebb4ebfbd1aa1041fc,Adam Simpkins,simpkins@fb.com,Fri Nov 22 12:53:41 2019 -0800,1574456021,Update the eden manifest to drop internal FB-specific dependenciesSummary:nRemove the Facebook-specific dependencies from the Eden manifest: thesendependencies are now available directly in the Eden repository.nnReviewed By: chadaustinnnDifferential Revision: D18588009nnfbshipit-source-id: 590c74e38e4e05939e6955839af3ebb959f9251bn,1.0,3.0,"build/fbcode_builder/manifests/eden,CAS_DELIMITER",1.0,1.0,1.0,0.0,32.0,49.0,9.0,0.0,129.0,0.0,85.0,None,False,,
b2126d3996ae696b73d9e7ebb4ebfbd1aa1041fc,a9b431ce2acc724651db5cef635314e2454f0af3,svcscm,svcscm@fb.com,Fri Nov 22 15:36:24 2019 -0800,1574465784,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2f8ecdae2cc5d504c430103fdd905064633fd6ebnhttps://github.com/facebook/fbzmq/commit/ece208412e1bbc805fcf96aed06cd0a06fd3d318nhttps://github.com/facebook/folly/commit/cc3f054a35dec6d6385ed62738b479b879904293nhttps://github.com/facebook/litho/commit/c37658a78bc4fa313e0b543b7372419e4143a4efnhttps://github.com/facebook/mcrouter/commit/338aae0406def94be54cff3ea7761e3b37d3c25bnhttps://github.com/facebook/proxygen/commit/eeb43886dd9ade8f97d8f09efd90768aa585e855nhttps://github.com/facebook/wangle/commit/35b0920f088263fae893fbb5863442b16b39fd99nhttps://github.com/facebookincubator/fizz/commit/b4b4bfbb78cf81d17a81f3f08d79804a7c00c2afnhttps://github.com/facebookincubator/katran/commit/138558a06239ebed4b3a1e82481e6fdca6dfc22anhttps://github.com/facebookincubator/mvfst/commit/d72a9d3ed82f2285a0f0e8aa44f3106667f4f35bnhttps://github.com/facebookincubator/profilo/commit/e6934acc5396bbae07ba2a2ba74d282577c4684dnnReviewed By: yns88nnfbshipit-source-id: ff0f762e9572daa3ded388c4dee89e95e1a383can,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1907.0,0.19685185185185186,1902.0,4.104421448730009,1903.0,None,False,,
a9b431ce2acc724651db5cef635314e2454f0af3,0c7cb81eee7b65fb6b3eef8336f3e72c36f737c8,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,"watchman: rust: refactor parsing of errors in pdusSummary:nThis is a stepping stone towards support subscriptions in the rustnclient.  Subscriptions unilaterally send PDUs to the client and are tagged withna `unilateral: true` so that the client can tell how to route them.  That meansnthat we can't simply decode a PDU directly to the response type in the genericnhandler and will need to reinterpret it.nnTo prove that we can reinterpret the data ahead of processing subscriptions,nthis diff makes handling of error PDUs more generic.  It does so by introducingna little helper type that consists solely of an optional error field.  In thengeneric handler we try deserializing into an instance of this type and test fornthe error response and bubble up.  Otherwise we'll try deserializing to thenresponse type.  This makes the code a bit nicer: now we no longer need to makenthe data-bearing fields Optional to avoid the error code path blowing up duringndeserialization, and can remove some fiddly boilerplate to manage that stuff.nnDifferential Revision: D18598226nnfbshipit-source-id: 5be674c849870dfd22fb7195fee8451f09f1adc8n",73.0,56.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/examples/glob.rs,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",4.0,1.0,3.0,1.100608045076855,24.0,286.75,14.0,3.993619791666666,7051.5,1.1377712967425422,29.0,None,False,,
0c7cb81eee7b65fb6b3eef8336f3e72c36f737c8,7742254997b592b401ca8ea4dd7fde5f1ddf4d05,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,watchman: rust: restructure request dispatchingSummary:nThis diff changes some internal plumbing to be closer to supportingnsubscriptions.  The underlying stream is now owned by a ClientTask whichnmanages the request/response processing.nnDifferential Revision: D18598227nnfbshipit-source-id: 6b081aac195136e5cb1218f61f504b56dddf862en,111.0,52.0,"rust/watchman_client/src/lib.rs,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,563.0,5.0,0.0,7054.0,0.0,30.0,None,False,,
7742254997b592b401ca8ea4dd7fde5f1ddf4d05,7c3021afba30e019959cf6664b6ee44821e7a5b8,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,watchman: rust: ensure that the Error type is SendSummary:nthis is required when used later with streamsnand futures that are spawned to the executor.nnReviewed By: dtolnaynnDifferential Revision: D18598228nnfbshipit-source-id: c56360329c42fa2753178b20e8643ad8f6977818n,17.0,13.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER",2.0,1.0,2.0,0.35335933502142136,24.0,325.5,11.0,0.0,7055.5,0.0,32.0,None,False,,
7c3021afba30e019959cf6664b6ee44821e7a5b8,7503ae9003863c95619d37bf332cfbc659259299,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,watchman: rust: split the stream into reader and writer halvesSummary:nThis facilitates reading and writing concurrently inna following diff.nnReviewed By: dtolnaynnDifferential Revision: D18598225nnfbshipit-source-id: 5203268aa066bfc610cd62f2ba0599391a4e146cn,13.0,5.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER",2.0,1.0,2.0,0.3095434291503252,24.0,327.5,13.0,0.0,7057.5,0.0,34.0,None,False,,
7503ae9003863c95619d37bf332cfbc659259299,8f03f19804d267de23fede6572146cad710b8ebb,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,watchman: rust: more plumbing to support subscriptionsSummary:nsplit up the ClientTask into a task that simply reads PDUs in a loopn(the ReaderTask) and then sends them to the other half of the ClientTask usingnthe same queue that is used by the consumer of `Client` to schedule anrequest.nnThis effectively serializes the requests and responses in a single loopnwhich makes it easier to add in support for correctly handling unilateralnsubscription response in a later diff.nnReviewed By: dtolnaynnDifferential Revision: D18598224nnfbshipit-source-id: 00fd7746b9b612ee9119bff204dc06c50c49bb98n,124.0,25.0,"rust/watchman_client/src/lib.rs,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,633.0,8.0,0.0,7059.0,0.0,35.0,None,False,,
8f03f19804d267de23fede6572146cad710b8ebb,69b677233df69df7a2eb1dfd16d903110d27d556,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,"watchman: rust: implement subscribe methodSummary:nadds `Client::subscribe` which is similar in usage ton`Client::query`, but returns a subscription handle that willnyield file changes as they occur.nnAn example of usage is in `examples/subscribe.rs`.nnNote that the metadata fields are omitted in this version and commented out; tonimplement those we need to have an alternative to `serde_json::Value` that cannhandle the binary strings that watchman produces for some metadata; that willnbe tackled in the next diff in this stack.nnReviewed By: jsgfnnDifferential Revision: D18598229nnfbshipit-source-id: 6d89a8544d3571d820855c78c261265465fbe1cbn",432.0,29.0,"rust/watchman_client/examples/glob.rs,CAS_DELIMITER,rust/watchman_client/examples/subscribe.rs,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",4.0,1.0,2.0,1.279519308875446,24.0,326.0,17.0,0.0,7061.5,0.0,39.0,None,False,,
69b677233df69df7a2eb1dfd16d903110d27d556,be966ad0a2e8ad2d6fa40c3361a03f83a6c15f1d,Wez Furlong,wez@fb.com,Fri Nov 22 18:09:28 2019 -0800,1574474968,"watchman: rust: add serde_bser::Value typeSummary:nWe've been using `serde_json::Value` as a placeholder for an arbitrarilynshaped blob of data, but it errors out when the server sends a byte string.nnThis diff defines a `Value` type which represents values that are possible tonbe represented by the BSER encoding scheme.  This type is similar ton`serde_json::Value` but has explicit variants for UTF8 and byte strings.nnThis diff introduces a `ByteString` type to provide conversion betweenn`ByteString` and `String`, `PathBuf` and `OsString`.  `ByteString` is similarnin intent to `OsString`, but has slightly different behavior on Windowsnsystems.nnWith those types we can remove the dep on `serde_json`; there's a bit of noisenin this diff in migrating from its super convenient `json!` macro to the morenlaborious manual object construction.  I didn't include an equivalent of thatnmacro in this diff because there are relatively few shapes of value that arenlikely to be constructed and it felt better to defer that work until it isnreally needed.nnReviewed By: dtolnaynnDifferential Revision: D18598223nnfbshipit-source-id: 91aa0c790c006795c97cf28a4476c96ab4770e58n",564.0,72.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/serde_bser/src/bytestring.rs,CAS_DELIMITER,rust/serde_bser/src/lib.rs,CAS_DELIMITER,rust/serde_bser/src/value.rs,CAS_DELIMITER,rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/src/expr.rs,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",8.0,1.0,4.0,1.8747530990163002,24.0,253.5,38.0,10.502392939814817,7067.5,1.0504674973650048,47.0,None,False,,
be966ad0a2e8ad2d6fa40c3361a03f83a6c15f1d,fcb0de8a55d74fcd886e468da9bd966e329e2b69,svcscm,svcscm@fb.com,Sat Nov 23 02:05:04 2019 -0800,1574503504,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0086024d3d519c2399c606376abe33bcd2e16d03nhttps://github.com/facebook/fbzmq/commit/2f7c20f3547fb7befc267ed5c74e57d7c1c31145nhttps://github.com/facebook/litho/commit/8c2e7a19af1c0bbb7ae74769717b9a73f68b253enhttps://github.com/facebook/proxygen/commit/4a3187a3860e5313751d324f6f08786b4cad2ed4nhttps://github.com/facebook/rocksdb/commit/669ea77d9fa1ea1b8f811cf312162ceb011476d4nhttps://github.com/facebook/wangle/commit/af1433345b73bc8be4298e6262faddba374890cbnhttps://github.com/facebookincubator/fizz/commit/21d23998f522bf358d03303c8ebd65837b989b6anhttps://github.com/facebookincubator/katran/commit/0618adf29b8991fd470a94cfab723f5d8a260eecnhttps://github.com/facebookincubator/mvfst/commit/6792ae95e1371a018e6274c3847a47e3ab517bcdnnReviewed By: yns88nnfbshipit-source-id: d3c9521b92f3e98422845f0f501e9ddd6b03a2bfn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1246.0,0.4365740740740741,1904.5,2.7179215270413577,1905.0,None,False,,
fcb0de8a55d74fcd886e468da9bd966e329e2b69,2b9d956dc35be4ecafbf4eca8a99e965ca596b6d,svcscm,svcscm@fb.com,Sat Nov 23 03:11:20 2019 -0800,1574507480,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/773f9a846f3d3cf720b94fcb2807deb871e36607nnReviewed By: yns88nnfbshipit-source-id: 7aa0725b3a2bfbc6d2f3b77d19fb4cf68def0cean,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,619.0,0.04601851851851852,1906.0,22.73038229376257,1906.0,None,False,,
2b9d956dc35be4ecafbf4eca8a99e965ca596b6d,ebee70036d45243b97592f17597e1034ba721079,Anton Frolov,afrolov@fb.com,Mon Nov 25 09:33:44 2019 -0800,1574703224,"Make it possible to compile openr through CMakeLists.txtSummary:nThis diff fixes `CMakeLists.txt` to enable building `openr` tests using CMake:n1. It adds `add_openr_test` CMake function that adds executable target, registers it as test, links it with bunch of libraries like GTest and GMock, etc...n2. There is no `openr/tests/OpenrModuleTestBase.cpp` anywhere in the source tree, so this commit replaces it with `openr/common/Flags.cpp`.nnReviewed By: jstrizichnnDifferential Revision: D18584028nnfbshipit-source-id: 07d854ef98d0d2509889a08ad042a371101a2825n",2.0,1.0,"build/fbcode_builder/manifests/openr,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,35.0,2.0,18.512361111111108,0.0,0.0,0.0,None,False,,
ebee70036d45243b97592f17597e1034ba721079,a4e007c0ade71be56b1b2c6b169b5b4fec27d215,svcscm,svcscm@fb.com,Wed Nov 27 11:41:23 2019 -0800,1574883683,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/64dc8e79e944585bbc1a26bb564068ebf5e1eccfnhttps://github.com/facebook/fbzmq/commit/3b2aa3c218c76e4e9dda70e8f98789a5d593eabanhttps://github.com/facebook/folly/commit/dc6c17ca9edbe61f5285250d065a4c0f971735f6nhttps://github.com/facebook/litho/commit/4508ea4e067de44bd1f48ed305a9953ce1be9ca2nhttps://github.com/facebook/mcrouter/commit/6150034ff31e6228bda2d218ca005bcc6b64d15enhttps://github.com/facebook/proxygen/commit/12b7a89a4b6c464cb2ee77507f1e9667d34099f0nhttps://github.com/facebook/rocksdb/commit/9befbe9b406574e8d8b687799701bd8cebf5163bnhttps://github.com/facebook/wangle/commit/2fd96cc0706c23248ca88e7bae5ca1cd1185061cnhttps://github.com/facebookincubator/fizz/commit/68bf04ce4611e0da33b65d9662b8feec4c1c3c88nhttps://github.com/facebookincubator/katran/commit/19bd96d453343d2264a85a8d5ca11ff4297f8f7bnhttps://github.com/facebookincubator/mvfst/commit/7229ad4fd7678a222e4556d0bacaca7e819a44f1nhttps://github.com/facebookincubator/profilo/commit/b2bb2b465bfa5435ea18a76613ad477b8f91e327nhttps://github.com/pytorch/fbgemm/commit/4c65c9023d4b0d2c431d11018d022adaa8b3091ennReviewed By: 2d2d2d2d2dnnfbshipit-source-id: e7dc6a4ebafdc6a01aff89f4038f5679ed6e7011n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1913.0,4.530405092592591,1908.0,1.137347440615958,1909.0,None,False,,
a4e007c0ade71be56b1b2c6b169b5b4fec27d215,2e6e2498aaf3821de653b5f67e664c5580d4a35d,svcscm,svcscm@fb.com,Wed Nov 27 23:13:02 2019 -0800,1574925182,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c15d1ca3e7bc6733cba702a17f489f3c6953268bnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: afc8c31c5b1063bddddbd9e877698c939b074f44n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1916.0,0.4803125,1911.0,2.2723198149352997,1912.0,None,False,,
2e6e2498aaf3821de653b5f67e664c5580d4a35d,eae698f07e07aaf23e071e75763ba991c30d413d,Lukas Piatkowski,luk@fb.com,Thu Nov 28 04:57:12 2019 -0800,1574945832,"fbcode_builder: add cargo builder for Rust projectsSummary: The cargo builder will be used to verify if an opensource Rust project passes Cargo build, test and (optionally) documentation build.nnReviewed By: markbtnnDifferential Revision: D18636934nnfbshipit-source-id: e982e6a017eb32913e2994e7457c8add2e9d6b95n",88.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/manifests/rust-shed,CAS_DELIMITER",3.0,1.0,2.0,1.1875075701252171,35.0,422.0,68.0,25.181921296296306,1.0,0.6754913397171264,2.0,None,False,,
eae698f07e07aaf23e071e75763ba991c30d413d,b35a1de5803cedf915055d4847558ce9e03d5bbc,svcscm,svcscm@fb.com,Thu Nov 28 05:59:16 2019 -0800,1574949556,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/ce7962943c18ebefa6ef0dabc0de779404abcfe6nhttps://github.com/facebook/fbzmq/commit/268f73267070ba699edb6953eb88caf1182da07bnhttps://github.com/facebook/folly/commit/f9b187fe9a6c2127322d66cfbeea16d72f77d406nhttps://github.com/facebook/proxygen/commit/975af63a7342a5166098145896a289cada14bb39nhttps://github.com/facebook/wangle/commit/2ea29109e072508ce1817a52b7b59f773da4463anhttps://github.com/facebookincubator/fizz/commit/6c13db2eeb930a0efa268c3ae44fe966ad54f7bcnhttps://github.com/facebookincubator/katran/commit/a54e4bf037af9c11f28b4e00bace4f3a85ec944fnhttps://github.com/facebookincubator/mvfst/commit/50b0ed41999b428d4943b56a464a841f2fd0e315nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 5aa633d427933994bede55c99d01476e9debfa82n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1919.0,0.2821064814814815,1914.0,3.1662427176499546,1915.0,None,False,,
b35a1de5803cedf915055d4847558ce9e03d5bbc,de2c3f08073d8f363d7e77bd67f95301207d894f,Lukas Piatkowski,luk@fb.com,Fri Nov 29 01:56:15 2019 -0800,1575021375,rust-shed: unify Cargo.toml definitionsReviewed By: farnznnDifferential Revision: D18726052nnfbshipit-source-id: 4f18430342ab6fd4fc82cc7d03e21f3e50e0ce25n,4.0,0.0,"build/fbcode_builder/manifests/rust-shed,CAS_DELIMITER",1.0,1.0,1.0,0.0,35.0,21.0,1.0,0.8743402777777778,3.0,2.143719471029745,3.0,None,False,,
de2c3f08073d8f363d7e77bd67f95301207d894f,7b5c2857717d5f1e6725439b1408001004647c4e,svcscm,svcscm@fb.com,Fri Nov 29 04:15:19 2019 -0800,1575029719,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/091555c3e623c4a4bfe9a7a769f2c44d1e5b0c70nhttps://github.com/facebook/fbzmq/commit/7a0ed7392d33b6c16435a233115c3f63e035350dnhttps://github.com/facebook/folly/commit/f2a70ca9257efd2c40629ff6d52595ff4cb6966bnhttps://github.com/facebook/litho/commit/8496e64e42d0472742f5a31e8578cab04d7d6b9cnhttps://github.com/facebook/proxygen/commit/c7ccfcc2ce55ac3cb8b0f66fb0362e15d4da9e3cnhttps://github.com/facebook/wangle/commit/e19b29702ff838e7814f7164cad1e36dc5c6539bnhttps://github.com/facebookincubator/fizz/commit/59cb34142479f5a5308c248af509e4d001a5d98enhttps://github.com/facebookincubator/katran/commit/1c3c902a0330ac61d06c8c78b52f933ee3993416nhttps://github.com/facebookincubator/mvfst/commit/54c931c299b2211fba2dea1a1c932d6426daa21ennReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 2bf4fa77d68614da0a1c9f81243baf0b12147ffbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1922.0,0.9278125,1917.0,1.658657984356873,1918.0,None,False,,
7b5c2857717d5f1e6725439b1408001004647c4e,9b87de2ba021c13633bf8549e09036a0c3bbb246,svcscm,svcscm@fb.com,Sat Nov 30 03:23:46 2019 -0800,1575113026,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/569c8cb3463e46a45bc968ad086945c590beb4d1nhttps://github.com/facebook/proxygen/commit/88712a7a0fb562f31fb610e6673f6e9d19e05365nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 9389e439aa1e324b95c4b92d05b98f5e238487d9n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1925.0,0.9642013888888888,1920.0,1.6338002808887608,1921.0,None,False,,
9b87de2ba021c13633bf8549e09036a0c3bbb246,6672c50ee711b263af272badeb801c4ea56b08e0,svcscm,svcscm@fb.com,Sat Nov 30 06:25:05 2019 -0800,1575123905,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/c027c0d22f53e7452d810c3265a0d658bf01a01dnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 1c73dd17ead29b1d4fde7d7e1d9ce8c01bb44f3dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1259.0,0.12591435185185185,1922.5,6.956429818917179,1923.0,None,False,,
6672c50ee711b263af272badeb801c4ea56b08e0,623aac3cdd77ee60d21242234d53466e7f719263,svcscm,svcscm@fb.com,Sun Dec 1 06:27:12 2019 -0800,1575210432,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6b3e04cfb38d8169ac2a266e14178190f9261e57nhttps://github.com/facebook/proxygen/commit/fca98a9c5a9669bd8bdf6aea75f389f5bd3f85bennReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 853f8c1b7d882ba64a07ca5270c7f2dd37208861n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1261.0,1.0014699074074074,1924.5,1.7488991875368385,1925.0,None,False,,
623aac3cdd77ee60d21242234d53466e7f719263,9aeaf21c59b5c7b260c2cca20b18d2bb9928a5a5,Shrikrishna Khare,skhare@fb.com,Sun Dec 1 12:35:24 2019 -0800,1575232524,fbcode_builder: getdeps: fboss: add OpenBCM fetcherSummary: As titlednnDifferential Revision: D18726457nnfbshipit-source-id: 717a6cda4a78e1b246f20328df1f01b78560cac5n,12.0,0.0,"build/fbcode_builder/manifests/OpenBCM,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,19.0,0.0,13.0,None,False,,
9aeaf21c59b5c7b260c2cca20b18d2bb9928a5a5,6621ac7b670770a219d920c4a662ba3ca5da75a8,svcscm,svcscm@fb.com,Sun Dec 1 13:41:55 2019 -0800,1575236515,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f54141d8fe3713c52ab4e3c672069f3acd6480b2nhttps://github.com/facebook/fbzmq/commit/1baa9e6087f9ab22b607f50bf58bfa02775285a2nhttps://github.com/facebook/folly/commit/3d0c120023582a780d2e60928ab97fc5030dc362nhttps://github.com/facebook/proxygen/commit/c95bd4c68e782feb77f19f1e0aadc1a374f2ca85nhttps://github.com/facebook/wangle/commit/6805f86ad76d5c144c1b79de8c866ffba9dd920anhttps://github.com/facebookincubator/fizz/commit/4b26353e0d5c4f1c29eca12f558a09da61f9fbb3nhttps://github.com/facebookincubator/katran/commit/420d5abaf78b227cd4db097b9db0424aecc3b6b6nhttps://github.com/facebookincubator/mvfst/commit/2c9a7a814fa3a77b0f79da10a2015ff4adbfe054nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 3195a1223ed82e44c2cfe4a7ced610e91b10f3d7n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1932.0,0.6776813271604939,1927.0,2.460674631147437,1928.0,None,False,,
6621ac7b670770a219d920c4a662ba3ca5da75a8,e1bdf5232d1b668f30db8ee5a55e20e554778a98,svcscm,svcscm@fb.com,Sun Dec 1 14:38:10 2019 -0800,1575239890,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4a09b26331fcee7ab97699bc84f6fa7ad15914a8nhttps://github.com/facebook/fbzmq/commit/ac75dfde14e0fc770a401150fba88831c806e983nhttps://github.com/facebook/proxygen/commit/f411ef67a1ed6d074e77afa3ae762d2eb72b25bdnhttps://github.com/facebook/wangle/commit/fb8dc55f3ed121ebc265bab03055b45021ffdecanhttps://github.com/facebookincubator/fizz/commit/2dc57e5e3e5bc26dc8182f5cf2c2f040f18028c8nhttps://github.com/facebookincubator/katran/commit/79edb8ea7ca2bc5d52f740588a2644f7f5ad6ab5nhttps://github.com/facebookincubator/mvfst/commit/3d9bec918735905d1c6cabe7f0a5d63d02be8bfdnnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 7ac1c6f91d4a7330882adce4010ab787a98d1a94n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1265.0,0.0390625,1929.5,20.200000000000006,1930.0,None,False,,
e1bdf5232d1b668f30db8ee5a55e20e554778a98,7d91d12041fc0d49d465b1ad36410b449df61c11,Ahmed Soliman,asoli@fb.com,Mon Dec 2 07:36:12 2019 -0800,1575300972,"Install wheel and cython on fbcode_builder venv environmentsSummary:nThis is an update to the fbcode_builder codebase to allow setting up the python virtualenv with python dependencies installed. I've included wheel and cython (with a pinned version to 0.28.6 which is the only version that works with thriftpy3 at the moment, due to https://github.com/cython/cython/issues/2985) as standard packages since these are required by some of our top-level dependencies (folly and thrift)nnAs far as I know, there are no other projects that use PYTHON_VENV at the moment except LogDevice so the impact should be minimal.nnReviewed By: lucaspmelonnDifferential Revision: D18758383nnfbshipit-source-id: 264941311c5e3a19dc4ef2bb78c9a1baa34dfd8cn",27.0,14.0,"build/fbcode_builder/docker_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER,build/fbcode_builder/shell_builder.py,CAS_DELIMITER",3.0,1.0,1.0,1.220936309318394,2.0,228.0,16.0,198.02652777777786,1.0,0.6681556413914285,2.0,None,False,True,"[""c81e4fcaa7cda5b4d413f1d72bc2e8832900ec09""]"
7d91d12041fc0d49d465b1ad36410b449df61c11,f055fe6cf079887802a96450fc5e65f1d7b2d040,svcscm,svcscm@fb.com,Mon Dec 2 08:38:04 2019 -0800,1575304684,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/7b3a807de9fd11beaf23263377592fbf612a1f2enhttps://github.com/facebook/fbzmq/commit/3a8812435bc3baa2b348e586af282d658554aab5nhttps://github.com/facebook/folly/commit/19eadc885c192e6acd9af1ea97714b88110e17e1nhttps://github.com/facebook/proxygen/commit/771cc9afb7a837eab52fe252000b6a4948addaa8nhttps://github.com/facebook/wangle/commit/26311e3c19a42e89c16d38489826a51d7121551dnhttps://github.com/facebookincubator/fizz/commit/6baa7358e1b5383462c32c7d9e27886b7bf21bednhttps://github.com/facebookincubator/katran/commit/0fe1a224cc896329232c8b1a912333bdb6930af1nhttps://github.com/facebookincubator/mvfst/commit/5b1f1d66b3286d30312094ec9deefe54f5d8be48nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: d08b7dce46f8ed8cbaf89aeb401ca8c12d0668efn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1937.0,0.7629513888888889,1932.0,1.8067204886968893,1933.0,None,False,,
f055fe6cf079887802a96450fc5e65f1d7b2d040,ebeaf89115cd1233f574536136bf1b98bbb418d8,svcscm,svcscm@fb.com,Mon Dec 2 20:31:44 2019 -0800,1575347504,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/2122e6c88059ac0aa487361fea61e1fcbc5705c1nhttps://github.com/facebook/folly/commit/8a6095a5e1e9815ad2ef438dd69393ef7f48307bnhttps://github.com/facebook/rocksdb/commit/fe1147db1c4a0e60156e45be81117cff946bac23nhttps://github.com/facebookincubator/mvfst/commit/4dc04682a962d06c72e53f8d1b2f0ab0e5343941nnReviewed By: yns88nnfbshipit-source-id: 4eab971fff618a9a71b0a1b0dbc07ee98e5a8b06n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1940.0,0.4956018518518519,1935.0,2.2330686595049043,1936.0,None,False,,
ebeaf89115cd1233f574536136bf1b98bbb418d8,15937f5b888cc0ec0842c5a429a6f7e9bbc33902,Adam Simpkins,simpkins@fb.com,Mon Dec 2 21:04:37 2019 -0800,1575349477,remove an unused variable to suppress a warning on WindowsSummary:nMSVC warns about the fact that a variable name is defined for these exceptionsnbut then never used.  Remove the variable name to suppress the warning.nnReviewed By: chadaustinnnDifferential Revision: D18773003nnfbshipit-source-id: 27ab3b173626c363f37fb96c197a946dcad8f614n,2.0,2.0,"Result.h,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,290.0,7.0,53.632905092592594,130.0,1.0186452700683206,7.0,None,False,,
15937f5b888cc0ec0842c5a429a6f7e9bbc33902,924a80a555af460295e56c1b77a398466126a771,Adam Simpkins,simpkins@fb.com,Mon Dec 2 21:04:37 2019 -0800,1575349477,update the listener loop to use a std::atomic<bool> for stoppingSummary:nSwitch from using a `volatile bool` to a `std::atomic<bool>` for signalingnthat the listener thread should stop.nnReviewed By: chadaustinnnDifferential Revision: D18773002nnfbshipit-source-id: 7c1ebb981fee2ca1f910897b1b0d0c8c5e942b76n,10.0,9.0,"listener.cpp,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,754.0,53.0,31.157870370370368,131.0,1.0320946196936152,8.0,None,False,,
924a80a555af460295e56c1b77a398466126a771,3eb39b65ceaf300ef7b28032f57015eb9f9ab196,svcscm,svcscm@fb.com,Mon Dec 2 21:26:21 2019 -0800,1575350781,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4866a0c523b42d53c708d54c490a26e85fe195abnhttps://github.com/facebook/folly/commit/e4d37c6c8e55dfdbf313c30c8938ad8a95cffe9bnhttps://github.com/facebookincubator/katran/commit/575c18e21eee4bc3aee9ef2767305aa703e223f6nhttps://github.com/facebookincubator/mvfst/commit/f630043de41dd198c84f628861dfdcf7748689acnnReviewed By: yns88nnfbshipit-source-id: 73239c7ee712f67331f21513c1d967161fae5172n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1303.0,0.037928240740740735,1937.5,20.77418370460787,1938.0,None,False,,
3eb39b65ceaf300ef7b28032f57015eb9f9ab196,a1b97e41083ec90d24bcdacba19373623c59d8e2,svcscm,svcscm@fb.com,Tue Dec 3 02:52:01 2019 -0800,1575370321,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/0faaa9b25ae8aa8056e7fa8de657d2cc233d30e6nnReviewed By: yns88nnfbshipit-source-id: 518ec6c1b67dbd5b47814d76d9732c3a4ef8e590n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,632.0,0.22615740740740745,1939.0,5.421699078812691,1939.0,None,False,,
a1b97e41083ec90d24bcdacba19373623c59d8e2,e63ea96f7f59745966a4b727f52058db024ba9b1,Jan Kassens,jan@kassens.net,Tue Dec 3 08:04:55 2019 -0800,1575389095,"watchman: rust: update tokio to 0.2.1 (#766)Summary:nNow that tokio 0.2 is released and uses the stable future types, update to it to save headaches for clients that are integrating against the watchman_client crate.nnPull Request resolved: https://github.com/facebook/watchman/pull/766nnTest Plan:nUsing rust 1.39.0 on macos:n- `cargo run --example glob` prints a list of filesn- `cargo run --example subscribe` prints files and updates on file oprationsn- `cargo test` passes fullyn- Use `watchman_client = { path = ../watchman/rust/watchman_client }` from a test project and see that compile now (it didn't with 0.2.0)nnReviewed By: weznnDifferential Revision: D18746971nnPulled By: kassensnnfbshipit-source-id: b6717cfb19e37904dfc4eb0b0adbb203d0db2faen",14.0,9.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER",2.0,1.0,2.0,0.9986359641585718,24.0,506.0,19.0,10.580173611111107,2.5,1.0708873055932049,1.0,None,False,,
e63ea96f7f59745966a4b727f52058db024ba9b1,f2dc3f9a381ac27d24fd2c6560824653a9bfb01d,svcscm,svcscm@fb.com,Tue Dec 3 10:36:03 2019 -0800,1575398163,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/5510b30ef60f51f13fba846bd19bc86cfd7c048dnhttps://github.com/facebook/fbzmq/commit/f873f5d761e8ee4064388474b4ba956189849130nhttps://github.com/facebook/wangle/commit/1d8ebfaf58f2b55359dc7029f2417f43700fe4a0nhttps://github.com/facebookincubator/fizz/commit/7043e743d20a5785e31fca35febbbbaf6dd413bdnnReviewed By: yns88nnfbshipit-source-id: e76342a4266a99290c1b8a592bbb2f1f0b865e9fn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1273.0,0.4542881944444445,1940.5,3.1019241325039806,1941.0,None,False,,
f2dc3f9a381ac27d24fd2c6560824653a9bfb01d,a9a50fe9790cb70389ecc0238e15b69e73952c3f,Shrikrishna Khare,skhare@fb.com,Tue Dec 3 11:40:27 2019 -0800,1575402027,"fbcode_builder: getdeps: fboss: add git-lfs fetcherSummary:nAs titled. This is needed by OpenBCM, and in future, possibly by othernmanifests as well.nnReviewed By: weznnDifferential Revision: D18759807nnfbshipit-source-id: d445dfa382cea4bf96443ab9889926a4abbf0757n",12.0,0.0,"build/fbcode_builder/manifests/git-lfs,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,20.0,0.0,14.0,None,False,,
a9a50fe9790cb70389ecc0238e15b69e73952c3f,2debb367388460a8f83190d7ccea820d8d14e8db,Shrikrishna Khare,skhare@fb.com,Tue Dec 3 11:40:27 2019 -0800,1575402027,"fbcode_builder: getdeps: fboss: OpenBCM depends on git-lfsSummary:nOpenBCM libraries are stored with git LFS. As a result, fetcher fetches LFS pointers and not the contents. Use git-lfs to pull the real contents before copying to install dir using NoopBuilder.nIn future, if more builders require git-lfs, we would consider installingngit-lfs as part of the sandcastle infra as against repeating similarn logic for each builder that requires git-lfs.nnReviewed By: weznnDifferential Revision: D18759806nnfbshipit-source-id: f988a0460107bc0685e7aba107daba9ed88f71e7n",31.0,1.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/manifest.py,CAS_DELIMITER,build/fbcode_builder/manifests/OpenBCM,CAS_DELIMITER",3.0,1.0,2.0,1.2987949406953985,35.0,448.0,71.0,4.173969907407408,22.0,1.121316354665604,17.0,None,False,,
2debb367388460a8f83190d7ccea820d8d14e8db,03f4890b667073dc6c9c9364ce548e761e3244f4,svcscm,svcscm@fb.com,Tue Dec 3 11:55:17 2019 -0800,1575402917,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1e549f95d087d41a98be8075b61f053f9b4e02dbnhttps://github.com/facebook/folly/commit/380c720be412f9197d3726411dcaf6adfc52fcc7nhttps://github.com/facebook/proxygen/commit/f27abc0fe1ea6dea7ca8214e955fd0b9a1bb902cnhttps://github.com/facebookincubator/profilo/commit/b51ac9fd52297a8e43bda33a614145012459b15fnnReviewed By: yns88nnfbshipit-source-id: 6c3a515e6730a6e3d6a8e380074546dc3212289bn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1307.0,0.32922453703703697,1942.5,10.84644472911692,1943.0,None,False,,
03f4890b667073dc6c9c9364ce548e761e3244f4,bb29c48132baacfdc5c364f4f56b05f8ca46fb8f,svcscm,svcscm@fb.com,Tue Dec 3 13:14:03 2019 -0800,1575407643,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/afb64d406ecef7926ff434d707281721fef92d31nhttps://github.com/facebook/fbzmq/commit/80b7c7a2e6cae288a9cc2515d517aeeed5f1a3f2nhttps://github.com/facebook/folly/commit/b0ec3021498d539d883fd87d16fb008b6c318ef2nhttps://github.com/facebook/proxygen/commit/a58d6a4964ae6b7d236e191922932e32e94a74f9nhttps://github.com/facebook/rocksdb/commit/f32a311f0dfa0dd95ada50b1ffc9bf62cb72af94nhttps://github.com/facebook/wangle/commit/aa33d68d83803ae81a425b63fa1a658630f37a6enhttps://github.com/facebookincubator/fizz/commit/22f0ea3b98c0343c4fa34e503f77f4f58b3fdcc7nhttps://github.com/facebookincubator/katran/commit/4faec0f2319a0e7253d5b3a1199deb02d160857dnhttps://github.com/facebookincubator/mvfst/commit/75b51602d91e182caa147e3ec19b979ba451102fnhttps://github.com/facebookincubator/profilo/commit/80ee4f461ae0180209e6d74fc9f6bcda4d7fe1a7nnReviewed By: yns88nnfbshipit-source-id: 7a015b90c67635edc24db0df8889f9a2cda02169n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1950.0,0.07304012345679012,1945.0,11.662156445783332,1946.0,None,False,,
bb29c48132baacfdc5c364f4f56b05f8ca46fb8f,154d9847b389d608431fcb632119b51376b6292c,Wez Furlong,wez@fb.com,Tue Dec 3 14:50:34 2019 -0800,1575413434,"watchman: rust: update watchman_client version to 0.3.0Summary:nThe tokio changes do bleed out to the public api,nso let's bump this version and we can publish it.nnReviewed By: kassensnnDifferential Revision: D18785311nnfbshipit-source-id: 7f11a426e796848ac662837b43c08c159c7b9147n",1.0,1.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER",1.0,1.0,1.0,0.0,24.0,35.0,9.0,0.2817013888888889,7072.0,4.549858252187847,48.0,None,False,,
154d9847b389d608431fcb632119b51376b6292c,eed21f01b74b3b031f46554516ec81d0935e5793,Wez Furlong,wez@fb.com,Tue Dec 3 15:06:06 2019 -0800,1575414366,"getdeps: rocksdb: don't enable -WerrorSummary:nIt's impossible for a consumer of a released version ofnrocksdb to do anything about this except not use it, and this particularnversion of rocksdb ships with a number of shadow warnings.nnDisable warning to error promotion.nnSee also: https://twitter.com/pcwalton/status/1201679307552083968nnReviewed By: chadaustinnnDifferential Revision: D18785637nnfbshipit-source-id: 1db2b00b3c397d6c0b8f05b9d1c658877685c961n",2.0,0.0,"build/fbcode_builder/manifests/rocksdb,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,36.0,1.0,214.009363425926,7073.0,1.0046726927457366,224.0,None,False,,
eed21f01b74b3b031f46554516ec81d0935e5793,f167e582a58a3e6861b2ec2f7bf06fde3097cdc6,svcscm,svcscm@fb.com,Tue Dec 3 16:03:53 2019 -0800,1575417833,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a71e70a2a58b426d7d943407b9bf349aa419f744nhttps://github.com/facebook/fbzmq/commit/4e786dbf8035ade6d72a6548fe77427cb6899ee1nhttps://github.com/facebook/folly/commit/1cb1d800e4f5fc897a82430637576eef735a96a2nhttps://github.com/facebook/proxygen/commit/3fbb64cb1a63b7b3feece2966703161bc2f8806anhttps://github.com/facebook/wangle/commit/53707dfe26b848ad9fc782b8cbe5bdb6e617c941nhttps://github.com/facebookincubator/fizz/commit/0776cc5cca0b7c7ddec9d95fed37ffa0c836ae95nhttps://github.com/facebookincubator/katran/commit/28e4c3c2cb21802765b0e3bb29d5b4f0dc220fdbnhttps://github.com/facebookincubator/mvfst/commit/b7a0f8fcbfa5915b174f39879c9f7c7b3849c25anhttps://github.com/facebookincubator/profilo/commit/e60ff79e4e1044d3258e958ecae3973c1af0b351nnReviewed By: yns88nnfbshipit-source-id: dcab56606e48129499fb26e948945a8d80264ad1n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1953.0,0.11793981481481484,1948.0,6.181550539744848,1949.0,None,False,,
f167e582a58a3e6861b2ec2f7bf06fde3097cdc6,0c48a521056aac07b1bfdffa7a3284ac654e4589,svcscm,svcscm@fb.com,Tue Dec 3 21:21:36 2019 -0800,1575436896,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f71571b0e8ef1d151e3bcc374901af7de229d7denhttps://github.com/facebook/folly/commit/f47108d35e46a3381d8879245ce6dd30fcedfb2cnhttps://github.com/facebook/litho/commit/9cf762612eea2d7fb3af14c6c83811c3f1407682nhttps://github.com/facebookincubator/profilo/commit/273c1459998acd7b1a43669adbe2865299e1e259nnReviewed By: yns88nnfbshipit-source-id: 16c3a9f8229a674701c8ad00566afc3fbe7ff1cbn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1956.0,0.22063657407407408,1951.0,3.7697634160415454,1952.0,None,False,,
0c48a521056aac07b1bfdffa7a3284ac654e4589,eecce7f02192253b43f84284d9cc101556dc6c9a,Adam Simpkins,simpkins@fb.com,Tue Dec 3 21:40:19 2019 -0800,1575438019,getdeps: add an install_fb_python_executable() function to the CMake utilitiesSummary:nAdd a `install_fb_python_executable()` function to `FBPythonBinary.cmake` fornhelping to install python executables generated withn`add_fb_python_executable()`.  This primarily helps by automatically lookingnup the correct output file to install from the generated targets.nnReviewed By: weznnDifferential Revision: D18774539nnfbshipit-source-id: 4b397580d72ac448f21d1db6d2cdd653cf3635dfn,24.0,0.0,"build/fbcode_builder/CMake/FBPythonBinary.cmake,CAS_DELIMITER",1.0,1.0,1.0,0.0,2.0,673.0,8.0,15.126030092592591,132.0,1.066111199956538,86.0,None,False,,
eecce7f02192253b43f84284d9cc101556dc6c9a,141c79f984ab2f533755efad85a19e70d4c0d29f,svcscm,svcscm@fb.com,Tue Dec 3 23:35:14 2019 -0800,1575444914,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f8e3918ecc6fb0ccdd0abe92a8458b7391f7fcbbnhttps://github.com/facebook/fbzmq/commit/2da2a36ba622fa287f38a376b60f48293e15797fnhttps://github.com/facebook/folly/commit/7d9a4c55dfc6fd5fc287d39b6f4af9e0edd92b18nhttps://github.com/facebook/proxygen/commit/029d33f6bbf60debdeac3aff7bbf505412e61f26nhttps://github.com/facebook/wangle/commit/79b97b0bd8402e12c107bc2bd168aed41fccac9bnhttps://github.com/facebookincubator/fizz/commit/f25c45976d4ed3c58d46f761077f85ac33cbcb59nhttps://github.com/facebookincubator/katran/commit/9177935736c0072865fa4daf826185d15f52cd94nhttps://github.com/facebookincubator/mvfst/commit/b4c867526945b36dbfae3370e337986918d5f3ddnhttps://github.com/facebookincubator/profilo/commit/aaeec96017d804b77fb9d7eaad47ab1d6634d288nnReviewed By: yns88nnfbshipit-source-id: bec18df91fdfc84d282e50945e0509ecb41c459dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1959.0,0.09280092592592593,1954.0,7.585183337490643,1955.0,None,False,,
141c79f984ab2f533755efad85a19e70d4c0d29f,f1fd220c6764e864506ffc8564ab94924bffa72e,svcscm,svcscm@fb.com,Wed Dec 4 05:12:06 2019 -0800,1575465126,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/e9b43ed326f33357d2c28835822fe1b0807db21cnhttps://github.com/facebook/litho/commit/13ad6c8823160dc4e9132f7bc11b9ed708372601nhttps://github.com/facebookresearch/pytorch-biggraph/commit/fe6c371b450d1c3bd54112da56b3feb5397500efnnReviewed By: yns88nnfbshipit-source-id: 33216fdaab1473b86790ef3ce3b2d4b6ea799649n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1284.0,0.2339351851851852,1956.5,4.206016227983376,1957.0,None,False,,
f1fd220c6764e864506ffc8564ab94924bffa72e,6592e2171f9b9af70026a99b91b1a055d2f93959,Lukas Piatkowski,luk@fb.com,Wed Dec 4 06:42:24 2019 -0800,1575470544,"rust-shed: change the workspace member definition to point to the newly moved project directoriesSummary: The projects have been moved to a shed/ subdirectory, so the root Cargo.toml with workspace has to be adjusted to that move.nnReviewed By: farnznnDifferential Revision: D18807189nnfbshipit-source-id: 0fd66fa7edd38ab4fdf905872f38fac57ae0230en",3.0,2.0,"build/fbcode_builder/manifests/rust-shed,CAS_DELIMITER",1.0,1.0,1.0,0.0,35.0,25.0,2.0,5.1987152777777785,4.0,1.1923552159654829,4.0,None,False,,
6592e2171f9b9af70026a99b91b1a055d2f93959,4e179557eb56fe502a98d5f430c657691c31379f,svcscm,svcscm@fb.com,Wed Dec 4 07:27:40 2019 -0800,1575473260,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/fff0c0325971424432a0dab4e3d46cb2725b033cnhttps://github.com/facebook/fbzmq/commit/ea7006f40110d262549675eb74a71268ee38874dnhttps://github.com/facebook/folly/commit/2b647dff96f3747e02b4bb4c5eb3ac39fcca71f2nhttps://github.com/facebook/proxygen/commit/4ebeeefb938b87f2162331d55b5babb49a634fccnhttps://github.com/facebook/wangle/commit/090c1ea8679607d5758fb38aa5b251a1648ede12nhttps://github.com/facebookincubator/fizz/commit/4fc3ca2fda17e753de9d86f6081387b1b1eedc80nhttps://github.com/facebookincubator/katran/commit/174345aba3db062aedf8f7925c57cea9e87e0be7nhttps://github.com/facebookincubator/mvfst/commit/3d2f38c05beb961bcb16092c1de05a47f60bc2abnnReviewed By: yns88nnfbshipit-source-id: d7458b1bc0bc2b70020523cd8544fda71a481478n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1964.0,0.1721219135802469,1959.0,5.975704345293328,1960.0,None,False,,
4e179557eb56fe502a98d5f430c657691c31379f,585576ca1f972c5e7004c68c1ea7c76c8be9feeb,svcscm,svcscm@fb.com,Wed Dec 4 14:53:09 2019 -0800,1575499989,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b94ef9fb236f0a50380413ad13195c9d0fe36ac7nhttps://github.com/facebook/folly/commit/4462a7f00a20bd4589c6436a81ae6deea4beddaanhttps://github.com/facebook/litho/commit/16e629c415b9ee6f08974ef755ee8c9441543cbfnhttps://github.com/facebook/mcrouter/commit/50770702ad11c9879f93550446bfb6cdb8aba450nhttps://github.com/facebook/proxygen/commit/5b632a5deb92dc76aef464c59b76807dd4e42357nhttps://github.com/facebookincubator/mvfst/commit/d2fa2cbcd65285bde14b87f3d01745ccd4b1ddd5nhttps://github.com/facebookincubator/profilo/commit/4e152f651ea939822885171ad1275489be4ad4f2nhttps://github.com/pytorch/fbgemm/commit/54c89b5f03938c0804517cb6a2d4001e843bed8cnnReviewed By: yns88nnfbshipit-source-id: 766783d00f8440c1264f13045ae6411233355af6n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1967.0,0.3093634259259259,1962.0,2.9753825433050243,1963.0,None,False,,
585576ca1f972c5e7004c68c1ea7c76c8be9feeb,24d41129e93b12a66a68b51c1d559f0302f9388b,svcscm,svcscm@fb.com,Wed Dec 4 16:35:01 2019 -0800,1575506101,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1e345af4de136b209b32573cc4a4c9cc7be6b5fbnhttps://github.com/facebookincubator/mvfst/commit/61d54df22ca73688b024f8d6cbc5bb6aa1f23c38nhttps://github.com/pytorch/fbgemm/commit/dab87e19bf144f93b1eceb4bafdb8d51e3d2a340nnReviewed By: yns88nnfbshipit-source-id: 88e55e94c7473a7a310338eaaf508e7fc71e0df6n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,642.0,0.07074074074074074,1964.0,15.13612565445026,1964.0,None,False,,
24d41129e93b12a66a68b51c1d559f0302f9388b,dcaf1c58f1d99fd08406bda17f26ebea672aafc9,svcscm,svcscm@fb.com,Thu Dec 5 02:57:51 2019 -0800,1575543471,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/7d303b523196716077054d47e0559bd808f00dc0nhttps://github.com/facebookresearch/pytorch-biggraph/commit/399720009515b957e2304be4385bea3886720435nnReviewed By: yns88nnfbshipit-source-id: 902c3ed9f60d8699fd0557e5cd2b2b53e4f2b74dn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1323.0,0.4678935185185185,1965.5,2.690317095372072,1966.0,None,False,,
dcaf1c58f1d99fd08406bda17f26ebea672aafc9,766302067e5102cf6eadb12cf9763c8dd385f055,Lukas Piatkowski,luk@fb.com,Thu Dec 5 08:45:30 2019 -0800,1575564330,getdeps: add manifest for Rust toolchainReviewed By: ikostiannDifferential Revision: D18814410nnfbshipit-source-id: 889306e51c03a29c2b72e34b7dc60db21f11ff97n,19.0,0.0,"build/fbcode_builder/getdeps/buildopts.py,CAS_DELIMITER,build/fbcode_builder/manifests/eden,CAS_DELIMITER,build/fbcode_builder/manifests/rust-shed,CAS_DELIMITER",3.0,1.0,2.0,1.2155332323824728,35.0,157.0,39.0,9.537237654320988,6.0,1.046437836647648,7.0,None,False,,
766302067e5102cf6eadb12cf9763c8dd385f055,43fb1153ca9adf151991b47ac0e1a1190cdf303d,svcscm,svcscm@fb.com,Thu Dec 5 10:01:38 2019 -0800,1575568898,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d434927773ea371abe3ed4133ceaeab8a0d2728dnhttps://github.com/facebook/fbzmq/commit/94d4080500d6d2d4b15eb12420aa04822bc2808enhttps://github.com/facebook/folly/commit/857c6a5bebce43aa08f037c29a1344d14647d739nhttps://github.com/facebook/litho/commit/e036506a2cf068dd819d1115986f86dbc0bd3b05nhttps://github.com/facebook/proxygen/commit/9eea83005c87c9207ab5d811004fb5103d12e005nhttps://github.com/facebook/wangle/commit/dd4661a2a163ff79e8fd1acd7e1aaed42bf07801nhttps://github.com/facebookincubator/fizz/commit/1367be4188c8acee27ebeef20e402fb4c57b8726nhttps://github.com/facebookincubator/katran/commit/0e81b8dc3ff8f6aafd61d194a5f63972d08068bdnhttps://github.com/facebookincubator/mvfst/commit/ef0d20286e969020d7c10034bb34dfd0d6f41795nhttps://github.com/facebookincubator/profilo/commit/800efe4f0ab8749efec21415ee109fe305be607fnnReviewed By: yns88nnfbshipit-source-id: 76081e75832984837bf7c7c7005106c480668278n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1973.0,0.4620486111111111,1968.0,2.9394563357293806,1969.0,None,False,,
43fb1153ca9adf151991b47ac0e1a1190cdf303d,bf7e34c1c9942c9994f5a9d000a97cabdc99ccd2,svcscm,svcscm@fb.com,Thu Dec 5 21:32:03 2019 -0800,1575610323,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8e7e836df3400b3e9db84a26cb59fcdf52190f68nnReviewed By: yns88nnfbshipit-source-id: 9d6a4216f0de4179fa654aa2796cd7183e3769c5n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1976.0,0.4794560185185186,1971.0,2.2745926372963186,1972.0,None,False,,
bf7e34c1c9942c9994f5a9d000a97cabdc99ccd2,4197b3315347b6eeff64c0b4ead97b6d2d732e18,Lukas Piatkowski,luk@fb.com,Fri Dec 6 06:00:41 2019 -0800,1575640841,rust toolchain: use RUSTC_BOOTSTRAP when buildingReviewed By: mitrandir77nnDifferential Revision: D18850917nnfbshipit-source-id: f211dfbfadf4b5b0cb372cf8aeb9a232c4b3a739n,4.0,2.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/manifests/eden,CAS_DELIMITER,build/fbcode_builder/manifests/rust-shed,CAS_DELIMITER",3.0,1.0,2.0,1.584962500721156,35.0,316.0,57.0,1.5117129629629629,9.0,1.2854304203623117,10.0,None,False,,
4197b3315347b6eeff64c0b4ead97b6d2d732e18,ed5dc6ee1fc4c0cbf506b5fb95483c8cc9e1dfc0,svcscm,svcscm@fb.com,Fri Dec 6 06:32:57 2019 -0800,1575642777,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a19ebfd8bb6f391a2ca030ee4d40800959a44089nhttps://github.com/facebook/fbzmq/commit/547dc5d512df4e2bac6e9a5e9a47bb3f9c9e9f06nhttps://github.com/facebook/folly/commit/0ca48e95709cff02737f4bc567b18af837f536d7nhttps://github.com/facebook/litho/commit/7a1245f0930a7ce23f8c8b4e6e55e698f0b29503nhttps://github.com/facebook/proxygen/commit/275ad04f9f5117061de8b6d93cfc3612e13f17b9nhttps://github.com/facebook/wangle/commit/e0461d8ab01e07f988d650601b851acd52d04c20nhttps://github.com/facebookincubator/fizz/commit/73ed7556aa1a58c43739552a22f1a09b555c7216nhttps://github.com/facebookincubator/katran/commit/94bee2cc54114b54d723a3f5290035e977d074a1nhttps://github.com/facebookincubator/mvfst/commit/3b5e1ce0980c0499632e04449cfa7e43c1f26180nnReviewed By: yns88nnfbshipit-source-id: b543a2f3fc30b82cc85a941b4316aabc8931325bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1979.0,0.375625,1974.0,2.626918099463857,1975.0,None,False,,
ed5dc6ee1fc4c0cbf506b5fb95483c8cc9e1dfc0,db4cec5cfe6309dc01c9ebde91059d9ab3db61d6,svcscm,svcscm@fb.com,Fri Dec 6 09:27:42 2019 -0800,1575653262,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4dd233987ba6f5878ca409853c82159b4c13dca9nhttps://github.com/facebook/litho/commit/7ab406809d3043e85dd236e20203f1b8a8c1bc03nnReviewed By: yns88nnfbshipit-source-id: 097aac010cbee9a323e3ed3e16f5e08976a3a553n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1298.0,0.12135416666666668,1976.5,7.1802575107296125,1977.0,None,False,,
db4cec5cfe6309dc01c9ebde91059d9ab3db61d6,4c305df9c01510b67f504c4fc84844095b300c29,Wez Furlong,wez@fb.com,Fri Dec 6 11:29:25 2019 -0800,1575660565,watchman: published update fb-watchman node packageSummary: This makes the latest bser dep explicitnnReviewed By: evangrayknnDifferential Revision: D18856325nnfbshipit-source-id: 67ce1ae57c2b97193b150a5401f1a33ede04e1f0n,2.0,2.0,"node/package.json,CAS_DELIMITER",1.0,1.0,1.0,0.0,34.0,35.0,15.0,19.801678240740745,7074.0,1.0505007700782938,44.0,None,False,,
4c305df9c01510b67f504c4fc84844095b300c29,7e79ea41eefc4c8eada03b61ca741a2642f23760,Adam Simpkins,simpkins@fb.com,Fri Dec 6 11:57:56 2019 -0800,1575662276,write build output to a log fileSummary:nUpdate the getdeps builders to save all command output to a log file in thenbuild directory.  This makes it easier to go back after the fact and look atnthe config options selected by the build run.nnReviewed By: weznnDifferential Revision: D18777059nnfbshipit-source-id: 86d3ffa48ec992fe90c59a3835e18f08310ed88cn,79.0,9.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER,build/fbcode_builder/getdeps/runcmd.py,CAS_DELIMITER",2.0,1.0,1.0,0.21450983370697768,35.0,478.0,45.0,28.61738425925926,133.5,3.0241313300570325,88.0,None,False,,
7e79ea41eefc4c8eada03b61ca741a2642f23760,12bdd39d04e14e0b3179f1ab4c74d55ed158af76,svcscm,svcscm@fb.com,Fri Dec 6 12:08:47 2019 -0800,1575662927,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/1cab1488c444e31ba3fcbe9c695b4612c0f80e85nhttps://github.com/facebook/litho/commit/3130f8ecbdaeae88f83103daa4e88354b9629a90nhttps://github.com/facebook/rocksdb/commit/6db57bc37f2edee1f1ac8030593659b83d33a7d9nhttps://github.com/facebookincubator/profilo/commit/5b6b860f8bf5cb29d06f9de1202fdd20e71194b6nnReviewed By: yns88nnfbshipit-source-id: f9054a178adf91a1ff9e8d619b617479ecb5fa85n,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,684.0,0.2332175925925926,1978.0,5.287841191066998,1978.0,None,False,,
12bdd39d04e14e0b3179f1ab4c74d55ed158af76,05d725d7d9b798d7fdcbbd3c3c4fff83ae036a5d,svcscm,svcscm@fb.com,Sat Dec 7 00:17:59 2019 -0800,1575706679,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/466fa1396a334ee50db29837dad18b13f0c97759nnReviewed By: yns88nnfbshipit-source-id: cf69e658a418ae6583d13ca01ffdd722a0226971n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1985.0,0.5809645061728395,1980.0,2.0267978649892484,1981.0,None,False,,
05d725d7d9b798d7fdcbbd3c3c4fff83ae036a5d,5b9a7fb5e28b549e7bb1c1b6b3cbf7cf44d646d6,svcscm,svcscm@fb.com,Sat Dec 7 14:24:54 2019 -0800,1575757494,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d7d513ccb53b133bd50583fcb66679082fc3bbb3nhttps://github.com/facebook/proxygen/commit/dbbfd71694a1efeca542c71f24d309f0d01835afnnReviewed By: yns88nnfbshipit-source-id: 23930d60f2925e57c4bc5ffb754255eac3e56f9cn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1302.0,0.5881365740740739,1982.5,2.2752140116107453,1983.0,None,False,,
5b9a7fb5e28b549e7bb1c1b6b3cbf7cf44d646d6,5194a98f4b26904690ff7beb5bf497f440b6406e,svcscm,svcscm@fb.com,Sat Dec 7 19:38:41 2019 -0800,1575776321,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/29e03ecda7c108f98710e5540b5afa9adf854f46nhttps://github.com/facebookincubator/katran/commit/2383397168ba88f3b5b9e176c151e2f8862a6224nnReviewed By: yns88nnfbshipit-source-id: 1a8d0e5ac69e5a06c6cf4783b012b02a94151949n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,654.0,0.21790509259259253,1984.0,5.589153874754341,1984.0,None,False,,
5194a98f4b26904690ff7beb5bf497f440b6406e,d1e84b6eb95c7a54692bf6d6db352aa2bccb8885,svcscm,svcscm@fb.com,Sun Dec 8 10:19:09 2019 -0800,1575829149,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/9b94248d1e93da42a29d01e980415c3d03444085nhttps://github.com/facebook/fbzmq/commit/485b5e487fe61c8723f9f1ba5464179edfd44907nnReviewed By: yns88nnfbshipit-source-id: d6fd911290a174166ede7fc683bd9c8f9ab366b2n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,650.0,0.8293402777777777,1985.0,2.205777684739376,1985.0,None,False,,
d1e84b6eb95c7a54692bf6d6db352aa2bccb8885,4dc84abb1a70816d827cb5f6a93cad4ec30fa4c1,svcscm,svcscm@fb.com,Mon Dec 9 10:18:41 2019 -0800,1575915521,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a34673429a21bc21143d5d5bd06f23850826612fnhttps://github.com/facebook/proxygen/commit/d7535e2e5c95b6e9390c3b7ad9f11cfda1516423nhttps://github.com/facebook/rocksdb/commit/3a6d9436e82790e149f69d9a5eace3dd3f145e52nhttps://github.com/facebook/wangle/commit/610fa467023167527c3176e1b1c08d6bc3d191acnhttps://github.com/facebookincubator/fizz/commit/547bdd29551b153335b4976dcf2028d6de29643dnhttps://github.com/facebookincubator/katran/commit/b122356fd10ffd9dbe1aa5bf054095e6105a618cnhttps://github.com/facebookincubator/mvfst/commit/a7e933e4803955520e0b44b47fbb5ef2a5f0219cnnReviewed By: zpaonnfbshipit-source-id: 7c3bc5d3e3e555c0545ce20f9df733c67526a331n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1992.0,1.6759799382716052,1987.0,1.4972939479210643,1988.0,None,False,,
4dc84abb1a70816d827cb5f6a93cad4ec30fa4c1,9cc4ba301f1483627aa78375319b69de59a9c807,svcscm,svcscm@fb.com,Mon Dec 9 18:20:39 2019 -0800,1575944439,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/b221a6b5bb7e2f14f178bab5d87d2760bfeb3064nnReviewed By: zpaonnfbshipit-source-id: 6dd4252a106f8c6f6cb35613a1d10d346006d8a1n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1339.0,0.3346990740740741,1989.5,3.2408188671415727,1990.0,None,False,,
9cc4ba301f1483627aa78375319b69de59a9c807,1229b8e706b1a956304cb0ea3558f9ef0e747b4e,svcscm,svcscm@fb.com,Mon Dec 9 20:56:43 2019 -0800,1575953803,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1e7ac08e2a50693c32f24b10b8f0d4bf3496e573nnReviewed By: zpaonnfbshipit-source-id: 8fcf7b1799d6c639178a375d0306363662883209n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,653.0,0.10837962962962963,1991.0,10.22682614267407,1991.0,None,False,,
1229b8e706b1a956304cb0ea3558f9ef0e747b4e,266c0d219051cb154e41ea9e357653930e9322f5,svcscm,svcscm@fb.com,Tue Dec 10 00:10:50 2019 -0800,1575965450,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/aab1edd0df3b6a922998bb60f482feb767a881b2nhttps://github.com/facebookincubator/mvfst/commit/ed15255982f05d7d21cf3fa889c52977909b91e8nnReviewed By: zpaonnfbshipit-source-id: 613c5af2a8601afbd65c11eef8c8087d95420942n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,654.0,0.13480324074074074,1992.0,8.418219283935777,1992.0,None,False,,
266c0d219051cb154e41ea9e357653930e9322f5,c81e4fcaa7cda5b4d413f1d72bc2e8832900ec09,Lukasz Piatkowski,lukaspiatkowski@gmail.com,Tue Dec 10 04:54:57 2019 -0800,1575982497,Fixes for travic CI build (#3)Summary:nThis should fix the Travis CI builds. It adds rust toolchain support inside docker and sets the required THRIFT env variable.nPull Request resolved: https://github.com/facebookexperimental/rust-shed/pull/3nnReviewed By: krallinnnDifferential Revision: D18905608nnPulled By: lukaspiatkowskinnfbshipit-source-id: 5db1eff6f215a6617d8acaa0c99a62d45225956bn,110.0,8.0,"build/fbcode_builder/docker_builder.py,CAS_DELIMITER,build/fbcode_builder/fbcode_builder.py,CAS_DELIMITER,build/fbcode_builder/shell_builder.py,CAS_DELIMITER,build/fbcode_builder/specs/rust_shed.py,CAS_DELIMITER",4.0,1.0,2.0,1.5200719839906074,3.0,174.25,19.0,5.916015625,1.5,0.7869758996368439,3.0,Corrective,True,,
c81e4fcaa7cda5b4d413f1d72bc2e8832900ec09,d162800530cc6ff014584bc8d63e83324d0366ce,svcscm,svcscm@fb.com,Tue Dec 10 05:57:21 2019 -0800,1575986241,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/6c87dc4d3c867f0c121c2f60544808861ca035f8nhttps://github.com/facebook/fbzmq/commit/5ec43afc1d3c8566f6aaebe338e76753bde21d3fnhttps://github.com/facebook/folly/commit/1e3cb8283f9ae0e9082646c58ab4338136b1a58enhttps://github.com/facebook/proxygen/commit/3af1c72471600f4086429c6f0db4ffae1c9b901bnhttps://github.com/facebook/wangle/commit/dc8e6e6e688669981bc13bb9231927b804a78e41nhttps://github.com/facebookincubator/fizz/commit/405e596d50f2e7b2986357757b6cb7ac7930f906nhttps://github.com/facebookincubator/katran/commit/f40ae54a5277aedaca3827579161b9c938c593eanhttps://github.com/facebookincubator/mvfst/commit/479a14391275340fcf793b2e29797937a45a427bnnReviewed By: zpaonnfbshipit-source-id: 932226ea90129f6c337d9fe833e2c3e4e1f955een,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,1999.0,0.5143248456790124,1994.0,3.0613630497707285,1995.0,None,False,,
d162800530cc6ff014584bc8d63e83324d0366ce,e3c0178c0580d9bc13672238b2a0776f3a52d7fb,svcscm,svcscm@fb.com,Tue Dec 10 12:46:48 2019 -0800,1576010808,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b459fcc89f190cb904f12937e34b1025be6e8d1anhttps://github.com/facebook/rocksdb/commit/2b060c14982d22e0eca5d10557ebc1e3280e2fccnhttps://github.com/pytorch/fbgemm/commit/13a2c072c4f090e4323e48c31e1dd38eded2209cnnReviewed By: zpaonnfbshipit-source-id: 59fb11a977dcb7b2c09acb7fe997b0d5e52f27c4n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1313.0,0.28434027777777776,1996.5,3.6376846989864458,1997.0,None,False,,
e3c0178c0580d9bc13672238b2a0776f3a52d7fb,0c762ef7ca3934fe7f08d419358831a08be7ca50,svcscm,svcscm@fb.com,Tue Dec 10 14:17:40 2019 -0800,1576016260,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1d7a0e1a4bcdfe6a2fad642401236b052ed83fccnhttps://github.com/facebook/proxygen/commit/b8031f09d74be5df747300e3fa2727255b2b148cnhttps://github.com/pytorch/fbgemm/commit/7fd86a8f6418b88daa76b4306897565cab14548dnnReviewed By: zpaonnfbshipit-source-id: 98b2487b39fb56641641c0947ed09f883755126an,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,657.0,0.06310185185185185,1998.0,16.847395451210566,1998.0,None,False,,
0c762ef7ca3934fe7f08d419358831a08be7ca50,b2855da71e13a4061158173d948bdaa543982e16,svcscm,svcscm@fb.com,Tue Dec 10 17:41:45 2019 -0800,1576028505,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/5c811f4b3af1aa328a08b3f4c69ade5370180baenhttps://github.com/facebook/folly/commit/ad7bdb3133ba9a08d1dd4c25376f5a2f43f3bbc8nhttps://github.com/facebookincubator/mvfst/commit/849da74e6525e81350fbe26d15cfb23c53fbc478nnReviewed By: zpaonnfbshipit-source-id: c6e56b1eb144948f545be0bea68809035d7319f0n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1347.0,0.3154456018518519,1999.5,5.320500274243788,2000.0,None,False,,
b2855da71e13a4061158173d948bdaa543982e16,879cf2b6a1365f6fe9b96b4d58681e0d0c07d86d,svcscm,svcscm@fb.com,Wed Dec 11 07:22:55 2019 -0800,1576077775,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbzmq/commit/0f94976f31882b9510f4073003f5f35d6f4b8e80nhttps://github.com/facebook/litho/commit/be15abd839fbe357f4cdabbc6ecc111e983bd1ebnhttps://github.com/facebook/wangle/commit/034086d70f923f600b27431044560625b177b36cnhttps://github.com/facebookincubator/fizz/commit/aa131abdf572284e465e602cca888a1251e9610enhttps://github.com/facebookincubator/katran/commit/a3f268f1b525d2ebe0b1196d1a6f55a25eb884a2nhttps://github.com/pytorch/fbgemm/commit/6394aabc991e19dfcd9e68d8d771d326cf83094dnnReviewed By: zpaonnfbshipit-source-id: fa99a0a096de1f088e5fa8cd92fdf5fd6c330740n,1.0,1.0,"build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,658.0,0.7750810185185185,2001.0,2.290187704391715,2001.0,None,False,,
879cf2b6a1365f6fe9b96b4d58681e0d0c07d86d,af1b547456354b26094b46b2b73068a5c82627e1,svcscm,svcscm@fb.com,Thu Dec 12 01:47:42 2019 -0800,1576144062,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/4c44bad0e1b68ad7afb9347a0b777a83275a8490nnReviewed By: zpaonnfbshipit-source-id: 16bb60a5f5cb98f8336f63212316ebaef7d81102n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2008.0,1.1473804012345679,2003.0,1.4706804289145703,2004.0,None,False,,
af1b547456354b26094b46b2b73068a5c82627e1,086add6113b61c8275dd43954fe7be430ea0838f,svcscm,svcscm@fb.com,Thu Dec 12 23:09:20 2019 -0800,1576220960,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/03a1daba8c15117a4ecf0a96d3e3fd4614568b0annReviewed By: zpaonnfbshipit-source-id: 7a55a10a089835231d651ca14dbc86342cee3f06n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2011.0,0.8900231481481482,2006.0,1.686623839371635,2007.0,None,False,,
086add6113b61c8275dd43954fe7be430ea0838f,182da3a99ee957cb1eabfe6dc564f32f3c0215b2,svcscm,svcscm@fb.com,Fri Dec 13 03:59:39 2019 -0800,1576238379,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/73ccc0530b05089318253005775d31033dc1f8cenhttps://github.com/facebookincubator/katran/commit/37957b6d9f5215729d459e9fbfc5767876c2efe6nnReviewed By: zpaonnfbshipit-source-id: 280ffd47c12fa373dcf6df93b38056bb44ae9eeen,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,692.0,0.2016087962962963,2008.0,5.960101039095241,2008.0,None,False,,
182da3a99ee957cb1eabfe6dc564f32f3c0215b2,9be0de571e5a94d76552a7b839e0624905573f10,svcscm,svcscm@fb.com,Fri Dec 13 04:46:33 2019 -0800,1576241193,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/01ab74fe0ab873b54a53f8b0675c3a212d02be51nhttps://github.com/facebook/proxygen/commit/857cbb50ad55200927d8f4cdd176e08fb5ba0b48nnReviewed By: zpaonnfbshipit-source-id: 8db7e46fce69ccef0dd77ea2cc24a2290d628f94n,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,661.0,0.2341782407407408,2009.0,5.270251569218603,2009.0,None,False,,
9be0de571e5a94d76552a7b839e0624905573f10,ea130108b5128da34c0acfa9f8247feb8d85b76d,svcscm,svcscm@fb.com,Fri Dec 13 11:23:04 2019 -0800,1576264984,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/66ff2eee3181888606a8048dd9dcfb28a71642c5nhttps://github.com/facebook/folly/commit/f296a1d04b5bd13bbfcce3fa7644ec3932454d62nhttps://github.com/facebook/rocksdb/commit/fec7302a9d90f199561b34e7508731fee26f2f65nnReviewed By: zpaonnfbshipit-source-id: be047d027fbd1e727d8ff46a5d8c6af9f6934450n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1355.0,0.2916435185185185,2010.5,3.6730235920355305,2011.0,None,False,,
ea130108b5128da34c0acfa9f8247feb8d85b76d,de46b5c02e4dad61f8e7a20c6ab77a0828f8827c,Chad Austin,chadaustin@fb.com,Fri Dec 13 18:06:21 2019 -0800,1576289181,"generate a unique ID for each client instanceSummary:nInstead of using 64-bit pointers to client instances in thread namesnand client IDs, generate a unique ID per client, starting at 1. Thisnmakes debugging Watchman easier.nnReviewed By: weznnDifferential Revision: D18969502nnfbshipit-source-id: 6b011f03eb55158c33ba2bb9d9b06d288438f8f1n",12.0,5.0,"cmds/subscribe.cpp,CAS_DELIMITER,listener.cpp,CAS_DELIMITER,watchman_client.h,CAS_DELIMITER",3.0,2.0,2.0,0.8343470230852539,34.0,510.33333333333326,165.0,39.52375771604939,16.0,1.0166955480187605,2.0,None,False,,
de46b5c02e4dad61f8e7a20c6ab77a0828f8827c,62541399fd9b650d7d29fd14ed808e900d11733b,svcscm,svcscm@fb.com,Sat Dec 14 21:00:15 2019 -0800,1576386015,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a967a37e3c06b909547bdfe09a9ea6b58b66b23anhttps://github.com/facebook/fbzmq/commit/e2331832f092462b09aa1aac2aaf95d978e92a14nhttps://github.com/facebook/folly/commit/1bea6f2ffabb3ecefc507bd3ae50047d7163563bnhttps://github.com/facebook/litho/commit/ded3f463bb1c2ee11cd3e0c6361e9ab66e64af24nhttps://github.com/facebook/mcrouter/commit/e8920c35a853855df06105240b1047a45811cb1enhttps://github.com/facebook/proxygen/commit/f226a723f0136504d93f78610fbb6c1e244b8c31nhttps://github.com/facebook/rocksdb/commit/ad34faba1504dbebc14e7ab7d209519610f86602nhttps://github.com/facebook/wangle/commit/1fcf2e50d587bdaadfa461f16ea7c52f047afbb6nhttps://github.com/facebookincubator/fizz/commit/57ff4b648b746f940a5c8d7e916b3d381849d613nhttps://github.com/facebookincubator/katran/commit/0a791d8494442c4e69bfc804e9d51835b99c9934nhttps://github.com/facebookincubator/mvfst/commit/a2b6dc54535e990cdc9543f66de828f64ce12451nhttps://github.com/facebookincubator/profilo/commit/c3d2da9dc679c315a08c5fad060e3aca4893fc6cnnReviewed By: zpaonnfbshipit-source-id: 03f5ac0a809853d8253dbd4b48b29a897f1bad97n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2018.0,1.570667438271605,2013.0,1.4276746824552944,2014.0,None,False,,
62541399fd9b650d7d29fd14ed808e900d11733b,c73780209668d4aa1dda0d07581b7ecb58a64645,Wez Furlong,wez@fb.com,Mon Dec 16 10:51:20 2019 -0800,1576522280,"watchman: rust: fix a couple of api omissionsSummary:nNoticed these while review some watchman client codenwritten against the node client.  We weren't exposing the `watcher`nfield when initiating a watch, and won't exposing the clock fieldnin the query results.nnThis commit fixes that.nnReviewed By: chadaustinnnDifferential Revision: D19045944nnfbshipit-source-id: 915ec9431f60b6dc458e15cbb254e703d34d8120n",42.0,2.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/examples/glob.rs,CAS_DELIMITER,rust/watchman_client/src/lib.rs,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",4.0,1.0,3.0,1.0245555716484191,24.0,427.75,33.0,18.33522858796297,7076.5,1.0347679499457865,52.0,None,False,,
c73780209668d4aa1dda0d07581b7ecb58a64645,8b6cdc83eacc0b9288a35a7c453a10e1c0f73142,svcscm,svcscm@fb.com,Wed Dec 18 18:38:47 2019 -0800,1576723127,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f5d37bdcfd1292b28eb1834ede9ad3ccfd368efdnhttps://github.com/facebook/fbzmq/commit/21ba9e3692fbbc1e772646f991a210a7d484b77cnhttps://github.com/facebook/folly/commit/576eeaee273b5e0d2d1ed2899c0b2f87f1516983nhttps://github.com/facebook/litho/commit/7ba1f57d53ec0433d19e7e0c3fd4318850b949a1nhttps://github.com/facebook/proxygen/commit/e520f8f5b37c3b38eab7d1107ec88da015781e1fnhttps://github.com/facebook/rocksdb/commit/54f9092b0c12d99971f340e180d42fffc9f73bc1nhttps://github.com/facebook/wangle/commit/88bb770ce1d22518ad2025f1e3a79a0726a7ea7enhttps://github.com/facebookincubator/fizz/commit/d91888de6c8a3f4ff94c44087bf9035df7245d9enhttps://github.com/facebookincubator/katran/commit/ff06eb088122380f1918a34815aa28f5a5ffdb20nhttps://github.com/facebookincubator/mvfst/commit/fdaeb6ea30d22fa8158e610fdfc6d0d35aa23231nhttps://github.com/facebookincubator/profilo/commit/1fd432f00f04a015486b87f7f2104fd78606a30dnhttps://github.com/pytorch/fbgemm/commit/60b7cb3408fdbdcdd0cba1cf58044586ceec7ba1nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: f63bd0a879f4d08e159f530f595067f5a09ffe70n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2021.0,3.9017592592592583,2016.0,1.156624504615677,2017.0,None,False,,
8b6cdc83eacc0b9288a35a7c453a10e1c0f73142,6c2dc669f14c3f0b0dd7e379192c6652584b6990,svcscm,svcscm@fb.com,Thu Dec 19 02:45:21 2019 -0800,1576752321,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/80fc6c6ce00f6f6a8e9866a97be104a07fab080annReviewed By: 2d2d2d2d2dnnfbshipit-source-id: 35e39283ecf85160786ac379943d0f91b1b56fcen,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2024.0,0.3378935185185185,2019.0,2.808590806330068,2020.0,None,False,,
6c2dc669f14c3f0b0dd7e379192c6652584b6990,53ce55dcf9bdb2e4df2170acbc8339d972d07885,Genevieve Helsel,helsel@fb.com,Thu Dec 19 10:46:11 2019 -0800,1576781171,"remove use of getScmStatusBetweenRevisions in eden doctorSummary: There is one instace of `getScmStatusBetweenRevisions` in use - it is used in the eden cli in a hacky way to check if a commit hash is valid. Since this is not used anywhere else in a meaningful way, this replaces that use case with a hg call and depreciates `getScmStatusBetweenRevisions`nnReviewed By: simpkinsnnDifferential Revision: D18690026nnfbshipit-source-id: 02bd2c20a0f631ec41116f9fd4e18d14369298efn",2.0,0.0,"eden/fs/service/eden.thrift,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1137.0,30.0,42.969710648148144,3.0,1.0232722069782685,3.0,Non Functional,False,,
53ce55dcf9bdb2e4df2170acbc8339d972d07885,7e28eb2a32db5dba73def16da716beeb3cc930de,svcscm,svcscm@fb.com,Thu Dec 19 16:37:46 2019 -0800,1576802266,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/286867987eae3bd3cf081b8ddbb97e9f40eec059nhttps://github.com/facebook/folly/commit/09cbf47ea54344fdcbf0ff165e5cab6efe531410nhttps://github.com/facebook/litho/commit/db100834c1ffcdf5270ff2a473ac14369d3cd7f4nhttps://github.com/facebook/rocksdb/commit/1ba92b858292ff9b110601eb03460d8ca1cb4b86nhttps://github.com/facebookincubator/mvfst/commit/60240e3f0869fc4346617b37e370042048cf1367nnReviewed By: tgreenidgennfbshipit-source-id: 2418c78855e42492cdc9823db8afb76c078ed718n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1363.0,0.5780671296296296,2021.5,2.297427169886876,2022.0,None,False,,
7e28eb2a32db5dba73def16da716beeb3cc930de,7c44e6afe75a646f3bbe4407543205edf990d2bb,svcscm,svcscm@fb.com,Fri Dec 20 17:19:47 2019 -0800,1576891187,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/1fe03267855b58b684869178f4c52c1610e3f55cnhttps://github.com/facebook/folly/commit/73e26d77a347c11c66b6587254c916db084b87adnhttps://github.com/facebook/proxygen/commit/8f06b4580411bac6d3c19cb8c1812244a4a26365nhttps://github.com/facebook/rocksdb/commit/338c149b92c370288ecb9beef997229119d9fcd2nhttps://github.com/facebookincubator/katran/commit/54947d9f504142b123796d3bba839700714c4901nhttps://github.com/facebookincubator/mvfst/commit/44c839bd4accbaecdb67c42439ea225877c65d05nnReviewed By: 2d2d2d2d2dnnfbshipit-source-id: be781924c061a5aeb369b3796ae5e515c2a98126n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2029.0,1.2218672839506173,2024.0,1.5767599948462567,2025.0,None,False,,
7c44e6afe75a646f3bbe4407543205edf990d2bb,990cf1e93a8095f2f8a153b7d2f8691f75511c98,Adam Simpkins,simpkins@fb.com,Mon Dec 23 17:51:43 2019 -0800,1577152303,"fix a Python 2 compatibility issueSummary:nChange an `os.fsdcode()` call introduced in D18610730 to explicitly decodednwith `sys.getfilesystemencoding()` and `errors=surrogateescape`.nThis matches the behavior of `os.fsdecode()`, which is only available innPython 3.nnThis will allow pywatchman to still be used in the handful of Python 2napplications that still use it.nnReviewed By: weznnDifferential Revision: D19203586nnfbshipit-source-id: 01932a22d3f6e5bfd04fe604ba3e0c85b1eea1d8n",2.0,1.0,"python/pywatchman/__init__.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,30.0,1222.0,65.0,33.84141203703704,135.0,1.0295495944112962,1.0,Corrective,True,,
990cf1e93a8095f2f8a153b7d2f8691f75511c98,aded98af98fe8dc32b0f6007e389a029a014d508,Wez Furlong,wez@fb.com,Mon Dec 23 19:25:39 2019 -0800,1577157939,"watchman: add buck TARGETS files for rust client piecesSummary:nWe don't currently have `serde_with_macros` available in our bucknbuild machinery, so I've replaced the use of the `skip_serializing_none` macronon some structs with appropriate `#[serde(skip_serializing_if =nOption::is_none)]` on the relevant fields.nnReviewed By: dtolnaynnDifferential Revision: D19222357nnfbshipit-source-id: 0cb3aba188ac47d487b6193c18a7174409a4e6ban",7.0,5.0,"rust/watchman_client/Cargo.toml,CAS_DELIMITER,rust/watchman_client/src/pdu.rs,CAS_DELIMITER",2.0,1.0,2.0,0.41381685030363374,24.0,339.0,19.0,7.357164351851853,7079.5,1.1019414497395617,54.0,None,False,,
aded98af98fe8dc32b0f6007e389a029a014d508,34ea6a608b7a2e6c9c8818690d8457df218576bc,svcscm,svcscm@fb.com,Mon Dec 23 21:15:13 2019 -0800,1577164513,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fb303/commit/a6a87383a013f43f296993a4595ebda7acd568f9nhttps://github.com/facebook/fbthrift/commit/2b38127267e63c78c5ce03321217c978d5f5f545nhttps://github.com/facebook/fbzmq/commit/5e7152ddfd3b83a6249116c15f3e04fd8f062d8dnhttps://github.com/facebook/folly/commit/f519c88f80c8e4c51e876f17f83dfe943a177df6nhttps://github.com/facebook/litho/commit/5c4a5b59df3900bf32fa4eb80873624f28f0dc3dnhttps://github.com/facebook/proxygen/commit/6455ab0d939c7ac4997b8d952625bf6fd6d55db3nhttps://github.com/facebook/rocksdb/commit/37fd2b9694052323d5867f1dc56174202023c016nhttps://github.com/facebook/wangle/commit/058608f66dd3321d41a6f2655c7a498ce7443205nhttps://github.com/facebookincubator/fizz/commit/0109931f0f7e653c21c7c8c4b7c9e8050f9bfa7fnhttps://github.com/facebookincubator/katran/commit/41f33e8c3c1bc6ff1ca0a2abfbf295fe7e81e173nhttps://github.com/facebookincubator/mvfst/commit/9dae0abe05315f917f5131558f1e165d578f43a3nnReviewed By: zpaonnfbshipit-source-id: b22ab3b7c0bb4f3c0317a09354532b0d05246ce2n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2032.0,3.1634953703703705,2027.0,1.193175914475754,2028.0,None,False,,
34ea6a608b7a2e6c9c8818690d8457df218576bc,bab8ddeec343b887a9a8ccde598b770a670ba66e,svcscm,svcscm@fb.com,Mon Dec 23 22:41:31 2019 -0800,1577169691,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/a5325e50c70599f69dbefc4d65f64931785766b4nnReviewed By: zpaonnfbshipit-source-id: 3acac5e117d90b2c2de968a6880f0c18aeeca590n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2035.0,0.05993055555555556,2030.0,11.196987253765931,2031.0,None,False,,
bab8ddeec343b887a9a8ccde598b770a670ba66e,c9233cd139063e15203ae9ac1d74a3b55fda1010,svcscm,svcscm@fb.com,Tue Dec 24 21:50:09 2019 -0800,1577253009,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fb303/commit/7e50dc4814632263a8231f5a0826f17fab43d5dfnhttps://github.com/facebook/fbthrift/commit/cffede7584dc4469f5c0b9d78b03b5ac49d296a7nhttps://github.com/facebook/fbzmq/commit/c9851f2ebda86c0c6ff35b2d7c478b043d22d73anhttps://github.com/facebook/proxygen/commit/579e49bb6a1524f25f3cff4d8c57461730984212nhttps://github.com/facebook/wangle/commit/2fc9d7b729b011ad7e7d65ce4365e0f55889e011nhttps://github.com/facebookincubator/fizz/commit/aee75f81509ab619a59042f6ac9d6f28587868a8nhttps://github.com/facebookincubator/katran/commit/b871922bf6de38881b850db853bee1ec7128ec7enhttps://github.com/facebookincubator/mvfst/commit/dd261dfb818dfd771a69482a42b18d707087061cnnReviewed By: zpaonnfbshipit-source-id: 28bb24af4eabdf017026879ac4991a4a84d99bb7n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1337.0,0.9643287037037036,2032.5,1.7777431047312706,2033.0,None,False,,
c9233cd139063e15203ae9ac1d74a3b55fda1010,df8ce55caed85acaea9e9c5ea0059dd7363d2819,svcscm,svcscm@fb.com,Wed Dec 25 16:29:09 2019 -0800,1577320149,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/1702a53f7484abae6047e944258898b5463cc6b3nnReviewed By: zpaonnfbshipit-source-id: 584b98b2171079c3c2bdeb5fdb59bd7c9233ab89n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2040.0,1.0985262345679014,2035.0,1.662454195824352,2036.0,None,False,,
df8ce55caed85acaea9e9c5ea0059dd7363d2819,f4a4d7a7d05cded38ecc82f8cad6bdb43ac3d5e1,svcscm,svcscm@fb.com,Thu Dec 26 13:03:11 2019 -0800,1577394191,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/d8cbbb20b0c151d9b569f0928fdd54b176b1454fnnReviewed By: zpaonnfbshipit-source-id: d066a20ff1e2411333302f2256320c4c7881cc41n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2043.0,0.8569675925925925,2038.0,1.7131087761000516,2039.0,None,False,,
f4a4d7a7d05cded38ecc82f8cad6bdb43ac3d5e1,79f4b3259eaa10b32171744fd3caf82c444f2eb5,Wez Furlong,wez@fb.com,Thu Dec 26 13:05:47 2019 -0800,1577394347,"watchman-make: avoid dispatching for state-enter changesSummary:nstate-enter and state-leave will wake up subscriptions andndeliver a response that has no files listed.   These events arentriggered in the FB source control deployment when mercurialntransactions are initiated and completed, so these occur aroundneg: `commit` and `amend`, and then shortly afterwards when ournbackground `commit cloud` sync process kicks in.nn`watchman-make` was blindly assuming that any wakeup from thensubscription channel was worth running the associated command,nwhich wasn't true in this situation.nnIn addition to state enter/leave, watch cancellations can alsondeliver a response with an empty file list.  Rather than tryingnto continue, let's terminate the process if that happens.nnReviewed By: xixixaonnDifferential Revision: D19222234nnfbshipit-source-id: 06d7ddd9d061f7a21b93b8e4d1d79d3636e9998dn",8.0,1.0,"python/bin/watchman-make,CAS_DELIMITER",1.0,1.0,1.0,0.0,20.0,305.0,8.0,77.17775462962962,7081.0,1.0129571014963952,116.0,None,False,,
79f4b3259eaa10b32171744fd3caf82c444f2eb5,e54b0b4e878f921b975171d625f74e9ee626e0a6,svcscm,svcscm@fb.com,Thu Dec 26 15:04:33 2019 -0800,1577401473,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/a40d60834183ef94e8a9cde9f13b58696dd6d940nhttps://github.com/facebookincubator/fizz/commit/50e0ea13e5dbc09140c324aa74a8fdbcf8c42dc6nhttps://github.com/pytorch/fbgemm/commit/bcbdec74f4c8c3104a35b0bf87deec7c0fa5f14cnnReviewed By: zpaonnfbshipit-source-id: 3de13d5b9b20ec18927ee3f0224df789172a3e9cn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,703.0,0.0842824074074074,2040.0,12.864872287833016,2040.0,None,False,,
e54b0b4e878f921b975171d625f74e9ee626e0a6,e3e8a69e1cb60d7e142d3ab8356c4183dc711bbe,svcscm,svcscm@fb.com,Fri Dec 27 12:49:14 2019 -0800,1577479754,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/f60ae87f1bf04e406b7d58bc17586f9ae805cd93nnReviewed By: zpaonnfbshipit-source-id: b70978e22c873eebc8e938c75cb74bd01744d4b8n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1343.0,0.9903125,2041.5,1.7573366992742188,2042.0,None,False,,
e3e8a69e1cb60d7e142d3ab8356c4183dc711bbe,c26e8ab084e93038fe6a6495dea1ad331e522441,svcscm,svcscm@fb.com,Sat Dec 28 06:54:48 2019 -0800,1577544888,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/897a33853962e2b33d6929037e987d0664f5b371nhttps://github.com/facebookincubator/katran/commit/9266e6d5843d8676adc328e622b715da394e4d97nnReviewed By: yns88nnfbshipit-source-id: c3859b3d5251bbd36460c45e7ffe58d5d70e8f1cn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2049.0,1.0558757716049385,2044.0,1.6854936587540867,2045.0,None,False,,
c26e8ab084e93038fe6a6495dea1ad331e522441,de3e1bd0f7b2452361a0d8556849cd58cbe68ffa,svcscm,svcscm@fb.com,Sat Dec 28 19:58:08 2019 -0800,1577591888,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/e28240f022340d0ddb6ae399f849e2be12bdfb2dnhttps://github.com/facebookincubator/katran/commit/6544bc52f6498113d648e38051ef0c47f18fdd40nhttps://github.com/facebookincubator/mvfst/commit/67fc298b690b69024c527a36958a2464f3ed167cnnReviewed By: yns88nnfbshipit-source-id: 327534440563702f9282f0afd48484305e1e8eb3n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1347.0,0.5439814814814815,2046.5,2.378723404255319,2047.0,None,False,,
de3e1bd0f7b2452361a0d8556849cd58cbe68ffa,19834fb1506dbc5521bfcf4f2e4e95ff065e70bd,svcscm,svcscm@fb.com,Sun Dec 29 19:43:29 2019 -0800,1577677409,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/wangle/commit/0bb2aba1454a349c0ed1e4631ff7ac9ed16bce19nhttps://github.com/facebookincubator/katran/commit/dfa0822a2a0bbe85639e98cabf0c6fefb54d190enhttps://github.com/facebookincubator/mvfst/commit/b8bac001474890c2280c816188d3e63d692fb3e2nnReviewed By: yns88nnfbshipit-source-id: 79256c20a3a31238c338b25a0091cd67e263b00bn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2054.0,1.171153549382716,2049.0,1.5637172590351909,2050.0,None,False,,
19834fb1506dbc5521bfcf4f2e4e95ff065e70bd,884742b1380499a97a3c8ee118b85dd613dfe2c7,svcscm,svcscm@fb.com,Mon Dec 30 19:45:06 2019 -0800,1577763906,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/d054e34e13dd9c41005d234b7b1d4b115927f92dnnReviewed By: zpaonnfbshipit-source-id: 7ba8f824ec0654df95c03731c033696fb13a25efn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2057.0,1.001122685185185,2052.0,1.6104257951142813,2053.0,None,False,,
884742b1380499a97a3c8ee118b85dd613dfe2c7,c026581fa08aff5a0e524f0af34ca60d697274b7,svcscm,svcscm@fb.com,Tue Dec 31 19:07:20 2019 -0800,1577848040,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/13e90575c72975aef154faba8b7d54ad9bd8e6dennReviewed By: zpaonnfbshipit-source-id: 61a4976988c7d853e46a5c65572545ddba353dean,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2060.0,0.9737731481481479,2055.0,1.6275703045142276,2056.0,None,False,,
c026581fa08aff5a0e524f0af34ca60d697274b7,967fc7cd096a8ecfc4479d6df921c3c90de75ce2,svcscm,svcscm@fb.com,Wed Jan 1 17:43:04 2020 -0800,1577929384,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/b19572cda1bd8852f2dbec03c79df12afb997047nhttps://github.com/facebook/fbzmq/commit/afea4b44247e7a407c3099b1cbdc9b12155eec8cnhttps://github.com/facebook/wangle/commit/6c8d09b2ccc1e0c31cb1f5b5885649c8b872f2b9nhttps://github.com/facebookincubator/fizz/commit/6bc821a9236b0c24c36bda9ecc9c36ea1362815fnhttps://github.com/facebookincubator/katran/commit/eb8d591dabee8328485a8c32ffe79d7f706aa6d4nhttps://github.com/facebookincubator/mvfst/commit/c987744f9abc09be12b9af9be5af66f705d08625nnReviewed By: zpaonnfbshipit-source-id: abcb0d11bde6d083c7373508c36ed00229c20b5fn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2063.0,0.9414814814814816,2058.0,1.6490952006294255,2059.0,None,False,,
967fc7cd096a8ecfc4479d6df921c3c90de75ce2,512bb601cb5bc3d2b105d41b34e3dd153e183778,svcscm,svcscm@fb.com,Wed Jan 1 23:57:14 2020 -0800,1577951834,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/96c62e344dece01c5bd731637044c8f538353981nnReviewed By: zpaonnfbshipit-source-id: a1ccbee192f5528b479caa34f89192198a6cc73fn,1.0,1.0,"build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,709.0,0.25983796296296297,2060.0,4.848552338530067,2060.0,None,False,,
512bb601cb5bc3d2b105d41b34e3dd153e183778,ce3f7c8215b8f10e06be6b27d4ffd6320a44b62c,Lukas Piatkowski,luk@fb.com,Thu Jan 2 11:06:57 2020 -0800,1577992017,rust-shed: move stats to the shedSummary: This change also introduces a dummy no-op stats implementation for non-fbcode builds.nnReviewed By: farnznnDifferential Revision: D19193954nnfbshipit-source-id: f513368a2387987bf129ddf935217c90b7c84f2an,2.0,0.0,"build/fbcode_builder/getdeps/builder.py,CAS_DELIMITER",1.0,1.0,1.0,0.0,35.0,872.0,44.0,26.964594907407413,11.0,1.0370856674626063,11.0,None,False,,
ce3f7c8215b8f10e06be6b27d4ffd6320a44b62c,8bd3f745cb7e05f812a6aaec42a4e44bf95cad2f,svcscm,svcscm@fb.com,Thu Jan 2 12:49:41 2020 -0800,1577998181,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fb303/commit/c3da1769aafc5c144b9b09e4d967a8871ade7b7bnhttps://github.com/facebook/fbthrift/commit/dc5d27c6b27cd66073863a7796821e3591de3485nhttps://github.com/facebook/fbzmq/commit/6f6f6fdd207371b23d43422d2fc7f768e8d9fcebnhttps://github.com/facebook/folly/commit/99642ef23bcb1451cd1094aa3fa3b5af08f2c2d7nhttps://github.com/facebook/proxygen/commit/506f80638db3c57a6a581043a5ebba5038e565bcnhttps://github.com/facebook/wangle/commit/267ff5b58ef41c3f468e44a6031a3cd8ef641eb4nhttps://github.com/facebookincubator/fizz/commit/0d9f8b35f8055733f04f9125daa2093d776283c2nhttps://github.com/facebookincubator/katran/commit/4cac5847b494e00457d883d507e7538538e106f1nhttps://github.com/facebookincubator/mvfst/commit/cbf71eab611db6d955de65a6a32bd370fcd07cccnnReviewed By: zpaonnfbshipit-source-id: 10e4e08f4a0cfb473d81336d5040bc18515bc35dn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2067.0,0.7096489197530863,2062.0,1.8253164362157843,2063.0,None,False,,
8bd3f745cb7e05f812a6aaec42a4e44bf95cad2f,929da2bb880704431b46d865488ade7aea422970,svcscm,svcscm@fb.com,Fri Jan 3 10:27:37 2020 -0800,1578076057,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/a5048c8f197bd8da24a3e3c0412de0c1ced861f7nnReviewed By: zpaonnfbshipit-source-id: c6960b011747963548caae6275fdd9c070b783fcn,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2070.0,0.9013425925925928,2065.0,1.6780009245467151,2066.0,None,False,,
929da2bb880704431b46d865488ade7aea422970,af537de26fb5cb4e0b79b0a3dbbb809e617c754f,svcscm,svcscm@fb.com,Fri Jan 3 14:34:10 2020 -0800,1578090850,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fb303/commit/94e22ff147c25c1d372b94bc92d8a32b14aa260enhttps://github.com/facebook/fbthrift/commit/d818f91cc65a88a912d2f29779c33fd6ed0bd880nhttps://github.com/facebook/fbzmq/commit/411e289794be0b4f678b13092b95c96c458e4b4dnhttps://github.com/facebook/folly/commit/f8995818ce1ed21313aad1a9d145b83b10b3e72bnhttps://github.com/facebook/litho/commit/34b6dfdf8f30f69ba47fbc677cfb8a959f7eb0denhttps://github.com/facebook/rocksdb/commit/83957dc510132044263dea7e77206bf83da90cb6nhttps://github.com/facebook/wangle/commit/95578decbf9d3faf36c3d4bb2cf25070c60caf05nhttps://github.com/facebookincubator/mvfst/commit/19808a511d38b9e8c02fff39fab88135e7809196nnReviewed By: zpaonnfbshipit-source-id: 51d1c1bb4b17a302b4fe1be0b36f9f29b25d017an,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2073.0,0.1712152777777778,2068.0,4.569255729061042,2069.0,None,False,,
af537de26fb5cb4e0b79b0a3dbbb809e617c754f,cd9b3742dd0a71f333cd815749cd50d5ccb4f080,svcscm,svcscm@fb.com,Fri Jan 3 17:03:31 2020 -0800,1578099811,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/8c7c0e201ea82c66b452b3e473e5385c2431b4c7nhttps://github.com/facebook/folly/commit/b84db9a9718c661208e984b4a4c91e01cc69bf4bnhttps://github.com/facebook/mcrouter/commit/0524fa0b3604d7eb4489713dd60748cea436a8e1nhttps://github.com/facebookincubator/katran/commit/2df7b2ba54fd534efaba76aecd70dbf499ffaac6nhttps://github.com/facebookincubator/mvfst/commit/80553514ed815c150cda5627d18a7fd92a7cfb76nhttps://github.com/pytorch/fbgemm/commit/4eb66bc7aafd4ad188ccdc261f498b68ba3bc6c8nnReviewed By: zpaonnfbshipit-source-id: 97d0605beabcfc15236038215208acf034f8eba4n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1396.0,0.10371527777777778,2070.5,8.231335788416471,2071.0,None,False,,
cd9b3742dd0a71f333cd815749cd50d5ccb4f080,2e2c7642561ba2ee4e24eef5ed70b9391e61bba9,svcscm,svcscm@fb.com,Sat Jan 4 16:08:37 2020 -0800,1578182917,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/72178dba37544dcda6ed7786364c0c968abd0d21nnReviewed By: zpaonnfbshipit-source-id: 293b782d0ed2758e236220912a322214e7191414n,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1364.0,1.0137326388888892,2072.5,1.7664314116251705,2073.0,None,False,,
2e2c7642561ba2ee4e24eef5ed70b9391e61bba9,656a7fb79626cd5d3553471e3ad030d81e7002e9,svcscm,svcscm@fb.com,Sat Jan 4 21:41:42 2020 -0800,1578202902,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/proxygen/commit/f2a603d2df05b61182c4bb11b4c7b25d1cdb9ac5nhttps://github.com/facebook/wangle/commit/323a2bc3e5755738ad31eb9270d689d06ba0d430nhttps://github.com/facebookincubator/katran/commit/04c07965ef88050aff4579dd53e417bbe219efc8nhttps://github.com/facebookincubator/mvfst/commit/c179d38294751e8669cd100d391d3821a8a93400nhttps://github.com/pytorch/fbgemm/commit/6fac956f22e08ad242cf457ac8a87df654596fe3nnReviewed By: zpaonnfbshipit-source-id: 558f35dbf1adb3b45179629c61d77488e441d4e3n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2080.0,0.5519328703703704,2075.0,2.876395292360062,2076.0,None,False,,
656a7fb79626cd5d3553471e3ad030d81e7002e9,13bc70082bb525cfbeb75489a5afca2873688ce0,svcscm,svcscm@fb.com,Sun Jan 5 21:19:06 2020 -0800,1578287946,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/ca78b4cec2f4c94189d487120d6beae6a86ada65nhttps://github.com/facebook/wangle/commit/25f36d9487d3499eb23dc719d80a2f76ab810734nhttps://github.com/facebookincubator/fizz/commit/8d6dad4233f4061c0456203db678e5da375d3f01nhttps://github.com/facebookincubator/katran/commit/23add38cf9839b2bacafbf7330767853f69c3810nhttps://github.com/facebookincubator/mvfst/commit/879d0b4d3d43110761a4f0d0ec2ceac6cbf2d8cannReviewed By: zpaonnfbshipit-source-id: 9f1d21d12f45142939a38d598edac08727545369n,3.0,3.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/wangle-rev.txt,CAS_DELIMITER",3.0,1.0,1.0,1.584962500721156,1.0,1.0,2083.0,0.9843055555555555,2078.0,1.6208550867786091,2079.0,None,False,,
13bc70082bb525cfbeb75489a5afca2873688ce0,d5047e3a16fce0cefcd864d8a56aa3a4db9bc1df,svcscm,svcscm@fb.com,Mon Jan 6 04:09:44 2020 -0800,1578312584,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/folly/commit/9f739b38659944a1dbd7dbbf00ed238563df26d6nnReviewed By: zpaonnfbshipit-source-id: f4c4ed231764c93c7ac45a84064f3735c797fbedn,2.0,2.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER,build/deps/github_hashes/facebook/folly-rev.txt,CAS_DELIMITER",2.0,1.0,1.0,1.0,1.0,1.0,1403.0,0.28516203703703696,2080.5,3.6300836106826857,2081.0,None,False,,
d5047e3a16fce0cefcd864d8a56aa3a4db9bc1df,2834713bc38a341c6b356cdb0f1f6103482331ca,Zeyi (Rice) Fan,zeyi@fb.com,Mon Jan 6 11:39:41 2020 -0800,1578339581,"watchman_client: specify minimal dependent serde version to 1.0.102Summary:nWhen `watchman_client` is used with serde < 1.0.102, it will returns an error:nn```nError: ConnectionDiscovery { watchman_path: watchman, reason: error while deserializing BSER: invalid type: byte array, expected path string, stderr:  }n```nnThis is because serde only added `Path` serialization support in 1.0.102 and before that `Path` will be serialized as string instead of byte array.nnThe following code (`test.rs`):nn```n//# serde = =1.0.101n//# watchman_client = { path = * }n//# tokio = *nnuse watchman_client::prelude::*;nn#[tokio::main]nasync fn main() -> Result<(), Box<dyn std::error::Error>> {n  let mut client = Connector::new().connect().await?;n  let resolved = clientn.resolve_root(CanonicalPath::canonicalize(.)?)n.await?;nn  // Basic globs -> namesn  let files = client.glob(&resolved, &[**/*.rs]).await?;n  println!(files: {:#?}, files);n  Ok(())n}n```nnwill produce that error message.nnThis typically happens when there is an existing `Cargo.lock` that locked serde version to a version prior to 1.0.102. Specifying the minimal version will make Cargo to recalculate the lock file.nnReviewed By: weznnDifferential Revision: D19281100nnfbshipit-source-id: 8562481f27f8c1641ff2d00d92ee37d3dc51e261n",2.0,2.0,"rust/serde_bser/Cargo.toml,CAS_DELIMITER,rust/watchman_client/Cargo.toml,CAS_DELIMITER",2.0,1.0,2.0,1.0,24.0,28.5,22.0,29.20286458333333,14.5,1.0197391548486905,1.0,None,False,,
2834713bc38a341c6b356cdb0f1f6103482331ca,840dc6f714b583289e6c58fc97f91ad068d19442,svcscm,svcscm@fb.com,Mon Jan 6 12:56:51 2020 -0800,1578344211,Updating submodulesSummary:nGitHub commits:nnhttps://github.com/facebook/fbthrift/commit/efc66e197adf2cb5fe9411e7613e4b014471b9fannReviewed By: 2d2d2d2d2dnnfbshipit-source-id: b4e1ff8d4409400d89031a8aa6943db5b2a573bcn,1.0,1.0,"build/deps/github_hashes/facebook/fbthrift-rev.txt,CAS_DELIMITER",1.0,1.0,1.0,0.0,1.0,1.0,688.0,0.3660532407407408,2082.0,3.7318430454990974,2082.0,None,False,,
